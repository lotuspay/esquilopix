function zE(r, e) {
  for (var t = 0; t < e.length; t++) {
    const s = e[t];
    if (typeof s != "string" && !Array.isArray(s)) {
      for (const n in s)
        if (n !== "default" && !(n in r)) {
          const i = Object.getOwnPropertyDescriptor(s, n);
          i &&
            Object.defineProperty(
              r,
              n,
              i.get ? i : { enumerable: !0, get: () => s[n] }
            );
        }
    }
  }
  return Object.freeze(
    Object.defineProperty(r, Symbol.toStringTag, { value: "Module" })
  );
}
const GE = "modulepreload",
  $E = function (r) {
    return "/build/" + r;
  },
  by = {},
  Je = function (e, t, s) {
    let n = Promise.resolve();
    if (t && t.length > 0) {
      let f = function (m) {
        return Promise.all(
          m.map((h) =>
            Promise.resolve(h).then(
              (g) => ({ status: "fulfilled", value: g }),
              (g) => ({ status: "rejected", reason: g })
            )
          )
        );
      };
      var l = f;
      document.getElementsByTagName("link");
      const c = document.querySelector("meta[property=csp-nonce]"),
        d = c?.nonce || c?.getAttribute("nonce");
      n = f(
        t.map((m) => {
          if (((m = $E(m)), m in by)) return;
          by[m] = !0;
          const h = m.endsWith(".css"),
            g = h ? '[rel="stylesheet"]' : "";
          if (document.querySelector(`link[href="${m}"]${g}`)) return;
          const x = document.createElement("link");
          if (
            ((x.rel = h ? "stylesheet" : GE),
            h || (x.as = "script"),
            (x.crossOrigin = ""),
            (x.href = m),
            d && x.setAttribute("nonce", d),
            document.head.appendChild(x),
            h)
          )
            return new Promise((v, w) => {
              x.addEventListener("load", v),
                x.addEventListener("error", () =>
                  w(new Error(`Unable to preload CSS for ${m}`))
                );
            });
        })
      );
    }
    function i(c) {
      const d = new Event("vite:preloadError", { cancelable: !0 });
      if (((d.payload = c), window.dispatchEvent(d), !d.defaultPrevented))
        throw c;
    }
    return n.then((c) => {
      for (const d of c || []) d.status === "rejected" && i(d.reason);
      return e().catch(i);
    });
  };
var bi =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
function Vm(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
function HE(r) {
  if (Object.prototype.hasOwnProperty.call(r, "__esModule")) return r;
  var e = r.default;
  if (typeof e == "function") {
    var t = function s() {
      var n = !1;
      try {
        n = this instanceof s;
      } catch {}
      return n
        ? Reflect.construct(e, arguments, this.constructor)
        : e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (s) {
      var n = Object.getOwnPropertyDescriptor(r, s);
      Object.defineProperty(
        t,
        s,
        n.get
          ? n
          : {
              enumerable: !0,
              get: function () {
                return r[s];
              },
            }
      );
    }),
    t
  );
}
var Ih = { exports: {} },
  _o = {},
  Oh = { exports: {} },
  Ze = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var wy;
function WE() {
  if (wy) return Ze;
  wy = 1;
  var r = Symbol.for("react.element"),
    e = Symbol.for("react.portal"),
    t = Symbol.for("react.fragment"),
    s = Symbol.for("react.strict_mode"),
    n = Symbol.for("react.profiler"),
    i = Symbol.for("react.provider"),
    l = Symbol.for("react.context"),
    c = Symbol.for("react.forward_ref"),
    d = Symbol.for("react.suspense"),
    f = Symbol.for("react.memo"),
    m = Symbol.for("react.lazy"),
    h = Symbol.iterator;
  function g(F) {
    return F === null || typeof F != "object"
      ? null
      : ((F = (h && F[h]) || F["@@iterator"]),
        typeof F == "function" ? F : null);
  }
  var x = {
      isMounted: function () {
        return !1;
      },
      enqueueForceUpdate: function () {},
      enqueueReplaceState: function () {},
      enqueueSetState: function () {},
    },
    v = Object.assign,
    w = {};
  function _(F, W, te) {
    (this.props = F),
      (this.context = W),
      (this.refs = w),
      (this.updater = te || x);
  }
  (_.prototype.isReactComponent = {}),
    (_.prototype.setState = function (F, W) {
      if (typeof F != "object" && typeof F != "function" && F != null)
        throw Error(
          "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, F, W, "setState");
    }),
    (_.prototype.forceUpdate = function (F) {
      this.updater.enqueueForceUpdate(this, F, "forceUpdate");
    });
  function S() {}
  S.prototype = _.prototype;
  function T(F, W, te) {
    (this.props = F),
      (this.context = W),
      (this.refs = w),
      (this.updater = te || x);
  }
  var j = (T.prototype = new S());
  (j.constructor = T), v(j, _.prototype), (j.isPureReactComponent = !0);
  var E = Array.isArray,
    A = Object.prototype.hasOwnProperty,
    M = { current: null },
    N = { key: !0, ref: !0, __self: !0, __source: !0 };
  function R(F, W, te) {
    var de,
      ne = {},
      ue = null,
      ae = null;
    if (W != null)
      for (de in (W.ref !== void 0 && (ae = W.ref),
      W.key !== void 0 && (ue = "" + W.key),
      W))
        A.call(W, de) && !N.hasOwnProperty(de) && (ne[de] = W[de]);
    var me = arguments.length - 2;
    if (me === 1) ne.children = te;
    else if (1 < me) {
      for (var oe = Array(me), ve = 0; ve < me; ve++)
        oe[ve] = arguments[ve + 2];
      ne.children = oe;
    }
    if (F && F.defaultProps)
      for (de in ((me = F.defaultProps), me))
        ne[de] === void 0 && (ne[de] = me[de]);
    return {
      $$typeof: r,
      type: F,
      key: ue,
      ref: ae,
      props: ne,
      _owner: M.current,
    };
  }
  function O(F, W) {
    return {
      $$typeof: r,
      type: F.type,
      key: W,
      ref: F.ref,
      props: F.props,
      _owner: F._owner,
    };
  }
  function U(F) {
    return typeof F == "object" && F !== null && F.$$typeof === r;
  }
  function q(F) {
    var W = { "=": "=0", ":": "=2" };
    return (
      "$" +
      F.replace(/[=:]/g, function (te) {
        return W[te];
      })
    );
  }
  var Q = /\/+/g;
  function z(F, W) {
    return typeof F == "object" && F !== null && F.key != null
      ? q("" + F.key)
      : W.toString(36);
  }
  function Z(F, W, te, de, ne) {
    var ue = typeof F;
    (ue === "undefined" || ue === "boolean") && (F = null);
    var ae = !1;
    if (F === null) ae = !0;
    else
      switch (ue) {
        case "string":
        case "number":
          ae = !0;
          break;
        case "object":
          switch (F.$$typeof) {
            case r:
            case e:
              ae = !0;
          }
      }
    if (ae)
      return (
        (ae = F),
        (ne = ne(ae)),
        (F = de === "" ? "." + z(ae, 0) : de),
        E(ne)
          ? ((te = ""),
            F != null && (te = F.replace(Q, "$&/") + "/"),
            Z(ne, W, te, "", function (ve) {
              return ve;
            }))
          : ne != null &&
            (U(ne) &&
              (ne = O(
                ne,
                te +
                  (!ne.key || (ae && ae.key === ne.key)
                    ? ""
                    : ("" + ne.key).replace(Q, "$&/") + "/") +
                  F
              )),
            W.push(ne)),
        1
      );
    if (((ae = 0), (de = de === "" ? "." : de + ":"), E(F)))
      for (var me = 0; me < F.length; me++) {
        ue = F[me];
        var oe = de + z(ue, me);
        ae += Z(ue, W, te, oe, ne);
      }
    else if (((oe = g(F)), typeof oe == "function"))
      for (F = oe.call(F), me = 0; !(ue = F.next()).done; )
        (ue = ue.value), (oe = de + z(ue, me++)), (ae += Z(ue, W, te, oe, ne));
    else if (ue === "object")
      throw (
        ((W = String(F)),
        Error(
          "Objects are not valid as a React child (found: " +
            (W === "[object Object]"
              ? "object with keys {" + Object.keys(F).join(", ") + "}"
              : W) +
            "). If you meant to render a collection of children, use an array instead."
        ))
      );
    return ae;
  }
  function pe(F, W, te) {
    if (F == null) return F;
    var de = [],
      ne = 0;
    return (
      Z(F, de, "", "", function (ue) {
        return W.call(te, ue, ne++);
      }),
      de
    );
  }
  function se(F) {
    if (F._status === -1) {
      var W = F._result;
      (W = W()),
        W.then(
          function (te) {
            (F._status === 0 || F._status === -1) &&
              ((F._status = 1), (F._result = te));
          },
          function (te) {
            (F._status === 0 || F._status === -1) &&
              ((F._status = 2), (F._result = te));
          }
        ),
        F._status === -1 && ((F._status = 0), (F._result = W));
    }
    if (F._status === 1) return F._result.default;
    throw F._result;
  }
  var ie = { current: null },
    Y = { transition: null },
    re = {
      ReactCurrentDispatcher: ie,
      ReactCurrentBatchConfig: Y,
      ReactCurrentOwner: M,
    };
  function J() {
    throw Error("act(...) is not supported in production builds of React.");
  }
  return (
    (Ze.Children = {
      map: pe,
      forEach: function (F, W, te) {
        pe(
          F,
          function () {
            W.apply(this, arguments);
          },
          te
        );
      },
      count: function (F) {
        var W = 0;
        return (
          pe(F, function () {
            W++;
          }),
          W
        );
      },
      toArray: function (F) {
        return (
          pe(F, function (W) {
            return W;
          }) || []
        );
      },
      only: function (F) {
        if (!U(F))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return F;
      },
    }),
    (Ze.Component = _),
    (Ze.Fragment = t),
    (Ze.Profiler = n),
    (Ze.PureComponent = T),
    (Ze.StrictMode = s),
    (Ze.Suspense = d),
    (Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = re),
    (Ze.act = J),
    (Ze.cloneElement = function (F, W, te) {
      if (F == null)
        throw Error(
          "React.cloneElement(...): The argument must be a React element, but you passed " +
            F +
            "."
        );
      var de = v({}, F.props),
        ne = F.key,
        ue = F.ref,
        ae = F._owner;
      if (W != null) {
        if (
          (W.ref !== void 0 && ((ue = W.ref), (ae = M.current)),
          W.key !== void 0 && (ne = "" + W.key),
          F.type && F.type.defaultProps)
        )
          var me = F.type.defaultProps;
        for (oe in W)
          A.call(W, oe) &&
            !N.hasOwnProperty(oe) &&
            (de[oe] = W[oe] === void 0 && me !== void 0 ? me[oe] : W[oe]);
      }
      var oe = arguments.length - 2;
      if (oe === 1) de.children = te;
      else if (1 < oe) {
        me = Array(oe);
        for (var ve = 0; ve < oe; ve++) me[ve] = arguments[ve + 2];
        de.children = me;
      }
      return {
        $$typeof: r,
        type: F.type,
        key: ne,
        ref: ue,
        props: de,
        _owner: ae,
      };
    }),
    (Ze.createContext = function (F) {
      return (
        (F = {
          $$typeof: l,
          _currentValue: F,
          _currentValue2: F,
          _threadCount: 0,
          Provider: null,
          Consumer: null,
          _defaultValue: null,
          _globalName: null,
        }),
        (F.Provider = { $$typeof: i, _context: F }),
        (F.Consumer = F)
      );
    }),
    (Ze.createElement = R),
    (Ze.createFactory = function (F) {
      var W = R.bind(null, F);
      return (W.type = F), W;
    }),
    (Ze.createRef = function () {
      return { current: null };
    }),
    (Ze.forwardRef = function (F) {
      return { $$typeof: c, render: F };
    }),
    (Ze.isValidElement = U),
    (Ze.lazy = function (F) {
      return { $$typeof: m, _payload: { _status: -1, _result: F }, _init: se };
    }),
    (Ze.memo = function (F, W) {
      return { $$typeof: f, type: F, compare: W === void 0 ? null : W };
    }),
    (Ze.startTransition = function (F) {
      var W = Y.transition;
      Y.transition = {};
      try {
        F();
      } finally {
        Y.transition = W;
      }
    }),
    (Ze.unstable_act = J),
    (Ze.useCallback = function (F, W) {
      return ie.current.useCallback(F, W);
    }),
    (Ze.useContext = function (F) {
      return ie.current.useContext(F);
    }),
    (Ze.useDebugValue = function () {}),
    (Ze.useDeferredValue = function (F) {
      return ie.current.useDeferredValue(F);
    }),
    (Ze.useEffect = function (F, W) {
      return ie.current.useEffect(F, W);
    }),
    (Ze.useId = function () {
      return ie.current.useId();
    }),
    (Ze.useImperativeHandle = function (F, W, te) {
      return ie.current.useImperativeHandle(F, W, te);
    }),
    (Ze.useInsertionEffect = function (F, W) {
      return ie.current.useInsertionEffect(F, W);
    }),
    (Ze.useLayoutEffect = function (F, W) {
      return ie.current.useLayoutEffect(F, W);
    }),
    (Ze.useMemo = function (F, W) {
      return ie.current.useMemo(F, W);
    }),
    (Ze.useReducer = function (F, W, te) {
      return ie.current.useReducer(F, W, te);
    }),
    (Ze.useRef = function (F) {
      return ie.current.useRef(F);
    }),
    (Ze.useState = function (F) {
      return ie.current.useState(F);
    }),
    (Ze.useSyncExternalStore = function (F, W, te) {
      return ie.current.useSyncExternalStore(F, W, te);
    }),
    (Ze.useTransition = function () {
      return ie.current.useTransition();
    }),
    (Ze.version = "18.3.1"),
    Ze
  );
}
var Sy;
function Au() {
  return Sy || ((Sy = 1), (Oh.exports = WE())), Oh.exports;
}
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Cy;
function VE() {
  if (Cy) return _o;
  Cy = 1;
  var r = Au(),
    e = Symbol.for("react.element"),
    t = Symbol.for("react.fragment"),
    s = Object.prototype.hasOwnProperty,
    n = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
    i = { key: !0, ref: !0, __self: !0, __source: !0 };
  function l(c, d, f) {
    var m,
      h = {},
      g = null,
      x = null;
    f !== void 0 && (g = "" + f),
      d.key !== void 0 && (g = "" + d.key),
      d.ref !== void 0 && (x = d.ref);
    for (m in d) s.call(d, m) && !i.hasOwnProperty(m) && (h[m] = d[m]);
    if (c && c.defaultProps)
      for (m in ((d = c.defaultProps), d)) h[m] === void 0 && (h[m] = d[m]);
    return {
      $$typeof: e,
      type: c,
      key: g,
      ref: x,
      props: h,
      _owner: n.current,
    };
  }
  return (_o.Fragment = t), (_o.jsx = l), (_o.jsxs = l), _o;
}
var Ty;
function qE() {
  return Ty || ((Ty = 1), (Ih.exports = VE())), Ih.exports;
}
var a = qE();
function s1(r, e) {
  return function () {
    return r.apply(e, arguments);
  };
}
const { toString: XE } = Object.prototype,
  { getPrototypeOf: qm } = Object,
  { iterator: Mu, toStringTag: n1 } = Symbol,
  Nu = ((r) => (e) => {
    const t = XE.call(e);
    return r[t] || (r[t] = t.slice(8, -1).toLowerCase());
  })(Object.create(null)),
  Ps = (r) => ((r = r.toLowerCase()), (e) => Nu(e) === r),
  Ru = (r) => (e) => typeof e === r,
  { isArray: Ea } = Array,
  Zo = Ru("undefined");
function cl(r) {
  return (
    r !== null &&
    !Zo(r) &&
    r.constructor !== null &&
    !Zo(r.constructor) &&
    Ir(r.constructor.isBuffer) &&
    r.constructor.isBuffer(r)
  );
}
const i1 = Ps("ArrayBuffer");
function YE(r) {
  let e;
  return (
    typeof ArrayBuffer < "u" && ArrayBuffer.isView
      ? (e = ArrayBuffer.isView(r))
      : (e = r && r.buffer && i1(r.buffer)),
    e
  );
}
const KE = Ru("string"),
  Ir = Ru("function"),
  a1 = Ru("number"),
  ul = (r) => r !== null && typeof r == "object",
  QE = (r) => r === !0 || r === !1,
  Jc = (r) => {
    if (Nu(r) !== "object") return !1;
    const e = qm(r);
    return (
      (e === null ||
        e === Object.prototype ||
        Object.getPrototypeOf(e) === null) &&
      !(n1 in r) &&
      !(Mu in r)
    );
  },
  ZE = (r) => {
    if (!ul(r) || cl(r)) return !1;
    try {
      return (
        Object.keys(r).length === 0 &&
        Object.getPrototypeOf(r) === Object.prototype
      );
    } catch {
      return !1;
    }
  },
  JE = Ps("Date"),
  e3 = Ps("File"),
  t3 = Ps("Blob"),
  r3 = Ps("FileList"),
  s3 = (r) => ul(r) && Ir(r.pipe),
  n3 = (r) => {
    let e;
    return (
      r &&
      ((typeof FormData == "function" && r instanceof FormData) ||
        (Ir(r.append) &&
          ((e = Nu(r)) === "formdata" ||
            (e === "object" &&
              Ir(r.toString) &&
              r.toString() === "[object FormData]"))))
    );
  },
  i3 = Ps("URLSearchParams"),
  [a3, o3, l3, c3] = ["ReadableStream", "Request", "Response", "Headers"].map(
    Ps
  ),
  u3 = (r) =>
    r.trim ? r.trim() : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function dl(r, e, { allOwnKeys: t = !1 } = {}) {
  if (r === null || typeof r > "u") return;
  let s, n;
  if ((typeof r != "object" && (r = [r]), Ea(r)))
    for (s = 0, n = r.length; s < n; s++) e.call(null, r[s], s, r);
  else {
    if (cl(r)) return;
    const i = t ? Object.getOwnPropertyNames(r) : Object.keys(r),
      l = i.length;
    let c;
    for (s = 0; s < l; s++) (c = i[s]), e.call(null, r[c], c, r);
  }
}
function o1(r, e) {
  if (cl(r)) return null;
  e = e.toLowerCase();
  const t = Object.keys(r);
  let s = t.length,
    n;
  for (; s-- > 0; ) if (((n = t[s]), e === n.toLowerCase())) return n;
  return null;
}
const Ci =
    typeof globalThis < "u"
      ? globalThis
      : typeof self < "u"
      ? self
      : typeof window < "u"
      ? window
      : global,
  l1 = (r) => !Zo(r) && r !== Ci;
function Xp() {
  const { caseless: r } = (l1(this) && this) || {},
    e = {},
    t = (s, n) => {
      const i = (r && o1(e, n)) || n;
      Jc(e[i]) && Jc(s)
        ? (e[i] = Xp(e[i], s))
        : Jc(s)
        ? (e[i] = Xp({}, s))
        : Ea(s)
        ? (e[i] = s.slice())
        : (e[i] = s);
    };
  for (let s = 0, n = arguments.length; s < n; s++)
    arguments[s] && dl(arguments[s], t);
  return e;
}
const d3 = (r, e, t, { allOwnKeys: s } = {}) => (
    dl(
      e,
      (n, i) => {
        t && Ir(n) ? (r[i] = s1(n, t)) : (r[i] = n);
      },
      { allOwnKeys: s }
    ),
    r
  ),
  h3 = (r) => (r.charCodeAt(0) === 65279 && (r = r.slice(1)), r),
  f3 = (r, e, t, s) => {
    (r.prototype = Object.create(e.prototype, s)),
      (r.prototype.constructor = r),
      Object.defineProperty(r, "super", { value: e.prototype }),
      t && Object.assign(r.prototype, t);
  },
  p3 = (r, e, t, s) => {
    let n, i, l;
    const c = {};
    if (((e = e || {}), r == null)) return e;
    do {
      for (n = Object.getOwnPropertyNames(r), i = n.length; i-- > 0; )
        (l = n[i]), (!s || s(l, r, e)) && !c[l] && ((e[l] = r[l]), (c[l] = !0));
      r = t !== !1 && qm(r);
    } while (r && (!t || t(r, e)) && r !== Object.prototype);
    return e;
  },
  m3 = (r, e, t) => {
    (r = String(r)),
      (t === void 0 || t > r.length) && (t = r.length),
      (t -= e.length);
    const s = r.indexOf(e, t);
    return s !== -1 && s === t;
  },
  g3 = (r) => {
    if (!r) return null;
    if (Ea(r)) return r;
    let e = r.length;
    if (!a1(e)) return null;
    const t = new Array(e);
    for (; e-- > 0; ) t[e] = r[e];
    return t;
  },
  x3 = (
    (r) => (e) =>
      r && e instanceof r
  )(typeof Uint8Array < "u" && qm(Uint8Array)),
  y3 = (r, e) => {
    const s = (r && r[Mu]).call(r);
    let n;
    for (; (n = s.next()) && !n.done; ) {
      const i = n.value;
      e.call(r, i[0], i[1]);
    }
  },
  v3 = (r, e) => {
    let t;
    const s = [];
    for (; (t = r.exec(e)) !== null; ) s.push(t);
    return s;
  },
  _3 = Ps("HTMLFormElement"),
  b3 = (r) =>
    r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (t, s, n) {
      return s.toUpperCase() + n;
    }),
  Ey = (
    ({ hasOwnProperty: r }) =>
    (e, t) =>
      r.call(e, t)
  )(Object.prototype),
  w3 = Ps("RegExp"),
  c1 = (r, e) => {
    const t = Object.getOwnPropertyDescriptors(r),
      s = {};
    dl(t, (n, i) => {
      let l;
      (l = e(n, i, r)) !== !1 && (s[i] = l || n);
    }),
      Object.defineProperties(r, s);
  },
  S3 = (r) => {
    c1(r, (e, t) => {
      if (Ir(r) && ["arguments", "caller", "callee"].indexOf(t) !== -1)
        return !1;
      const s = r[t];
      if (Ir(s)) {
        if (((e.enumerable = !1), "writable" in e)) {
          e.writable = !1;
          return;
        }
        e.set ||
          (e.set = () => {
            throw Error("Can not rewrite read-only method '" + t + "'");
          });
      }
    });
  },
  C3 = (r, e) => {
    const t = {},
      s = (n) => {
        n.forEach((i) => {
          t[i] = !0;
        });
      };
    return Ea(r) ? s(r) : s(String(r).split(e)), t;
  },
  T3 = () => {},
  E3 = (r, e) => (r != null && Number.isFinite((r = +r)) ? r : e);
function j3(r) {
  return !!(r && Ir(r.append) && r[n1] === "FormData" && r[Mu]);
}
const k3 = (r) => {
    const e = new Array(10),
      t = (s, n) => {
        if (ul(s)) {
          if (e.indexOf(s) >= 0) return;
          if (cl(s)) return s;
          if (!("toJSON" in s)) {
            e[n] = s;
            const i = Ea(s) ? [] : {};
            return (
              dl(s, (l, c) => {
                const d = t(l, n + 1);
                !Zo(d) && (i[c] = d);
              }),
              (e[n] = void 0),
              i
            );
          }
        }
        return s;
      };
    return t(r, 0);
  },
  P3 = Ps("AsyncFunction"),
  A3 = (r) => r && (ul(r) || Ir(r)) && Ir(r.then) && Ir(r.catch),
  u1 = ((r, e) =>
    r
      ? setImmediate
      : e
      ? ((t, s) => (
          Ci.addEventListener(
            "message",
            ({ source: n, data: i }) => {
              n === Ci && i === t && s.length && s.shift()();
            },
            !1
          ),
          (n) => {
            s.push(n), Ci.postMessage(t, "*");
          }
        ))(`axios@${Math.random()}`, [])
      : (t) => setTimeout(t))(
    typeof setImmediate == "function",
    Ir(Ci.postMessage)
  ),
  M3 =
    typeof queueMicrotask < "u"
      ? queueMicrotask.bind(Ci)
      : (typeof process < "u" && process.nextTick) || u1,
  N3 = (r) => r != null && Ir(r[Mu]),
  K = {
    isArray: Ea,
    isArrayBuffer: i1,
    isBuffer: cl,
    isFormData: n3,
    isArrayBufferView: YE,
    isString: KE,
    isNumber: a1,
    isBoolean: QE,
    isObject: ul,
    isPlainObject: Jc,
    isEmptyObject: ZE,
    isReadableStream: a3,
    isRequest: o3,
    isResponse: l3,
    isHeaders: c3,
    isUndefined: Zo,
    isDate: JE,
    isFile: e3,
    isBlob: t3,
    isRegExp: w3,
    isFunction: Ir,
    isStream: s3,
    isURLSearchParams: i3,
    isTypedArray: x3,
    isFileList: r3,
    forEach: dl,
    merge: Xp,
    extend: d3,
    trim: u3,
    stripBOM: h3,
    inherits: f3,
    toFlatObject: p3,
    kindOf: Nu,
    kindOfTest: Ps,
    endsWith: m3,
    toArray: g3,
    forEachEntry: y3,
    matchAll: v3,
    isHTMLForm: _3,
    hasOwnProperty: Ey,
    hasOwnProp: Ey,
    reduceDescriptors: c1,
    freezeMethods: S3,
    toObjectSet: C3,
    toCamelCase: b3,
    noop: T3,
    toFiniteNumber: E3,
    findKey: o1,
    global: Ci,
    isContextDefined: l1,
    isSpecCompliantForm: j3,
    toJSONObject: k3,
    isAsyncFn: P3,
    isThenable: A3,
    setImmediate: u1,
    asap: M3,
    isIterable: N3,
  };
function Xe(r, e, t, s, n) {
  Error.call(this),
    Error.captureStackTrace
      ? Error.captureStackTrace(this, this.constructor)
      : (this.stack = new Error().stack),
    (this.message = r),
    (this.name = "AxiosError"),
    e && (this.code = e),
    t && (this.config = t),
    s && (this.request = s),
    n && ((this.response = n), (this.status = n.status ? n.status : null));
}
K.inherits(Xe, Error, {
  toJSON: function () {
    return {
      message: this.message,
      name: this.name,
      description: this.description,
      number: this.number,
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      config: K.toJSONObject(this.config),
      code: this.code,
      status: this.status,
    };
  },
});
const d1 = Xe.prototype,
  h1 = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL",
].forEach((r) => {
  h1[r] = { value: r };
});
Object.defineProperties(Xe, h1);
Object.defineProperty(d1, "isAxiosError", { value: !0 });
Xe.from = (r, e, t, s, n, i) => {
  const l = Object.create(d1);
  return (
    K.toFlatObject(
      r,
      l,
      function (d) {
        return d !== Error.prototype;
      },
      (c) => c !== "isAxiosError"
    ),
    Xe.call(l, r.message, e, t, s, n),
    (l.cause = r),
    (l.name = r.name),
    i && Object.assign(l, i),
    l
  );
};
const R3 = null;
function Yp(r) {
  return K.isPlainObject(r) || K.isArray(r);
}
function f1(r) {
  return K.endsWith(r, "[]") ? r.slice(0, -2) : r;
}
function jy(r, e, t) {
  return r
    ? r
        .concat(e)
        .map(function (n, i) {
          return (n = f1(n)), !t && i ? "[" + n + "]" : n;
        })
        .join(t ? "." : "")
    : e;
}
function B3(r) {
  return K.isArray(r) && !r.some(Yp);
}
const F3 = K.toFlatObject(K, {}, null, function (e) {
  return /^is[A-Z]/.test(e);
});
function Bu(r, e, t) {
  if (!K.isObject(r)) throw new TypeError("target must be an object");
  (e = e || new FormData()),
    (t = K.toFlatObject(
      t,
      { metaTokens: !0, dots: !1, indexes: !1 },
      !1,
      function (w, _) {
        return !K.isUndefined(_[w]);
      }
    ));
  const s = t.metaTokens,
    n = t.visitor || m,
    i = t.dots,
    l = t.indexes,
    d = (t.Blob || (typeof Blob < "u" && Blob)) && K.isSpecCompliantForm(e);
  if (!K.isFunction(n)) throw new TypeError("visitor must be a function");
  function f(v) {
    if (v === null) return "";
    if (K.isDate(v)) return v.toISOString();
    if (K.isBoolean(v)) return v.toString();
    if (!d && K.isBlob(v))
      throw new Xe("Blob is not supported. Use a Buffer instead.");
    return K.isArrayBuffer(v) || K.isTypedArray(v)
      ? d && typeof Blob == "function"
        ? new Blob([v])
        : Buffer.from(v)
      : v;
  }
  function m(v, w, _) {
    let S = v;
    if (v && !_ && typeof v == "object") {
      if (K.endsWith(w, "{}"))
        (w = s ? w : w.slice(0, -2)), (v = JSON.stringify(v));
      else if (
        (K.isArray(v) && B3(v)) ||
        ((K.isFileList(v) || K.endsWith(w, "[]")) && (S = K.toArray(v)))
      )
        return (
          (w = f1(w)),
          S.forEach(function (j, E) {
            !(K.isUndefined(j) || j === null) &&
              e.append(
                l === !0 ? jy([w], E, i) : l === null ? w : w + "[]",
                f(j)
              );
          }),
          !1
        );
    }
    return Yp(v) ? !0 : (e.append(jy(_, w, i), f(v)), !1);
  }
  const h = [],
    g = Object.assign(F3, {
      defaultVisitor: m,
      convertValue: f,
      isVisitable: Yp,
    });
  function x(v, w) {
    if (!K.isUndefined(v)) {
      if (h.indexOf(v) !== -1)
        throw Error("Circular reference detected in " + w.join("."));
      h.push(v),
        K.forEach(v, function (S, T) {
          (!(K.isUndefined(S) || S === null) &&
            n.call(e, S, K.isString(T) ? T.trim() : T, w, g)) === !0 &&
            x(S, w ? w.concat(T) : [T]);
        }),
        h.pop();
    }
  }
  if (!K.isObject(r)) throw new TypeError("data must be an object");
  return x(r), e;
}
function ky(r) {
  const e = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0",
  };
  return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g, function (s) {
    return e[s];
  });
}
function Xm(r, e) {
  (this._pairs = []), r && Bu(r, this, e);
}
const p1 = Xm.prototype;
p1.append = function (e, t) {
  this._pairs.push([e, t]);
};
p1.toString = function (e) {
  const t = e
    ? function (s) {
        return e.call(this, s, ky);
      }
    : ky;
  return this._pairs
    .map(function (n) {
      return t(n[0]) + "=" + t(n[1]);
    }, "")
    .join("&");
};
function I3(r) {
  return encodeURIComponent(r)
    .replace(/%3A/gi, ":")
    .replace(/%24/g, "$")
    .replace(/%2C/gi, ",")
    .replace(/%20/g, "+")
    .replace(/%5B/gi, "[")
    .replace(/%5D/gi, "]");
}
function m1(r, e, t) {
  if (!e) return r;
  const s = (t && t.encode) || I3;
  K.isFunction(t) && (t = { serialize: t });
  const n = t && t.serialize;
  let i;
  if (
    (n
      ? (i = n(e, t))
      : (i = K.isURLSearchParams(e) ? e.toString() : new Xm(e, t).toString(s)),
    i)
  ) {
    const l = r.indexOf("#");
    l !== -1 && (r = r.slice(0, l)),
      (r += (r.indexOf("?") === -1 ? "?" : "&") + i);
  }
  return r;
}
class Py {
  constructor() {
    this.handlers = [];
  }
  use(e, t, s) {
    return (
      this.handlers.push({
        fulfilled: e,
        rejected: t,
        synchronous: s ? s.synchronous : !1,
        runWhen: s ? s.runWhen : null,
      }),
      this.handlers.length - 1
    );
  }
  eject(e) {
    this.handlers[e] && (this.handlers[e] = null);
  }
  clear() {
    this.handlers && (this.handlers = []);
  }
  forEach(e) {
    K.forEach(this.handlers, function (s) {
      s !== null && e(s);
    });
  }
}
const g1 = {
    silentJSONParsing: !0,
    forcedJSONParsing: !0,
    clarifyTimeoutError: !1,
  },
  O3 = typeof URLSearchParams < "u" ? URLSearchParams : Xm,
  L3 = typeof FormData < "u" ? FormData : null,
  D3 = typeof Blob < "u" ? Blob : null,
  U3 = {
    isBrowser: !0,
    classes: { URLSearchParams: O3, FormData: L3, Blob: D3 },
    protocols: ["http", "https", "file", "blob", "url", "data"],
  },
  Ym = typeof window < "u" && typeof document < "u",
  Kp = (typeof navigator == "object" && navigator) || void 0,
  z3 =
    Ym &&
    (!Kp || ["ReactNative", "NativeScript", "NS"].indexOf(Kp.product) < 0),
  G3 =
    typeof WorkerGlobalScope < "u" &&
    self instanceof WorkerGlobalScope &&
    typeof self.importScripts == "function",
  $3 = (Ym && window.location.href) || "http://localhost",
  H3 = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        hasBrowserEnv: Ym,
        hasStandardBrowserEnv: z3,
        hasStandardBrowserWebWorkerEnv: G3,
        navigator: Kp,
        origin: $3,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  yr = { ...H3, ...U3 };
function W3(r, e) {
  return Bu(r, new yr.classes.URLSearchParams(), {
    visitor: function (t, s, n, i) {
      return yr.isNode && K.isBuffer(t)
        ? (this.append(s, t.toString("base64")), !1)
        : i.defaultVisitor.apply(this, arguments);
    },
    ...e,
  });
}
function V3(r) {
  return K.matchAll(/\w+|\[(\w*)]/g, r).map((e) =>
    e[0] === "[]" ? "" : e[1] || e[0]
  );
}
function q3(r) {
  const e = {},
    t = Object.keys(r);
  let s;
  const n = t.length;
  let i;
  for (s = 0; s < n; s++) (i = t[s]), (e[i] = r[i]);
  return e;
}
function x1(r) {
  function e(t, s, n, i) {
    let l = t[i++];
    if (l === "__proto__") return !0;
    const c = Number.isFinite(+l),
      d = i >= t.length;
    return (
      (l = !l && K.isArray(n) ? n.length : l),
      d
        ? (K.hasOwnProp(n, l) ? (n[l] = [n[l], s]) : (n[l] = s), !c)
        : ((!n[l] || !K.isObject(n[l])) && (n[l] = []),
          e(t, s, n[l], i) && K.isArray(n[l]) && (n[l] = q3(n[l])),
          !c)
    );
  }
  if (K.isFormData(r) && K.isFunction(r.entries)) {
    const t = {};
    return (
      K.forEachEntry(r, (s, n) => {
        e(V3(s), n, t, 0);
      }),
      t
    );
  }
  return null;
}
function X3(r, e, t) {
  if (K.isString(r))
    try {
      return (e || JSON.parse)(r), K.trim(r);
    } catch (s) {
      if (s.name !== "SyntaxError") throw s;
    }
  return (t || JSON.stringify)(r);
}
const hl = {
  transitional: g1,
  adapter: ["xhr", "http", "fetch"],
  transformRequest: [
    function (e, t) {
      const s = t.getContentType() || "",
        n = s.indexOf("application/json") > -1,
        i = K.isObject(e);
      if ((i && K.isHTMLForm(e) && (e = new FormData(e)), K.isFormData(e)))
        return n ? JSON.stringify(x1(e)) : e;
      if (
        K.isArrayBuffer(e) ||
        K.isBuffer(e) ||
        K.isStream(e) ||
        K.isFile(e) ||
        K.isBlob(e) ||
        K.isReadableStream(e)
      )
        return e;
      if (K.isArrayBufferView(e)) return e.buffer;
      if (K.isURLSearchParams(e))
        return (
          t.setContentType(
            "application/x-www-form-urlencoded;charset=utf-8",
            !1
          ),
          e.toString()
        );
      let c;
      if (i) {
        if (s.indexOf("application/x-www-form-urlencoded") > -1)
          return W3(e, this.formSerializer).toString();
        if ((c = K.isFileList(e)) || s.indexOf("multipart/form-data") > -1) {
          const d = this.env && this.env.FormData;
          return Bu(
            c ? { "files[]": e } : e,
            d && new d(),
            this.formSerializer
          );
        }
      }
      return i || n ? (t.setContentType("application/json", !1), X3(e)) : e;
    },
  ],
  transformResponse: [
    function (e) {
      const t = this.transitional || hl.transitional,
        s = t && t.forcedJSONParsing,
        n = this.responseType === "json";
      if (K.isResponse(e) || K.isReadableStream(e)) return e;
      if (e && K.isString(e) && ((s && !this.responseType) || n)) {
        const l = !(t && t.silentJSONParsing) && n;
        try {
          return JSON.parse(e);
        } catch (c) {
          if (l)
            throw c.name === "SyntaxError"
              ? Xe.from(c, Xe.ERR_BAD_RESPONSE, this, null, this.response)
              : c;
        }
      }
      return e;
    },
  ],
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: { FormData: yr.classes.FormData, Blob: yr.classes.Blob },
  validateStatus: function (e) {
    return e >= 200 && e < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": void 0,
    },
  },
};
K.forEach(["delete", "get", "head", "post", "put", "patch"], (r) => {
  hl.headers[r] = {};
});
const Y3 = K.toObjectSet([
    "age",
    "authorization",
    "content-length",
    "content-type",
    "etag",
    "expires",
    "from",
    "host",
    "if-modified-since",
    "if-unmodified-since",
    "last-modified",
    "location",
    "max-forwards",
    "proxy-authorization",
    "referer",
    "retry-after",
    "user-agent",
  ]),
  K3 = (r) => {
    const e = {};
    let t, s, n;
    return (
      r &&
        r
          .split(
            `
`
          )
          .forEach(function (l) {
            (n = l.indexOf(":")),
              (t = l.substring(0, n).trim().toLowerCase()),
              (s = l.substring(n + 1).trim()),
              !(!t || (e[t] && Y3[t])) &&
                (t === "set-cookie"
                  ? e[t]
                    ? e[t].push(s)
                    : (e[t] = [s])
                  : (e[t] = e[t] ? e[t] + ", " + s : s));
          }),
      e
    );
  },
  Ay = Symbol("internals");
function bo(r) {
  return r && String(r).trim().toLowerCase();
}
function eu(r) {
  return r === !1 || r == null ? r : K.isArray(r) ? r.map(eu) : String(r);
}
function Q3(r) {
  const e = Object.create(null),
    t = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let s;
  for (; (s = t.exec(r)); ) e[s[1]] = s[2];
  return e;
}
const Z3 = (r) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());
function Lh(r, e, t, s, n) {
  if (K.isFunction(s)) return s.call(this, e, t);
  if ((n && (e = t), !!K.isString(e))) {
    if (K.isString(s)) return e.indexOf(s) !== -1;
    if (K.isRegExp(s)) return s.test(e);
  }
}
function J3(r) {
  return r
    .trim()
    .toLowerCase()
    .replace(/([a-z\d])(\w*)/g, (e, t, s) => t.toUpperCase() + s);
}
function ej(r, e) {
  const t = K.toCamelCase(" " + e);
  ["get", "set", "has"].forEach((s) => {
    Object.defineProperty(r, s + t, {
      value: function (n, i, l) {
        return this[s].call(this, e, n, i, l);
      },
      configurable: !0,
    });
  });
}
let Or = class {
  constructor(e) {
    e && this.set(e);
  }
  set(e, t, s) {
    const n = this;
    function i(c, d, f) {
      const m = bo(d);
      if (!m) throw new Error("header name must be a non-empty string");
      const h = K.findKey(n, m);
      (!h || n[h] === void 0 || f === !0 || (f === void 0 && n[h] !== !1)) &&
        (n[h || d] = eu(c));
    }
    const l = (c, d) => K.forEach(c, (f, m) => i(f, m, d));
    if (K.isPlainObject(e) || e instanceof this.constructor) l(e, t);
    else if (K.isString(e) && (e = e.trim()) && !Z3(e)) l(K3(e), t);
    else if (K.isObject(e) && K.isIterable(e)) {
      let c = {},
        d,
        f;
      for (const m of e) {
        if (!K.isArray(m))
          throw TypeError("Object iterator must return a key-value pair");
        c[(f = m[0])] = (d = c[f])
          ? K.isArray(d)
            ? [...d, m[1]]
            : [d, m[1]]
          : m[1];
      }
      l(c, t);
    } else e != null && i(t, e, s);
    return this;
  }
  get(e, t) {
    if (((e = bo(e)), e)) {
      const s = K.findKey(this, e);
      if (s) {
        const n = this[s];
        if (!t) return n;
        if (t === !0) return Q3(n);
        if (K.isFunction(t)) return t.call(this, n, s);
        if (K.isRegExp(t)) return t.exec(n);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(e, t) {
    if (((e = bo(e)), e)) {
      const s = K.findKey(this, e);
      return !!(s && this[s] !== void 0 && (!t || Lh(this, this[s], s, t)));
    }
    return !1;
  }
  delete(e, t) {
    const s = this;
    let n = !1;
    function i(l) {
      if (((l = bo(l)), l)) {
        const c = K.findKey(s, l);
        c && (!t || Lh(s, s[c], c, t)) && (delete s[c], (n = !0));
      }
    }
    return K.isArray(e) ? e.forEach(i) : i(e), n;
  }
  clear(e) {
    const t = Object.keys(this);
    let s = t.length,
      n = !1;
    for (; s--; ) {
      const i = t[s];
      (!e || Lh(this, this[i], i, e, !0)) && (delete this[i], (n = !0));
    }
    return n;
  }
  normalize(e) {
    const t = this,
      s = {};
    return (
      K.forEach(this, (n, i) => {
        const l = K.findKey(s, i);
        if (l) {
          (t[l] = eu(n)), delete t[i];
          return;
        }
        const c = e ? J3(i) : String(i).trim();
        c !== i && delete t[i], (t[c] = eu(n)), (s[c] = !0);
      }),
      this
    );
  }
  concat(...e) {
    return this.constructor.concat(this, ...e);
  }
  toJSON(e) {
    const t = Object.create(null);
    return (
      K.forEach(this, (s, n) => {
        s != null && s !== !1 && (t[n] = e && K.isArray(s) ? s.join(", ") : s);
      }),
      t
    );
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([e, t]) => e + ": " + t).join(`
`);
  }
  getSetCookie() {
    return this.get("set-cookie") || [];
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(e) {
    return e instanceof this ? e : new this(e);
  }
  static concat(e, ...t) {
    const s = new this(e);
    return t.forEach((n) => s.set(n)), s;
  }
  static accessor(e) {
    const s = (this[Ay] = this[Ay] = { accessors: {} }).accessors,
      n = this.prototype;
    function i(l) {
      const c = bo(l);
      s[c] || (ej(n, l), (s[c] = !0));
    }
    return K.isArray(e) ? e.forEach(i) : i(e), this;
  }
};
Or.accessor([
  "Content-Type",
  "Content-Length",
  "Accept",
  "Accept-Encoding",
  "User-Agent",
  "Authorization",
]);
K.reduceDescriptors(Or.prototype, ({ value: r }, e) => {
  let t = e[0].toUpperCase() + e.slice(1);
  return {
    get: () => r,
    set(s) {
      this[t] = s;
    },
  };
});
K.freezeMethods(Or);
function Dh(r, e) {
  const t = this || hl,
    s = e || t,
    n = Or.from(s.headers);
  let i = s.data;
  return (
    K.forEach(r, function (c) {
      i = c.call(t, i, n.normalize(), e ? e.status : void 0);
    }),
    n.normalize(),
    i
  );
}
function y1(r) {
  return !!(r && r.__CANCEL__);
}
function ja(r, e, t) {
  Xe.call(this, r ?? "canceled", Xe.ERR_CANCELED, e, t),
    (this.name = "CanceledError");
}
K.inherits(ja, Xe, { __CANCEL__: !0 });
function v1(r, e, t) {
  const s = t.config.validateStatus;
  !t.status || !s || s(t.status)
    ? r(t)
    : e(
        new Xe(
          "Request failed with status code " + t.status,
          [Xe.ERR_BAD_REQUEST, Xe.ERR_BAD_RESPONSE][
            Math.floor(t.status / 100) - 4
          ],
          t.config,
          t.request,
          t
        )
      );
}
function tj(r) {
  const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(r);
  return (e && e[1]) || "";
}
function rj(r, e) {
  r = r || 10;
  const t = new Array(r),
    s = new Array(r);
  let n = 0,
    i = 0,
    l;
  return (
    (e = e !== void 0 ? e : 1e3),
    function (d) {
      const f = Date.now(),
        m = s[i];
      l || (l = f), (t[n] = d), (s[n] = f);
      let h = i,
        g = 0;
      for (; h !== n; ) (g += t[h++]), (h = h % r);
      if (((n = (n + 1) % r), n === i && (i = (i + 1) % r), f - l < e)) return;
      const x = m && f - m;
      return x ? Math.round((g * 1e3) / x) : void 0;
    }
  );
}
function sj(r, e) {
  let t = 0,
    s = 1e3 / e,
    n,
    i;
  const l = (f, m = Date.now()) => {
    (t = m), (n = null), i && (clearTimeout(i), (i = null)), r(...f);
  };
  return [
    (...f) => {
      const m = Date.now(),
        h = m - t;
      h >= s
        ? l(f, m)
        : ((n = f),
          i ||
            (i = setTimeout(() => {
              (i = null), l(n);
            }, s - h)));
    },
    () => n && l(n),
  ];
}
const cu = (r, e, t = 3) => {
    let s = 0;
    const n = rj(50, 250);
    return sj((i) => {
      const l = i.loaded,
        c = i.lengthComputable ? i.total : void 0,
        d = l - s,
        f = n(d),
        m = l <= c;
      s = l;
      const h = {
        loaded: l,
        total: c,
        progress: c ? l / c : void 0,
        bytes: d,
        rate: f || void 0,
        estimated: f && c && m ? (c - l) / f : void 0,
        event: i,
        lengthComputable: c != null,
        [e ? "download" : "upload"]: !0,
      };
      r(h);
    }, t);
  },
  My = (r, e) => {
    const t = r != null;
    return [(s) => e[0]({ lengthComputable: t, total: r, loaded: s }), e[1]];
  },
  Ny =
    (r) =>
    (...e) =>
      K.asap(() => r(...e)),
  nj = yr.hasStandardBrowserEnv
    ? ((r, e) => (t) => (
        (t = new URL(t, yr.origin)),
        r.protocol === t.protocol &&
          r.host === t.host &&
          (e || r.port === t.port)
      ))(
        new URL(yr.origin),
        yr.navigator && /(msie|trident)/i.test(yr.navigator.userAgent)
      )
    : () => !0,
  ij = yr.hasStandardBrowserEnv
    ? {
        write(r, e, t, s, n, i) {
          const l = [r + "=" + encodeURIComponent(e)];
          K.isNumber(t) && l.push("expires=" + new Date(t).toGMTString()),
            K.isString(s) && l.push("path=" + s),
            K.isString(n) && l.push("domain=" + n),
            i === !0 && l.push("secure"),
            (document.cookie = l.join("; "));
        },
        read(r) {
          const e = document.cookie.match(
            new RegExp("(^|;\\s*)(" + r + ")=([^;]*)")
          );
          return e ? decodeURIComponent(e[3]) : null;
        },
        remove(r) {
          this.write(r, "", Date.now() - 864e5);
        },
      }
    : {
        write() {},
        read() {
          return null;
        },
        remove() {},
      };
function aj(r) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(r);
}
function oj(r, e) {
  return e ? r.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : r;
}
function _1(r, e, t) {
  let s = !aj(e);
  return r && (s || t == !1) ? oj(r, e) : e;
}
const Ry = (r) => (r instanceof Or ? { ...r } : r);
function Ai(r, e) {
  e = e || {};
  const t = {};
  function s(f, m, h, g) {
    return K.isPlainObject(f) && K.isPlainObject(m)
      ? K.merge.call({ caseless: g }, f, m)
      : K.isPlainObject(m)
      ? K.merge({}, m)
      : K.isArray(m)
      ? m.slice()
      : m;
  }
  function n(f, m, h, g) {
    if (K.isUndefined(m)) {
      if (!K.isUndefined(f)) return s(void 0, f, h, g);
    } else return s(f, m, h, g);
  }
  function i(f, m) {
    if (!K.isUndefined(m)) return s(void 0, m);
  }
  function l(f, m) {
    if (K.isUndefined(m)) {
      if (!K.isUndefined(f)) return s(void 0, f);
    } else return s(void 0, m);
  }
  function c(f, m, h) {
    if (h in e) return s(f, m);
    if (h in r) return s(void 0, f);
  }
  const d = {
    url: i,
    method: i,
    data: i,
    baseURL: l,
    transformRequest: l,
    transformResponse: l,
    paramsSerializer: l,
    timeout: l,
    timeoutMessage: l,
    withCredentials: l,
    withXSRFToken: l,
    adapter: l,
    responseType: l,
    xsrfCookieName: l,
    xsrfHeaderName: l,
    onUploadProgress: l,
    onDownloadProgress: l,
    decompress: l,
    maxContentLength: l,
    maxBodyLength: l,
    beforeRedirect: l,
    transport: l,
    httpAgent: l,
    httpsAgent: l,
    cancelToken: l,
    socketPath: l,
    responseEncoding: l,
    validateStatus: c,
    headers: (f, m, h) => n(Ry(f), Ry(m), h, !0),
  };
  return (
    K.forEach(Object.keys({ ...r, ...e }), function (m) {
      const h = d[m] || n,
        g = h(r[m], e[m], m);
      (K.isUndefined(g) && h !== c) || (t[m] = g);
    }),
    t
  );
}
const b1 = (r) => {
    const e = Ai({}, r);
    let {
      data: t,
      withXSRFToken: s,
      xsrfHeaderName: n,
      xsrfCookieName: i,
      headers: l,
      auth: c,
    } = e;
    (e.headers = l = Or.from(l)),
      (e.url = m1(
        _1(e.baseURL, e.url, e.allowAbsoluteUrls),
        r.params,
        r.paramsSerializer
      )),
      c &&
        l.set(
          "Authorization",
          "Basic " +
            btoa(
              (c.username || "") +
                ":" +
                (c.password ? unescape(encodeURIComponent(c.password)) : "")
            )
        );
    let d;
    if (K.isFormData(t)) {
      if (yr.hasStandardBrowserEnv || yr.hasStandardBrowserWebWorkerEnv)
        l.setContentType(void 0);
      else if ((d = l.getContentType()) !== !1) {
        const [f, ...m] = d
          ? d
              .split(";")
              .map((h) => h.trim())
              .filter(Boolean)
          : [];
        l.setContentType([f || "multipart/form-data", ...m].join("; "));
      }
    }
    if (
      yr.hasStandardBrowserEnv &&
      (s && K.isFunction(s) && (s = s(e)), s || (s !== !1 && nj(e.url)))
    ) {
      const f = n && i && ij.read(i);
      f && l.set(n, f);
    }
    return e;
  },
  lj = typeof XMLHttpRequest < "u",
  cj =
    lj &&
    function (r) {
      return new Promise(function (t, s) {
        const n = b1(r);
        let i = n.data;
        const l = Or.from(n.headers).normalize();
        let { responseType: c, onUploadProgress: d, onDownloadProgress: f } = n,
          m,
          h,
          g,
          x,
          v;
        function w() {
          x && x(),
            v && v(),
            n.cancelToken && n.cancelToken.unsubscribe(m),
            n.signal && n.signal.removeEventListener("abort", m);
        }
        let _ = new XMLHttpRequest();
        _.open(n.method.toUpperCase(), n.url, !0), (_.timeout = n.timeout);
        function S() {
          if (!_) return;
          const j = Or.from(
              "getAllResponseHeaders" in _ && _.getAllResponseHeaders()
            ),
            A = {
              data:
                !c || c === "text" || c === "json"
                  ? _.responseText
                  : _.response,
              status: _.status,
              statusText: _.statusText,
              headers: j,
              config: r,
              request: _,
            };
          v1(
            function (N) {
              t(N), w();
            },
            function (N) {
              s(N), w();
            },
            A
          ),
            (_ = null);
        }
        "onloadend" in _
          ? (_.onloadend = S)
          : (_.onreadystatechange = function () {
              !_ ||
                _.readyState !== 4 ||
                (_.status === 0 &&
                  !(_.responseURL && _.responseURL.indexOf("file:") === 0)) ||
                setTimeout(S);
            }),
          (_.onabort = function () {
            _ &&
              (s(new Xe("Request aborted", Xe.ECONNABORTED, r, _)), (_ = null));
          }),
          (_.onerror = function () {
            s(new Xe("Network Error", Xe.ERR_NETWORK, r, _)), (_ = null);
          }),
          (_.ontimeout = function () {
            let E = n.timeout
              ? "timeout of " + n.timeout + "ms exceeded"
              : "timeout exceeded";
            const A = n.transitional || g1;
            n.timeoutErrorMessage && (E = n.timeoutErrorMessage),
              s(
                new Xe(
                  E,
                  A.clarifyTimeoutError ? Xe.ETIMEDOUT : Xe.ECONNABORTED,
                  r,
                  _
                )
              ),
              (_ = null);
          }),
          i === void 0 && l.setContentType(null),
          "setRequestHeader" in _ &&
            K.forEach(l.toJSON(), function (E, A) {
              _.setRequestHeader(A, E);
            }),
          K.isUndefined(n.withCredentials) ||
            (_.withCredentials = !!n.withCredentials),
          c && c !== "json" && (_.responseType = n.responseType),
          f && (([g, v] = cu(f, !0)), _.addEventListener("progress", g)),
          d &&
            _.upload &&
            (([h, x] = cu(d)),
            _.upload.addEventListener("progress", h),
            _.upload.addEventListener("loadend", x)),
          (n.cancelToken || n.signal) &&
            ((m = (j) => {
              _ &&
                (s(!j || j.type ? new ja(null, r, _) : j),
                _.abort(),
                (_ = null));
            }),
            n.cancelToken && n.cancelToken.subscribe(m),
            n.signal &&
              (n.signal.aborted ? m() : n.signal.addEventListener("abort", m)));
        const T = tj(n.url);
        if (T && yr.protocols.indexOf(T) === -1) {
          s(new Xe("Unsupported protocol " + T + ":", Xe.ERR_BAD_REQUEST, r));
          return;
        }
        _.send(i || null);
      });
    },
  uj = (r, e) => {
    const { length: t } = (r = r ? r.filter(Boolean) : []);
    if (e || t) {
      let s = new AbortController(),
        n;
      const i = function (f) {
        if (!n) {
          (n = !0), c();
          const m = f instanceof Error ? f : this.reason;
          s.abort(
            m instanceof Xe ? m : new ja(m instanceof Error ? m.message : m)
          );
        }
      };
      let l =
        e &&
        setTimeout(() => {
          (l = null), i(new Xe(`timeout ${e} of ms exceeded`, Xe.ETIMEDOUT));
        }, e);
      const c = () => {
        r &&
          (l && clearTimeout(l),
          (l = null),
          r.forEach((f) => {
            f.unsubscribe
              ? f.unsubscribe(i)
              : f.removeEventListener("abort", i);
          }),
          (r = null));
      };
      r.forEach((f) => f.addEventListener("abort", i));
      const { signal: d } = s;
      return (d.unsubscribe = () => K.asap(c)), d;
    }
  },
  dj = function* (r, e) {
    let t = r.byteLength;
    if (t < e) {
      yield r;
      return;
    }
    let s = 0,
      n;
    for (; s < t; ) (n = s + e), yield r.slice(s, n), (s = n);
  },
  hj = async function* (r, e) {
    for await (const t of fj(r)) yield* dj(t, e);
  },
  fj = async function* (r) {
    if (r[Symbol.asyncIterator]) {
      yield* r;
      return;
    }
    const e = r.getReader();
    try {
      for (;;) {
        const { done: t, value: s } = await e.read();
        if (t) break;
        yield s;
      }
    } finally {
      await e.cancel();
    }
  },
  By = (r, e, t, s) => {
    const n = hj(r, e);
    let i = 0,
      l,
      c = (d) => {
        l || ((l = !0), s && s(d));
      };
    return new ReadableStream(
      {
        async pull(d) {
          try {
            const { done: f, value: m } = await n.next();
            if (f) {
              c(), d.close();
              return;
            }
            let h = m.byteLength;
            if (t) {
              let g = (i += h);
              t(g);
            }
            d.enqueue(new Uint8Array(m));
          } catch (f) {
            throw (c(f), f);
          }
        },
        cancel(d) {
          return c(d), n.return();
        },
      },
      { highWaterMark: 2 }
    );
  },
  Fu =
    typeof fetch == "function" &&
    typeof Request == "function" &&
    typeof Response == "function",
  w1 = Fu && typeof ReadableStream == "function",
  pj =
    Fu &&
    (typeof TextEncoder == "function"
      ? (
          (r) => (e) =>
            r.encode(e)
        )(new TextEncoder())
      : async (r) => new Uint8Array(await new Response(r).arrayBuffer())),
  S1 = (r, ...e) => {
    try {
      return !!r(...e);
    } catch {
      return !1;
    }
  },
  mj =
    w1 &&
    S1(() => {
      let r = !1;
      const e = new Request(yr.origin, {
        body: new ReadableStream(),
        method: "POST",
        get duplex() {
          return (r = !0), "half";
        },
      }).headers.has("Content-Type");
      return r && !e;
    }),
  Fy = 64 * 1024,
  Qp = w1 && S1(() => K.isReadableStream(new Response("").body)),
  uu = { stream: Qp && ((r) => r.body) };
Fu &&
  ((r) => {
    ["text", "arrayBuffer", "blob", "formData", "stream"].forEach((e) => {
      !uu[e] &&
        (uu[e] = K.isFunction(r[e])
          ? (t) => t[e]()
          : (t, s) => {
              throw new Xe(
                `Response type '${e}' is not supported`,
                Xe.ERR_NOT_SUPPORT,
                s
              );
            });
    });
  })(new Response());
const gj = async (r) => {
    if (r == null) return 0;
    if (K.isBlob(r)) return r.size;
    if (K.isSpecCompliantForm(r))
      return (
        await new Request(yr.origin, { method: "POST", body: r }).arrayBuffer()
      ).byteLength;
    if (K.isArrayBufferView(r) || K.isArrayBuffer(r)) return r.byteLength;
    if ((K.isURLSearchParams(r) && (r = r + ""), K.isString(r)))
      return (await pj(r)).byteLength;
  },
  xj = async (r, e) => {
    const t = K.toFiniteNumber(r.getContentLength());
    return t ?? gj(e);
  },
  yj =
    Fu &&
    (async (r) => {
      let {
        url: e,
        method: t,
        data: s,
        signal: n,
        cancelToken: i,
        timeout: l,
        onDownloadProgress: c,
        onUploadProgress: d,
        responseType: f,
        headers: m,
        withCredentials: h = "same-origin",
        fetchOptions: g,
      } = b1(r);
      f = f ? (f + "").toLowerCase() : "text";
      let x = uj([n, i && i.toAbortSignal()], l),
        v;
      const w =
        x &&
        x.unsubscribe &&
        (() => {
          x.unsubscribe();
        });
      let _;
      try {
        if (
          d &&
          mj &&
          t !== "get" &&
          t !== "head" &&
          (_ = await xj(m, s)) !== 0
        ) {
          let A = new Request(e, { method: "POST", body: s, duplex: "half" }),
            M;
          if (
            (K.isFormData(s) &&
              (M = A.headers.get("content-type")) &&
              m.setContentType(M),
            A.body)
          ) {
            const [N, R] = My(_, cu(Ny(d)));
            s = By(A.body, Fy, N, R);
          }
        }
        K.isString(h) || (h = h ? "include" : "omit");
        const S = "credentials" in Request.prototype;
        v = new Request(e, {
          ...g,
          signal: x,
          method: t.toUpperCase(),
          headers: m.normalize().toJSON(),
          body: s,
          duplex: "half",
          credentials: S ? h : void 0,
        });
        let T = await fetch(v, g);
        const j = Qp && (f === "stream" || f === "response");
        if (Qp && (c || (j && w))) {
          const A = {};
          ["status", "statusText", "headers"].forEach((O) => {
            A[O] = T[O];
          });
          const M = K.toFiniteNumber(T.headers.get("content-length")),
            [N, R] = (c && My(M, cu(Ny(c), !0))) || [];
          T = new Response(
            By(T.body, Fy, N, () => {
              R && R(), w && w();
            }),
            A
          );
        }
        f = f || "text";
        let E = await uu[K.findKey(uu, f) || "text"](T, r);
        return (
          !j && w && w(),
          await new Promise((A, M) => {
            v1(A, M, {
              data: E,
              headers: Or.from(T.headers),
              status: T.status,
              statusText: T.statusText,
              config: r,
              request: v,
            });
          })
        );
      } catch (S) {
        throw (
          (w && w(),
          S && S.name === "TypeError" && /Load failed|fetch/i.test(S.message)
            ? Object.assign(new Xe("Network Error", Xe.ERR_NETWORK, r, v), {
                cause: S.cause || S,
              })
            : Xe.from(S, S && S.code, r, v))
        );
      }
    }),
  Zp = { http: R3, xhr: cj, fetch: yj };
K.forEach(Zp, (r, e) => {
  if (r) {
    try {
      Object.defineProperty(r, "name", { value: e });
    } catch {}
    Object.defineProperty(r, "adapterName", { value: e });
  }
});
const Iy = (r) => `- ${r}`,
  vj = (r) => K.isFunction(r) || r === null || r === !1,
  C1 = {
    getAdapter: (r) => {
      r = K.isArray(r) ? r : [r];
      const { length: e } = r;
      let t, s;
      const n = {};
      for (let i = 0; i < e; i++) {
        t = r[i];
        let l;
        if (
          ((s = t),
          !vj(t) && ((s = Zp[(l = String(t)).toLowerCase()]), s === void 0))
        )
          throw new Xe(`Unknown adapter '${l}'`);
        if (s) break;
        n[l || "#" + i] = s;
      }
      if (!s) {
        const i = Object.entries(n).map(
          ([c, d]) =>
            `adapter ${c} ` +
            (d === !1
              ? "is not supported by the environment"
              : "is not available in the build")
        );
        let l = e
          ? i.length > 1
            ? `since :
` +
              i.map(Iy).join(`
`)
            : " " + Iy(i[0])
          : "as no adapter specified";
        throw new Xe(
          "There is no suitable adapter to dispatch the request " + l,
          "ERR_NOT_SUPPORT"
        );
      }
      return s;
    },
    adapters: Zp,
  };
function Uh(r) {
  if (
    (r.cancelToken && r.cancelToken.throwIfRequested(),
    r.signal && r.signal.aborted)
  )
    throw new ja(null, r);
}
function Oy(r) {
  return (
    Uh(r),
    (r.headers = Or.from(r.headers)),
    (r.data = Dh.call(r, r.transformRequest)),
    ["post", "put", "patch"].indexOf(r.method) !== -1 &&
      r.headers.setContentType("application/x-www-form-urlencoded", !1),
    C1.getAdapter(r.adapter || hl.adapter)(r).then(
      function (s) {
        return (
          Uh(r),
          (s.data = Dh.call(r, r.transformResponse, s)),
          (s.headers = Or.from(s.headers)),
          s
        );
      },
      function (s) {
        return (
          y1(s) ||
            (Uh(r),
            s &&
              s.response &&
              ((s.response.data = Dh.call(r, r.transformResponse, s.response)),
              (s.response.headers = Or.from(s.response.headers)))),
          Promise.reject(s)
        );
      }
    )
  );
}
const T1 = "1.11.0",
  Iu = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach(
  (r, e) => {
    Iu[r] = function (s) {
      return typeof s === r || "a" + (e < 1 ? "n " : " ") + r;
    };
  }
);
const Ly = {};
Iu.transitional = function (e, t, s) {
  function n(i, l) {
    return (
      "[Axios v" +
      T1 +
      "] Transitional option '" +
      i +
      "'" +
      l +
      (s ? ". " + s : "")
    );
  }
  return (i, l, c) => {
    if (e === !1)
      throw new Xe(
        n(l, " has been removed" + (t ? " in " + t : "")),
        Xe.ERR_DEPRECATED
      );
    return (
      t &&
        !Ly[l] &&
        ((Ly[l] = !0),
        console.warn(
          n(
            l,
            " has been deprecated since v" +
              t +
              " and will be removed in the near future"
          )
        )),
      e ? e(i, l, c) : !0
    );
  };
};
Iu.spelling = function (e) {
  return (t, s) => (console.warn(`${s} is likely a misspelling of ${e}`), !0);
};
function _j(r, e, t) {
  if (typeof r != "object")
    throw new Xe("options must be an object", Xe.ERR_BAD_OPTION_VALUE);
  const s = Object.keys(r);
  let n = s.length;
  for (; n-- > 0; ) {
    const i = s[n],
      l = e[i];
    if (l) {
      const c = r[i],
        d = c === void 0 || l(c, i, r);
      if (d !== !0)
        throw new Xe("option " + i + " must be " + d, Xe.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (t !== !0) throw new Xe("Unknown option " + i, Xe.ERR_BAD_OPTION);
  }
}
const tu = { assertOptions: _j, validators: Iu },
  Os = tu.validators;
let Pi = class {
  constructor(e) {
    (this.defaults = e || {}),
      (this.interceptors = { request: new Py(), response: new Py() });
  }
  async request(e, t) {
    try {
      return await this._request(e, t);
    } catch (s) {
      if (s instanceof Error) {
        let n = {};
        Error.captureStackTrace
          ? Error.captureStackTrace(n)
          : (n = new Error());
        const i = n.stack ? n.stack.replace(/^.+\n/, "") : "";
        try {
          s.stack
            ? i &&
              !String(s.stack).endsWith(i.replace(/^.+\n.+\n/, "")) &&
              (s.stack +=
                `
` + i)
            : (s.stack = i);
        } catch {}
      }
      throw s;
    }
  }
  _request(e, t) {
    typeof e == "string" ? ((t = t || {}), (t.url = e)) : (t = e || {}),
      (t = Ai(this.defaults, t));
    const { transitional: s, paramsSerializer: n, headers: i } = t;
    s !== void 0 &&
      tu.assertOptions(
        s,
        {
          silentJSONParsing: Os.transitional(Os.boolean),
          forcedJSONParsing: Os.transitional(Os.boolean),
          clarifyTimeoutError: Os.transitional(Os.boolean),
        },
        !1
      ),
      n != null &&
        (K.isFunction(n)
          ? (t.paramsSerializer = { serialize: n })
          : tu.assertOptions(
              n,
              { encode: Os.function, serialize: Os.function },
              !0
            )),
      t.allowAbsoluteUrls !== void 0 ||
        (this.defaults.allowAbsoluteUrls !== void 0
          ? (t.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls)
          : (t.allowAbsoluteUrls = !0)),
      tu.assertOptions(
        t,
        {
          baseUrl: Os.spelling("baseURL"),
          withXsrfToken: Os.spelling("withXSRFToken"),
        },
        !0
      ),
      (t.method = (t.method || this.defaults.method || "get").toLowerCase());
    let l = i && K.merge(i.common, i[t.method]);
    i &&
      K.forEach(
        ["delete", "get", "head", "post", "put", "patch", "common"],
        (v) => {
          delete i[v];
        }
      ),
      (t.headers = Or.concat(l, i));
    const c = [];
    let d = !0;
    this.interceptors.request.forEach(function (w) {
      (typeof w.runWhen == "function" && w.runWhen(t) === !1) ||
        ((d = d && w.synchronous), c.unshift(w.fulfilled, w.rejected));
    });
    const f = [];
    this.interceptors.response.forEach(function (w) {
      f.push(w.fulfilled, w.rejected);
    });
    let m,
      h = 0,
      g;
    if (!d) {
      const v = [Oy.bind(this), void 0];
      for (
        v.unshift(...c), v.push(...f), g = v.length, m = Promise.resolve(t);
        h < g;

      )
        m = m.then(v[h++], v[h++]);
      return m;
    }
    g = c.length;
    let x = t;
    for (h = 0; h < g; ) {
      const v = c[h++],
        w = c[h++];
      try {
        x = v(x);
      } catch (_) {
        w.call(this, _);
        break;
      }
    }
    try {
      m = Oy.call(this, x);
    } catch (v) {
      return Promise.reject(v);
    }
    for (h = 0, g = f.length; h < g; ) m = m.then(f[h++], f[h++]);
    return m;
  }
  getUri(e) {
    e = Ai(this.defaults, e);
    const t = _1(e.baseURL, e.url, e.allowAbsoluteUrls);
    return m1(t, e.params, e.paramsSerializer);
  }
};
K.forEach(["delete", "get", "head", "options"], function (e) {
  Pi.prototype[e] = function (t, s) {
    return this.request(
      Ai(s || {}, { method: e, url: t, data: (s || {}).data })
    );
  };
});
K.forEach(["post", "put", "patch"], function (e) {
  function t(s) {
    return function (i, l, c) {
      return this.request(
        Ai(c || {}, {
          method: e,
          headers: s ? { "Content-Type": "multipart/form-data" } : {},
          url: i,
          data: l,
        })
      );
    };
  }
  (Pi.prototype[e] = t()), (Pi.prototype[e + "Form"] = t(!0));
});
let bj = class E1 {
  constructor(e) {
    if (typeof e != "function")
      throw new TypeError("executor must be a function.");
    let t;
    this.promise = new Promise(function (i) {
      t = i;
    });
    const s = this;
    this.promise.then((n) => {
      if (!s._listeners) return;
      let i = s._listeners.length;
      for (; i-- > 0; ) s._listeners[i](n);
      s._listeners = null;
    }),
      (this.promise.then = (n) => {
        let i;
        const l = new Promise((c) => {
          s.subscribe(c), (i = c);
        }).then(n);
        return (
          (l.cancel = function () {
            s.unsubscribe(i);
          }),
          l
        );
      }),
      e(function (i, l, c) {
        s.reason || ((s.reason = new ja(i, l, c)), t(s.reason));
      });
  }
  throwIfRequested() {
    if (this.reason) throw this.reason;
  }
  subscribe(e) {
    if (this.reason) {
      e(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(e) : (this._listeners = [e]);
  }
  unsubscribe(e) {
    if (!this._listeners) return;
    const t = this._listeners.indexOf(e);
    t !== -1 && this._listeners.splice(t, 1);
  }
  toAbortSignal() {
    const e = new AbortController(),
      t = (s) => {
        e.abort(s);
      };
    return (
      this.subscribe(t),
      (e.signal.unsubscribe = () => this.unsubscribe(t)),
      e.signal
    );
  }
  static source() {
    let e;
    return {
      token: new E1(function (n) {
        e = n;
      }),
      cancel: e,
    };
  }
};
function wj(r) {
  return function (t) {
    return r.apply(null, t);
  };
}
function Sj(r) {
  return K.isObject(r) && r.isAxiosError === !0;
}
const Jp = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511,
};
Object.entries(Jp).forEach(([r, e]) => {
  Jp[e] = r;
});
function j1(r) {
  const e = new Pi(r),
    t = s1(Pi.prototype.request, e);
  return (
    K.extend(t, Pi.prototype, e, { allOwnKeys: !0 }),
    K.extend(t, e, null, { allOwnKeys: !0 }),
    (t.create = function (n) {
      return j1(Ai(r, n));
    }),
    t
  );
}
const Ge = j1(hl);
Ge.Axios = Pi;
Ge.CanceledError = ja;
Ge.CancelToken = bj;
Ge.isCancel = y1;
Ge.VERSION = T1;
Ge.toFormData = Bu;
Ge.AxiosError = Xe;
Ge.Cancel = Ge.CanceledError;
Ge.all = function (e) {
  return Promise.all(e);
};
Ge.spread = wj;
Ge.isAxiosError = Sj;
Ge.mergeConfig = Ai;
Ge.AxiosHeaders = Or;
Ge.formToJSON = (r) => x1(K.isHTMLForm(r) ? new FormData(r) : r);
Ge.getAdapter = C1.getAdapter;
Ge.HttpStatusCode = Jp;
Ge.default = Ge;
const {
  Axios: aD,
  AxiosError: oD,
  CanceledError: lD,
  isCancel: cD,
  CancelToken: uD,
  VERSION: dD,
  all: hD,
  Cancel: fD,
  isAxiosError: pD,
  spread: mD,
  toFormData: gD,
  AxiosHeaders: xD,
  HttpStatusCode: yD,
  formToJSON: vD,
  getAdapter: _D,
  mergeConfig: bD,
} = Ge;
Ge.interceptors.request.use(
  (r) => {
    const e = ["local.private:8000", "172.25.171.17:8000"];
    return (
      (typeof r.url == "string" && e.some((t) => r.url.includes(t))) ||
        (typeof r.baseURL == "string" &&
          e.some((t) => r.baseURL.includes(t))) ||
        (typeof r.url == "string" &&
          (r.url = r.url.replace(/http:\/+/gi, "https://")),
        typeof r.baseURL == "string" &&
          (r.baseURL = r.baseURL.replace(/http:\/+/gi, "https://"))),
      r
    );
  },
  (r) => Promise.reject(r)
);
var zh, Dy;
function ka() {
  return Dy || ((Dy = 1), (zh = TypeError)), zh;
}
const Cj = {},
  Tj = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Cj },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Ej = HE(Tj);
var Gh, Uy;
function Ou() {
  if (Uy) return Gh;
  Uy = 1;
  var r = typeof Map == "function" && Map.prototype,
    e =
      Object.getOwnPropertyDescriptor && r
        ? Object.getOwnPropertyDescriptor(Map.prototype, "size")
        : null,
    t = r && e && typeof e.get == "function" ? e.get : null,
    s = r && Map.prototype.forEach,
    n = typeof Set == "function" && Set.prototype,
    i =
      Object.getOwnPropertyDescriptor && n
        ? Object.getOwnPropertyDescriptor(Set.prototype, "size")
        : null,
    l = n && i && typeof i.get == "function" ? i.get : null,
    c = n && Set.prototype.forEach,
    d = typeof WeakMap == "function" && WeakMap.prototype,
    f = d ? WeakMap.prototype.has : null,
    m = typeof WeakSet == "function" && WeakSet.prototype,
    h = m ? WeakSet.prototype.has : null,
    g = typeof WeakRef == "function" && WeakRef.prototype,
    x = g ? WeakRef.prototype.deref : null,
    v = Boolean.prototype.valueOf,
    w = Object.prototype.toString,
    _ = Function.prototype.toString,
    S = String.prototype.match,
    T = String.prototype.slice,
    j = String.prototype.replace,
    E = String.prototype.toUpperCase,
    A = String.prototype.toLowerCase,
    M = RegExp.prototype.test,
    N = Array.prototype.concat,
    R = Array.prototype.join,
    O = Array.prototype.slice,
    U = Math.floor,
    q = typeof BigInt == "function" ? BigInt.prototype.valueOf : null,
    Q = Object.getOwnPropertySymbols,
    z =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? Symbol.prototype.toString
        : null,
    Z = typeof Symbol == "function" && typeof Symbol.iterator == "object",
    pe =
      typeof Symbol == "function" &&
      Symbol.toStringTag &&
      (typeof Symbol.toStringTag === Z || !0)
        ? Symbol.toStringTag
        : null,
    se = Object.prototype.propertyIsEnumerable,
    ie =
      (typeof Reflect == "function"
        ? Reflect.getPrototypeOf
        : Object.getPrototypeOf) ||
      ([].__proto__ === Array.prototype
        ? function (G) {
            return G.__proto__;
          }
        : null);
  function Y(G, H) {
    if (
      G === 1 / 0 ||
      G === -1 / 0 ||
      G !== G ||
      (G && G > -1e3 && G < 1e3) ||
      M.call(/e/, H)
    )
      return H;
    var Oe = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if (typeof G == "number") {
      var We = G < 0 ? -U(-G) : U(G);
      if (We !== G) {
        var Qe = String(We),
          Ae = T.call(H, Qe.length + 1);
        return (
          j.call(Qe, Oe, "$&_") +
          "." +
          j.call(j.call(Ae, /([0-9]{3})/g, "$&_"), /_$/, "")
        );
      }
    }
    return j.call(H, Oe, "$&_");
  }
  var re = Ej,
    J = re.custom,
    F = Ee(J) ? J : null,
    W = { __proto__: null, double: '"', single: "'" },
    te = { __proto__: null, double: /(["\\])/g, single: /(['\\])/g };
  Gh = function G(H, Oe, We, Qe) {
    var Ae = Oe || {};
    if (_t(Ae, "quoteStyle") && !_t(W, Ae.quoteStyle))
      throw new TypeError('option "quoteStyle" must be "single" or "double"');
    if (
      _t(Ae, "maxStringLength") &&
      (typeof Ae.maxStringLength == "number"
        ? Ae.maxStringLength < 0 && Ae.maxStringLength !== 1 / 0
        : Ae.maxStringLength !== null)
    )
      throw new TypeError(
        'option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`'
      );
    var ir = _t(Ae, "customInspect") ? Ae.customInspect : !0;
    if (typeof ir != "boolean" && ir !== "symbol")
      throw new TypeError(
        "option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`"
      );
    if (
      _t(Ae, "indent") &&
      Ae.indent !== null &&
      Ae.indent !== "	" &&
      !(parseInt(Ae.indent, 10) === Ae.indent && Ae.indent > 0)
    )
      throw new TypeError(
        'option "indent" must be "\\t", an integer > 0, or `null`'
      );
    if (_t(Ae, "numericSeparator") && typeof Ae.numericSeparator != "boolean")
      throw new TypeError(
        'option "numericSeparator", if provided, must be `true` or `false`'
      );
    var Yr = Ae.numericSeparator;
    if (typeof H > "u") return "undefined";
    if (H === null) return "null";
    if (typeof H == "boolean") return H ? "true" : "false";
    if (typeof H == "string") return et(H, Ae);
    if (typeof H == "number") {
      if (H === 0) return 1 / 0 / H > 0 ? "0" : "-0";
      var fr = String(H);
      return Yr ? Y(H, fr) : fr;
    }
    if (typeof H == "bigint") {
      var us = String(H) + "n";
      return Yr ? Y(H, us) : us;
    }
    var Oi = typeof Ae.depth > "u" ? 5 : Ae.depth;
    if (
      (typeof We > "u" && (We = 0), We >= Oi && Oi > 0 && typeof H == "object")
    )
      return ae(H) ? "[Array]" : "[Object]";
    var Vs = kt(Ae, We);
    if (typeof Qe > "u") Qe = [];
    else if (Kt(Qe, H) >= 0) return "[Circular]";
    function Sr(qs, Jn, Tl) {
      if ((Jn && ((Qe = O.call(Qe)), Qe.push(Jn)), Tl)) {
        var Da = { depth: Ae.depth };
        return (
          _t(Ae, "quoteStyle") && (Da.quoteStyle = Ae.quoteStyle),
          G(qs, Da, We + 1, Qe)
        );
      }
      return G(qs, Ae, We + 1, Qe);
    }
    if (typeof H == "function" && !oe(H)) {
      var Ba = hr(H),
        xn = $t(H, Sr);
      return (
        "[Function" +
        (Ba ? ": " + Ba : " (anonymous)") +
        "]" +
        (xn.length > 0 ? " { " + R.call(xn, ", ") + " }" : "")
      );
    }
    if (Ee(H)) {
      var Li = Z
        ? j.call(String(H), /^(Symbol\(.*\))_[^)]*$/, "$1")
        : z.call(H);
      return typeof H == "object" && !Z ? Tt(Li) : Li;
    }
    if (ht(H)) {
      for (
        var ds = "<" + A.call(String(H.nodeName)),
          Fa = H.attributes || [],
          Ms = 0;
        Ms < Fa.length;
        Ms++
      )
        ds += " " + Fa[Ms].name + "=" + de(ne(Fa[Ms].value), "double", Ae);
      return (
        (ds += ">"),
        H.childNodes && H.childNodes.length && (ds += "..."),
        (ds += "</" + A.call(String(H.nodeName)) + ">"),
        ds
      );
    }
    if (ae(H)) {
      if (H.length === 0) return "[]";
      var yn = $t(H, Sr);
      return Vs && !Ut(yn)
        ? "[" + Et(yn, Vs) + "]"
        : "[ " + R.call(yn, ", ") + " ]";
    }
    if (ve(H)) {
      var vn = $t(H, Sr);
      return !("cause" in Error.prototype) &&
        "cause" in H &&
        !se.call(H, "cause")
        ? "{ [" +
            String(H) +
            "] " +
            R.call(N.call("[cause]: " + Sr(H.cause), vn), ", ") +
            " }"
        : vn.length === 0
        ? "[" + String(H) + "]"
        : "{ [" + String(H) + "] " + R.call(vn, ", ") + " }";
    }
    if (typeof H == "object" && ir) {
      if (F && typeof H[F] == "function" && re)
        return re(H, { depth: Oi - We });
      if (ir !== "symbol" && typeof H.inspect == "function") return H.inspect();
    }
    if (ee(H)) {
      var Di = [];
      return (
        s &&
          s.call(H, function (qs, Jn) {
            Di.push(Sr(Jn, H, !0) + " => " + Sr(qs, H));
          }),
        It("Map", t.call(H), Di, Vs)
      );
    }
    if (ge(H)) {
      var wl = [];
      return (
        c &&
          c.call(H, function (qs) {
            wl.push(Sr(qs, H));
          }),
        It("Set", l.call(H), wl, Vs)
      );
    }
    if (nt(H)) return ft("WeakMap");
    if ($e(H)) return ft("WeakSet");
    if (qe(H)) return ft("WeakRef");
    if (Ue(H)) return Tt(Sr(Number(H)));
    if (He(H)) return Tt(Sr(q.call(H)));
    if (xe(H)) return Tt(v.call(H));
    if (Te(H)) return Tt(Sr(String(H)));
    if (typeof window < "u" && H === window) return "{ [object Window] }";
    if (
      (typeof globalThis < "u" && H === globalThis) ||
      (typeof bi < "u" && H === bi)
    )
      return "{ [object globalThis] }";
    if (!me(H) && !oe(H)) {
      var Ia = $t(H, Sr),
        Sl = ie
          ? ie(H) === Object.prototype
          : H instanceof Object || H.constructor === Object,
        hs = H instanceof Object ? "" : "null prototype",
        Oa =
          !Sl && pe && Object(H) === H && pe in H
            ? T.call(Ft(H), 8, -1)
            : hs
            ? "Object"
            : "",
        Cl =
          Sl || typeof H.constructor != "function"
            ? ""
            : H.constructor.name
            ? H.constructor.name + " "
            : "",
        La =
          Cl +
          (Oa || hs
            ? "[" + R.call(N.call([], Oa || [], hs || []), ": ") + "] "
            : "");
      return Ia.length === 0
        ? La + "{}"
        : Vs
        ? La + "{" + Et(Ia, Vs) + "}"
        : La + "{ " + R.call(Ia, ", ") + " }";
    }
    return String(H);
  };
  function de(G, H, Oe) {
    var We = Oe.quoteStyle || H,
      Qe = W[We];
    return Qe + G + Qe;
  }
  function ne(G) {
    return j.call(String(G), /"/g, "&quot;");
  }
  function ue(G) {
    return !pe || !(typeof G == "object" && (pe in G || typeof G[pe] < "u"));
  }
  function ae(G) {
    return Ft(G) === "[object Array]" && ue(G);
  }
  function me(G) {
    return Ft(G) === "[object Date]" && ue(G);
  }
  function oe(G) {
    return Ft(G) === "[object RegExp]" && ue(G);
  }
  function ve(G) {
    return Ft(G) === "[object Error]" && ue(G);
  }
  function Te(G) {
    return Ft(G) === "[object String]" && ue(G);
  }
  function Ue(G) {
    return Ft(G) === "[object Number]" && ue(G);
  }
  function xe(G) {
    return Ft(G) === "[object Boolean]" && ue(G);
  }
  function Ee(G) {
    if (Z) return G && typeof G == "object" && G instanceof Symbol;
    if (typeof G == "symbol") return !0;
    if (!G || typeof G != "object" || !z) return !1;
    try {
      return z.call(G), !0;
    } catch {}
    return !1;
  }
  function He(G) {
    if (!G || typeof G != "object" || !q) return !1;
    try {
      return q.call(G), !0;
    } catch {}
    return !1;
  }
  var vt =
    Object.prototype.hasOwnProperty ||
    function (G) {
      return G in this;
    };
  function _t(G, H) {
    return vt.call(G, H);
  }
  function Ft(G) {
    return w.call(G);
  }
  function hr(G) {
    if (G.name) return G.name;
    var H = S.call(_.call(G), /^function\s*([\w$]+)/);
    return H ? H[1] : null;
  }
  function Kt(G, H) {
    if (G.indexOf) return G.indexOf(H);
    for (var Oe = 0, We = G.length; Oe < We; Oe++) if (G[Oe] === H) return Oe;
    return -1;
  }
  function ee(G) {
    if (!t || !G || typeof G != "object") return !1;
    try {
      t.call(G);
      try {
        l.call(G);
      } catch {
        return !0;
      }
      return G instanceof Map;
    } catch {}
    return !1;
  }
  function nt(G) {
    if (!f || !G || typeof G != "object") return !1;
    try {
      f.call(G, f);
      try {
        h.call(G, h);
      } catch {
        return !0;
      }
      return G instanceof WeakMap;
    } catch {}
    return !1;
  }
  function qe(G) {
    if (!x || !G || typeof G != "object") return !1;
    try {
      return x.call(G), !0;
    } catch {}
    return !1;
  }
  function ge(G) {
    if (!l || !G || typeof G != "object") return !1;
    try {
      l.call(G);
      try {
        t.call(G);
      } catch {
        return !0;
      }
      return G instanceof Set;
    } catch {}
    return !1;
  }
  function $e(G) {
    if (!h || !G || typeof G != "object") return !1;
    try {
      h.call(G, h);
      try {
        f.call(G, f);
      } catch {
        return !0;
      }
      return G instanceof WeakSet;
    } catch {}
    return !1;
  }
  function ht(G) {
    return !G || typeof G != "object"
      ? !1
      : typeof HTMLElement < "u" && G instanceof HTMLElement
      ? !0
      : typeof G.nodeName == "string" && typeof G.getAttribute == "function";
  }
  function et(G, H) {
    if (G.length > H.maxStringLength) {
      var Oe = G.length - H.maxStringLength,
        We = "... " + Oe + " more character" + (Oe > 1 ? "s" : "");
      return et(T.call(G, 0, H.maxStringLength), H) + We;
    }
    var Qe = te[H.quoteStyle || "single"];
    Qe.lastIndex = 0;
    var Ae = j.call(j.call(G, Qe, "\\$1"), /[\x00-\x1f]/g, ot);
    return de(Ae, "single", H);
  }
  function ot(G) {
    var H = G.charCodeAt(0),
      Oe = { 8: "b", 9: "t", 10: "n", 12: "f", 13: "r" }[H];
    return Oe
      ? "\\" + Oe
      : "\\x" + (H < 16 ? "0" : "") + E.call(H.toString(16));
  }
  function Tt(G) {
    return "Object(" + G + ")";
  }
  function ft(G) {
    return G + " { ? }";
  }
  function It(G, H, Oe, We) {
    var Qe = We ? Et(Oe, We) : R.call(Oe, ", ");
    return G + " (" + H + ") {" + Qe + "}";
  }
  function Ut(G) {
    for (var H = 0; H < G.length; H++)
      if (
        Kt(
          G[H],
          `
`
        ) >= 0
      )
        return !1;
    return !0;
  }
  function kt(G, H) {
    var Oe;
    if (G.indent === "	") Oe = "	";
    else if (typeof G.indent == "number" && G.indent > 0)
      Oe = R.call(Array(G.indent + 1), " ");
    else return null;
    return { base: Oe, prev: R.call(Array(H + 1), Oe) };
  }
  function Et(G, H) {
    if (G.length === 0) return "";
    var Oe =
      `
` +
      H.prev +
      H.base;
    return (
      Oe +
      R.call(G, "," + Oe) +
      `
` +
      H.prev
    );
  }
  function $t(G, H) {
    var Oe = ae(G),
      We = [];
    if (Oe) {
      We.length = G.length;
      for (var Qe = 0; Qe < G.length; Qe++)
        We[Qe] = _t(G, Qe) ? H(G[Qe], G) : "";
    }
    var Ae = typeof Q == "function" ? Q(G) : [],
      ir;
    if (Z) {
      ir = {};
      for (var Yr = 0; Yr < Ae.length; Yr++) ir["$" + Ae[Yr]] = Ae[Yr];
    }
    for (var fr in G)
      _t(G, fr) &&
        ((Oe && String(Number(fr)) === fr && fr < G.length) ||
          (Z && ir["$" + fr] instanceof Symbol) ||
          (M.call(/[^\w$]/, fr)
            ? We.push(H(fr, G) + ": " + H(G[fr], G))
            : We.push(fr + ": " + H(G[fr], G))));
    if (typeof Q == "function")
      for (var us = 0; us < Ae.length; us++)
        se.call(G, Ae[us]) &&
          We.push("[" + H(Ae[us]) + "]: " + H(G[Ae[us]], G));
    return We;
  }
  return Gh;
}
var $h, zy;
function jj() {
  if (zy) return $h;
  zy = 1;
  var r = Ou(),
    e = ka(),
    t = function (c, d, f) {
      for (var m = c, h; (h = m.next) != null; m = h)
        if (h.key === d)
          return (m.next = h.next), f || ((h.next = c.next), (c.next = h)), h;
    },
    s = function (c, d) {
      if (c) {
        var f = t(c, d);
        return f && f.value;
      }
    },
    n = function (c, d, f) {
      var m = t(c, d);
      m ? (m.value = f) : (c.next = { key: d, next: c.next, value: f });
    },
    i = function (c, d) {
      return c ? !!t(c, d) : !1;
    },
    l = function (c, d) {
      if (c) return t(c, d, !0);
    };
  return (
    ($h = function () {
      var d,
        f = {
          assert: function (m) {
            if (!f.has(m)) throw new e("Side channel does not contain " + r(m));
          },
          delete: function (m) {
            var h = d && d.next,
              g = l(d, m);
            return g && h && h === g && (d = void 0), !!g;
          },
          get: function (m) {
            return s(d, m);
          },
          has: function (m) {
            return i(d, m);
          },
          set: function (m, h) {
            d || (d = { next: void 0 }), n(d, m, h);
          },
        };
      return f;
    }),
    $h
  );
}
var Hh, Gy;
function k1() {
  return Gy || ((Gy = 1), (Hh = Object)), Hh;
}
var Wh, $y;
function kj() {
  return $y || (($y = 1), (Wh = Error)), Wh;
}
var Vh, Hy;
function Pj() {
  return Hy || ((Hy = 1), (Vh = EvalError)), Vh;
}
var qh, Wy;
function Aj() {
  return Wy || ((Wy = 1), (qh = RangeError)), qh;
}
var Xh, Vy;
function Mj() {
  return Vy || ((Vy = 1), (Xh = ReferenceError)), Xh;
}
var Yh, qy;
function Nj() {
  return qy || ((qy = 1), (Yh = SyntaxError)), Yh;
}
var Kh, Xy;
function Rj() {
  return Xy || ((Xy = 1), (Kh = URIError)), Kh;
}
var Qh, Yy;
function Bj() {
  return Yy || ((Yy = 1), (Qh = Math.abs)), Qh;
}
var Zh, Ky;
function Fj() {
  return Ky || ((Ky = 1), (Zh = Math.floor)), Zh;
}
var Jh, Qy;
function Ij() {
  return Qy || ((Qy = 1), (Jh = Math.max)), Jh;
}
var ef, Zy;
function Oj() {
  return Zy || ((Zy = 1), (ef = Math.min)), ef;
}
var tf, Jy;
function Lj() {
  return Jy || ((Jy = 1), (tf = Math.pow)), tf;
}
var rf, ev;
function Dj() {
  return ev || ((ev = 1), (rf = Math.round)), rf;
}
var sf, tv;
function Uj() {
  return (
    tv ||
      ((tv = 1),
      (sf =
        Number.isNaN ||
        function (e) {
          return e !== e;
        })),
    sf
  );
}
var nf, rv;
function zj() {
  if (rv) return nf;
  rv = 1;
  var r = Uj();
  return (
    (nf = function (t) {
      return r(t) || t === 0 ? t : t < 0 ? -1 : 1;
    }),
    nf
  );
}
var af, sv;
function Gj() {
  return sv || ((sv = 1), (af = Object.getOwnPropertyDescriptor)), af;
}
var of, nv;
function P1() {
  if (nv) return of;
  nv = 1;
  var r = Gj();
  if (r)
    try {
      r([], "length");
    } catch {
      r = null;
    }
  return (of = r), of;
}
var lf, iv;
function $j() {
  if (iv) return lf;
  iv = 1;
  var r = Object.defineProperty || !1;
  if (r)
    try {
      r({}, "a", { value: 1 });
    } catch {
      r = !1;
    }
  return (lf = r), lf;
}
var cf, av;
function Hj() {
  return (
    av ||
      ((av = 1),
      (cf = function () {
        if (
          typeof Symbol != "function" ||
          typeof Object.getOwnPropertySymbols != "function"
        )
          return !1;
        if (typeof Symbol.iterator == "symbol") return !0;
        var e = {},
          t = Symbol("test"),
          s = Object(t);
        if (
          typeof t == "string" ||
          Object.prototype.toString.call(t) !== "[object Symbol]" ||
          Object.prototype.toString.call(s) !== "[object Symbol]"
        )
          return !1;
        var n = 42;
        e[t] = n;
        for (var i in e) return !1;
        if (
          (typeof Object.keys == "function" && Object.keys(e).length !== 0) ||
          (typeof Object.getOwnPropertyNames == "function" &&
            Object.getOwnPropertyNames(e).length !== 0)
        )
          return !1;
        var l = Object.getOwnPropertySymbols(e);
        if (
          l.length !== 1 ||
          l[0] !== t ||
          !Object.prototype.propertyIsEnumerable.call(e, t)
        )
          return !1;
        if (typeof Object.getOwnPropertyDescriptor == "function") {
          var c = Object.getOwnPropertyDescriptor(e, t);
          if (c.value !== n || c.enumerable !== !0) return !1;
        }
        return !0;
      })),
    cf
  );
}
var uf, ov;
function Wj() {
  if (ov) return uf;
  ov = 1;
  var r = typeof Symbol < "u" && Symbol,
    e = Hj();
  return (
    (uf = function () {
      return typeof r != "function" ||
        typeof Symbol != "function" ||
        typeof r("foo") != "symbol" ||
        typeof Symbol("bar") != "symbol"
        ? !1
        : e();
    }),
    uf
  );
}
var df, lv;
function A1() {
  return (
    lv ||
      ((lv = 1),
      (df = (typeof Reflect < "u" && Reflect.getPrototypeOf) || null)),
    df
  );
}
var hf, cv;
function M1() {
  if (cv) return hf;
  cv = 1;
  var r = k1();
  return (hf = r.getPrototypeOf || null), hf;
}
var ff, uv;
function Vj() {
  if (uv) return ff;
  uv = 1;
  var r = "Function.prototype.bind called on incompatible ",
    e = Object.prototype.toString,
    t = Math.max,
    s = "[object Function]",
    n = function (d, f) {
      for (var m = [], h = 0; h < d.length; h += 1) m[h] = d[h];
      for (var g = 0; g < f.length; g += 1) m[g + d.length] = f[g];
      return m;
    },
    i = function (d, f) {
      for (var m = [], h = f, g = 0; h < d.length; h += 1, g += 1) m[g] = d[h];
      return m;
    },
    l = function (c, d) {
      for (var f = "", m = 0; m < c.length; m += 1)
        (f += c[m]), m + 1 < c.length && (f += d);
      return f;
    };
  return (
    (ff = function (d) {
      var f = this;
      if (typeof f != "function" || e.apply(f) !== s)
        throw new TypeError(r + f);
      for (
        var m = i(arguments, 1),
          h,
          g = function () {
            if (this instanceof h) {
              var S = f.apply(this, n(m, arguments));
              return Object(S) === S ? S : this;
            }
            return f.apply(d, n(m, arguments));
          },
          x = t(0, f.length - m.length),
          v = [],
          w = 0;
        w < x;
        w++
      )
        v[w] = "$" + w;
      if (
        ((h = Function(
          "binder",
          "return function (" +
            l(v, ",") +
            "){ return binder.apply(this,arguments); }"
        )(g)),
        f.prototype)
      ) {
        var _ = function () {};
        (_.prototype = f.prototype),
          (h.prototype = new _()),
          (_.prototype = null);
      }
      return h;
    }),
    ff
  );
}
var pf, dv;
function Lu() {
  if (dv) return pf;
  dv = 1;
  var r = Vj();
  return (pf = Function.prototype.bind || r), pf;
}
var mf, hv;
function Km() {
  return hv || ((hv = 1), (mf = Function.prototype.call)), mf;
}
var gf, fv;
function N1() {
  return fv || ((fv = 1), (gf = Function.prototype.apply)), gf;
}
var xf, pv;
function qj() {
  return (
    pv || ((pv = 1), (xf = typeof Reflect < "u" && Reflect && Reflect.apply)),
    xf
  );
}
var yf, mv;
function Xj() {
  if (mv) return yf;
  mv = 1;
  var r = Lu(),
    e = N1(),
    t = Km(),
    s = qj();
  return (yf = s || r.call(t, e)), yf;
}
var vf, gv;
function R1() {
  if (gv) return vf;
  gv = 1;
  var r = Lu(),
    e = ka(),
    t = Km(),
    s = Xj();
  return (
    (vf = function (i) {
      if (i.length < 1 || typeof i[0] != "function")
        throw new e("a function is required");
      return s(r, t, i);
    }),
    vf
  );
}
var _f, xv;
function Yj() {
  if (xv) return _f;
  xv = 1;
  var r = R1(),
    e = P1(),
    t;
  try {
    t = [].__proto__ === Array.prototype;
  } catch (l) {
    if (
      !l ||
      typeof l != "object" ||
      !("code" in l) ||
      l.code !== "ERR_PROTO_ACCESS"
    )
      throw l;
  }
  var s = !!t && e && e(Object.prototype, "__proto__"),
    n = Object,
    i = n.getPrototypeOf;
  return (
    (_f =
      s && typeof s.get == "function"
        ? r([s.get])
        : typeof i == "function"
        ? function (c) {
            return i(c == null ? c : n(c));
          }
        : !1),
    _f
  );
}
var bf, yv;
function Kj() {
  if (yv) return bf;
  yv = 1;
  var r = A1(),
    e = M1(),
    t = Yj();
  return (
    (bf = r
      ? function (n) {
          return r(n);
        }
      : e
      ? function (n) {
          if (!n || (typeof n != "object" && typeof n != "function"))
            throw new TypeError("getProto: not an object");
          return e(n);
        }
      : t
      ? function (n) {
          return t(n);
        }
      : null),
    bf
  );
}
var wf, vv;
function Qj() {
  if (vv) return wf;
  vv = 1;
  var r = Function.prototype.call,
    e = Object.prototype.hasOwnProperty,
    t = Lu();
  return (wf = t.call(r, e)), wf;
}
var Sf, _v;
function Qm() {
  if (_v) return Sf;
  _v = 1;
  var r,
    e = k1(),
    t = kj(),
    s = Pj(),
    n = Aj(),
    i = Mj(),
    l = Nj(),
    c = ka(),
    d = Rj(),
    f = Bj(),
    m = Fj(),
    h = Ij(),
    g = Oj(),
    x = Lj(),
    v = Dj(),
    w = zj(),
    _ = Function,
    S = function (oe) {
      try {
        return _('"use strict"; return (' + oe + ").constructor;")();
      } catch {}
    },
    T = P1(),
    j = $j(),
    E = function () {
      throw new c();
    },
    A = T
      ? (function () {
          try {
            return arguments.callee, E;
          } catch {
            try {
              return T(arguments, "callee").get;
            } catch {
              return E;
            }
          }
        })()
      : E,
    M = Wj()(),
    N = Kj(),
    R = M1(),
    O = A1(),
    U = N1(),
    q = Km(),
    Q = {},
    z = typeof Uint8Array > "u" || !N ? r : N(Uint8Array),
    Z = {
      __proto__: null,
      "%AggregateError%": typeof AggregateError > "u" ? r : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer > "u" ? r : ArrayBuffer,
      "%ArrayIteratorPrototype%": M && N ? N([][Symbol.iterator]()) : r,
      "%AsyncFromSyncIteratorPrototype%": r,
      "%AsyncFunction%": Q,
      "%AsyncGenerator%": Q,
      "%AsyncGeneratorFunction%": Q,
      "%AsyncIteratorPrototype%": Q,
      "%Atomics%": typeof Atomics > "u" ? r : Atomics,
      "%BigInt%": typeof BigInt > "u" ? r : BigInt,
      "%BigInt64Array%": typeof BigInt64Array > "u" ? r : BigInt64Array,
      "%BigUint64Array%": typeof BigUint64Array > "u" ? r : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView > "u" ? r : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": t,
      "%eval%": eval,
      "%EvalError%": s,
      "%Float16Array%": typeof Float16Array > "u" ? r : Float16Array,
      "%Float32Array%": typeof Float32Array > "u" ? r : Float32Array,
      "%Float64Array%": typeof Float64Array > "u" ? r : Float64Array,
      "%FinalizationRegistry%":
        typeof FinalizationRegistry > "u" ? r : FinalizationRegistry,
      "%Function%": _,
      "%GeneratorFunction%": Q,
      "%Int8Array%": typeof Int8Array > "u" ? r : Int8Array,
      "%Int16Array%": typeof Int16Array > "u" ? r : Int16Array,
      "%Int32Array%": typeof Int32Array > "u" ? r : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": M && N ? N(N([][Symbol.iterator]())) : r,
      "%JSON%": typeof JSON == "object" ? JSON : r,
      "%Map%": typeof Map > "u" ? r : Map,
      "%MapIteratorPrototype%":
        typeof Map > "u" || !M || !N ? r : N(new Map()[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": e,
      "%Object.getOwnPropertyDescriptor%": T,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise > "u" ? r : Promise,
      "%Proxy%": typeof Proxy > "u" ? r : Proxy,
      "%RangeError%": n,
      "%ReferenceError%": i,
      "%Reflect%": typeof Reflect > "u" ? r : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set > "u" ? r : Set,
      "%SetIteratorPrototype%":
        typeof Set > "u" || !M || !N ? r : N(new Set()[Symbol.iterator]()),
      "%SharedArrayBuffer%":
        typeof SharedArrayBuffer > "u" ? r : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": M && N ? N(""[Symbol.iterator]()) : r,
      "%Symbol%": M ? Symbol : r,
      "%SyntaxError%": l,
      "%ThrowTypeError%": A,
      "%TypedArray%": z,
      "%TypeError%": c,
      "%Uint8Array%": typeof Uint8Array > "u" ? r : Uint8Array,
      "%Uint8ClampedArray%":
        typeof Uint8ClampedArray > "u" ? r : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array > "u" ? r : Uint16Array,
      "%Uint32Array%": typeof Uint32Array > "u" ? r : Uint32Array,
      "%URIError%": d,
      "%WeakMap%": typeof WeakMap > "u" ? r : WeakMap,
      "%WeakRef%": typeof WeakRef > "u" ? r : WeakRef,
      "%WeakSet%": typeof WeakSet > "u" ? r : WeakSet,
      "%Function.prototype.call%": q,
      "%Function.prototype.apply%": U,
      "%Object.defineProperty%": j,
      "%Object.getPrototypeOf%": R,
      "%Math.abs%": f,
      "%Math.floor%": m,
      "%Math.max%": h,
      "%Math.min%": g,
      "%Math.pow%": x,
      "%Math.round%": v,
      "%Math.sign%": w,
      "%Reflect.getPrototypeOf%": O,
    };
  if (N)
    try {
      null.error;
    } catch (oe) {
      var pe = N(N(oe));
      Z["%Error.prototype%"] = pe;
    }
  var se = function oe(ve) {
      var Te;
      if (ve === "%AsyncFunction%") Te = S("async function () {}");
      else if (ve === "%GeneratorFunction%") Te = S("function* () {}");
      else if (ve === "%AsyncGeneratorFunction%")
        Te = S("async function* () {}");
      else if (ve === "%AsyncGenerator%") {
        var Ue = oe("%AsyncGeneratorFunction%");
        Ue && (Te = Ue.prototype);
      } else if (ve === "%AsyncIteratorPrototype%") {
        var xe = oe("%AsyncGenerator%");
        xe && N && (Te = N(xe.prototype));
      }
      return (Z[ve] = Te), Te;
    },
    ie = {
      __proto__: null,
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": [
        "AsyncGeneratorFunction",
        "prototype",
        "prototype",
      ],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"],
    },
    Y = Lu(),
    re = Qj(),
    J = Y.call(q, Array.prototype.concat),
    F = Y.call(U, Array.prototype.splice),
    W = Y.call(q, String.prototype.replace),
    te = Y.call(q, String.prototype.slice),
    de = Y.call(q, RegExp.prototype.exec),
    ne =
      /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
    ue = /\\(\\)?/g,
    ae = function (ve) {
      var Te = te(ve, 0, 1),
        Ue = te(ve, -1);
      if (Te === "%" && Ue !== "%")
        throw new l("invalid intrinsic syntax, expected closing `%`");
      if (Ue === "%" && Te !== "%")
        throw new l("invalid intrinsic syntax, expected opening `%`");
      var xe = [];
      return (
        W(ve, ne, function (Ee, He, vt, _t) {
          xe[xe.length] = vt ? W(_t, ue, "$1") : He || Ee;
        }),
        xe
      );
    },
    me = function (ve, Te) {
      var Ue = ve,
        xe;
      if (
        (re(ie, Ue) && ((xe = ie[Ue]), (Ue = "%" + xe[0] + "%")), re(Z, Ue))
      ) {
        var Ee = Z[Ue];
        if ((Ee === Q && (Ee = se(Ue)), typeof Ee > "u" && !Te))
          throw new c(
            "intrinsic " +
              ve +
              " exists, but is not available. Please file an issue!"
          );
        return { alias: xe, name: Ue, value: Ee };
      }
      throw new l("intrinsic " + ve + " does not exist!");
    };
  return (
    (Sf = function (ve, Te) {
      if (typeof ve != "string" || ve.length === 0)
        throw new c("intrinsic name must be a non-empty string");
      if (arguments.length > 1 && typeof Te != "boolean")
        throw new c('"allowMissing" argument must be a boolean');
      if (de(/^%?[^%]*%?$/, ve) === null)
        throw new l(
          "`%` may not be present anywhere but at the beginning and end of the intrinsic name"
        );
      var Ue = ae(ve),
        xe = Ue.length > 0 ? Ue[0] : "",
        Ee = me("%" + xe + "%", Te),
        He = Ee.name,
        vt = Ee.value,
        _t = !1,
        Ft = Ee.alias;
      Ft && ((xe = Ft[0]), F(Ue, J([0, 1], Ft)));
      for (var hr = 1, Kt = !0; hr < Ue.length; hr += 1) {
        var ee = Ue[hr],
          nt = te(ee, 0, 1),
          qe = te(ee, -1);
        if (
          (nt === '"' ||
            nt === "'" ||
            nt === "`" ||
            qe === '"' ||
            qe === "'" ||
            qe === "`") &&
          nt !== qe
        )
          throw new l("property names with quotes must have matching quotes");
        if (
          ((ee === "constructor" || !Kt) && (_t = !0),
          (xe += "." + ee),
          (He = "%" + xe + "%"),
          re(Z, He))
        )
          vt = Z[He];
        else if (vt != null) {
          if (!(ee in vt)) {
            if (!Te)
              throw new c(
                "base intrinsic for " +
                  ve +
                  " exists, but the property is not available."
              );
            return;
          }
          if (T && hr + 1 >= Ue.length) {
            var ge = T(vt, ee);
            (Kt = !!ge),
              Kt && "get" in ge && !("originalValue" in ge.get)
                ? (vt = ge.get)
                : (vt = vt[ee]);
          } else (Kt = re(vt, ee)), (vt = vt[ee]);
          Kt && !_t && (Z[He] = vt);
        }
      }
      return vt;
    }),
    Sf
  );
}
var Cf, bv;
function B1() {
  if (bv) return Cf;
  bv = 1;
  var r = Qm(),
    e = R1(),
    t = e([r("%String.prototype.indexOf%")]);
  return (
    (Cf = function (n, i) {
      var l = r(n, !!i);
      return typeof l == "function" && t(n, ".prototype.") > -1 ? e([l]) : l;
    }),
    Cf
  );
}
var Tf, wv;
function F1() {
  if (wv) return Tf;
  wv = 1;
  var r = Qm(),
    e = B1(),
    t = Ou(),
    s = ka(),
    n = r("%Map%", !0),
    i = e("Map.prototype.get", !0),
    l = e("Map.prototype.set", !0),
    c = e("Map.prototype.has", !0),
    d = e("Map.prototype.delete", !0),
    f = e("Map.prototype.size", !0);
  return (
    (Tf =
      !!n &&
      function () {
        var h,
          g = {
            assert: function (x) {
              if (!g.has(x))
                throw new s("Side channel does not contain " + t(x));
            },
            delete: function (x) {
              if (h) {
                var v = d(h, x);
                return f(h) === 0 && (h = void 0), v;
              }
              return !1;
            },
            get: function (x) {
              if (h) return i(h, x);
            },
            has: function (x) {
              return h ? c(h, x) : !1;
            },
            set: function (x, v) {
              h || (h = new n()), l(h, x, v);
            },
          };
        return g;
      }),
    Tf
  );
}
var Ef, Sv;
function Zj() {
  if (Sv) return Ef;
  Sv = 1;
  var r = Qm(),
    e = B1(),
    t = Ou(),
    s = F1(),
    n = ka(),
    i = r("%WeakMap%", !0),
    l = e("WeakMap.prototype.get", !0),
    c = e("WeakMap.prototype.set", !0),
    d = e("WeakMap.prototype.has", !0),
    f = e("WeakMap.prototype.delete", !0);
  return (
    (Ef = i
      ? function () {
          var h,
            g,
            x = {
              assert: function (v) {
                if (!x.has(v))
                  throw new n("Side channel does not contain " + t(v));
              },
              delete: function (v) {
                if (
                  i &&
                  v &&
                  (typeof v == "object" || typeof v == "function")
                ) {
                  if (h) return f(h, v);
                } else if (s && g) return g.delete(v);
                return !1;
              },
              get: function (v) {
                return i &&
                  v &&
                  (typeof v == "object" || typeof v == "function") &&
                  h
                  ? l(h, v)
                  : g && g.get(v);
              },
              has: function (v) {
                return i &&
                  v &&
                  (typeof v == "object" || typeof v == "function") &&
                  h
                  ? d(h, v)
                  : !!g && g.has(v);
              },
              set: function (v, w) {
                i && v && (typeof v == "object" || typeof v == "function")
                  ? (h || (h = new i()), c(h, v, w))
                  : s && (g || (g = s()), g.set(v, w));
              },
            };
          return x;
        }
      : s),
    Ef
  );
}
var jf, Cv;
function Jj() {
  if (Cv) return jf;
  Cv = 1;
  var r = ka(),
    e = Ou(),
    t = jj(),
    s = F1(),
    n = Zj(),
    i = n || s || t;
  return (
    (jf = function () {
      var c,
        d = {
          assert: function (f) {
            if (!d.has(f)) throw new r("Side channel does not contain " + e(f));
          },
          delete: function (f) {
            return !!c && c.delete(f);
          },
          get: function (f) {
            return c && c.get(f);
          },
          has: function (f) {
            return !!c && c.has(f);
          },
          set: function (f, m) {
            c || (c = i()), c.set(f, m);
          },
        };
      return d;
    }),
    jf
  );
}
var kf, Tv;
function Zm() {
  if (Tv) return kf;
  Tv = 1;
  var r = String.prototype.replace,
    e = /%20/g,
    t = { RFC1738: "RFC1738", RFC3986: "RFC3986" };
  return (
    (kf = {
      default: t.RFC3986,
      formatters: {
        RFC1738: function (s) {
          return r.call(s, e, "+");
        },
        RFC3986: function (s) {
          return String(s);
        },
      },
      RFC1738: t.RFC1738,
      RFC3986: t.RFC3986,
    }),
    kf
  );
}
var Pf, Ev;
function I1() {
  if (Ev) return Pf;
  Ev = 1;
  var r = Zm(),
    e = Object.prototype.hasOwnProperty,
    t = Array.isArray,
    s = (function () {
      for (var _ = [], S = 0; S < 256; ++S)
        _.push("%" + ((S < 16 ? "0" : "") + S.toString(16)).toUpperCase());
      return _;
    })(),
    n = function (S) {
      for (; S.length > 1; ) {
        var T = S.pop(),
          j = T.obj[T.prop];
        if (t(j)) {
          for (var E = [], A = 0; A < j.length; ++A)
            typeof j[A] < "u" && E.push(j[A]);
          T.obj[T.prop] = E;
        }
      }
    },
    i = function (S, T) {
      for (
        var j = T && T.plainObjects ? { __proto__: null } : {}, E = 0;
        E < S.length;
        ++E
      )
        typeof S[E] < "u" && (j[E] = S[E]);
      return j;
    },
    l = function _(S, T, j) {
      if (!T) return S;
      if (typeof T != "object" && typeof T != "function") {
        if (t(S)) S.push(T);
        else if (S && typeof S == "object")
          ((j && (j.plainObjects || j.allowPrototypes)) ||
            !e.call(Object.prototype, T)) &&
            (S[T] = !0);
        else return [S, T];
        return S;
      }
      if (!S || typeof S != "object") return [S].concat(T);
      var E = S;
      return (
        t(S) && !t(T) && (E = i(S, j)),
        t(S) && t(T)
          ? (T.forEach(function (A, M) {
              if (e.call(S, M)) {
                var N = S[M];
                N && typeof N == "object" && A && typeof A == "object"
                  ? (S[M] = _(N, A, j))
                  : S.push(A);
              } else S[M] = A;
            }),
            S)
          : Object.keys(T).reduce(function (A, M) {
              var N = T[M];
              return e.call(A, M) ? (A[M] = _(A[M], N, j)) : (A[M] = N), A;
            }, E)
      );
    },
    c = function (S, T) {
      return Object.keys(T).reduce(function (j, E) {
        return (j[E] = T[E]), j;
      }, S);
    },
    d = function (_, S, T) {
      var j = _.replace(/\+/g, " ");
      if (T === "iso-8859-1") return j.replace(/%[0-9a-f]{2}/gi, unescape);
      try {
        return decodeURIComponent(j);
      } catch {
        return j;
      }
    },
    f = 1024,
    m = function (S, T, j, E, A) {
      if (S.length === 0) return S;
      var M = S;
      if (
        (typeof S == "symbol"
          ? (M = Symbol.prototype.toString.call(S))
          : typeof S != "string" && (M = String(S)),
        j === "iso-8859-1")
      )
        return escape(M).replace(/%u[0-9a-f]{4}/gi, function (z) {
          return "%26%23" + parseInt(z.slice(2), 16) + "%3B";
        });
      for (var N = "", R = 0; R < M.length; R += f) {
        for (
          var O = M.length >= f ? M.slice(R, R + f) : M, U = [], q = 0;
          q < O.length;
          ++q
        ) {
          var Q = O.charCodeAt(q);
          if (
            Q === 45 ||
            Q === 46 ||
            Q === 95 ||
            Q === 126 ||
            (Q >= 48 && Q <= 57) ||
            (Q >= 65 && Q <= 90) ||
            (Q >= 97 && Q <= 122) ||
            (A === r.RFC1738 && (Q === 40 || Q === 41))
          ) {
            U[U.length] = O.charAt(q);
            continue;
          }
          if (Q < 128) {
            U[U.length] = s[Q];
            continue;
          }
          if (Q < 2048) {
            U[U.length] = s[192 | (Q >> 6)] + s[128 | (Q & 63)];
            continue;
          }
          if (Q < 55296 || Q >= 57344) {
            U[U.length] =
              s[224 | (Q >> 12)] + s[128 | ((Q >> 6) & 63)] + s[128 | (Q & 63)];
            continue;
          }
          (q += 1),
            (Q = 65536 + (((Q & 1023) << 10) | (O.charCodeAt(q) & 1023))),
            (U[U.length] =
              s[240 | (Q >> 18)] +
              s[128 | ((Q >> 12) & 63)] +
              s[128 | ((Q >> 6) & 63)] +
              s[128 | (Q & 63)]);
        }
        N += U.join("");
      }
      return N;
    },
    h = function (S) {
      for (
        var T = [{ obj: { o: S }, prop: "o" }], j = [], E = 0;
        E < T.length;
        ++E
      )
        for (
          var A = T[E], M = A.obj[A.prop], N = Object.keys(M), R = 0;
          R < N.length;
          ++R
        ) {
          var O = N[R],
            U = M[O];
          typeof U == "object" &&
            U !== null &&
            j.indexOf(U) === -1 &&
            (T.push({ obj: M, prop: O }), j.push(U));
        }
      return n(T), S;
    },
    g = function (S) {
      return Object.prototype.toString.call(S) === "[object RegExp]";
    },
    x = function (S) {
      return !S || typeof S != "object"
        ? !1
        : !!(
            S.constructor &&
            S.constructor.isBuffer &&
            S.constructor.isBuffer(S)
          );
    },
    v = function (S, T) {
      return [].concat(S, T);
    },
    w = function (S, T) {
      if (t(S)) {
        for (var j = [], E = 0; E < S.length; E += 1) j.push(T(S[E]));
        return j;
      }
      return T(S);
    };
  return (
    (Pf = {
      arrayToObject: i,
      assign: c,
      combine: v,
      compact: h,
      decode: d,
      encode: m,
      isBuffer: x,
      isRegExp: g,
      maybeMap: w,
      merge: l,
    }),
    Pf
  );
}
var Af, jv;
function ek() {
  if (jv) return Af;
  jv = 1;
  var r = Jj(),
    e = I1(),
    t = Zm(),
    s = Object.prototype.hasOwnProperty,
    n = {
      brackets: function (_) {
        return _ + "[]";
      },
      comma: "comma",
      indices: function (_, S) {
        return _ + "[" + S + "]";
      },
      repeat: function (_) {
        return _;
      },
    },
    i = Array.isArray,
    l = Array.prototype.push,
    c = function (w, _) {
      l.apply(w, i(_) ? _ : [_]);
    },
    d = Date.prototype.toISOString,
    f = t.default,
    m = {
      addQueryPrefix: !1,
      allowDots: !1,
      allowEmptyArrays: !1,
      arrayFormat: "indices",
      charset: "utf-8",
      charsetSentinel: !1,
      commaRoundTrip: !1,
      delimiter: "&",
      encode: !0,
      encodeDotInKeys: !1,
      encoder: e.encode,
      encodeValuesOnly: !1,
      filter: void 0,
      format: f,
      formatter: t.formatters[f],
      indices: !1,
      serializeDate: function (_) {
        return d.call(_);
      },
      skipNulls: !1,
      strictNullHandling: !1,
    },
    h = function (_) {
      return (
        typeof _ == "string" ||
        typeof _ == "number" ||
        typeof _ == "boolean" ||
        typeof _ == "symbol" ||
        typeof _ == "bigint"
      );
    },
    g = {},
    x = function w(_, S, T, j, E, A, M, N, R, O, U, q, Q, z, Z, pe, se, ie) {
      for (
        var Y = _, re = ie, J = 0, F = !1;
        (re = re.get(g)) !== void 0 && !F;

      ) {
        var W = re.get(_);
        if (((J += 1), typeof W < "u")) {
          if (W === J) throw new RangeError("Cyclic object value");
          F = !0;
        }
        typeof re.get(g) > "u" && (J = 0);
      }
      if (
        (typeof O == "function"
          ? (Y = O(S, Y))
          : Y instanceof Date
          ? (Y = Q(Y))
          : T === "comma" &&
            i(Y) &&
            (Y = e.maybeMap(Y, function (He) {
              return He instanceof Date ? Q(He) : He;
            })),
        Y === null)
      ) {
        if (A) return R && !pe ? R(S, m.encoder, se, "key", z) : S;
        Y = "";
      }
      if (h(Y) || e.isBuffer(Y)) {
        if (R) {
          var te = pe ? S : R(S, m.encoder, se, "key", z);
          return [Z(te) + "=" + Z(R(Y, m.encoder, se, "value", z))];
        }
        return [Z(S) + "=" + Z(String(Y))];
      }
      var de = [];
      if (typeof Y > "u") return de;
      var ne;
      if (T === "comma" && i(Y))
        pe && R && (Y = e.maybeMap(Y, R)),
          (ne = [{ value: Y.length > 0 ? Y.join(",") || null : void 0 }]);
      else if (i(O)) ne = O;
      else {
        var ue = Object.keys(Y);
        ne = U ? ue.sort(U) : ue;
      }
      var ae = N ? String(S).replace(/\./g, "%2E") : String(S),
        me = j && i(Y) && Y.length === 1 ? ae + "[]" : ae;
      if (E && i(Y) && Y.length === 0) return me + "[]";
      for (var oe = 0; oe < ne.length; ++oe) {
        var ve = ne[oe],
          Te =
            typeof ve == "object" && ve && typeof ve.value < "u"
              ? ve.value
              : Y[ve];
        if (!(M && Te === null)) {
          var Ue = q && N ? String(ve).replace(/\./g, "%2E") : String(ve),
            xe = i(Y)
              ? typeof T == "function"
                ? T(me, Ue)
                : me
              : me + (q ? "." + Ue : "[" + Ue + "]");
          ie.set(_, J);
          var Ee = r();
          Ee.set(g, ie),
            c(
              de,
              w(
                Te,
                xe,
                T,
                j,
                E,
                A,
                M,
                N,
                T === "comma" && pe && i(Y) ? null : R,
                O,
                U,
                q,
                Q,
                z,
                Z,
                pe,
                se,
                Ee
              )
            );
        }
      }
      return de;
    },
    v = function (_) {
      if (!_) return m;
      if (
        typeof _.allowEmptyArrays < "u" &&
        typeof _.allowEmptyArrays != "boolean"
      )
        throw new TypeError(
          "`allowEmptyArrays` option can only be `true` or `false`, when provided"
        );
      if (
        typeof _.encodeDotInKeys < "u" &&
        typeof _.encodeDotInKeys != "boolean"
      )
        throw new TypeError(
          "`encodeDotInKeys` option can only be `true` or `false`, when provided"
        );
      if (
        _.encoder !== null &&
        typeof _.encoder < "u" &&
        typeof _.encoder != "function"
      )
        throw new TypeError("Encoder has to be a function.");
      var S = _.charset || m.charset;
      if (
        typeof _.charset < "u" &&
        _.charset !== "utf-8" &&
        _.charset !== "iso-8859-1"
      )
        throw new TypeError(
          "The charset option must be either utf-8, iso-8859-1, or undefined"
        );
      var T = t.default;
      if (typeof _.format < "u") {
        if (!s.call(t.formatters, _.format))
          throw new TypeError("Unknown format option provided.");
        T = _.format;
      }
      var j = t.formatters[T],
        E = m.filter;
      (typeof _.filter == "function" || i(_.filter)) && (E = _.filter);
      var A;
      if (
        (_.arrayFormat in n
          ? (A = _.arrayFormat)
          : "indices" in _
          ? (A = _.indices ? "indices" : "repeat")
          : (A = m.arrayFormat),
        "commaRoundTrip" in _ && typeof _.commaRoundTrip != "boolean")
      )
        throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
      var M =
        typeof _.allowDots > "u"
          ? _.encodeDotInKeys === !0
            ? !0
            : m.allowDots
          : !!_.allowDots;
      return {
        addQueryPrefix:
          typeof _.addQueryPrefix == "boolean"
            ? _.addQueryPrefix
            : m.addQueryPrefix,
        allowDots: M,
        allowEmptyArrays:
          typeof _.allowEmptyArrays == "boolean"
            ? !!_.allowEmptyArrays
            : m.allowEmptyArrays,
        arrayFormat: A,
        charset: S,
        charsetSentinel:
          typeof _.charsetSentinel == "boolean"
            ? _.charsetSentinel
            : m.charsetSentinel,
        commaRoundTrip: !!_.commaRoundTrip,
        delimiter: typeof _.delimiter > "u" ? m.delimiter : _.delimiter,
        encode: typeof _.encode == "boolean" ? _.encode : m.encode,
        encodeDotInKeys:
          typeof _.encodeDotInKeys == "boolean"
            ? _.encodeDotInKeys
            : m.encodeDotInKeys,
        encoder: typeof _.encoder == "function" ? _.encoder : m.encoder,
        encodeValuesOnly:
          typeof _.encodeValuesOnly == "boolean"
            ? _.encodeValuesOnly
            : m.encodeValuesOnly,
        filter: E,
        format: T,
        formatter: j,
        serializeDate:
          typeof _.serializeDate == "function"
            ? _.serializeDate
            : m.serializeDate,
        skipNulls: typeof _.skipNulls == "boolean" ? _.skipNulls : m.skipNulls,
        sort: typeof _.sort == "function" ? _.sort : null,
        strictNullHandling:
          typeof _.strictNullHandling == "boolean"
            ? _.strictNullHandling
            : m.strictNullHandling,
      };
    };
  return (
    (Af = function (w, _) {
      var S = w,
        T = v(_),
        j,
        E;
      typeof T.filter == "function"
        ? ((E = T.filter), (S = E("", S)))
        : i(T.filter) && ((E = T.filter), (j = E));
      var A = [];
      if (typeof S != "object" || S === null) return "";
      var M = n[T.arrayFormat],
        N = M === "comma" && T.commaRoundTrip;
      j || (j = Object.keys(S)), T.sort && j.sort(T.sort);
      for (var R = r(), O = 0; O < j.length; ++O) {
        var U = j[O],
          q = S[U];
        (T.skipNulls && q === null) ||
          c(
            A,
            x(
              q,
              U,
              M,
              N,
              T.allowEmptyArrays,
              T.strictNullHandling,
              T.skipNulls,
              T.encodeDotInKeys,
              T.encode ? T.encoder : null,
              T.filter,
              T.sort,
              T.allowDots,
              T.serializeDate,
              T.format,
              T.formatter,
              T.encodeValuesOnly,
              T.charset,
              R
            )
          );
      }
      var Q = A.join(T.delimiter),
        z = T.addQueryPrefix === !0 ? "?" : "";
      return (
        T.charsetSentinel &&
          (T.charset === "iso-8859-1"
            ? (z += "utf8=%26%2310003%3B&")
            : (z += "utf8=%E2%9C%93&")),
        Q.length > 0 ? z + Q : ""
      );
    }),
    Af
  );
}
var Mf, kv;
function tk() {
  if (kv) return Mf;
  kv = 1;
  var r = I1(),
    e = Object.prototype.hasOwnProperty,
    t = Array.isArray,
    s = {
      allowDots: !1,
      allowEmptyArrays: !1,
      allowPrototypes: !1,
      allowSparse: !1,
      arrayLimit: 20,
      charset: "utf-8",
      charsetSentinel: !1,
      comma: !1,
      decodeDotInKeys: !1,
      decoder: r.decode,
      delimiter: "&",
      depth: 5,
      duplicates: "combine",
      ignoreQueryPrefix: !1,
      interpretNumericEntities: !1,
      parameterLimit: 1e3,
      parseArrays: !0,
      plainObjects: !1,
      strictDepth: !1,
      strictNullHandling: !1,
      throwOnLimitExceeded: !1,
    },
    n = function (g) {
      return g.replace(/&#(\d+);/g, function (x, v) {
        return String.fromCharCode(parseInt(v, 10));
      });
    },
    i = function (g, x, v) {
      if (g && typeof g == "string" && x.comma && g.indexOf(",") > -1)
        return g.split(",");
      if (x.throwOnLimitExceeded && v >= x.arrayLimit)
        throw new RangeError(
          "Array limit exceeded. Only " +
            x.arrayLimit +
            " element" +
            (x.arrayLimit === 1 ? "" : "s") +
            " allowed in an array."
        );
      return g;
    },
    l = "utf8=%26%2310003%3B",
    c = "utf8=%E2%9C%93",
    d = function (x, v) {
      var w = { __proto__: null },
        _ = v.ignoreQueryPrefix ? x.replace(/^\?/, "") : x;
      _ = _.replace(/%5B/gi, "[").replace(/%5D/gi, "]");
      var S = v.parameterLimit === 1 / 0 ? void 0 : v.parameterLimit,
        T = _.split(v.delimiter, v.throwOnLimitExceeded ? S + 1 : S);
      if (v.throwOnLimitExceeded && T.length > S)
        throw new RangeError(
          "Parameter limit exceeded. Only " +
            S +
            " parameter" +
            (S === 1 ? "" : "s") +
            " allowed."
        );
      var j = -1,
        E,
        A = v.charset;
      if (v.charsetSentinel)
        for (E = 0; E < T.length; ++E)
          T[E].indexOf("utf8=") === 0 &&
            (T[E] === c ? (A = "utf-8") : T[E] === l && (A = "iso-8859-1"),
            (j = E),
            (E = T.length));
      for (E = 0; E < T.length; ++E)
        if (E !== j) {
          var M = T[E],
            N = M.indexOf("]="),
            R = N === -1 ? M.indexOf("=") : N + 1,
            O,
            U;
          R === -1
            ? ((O = v.decoder(M, s.decoder, A, "key")),
              (U = v.strictNullHandling ? null : ""))
            : ((O = v.decoder(M.slice(0, R), s.decoder, A, "key")),
              (U = r.maybeMap(
                i(M.slice(R + 1), v, t(w[O]) ? w[O].length : 0),
                function (Q) {
                  return v.decoder(Q, s.decoder, A, "value");
                }
              ))),
            U &&
              v.interpretNumericEntities &&
              A === "iso-8859-1" &&
              (U = n(String(U))),
            M.indexOf("[]=") > -1 && (U = t(U) ? [U] : U);
          var q = e.call(w, O);
          q && v.duplicates === "combine"
            ? (w[O] = r.combine(w[O], U))
            : (!q || v.duplicates === "last") && (w[O] = U);
        }
      return w;
    },
    f = function (g, x, v, w) {
      var _ = 0;
      if (g.length > 0 && g[g.length - 1] === "[]") {
        var S = g.slice(0, -1).join("");
        _ = Array.isArray(x) && x[S] ? x[S].length : 0;
      }
      for (var T = w ? x : i(x, v, _), j = g.length - 1; j >= 0; --j) {
        var E,
          A = g[j];
        if (A === "[]" && v.parseArrays)
          E =
            v.allowEmptyArrays &&
            (T === "" || (v.strictNullHandling && T === null))
              ? []
              : r.combine([], T);
        else {
          E = v.plainObjects ? { __proto__: null } : {};
          var M =
              A.charAt(0) === "[" && A.charAt(A.length - 1) === "]"
                ? A.slice(1, -1)
                : A,
            N = v.decodeDotInKeys ? M.replace(/%2E/g, ".") : M,
            R = parseInt(N, 10);
          !v.parseArrays && N === ""
            ? (E = { 0: T })
            : !isNaN(R) &&
              A !== N &&
              String(R) === N &&
              R >= 0 &&
              v.parseArrays &&
              R <= v.arrayLimit
            ? ((E = []), (E[R] = T))
            : N !== "__proto__" && (E[N] = T);
        }
        T = E;
      }
      return T;
    },
    m = function (x, v, w, _) {
      if (x) {
        var S = w.allowDots ? x.replace(/\.([^.[]+)/g, "[$1]") : x,
          T = /(\[[^[\]]*])/,
          j = /(\[[^[\]]*])/g,
          E = w.depth > 0 && T.exec(S),
          A = E ? S.slice(0, E.index) : S,
          M = [];
        if (A) {
          if (
            !w.plainObjects &&
            e.call(Object.prototype, A) &&
            !w.allowPrototypes
          )
            return;
          M.push(A);
        }
        for (
          var N = 0;
          w.depth > 0 && (E = j.exec(S)) !== null && N < w.depth;

        ) {
          if (
            ((N += 1),
            !w.plainObjects &&
              e.call(Object.prototype, E[1].slice(1, -1)) &&
              !w.allowPrototypes)
          )
            return;
          M.push(E[1]);
        }
        if (E) {
          if (w.strictDepth === !0)
            throw new RangeError(
              "Input depth exceeded depth option of " +
                w.depth +
                " and strictDepth is true"
            );
          M.push("[" + S.slice(E.index) + "]");
        }
        return f(M, v, w, _);
      }
    },
    h = function (x) {
      if (!x) return s;
      if (
        typeof x.allowEmptyArrays < "u" &&
        typeof x.allowEmptyArrays != "boolean"
      )
        throw new TypeError(
          "`allowEmptyArrays` option can only be `true` or `false`, when provided"
        );
      if (
        typeof x.decodeDotInKeys < "u" &&
        typeof x.decodeDotInKeys != "boolean"
      )
        throw new TypeError(
          "`decodeDotInKeys` option can only be `true` or `false`, when provided"
        );
      if (
        x.decoder !== null &&
        typeof x.decoder < "u" &&
        typeof x.decoder != "function"
      )
        throw new TypeError("Decoder has to be a function.");
      if (
        typeof x.charset < "u" &&
        x.charset !== "utf-8" &&
        x.charset !== "iso-8859-1"
      )
        throw new TypeError(
          "The charset option must be either utf-8, iso-8859-1, or undefined"
        );
      if (
        typeof x.throwOnLimitExceeded < "u" &&
        typeof x.throwOnLimitExceeded != "boolean"
      )
        throw new TypeError("`throwOnLimitExceeded` option must be a boolean");
      var v = typeof x.charset > "u" ? s.charset : x.charset,
        w = typeof x.duplicates > "u" ? s.duplicates : x.duplicates;
      if (w !== "combine" && w !== "first" && w !== "last")
        throw new TypeError(
          "The duplicates option must be either combine, first, or last"
        );
      var _ =
        typeof x.allowDots > "u"
          ? x.decodeDotInKeys === !0
            ? !0
            : s.allowDots
          : !!x.allowDots;
      return {
        allowDots: _,
        allowEmptyArrays:
          typeof x.allowEmptyArrays == "boolean"
            ? !!x.allowEmptyArrays
            : s.allowEmptyArrays,
        allowPrototypes:
          typeof x.allowPrototypes == "boolean"
            ? x.allowPrototypes
            : s.allowPrototypes,
        allowSparse:
          typeof x.allowSparse == "boolean" ? x.allowSparse : s.allowSparse,
        arrayLimit:
          typeof x.arrayLimit == "number" ? x.arrayLimit : s.arrayLimit,
        charset: v,
        charsetSentinel:
          typeof x.charsetSentinel == "boolean"
            ? x.charsetSentinel
            : s.charsetSentinel,
        comma: typeof x.comma == "boolean" ? x.comma : s.comma,
        decodeDotInKeys:
          typeof x.decodeDotInKeys == "boolean"
            ? x.decodeDotInKeys
            : s.decodeDotInKeys,
        decoder: typeof x.decoder == "function" ? x.decoder : s.decoder,
        delimiter:
          typeof x.delimiter == "string" || r.isRegExp(x.delimiter)
            ? x.delimiter
            : s.delimiter,
        depth:
          typeof x.depth == "number" || x.depth === !1 ? +x.depth : s.depth,
        duplicates: w,
        ignoreQueryPrefix: x.ignoreQueryPrefix === !0,
        interpretNumericEntities:
          typeof x.interpretNumericEntities == "boolean"
            ? x.interpretNumericEntities
            : s.interpretNumericEntities,
        parameterLimit:
          typeof x.parameterLimit == "number"
            ? x.parameterLimit
            : s.parameterLimit,
        parseArrays: x.parseArrays !== !1,
        plainObjects:
          typeof x.plainObjects == "boolean" ? x.plainObjects : s.plainObjects,
        strictDepth:
          typeof x.strictDepth == "boolean" ? !!x.strictDepth : s.strictDepth,
        strictNullHandling:
          typeof x.strictNullHandling == "boolean"
            ? x.strictNullHandling
            : s.strictNullHandling,
        throwOnLimitExceeded:
          typeof x.throwOnLimitExceeded == "boolean"
            ? x.throwOnLimitExceeded
            : !1,
      };
    };
  return (
    (Mf = function (g, x) {
      var v = h(x);
      if (g === "" || g === null || typeof g > "u")
        return v.plainObjects ? { __proto__: null } : {};
      for (
        var w = typeof g == "string" ? d(g, v) : g,
          _ = v.plainObjects ? { __proto__: null } : {},
          S = Object.keys(w),
          T = 0;
        T < S.length;
        ++T
      ) {
        var j = S[T],
          E = m(j, w[j], v, typeof g == "string");
        _ = r.merge(_, E, v);
      }
      return v.allowSparse === !0 ? _ : r.compact(_);
    }),
    Mf
  );
}
var Nf, Pv;
function rk() {
  if (Pv) return Nf;
  Pv = 1;
  var r = ek(),
    e = tk(),
    t = Zm();
  return (Nf = { formats: t, parse: e, stringify: r }), Nf;
}
var Av = rk();
function sk(r) {
  return typeof r == "symbol" || r instanceof Symbol;
}
function nk() {}
function ik(r) {
  return r == null || (typeof r != "object" && typeof r != "function");
}
function ak(r) {
  return ArrayBuffer.isView(r) && !(r instanceof DataView);
}
function em(r) {
  return Object.getOwnPropertySymbols(r).filter((e) =>
    Object.prototype.propertyIsEnumerable.call(r, e)
  );
}
function du(r) {
  return r == null
    ? r === void 0
      ? "[object Undefined]"
      : "[object Null]"
    : Object.prototype.toString.call(r);
}
const O1 = "[object RegExp]",
  L1 = "[object String]",
  D1 = "[object Number]",
  U1 = "[object Boolean]",
  tm = "[object Arguments]",
  z1 = "[object Symbol]",
  G1 = "[object Date]",
  $1 = "[object Map]",
  H1 = "[object Set]",
  W1 = "[object Array]",
  ok = "[object Function]",
  V1 = "[object ArrayBuffer]",
  ru = "[object Object]",
  lk = "[object Error]",
  q1 = "[object DataView]",
  X1 = "[object Uint8Array]",
  Y1 = "[object Uint8ClampedArray]",
  K1 = "[object Uint16Array]",
  Q1 = "[object Uint32Array]",
  ck = "[object BigUint64Array]",
  Z1 = "[object Int8Array]",
  J1 = "[object Int16Array]",
  e2 = "[object Int32Array]",
  uk = "[object BigInt64Array]",
  t2 = "[object Float32Array]",
  r2 = "[object Float64Array]";
function pa(r, e, t, s = new Map(), n = void 0) {
  const i = n?.(r, e, t, s);
  if (i != null) return i;
  if (ik(r)) return r;
  if (s.has(r)) return s.get(r);
  if (Array.isArray(r)) {
    const l = new Array(r.length);
    s.set(r, l);
    for (let c = 0; c < r.length; c++) l[c] = pa(r[c], c, t, s, n);
    return (
      Object.hasOwn(r, "index") && (l.index = r.index),
      Object.hasOwn(r, "input") && (l.input = r.input),
      l
    );
  }
  if (r instanceof Date) return new Date(r.getTime());
  if (r instanceof RegExp) {
    const l = new RegExp(r.source, r.flags);
    return (l.lastIndex = r.lastIndex), l;
  }
  if (r instanceof Map) {
    const l = new Map();
    s.set(r, l);
    for (const [c, d] of r) l.set(c, pa(d, c, t, s, n));
    return l;
  }
  if (r instanceof Set) {
    const l = new Set();
    s.set(r, l);
    for (const c of r) l.add(pa(c, void 0, t, s, n));
    return l;
  }
  if (typeof Buffer < "u" && Buffer.isBuffer(r)) return r.subarray();
  if (ak(r)) {
    const l = new (Object.getPrototypeOf(r).constructor)(r.length);
    s.set(r, l);
    for (let c = 0; c < r.length; c++) l[c] = pa(r[c], c, t, s, n);
    return l;
  }
  if (
    r instanceof ArrayBuffer ||
    (typeof SharedArrayBuffer < "u" && r instanceof SharedArrayBuffer)
  )
    return r.slice(0);
  if (r instanceof DataView) {
    const l = new DataView(r.buffer.slice(0), r.byteOffset, r.byteLength);
    return s.set(r, l), wo(l, r, t, s, n), l;
  }
  if (typeof File < "u" && r instanceof File) {
    const l = new File([r], r.name, { type: r.type });
    return s.set(r, l), wo(l, r, t, s, n), l;
  }
  if (r instanceof Blob) {
    const l = new Blob([r], { type: r.type });
    return s.set(r, l), wo(l, r, t, s, n), l;
  }
  if (r instanceof Error) {
    const l = new r.constructor();
    return (
      s.set(r, l),
      (l.message = r.message),
      (l.name = r.name),
      (l.stack = r.stack),
      (l.cause = r.cause),
      wo(l, r, t, s, n),
      l
    );
  }
  if (typeof r == "object" && dk(r)) {
    const l = Object.create(Object.getPrototypeOf(r));
    return s.set(r, l), wo(l, r, t, s, n), l;
  }
  return r;
}
function wo(r, e, t = r, s, n) {
  const i = [...Object.keys(e), ...em(e)];
  for (let l = 0; l < i.length; l++) {
    const c = i[l],
      d = Object.getOwnPropertyDescriptor(r, c);
    (d == null || d.writable) && (r[c] = pa(e[c], c, t, s, n));
  }
}
function dk(r) {
  switch (du(r)) {
    case tm:
    case W1:
    case V1:
    case q1:
    case U1:
    case G1:
    case t2:
    case r2:
    case Z1:
    case J1:
    case e2:
    case $1:
    case D1:
    case ru:
    case O1:
    case H1:
    case L1:
    case z1:
    case X1:
    case Y1:
    case K1:
    case Q1:
      return !0;
    default:
      return !1;
  }
}
function Ao(r) {
  return pa(r, void 0, r, new Map(), void 0);
}
function Mv(r) {
  if (!r || typeof r != "object") return !1;
  const e = Object.getPrototypeOf(r);
  return e === null ||
    e === Object.prototype ||
    Object.getPrototypeOf(e) === null
    ? Object.prototype.toString.call(r) === "[object Object]"
    : !1;
}
function hu(r) {
  return r === "__proto__";
}
function s2(r, e) {
  return r === e || (Number.isNaN(r) && Number.isNaN(e));
}
function hk(r, e, t) {
  return Mo(r, e, void 0, void 0, void 0, void 0, t);
}
function Mo(r, e, t, s, n, i, l) {
  const c = l(r, e, t, s, n, i);
  if (c !== void 0) return c;
  if (typeof r == typeof e)
    switch (typeof r) {
      case "bigint":
      case "string":
      case "boolean":
      case "symbol":
      case "undefined":
        return r === e;
      case "number":
        return r === e || Object.is(r, e);
      case "function":
        return r === e;
      case "object":
        return Uo(r, e, i, l);
    }
  return Uo(r, e, i, l);
}
function Uo(r, e, t, s) {
  if (Object.is(r, e)) return !0;
  let n = du(r),
    i = du(e);
  if ((n === tm && (n = ru), i === tm && (i = ru), n !== i)) return !1;
  switch (n) {
    case L1:
      return r.toString() === e.toString();
    case D1: {
      const d = r.valueOf(),
        f = e.valueOf();
      return s2(d, f);
    }
    case U1:
    case G1:
    case z1:
      return Object.is(r.valueOf(), e.valueOf());
    case O1:
      return r.source === e.source && r.flags === e.flags;
    case ok:
      return r === e;
  }
  t = t ?? new Map();
  const l = t.get(r),
    c = t.get(e);
  if (l != null && c != null) return l === e;
  t.set(r, e), t.set(e, r);
  try {
    switch (n) {
      case $1: {
        if (r.size !== e.size) return !1;
        for (const [d, f] of r.entries())
          if (!e.has(d) || !Mo(f, e.get(d), d, r, e, t, s)) return !1;
        return !0;
      }
      case H1: {
        if (r.size !== e.size) return !1;
        const d = Array.from(r.values()),
          f = Array.from(e.values());
        for (let m = 0; m < d.length; m++) {
          const h = d[m],
            g = f.findIndex((x) => Mo(h, x, void 0, r, e, t, s));
          if (g === -1) return !1;
          f.splice(g, 1);
        }
        return !0;
      }
      case W1:
      case X1:
      case Y1:
      case K1:
      case Q1:
      case ck:
      case Z1:
      case J1:
      case e2:
      case uk:
      case t2:
      case r2: {
        if (
          (typeof Buffer < "u" && Buffer.isBuffer(r) !== Buffer.isBuffer(e)) ||
          r.length !== e.length
        )
          return !1;
        for (let d = 0; d < r.length; d++)
          if (!Mo(r[d], e[d], d, r, e, t, s)) return !1;
        return !0;
      }
      case V1:
        return r.byteLength !== e.byteLength
          ? !1
          : Uo(new Uint8Array(r), new Uint8Array(e), t, s);
      case q1:
        return r.byteLength !== e.byteLength || r.byteOffset !== e.byteOffset
          ? !1
          : Uo(new Uint8Array(r), new Uint8Array(e), t, s);
      case lk:
        return r.name === e.name && r.message === e.message;
      case ru: {
        if (!(Uo(r.constructor, e.constructor, t, s) || (Mv(r) && Mv(e))))
          return !1;
        const f = [...Object.keys(r), ...em(r)],
          m = [...Object.keys(e), ...em(e)];
        if (f.length !== m.length) return !1;
        for (let h = 0; h < f.length; h++) {
          const g = f[h],
            x = r[g];
          if (!Object.hasOwn(e, g)) return !1;
          const v = e[g];
          if (!Mo(x, v, g, r, e, t, s)) return !1;
        }
        return !0;
      }
      default:
        return !1;
    }
  } finally {
    t.delete(r), t.delete(e);
  }
}
function fk(r, e) {
  return hk(r, e, nk);
}
const pk = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
};
function mk(r) {
  return r.replace(/[&<>"']/g, (e) => pk[e]);
}
function rm(r, e) {
  let t;
  return function (...s) {
    clearTimeout(t), (t = setTimeout(() => r.apply(this, s), e));
  };
}
function As(r, e) {
  return document.dispatchEvent(new CustomEvent(`inertia:${r}`, e));
}
var Nv = (r) => As("before", { cancelable: !0, detail: { visit: r } }),
  gk = (r) => As("error", { detail: { errors: r } }),
  xk = (r) => As("exception", { cancelable: !0, detail: { exception: r } }),
  yk = (r) => As("finish", { detail: { visit: r } }),
  vk = (r) => As("invalid", { cancelable: !0, detail: { response: r } }),
  zo = (r) => As("navigate", { detail: { page: r } }),
  _k = (r) => As("progress", { detail: { progress: r } }),
  bk = (r) => As("start", { detail: { visit: r } }),
  wk = (r) => As("success", { detail: { page: r } }),
  Sk = (r, e) =>
    As("prefetched", {
      detail: { fetchedAt: Date.now(), response: r.data, visit: e },
    }),
  Ck = (r) => As("prefetching", { detail: { visit: r } }),
  Er = class {
    static set(r, e) {
      typeof window < "u" &&
        window.sessionStorage.setItem(r, JSON.stringify(e));
    }
    static get(r) {
      if (typeof window < "u")
        return JSON.parse(window.sessionStorage.getItem(r) || "null");
    }
    static merge(r, e) {
      const t = this.get(r);
      t === null ? this.set(r, e) : this.set(r, { ...t, ...e });
    }
    static remove(r) {
      typeof window < "u" && window.sessionStorage.removeItem(r);
    }
    static removeNested(r, e) {
      const t = this.get(r);
      t !== null && (delete t[e], this.set(r, t));
    }
    static exists(r) {
      try {
        return this.get(r) !== null;
      } catch {
        return !1;
      }
    }
    static clear() {
      typeof window < "u" && window.sessionStorage.clear();
    }
  };
Er.locationVisitKey = "inertiaLocationVisit";
var Tk = async (r) => {
    if (typeof window > "u") throw new Error("Unable to encrypt history");
    const e = n2(),
      t = await i2(),
      s = await Mk(t);
    if (!s) throw new Error("Unable to encrypt history");
    return await jk(e, s, r);
  },
  va = { key: "historyKey", iv: "historyIv" },
  Ek = async (r) => {
    const e = n2(),
      t = await i2();
    if (!t) throw new Error("Unable to decrypt history");
    return await kk(e, t, r);
  },
  jk = async (r, e, t) => {
    if (typeof window > "u") throw new Error("Unable to encrypt history");
    if (typeof window.crypto.subtle > "u")
      return (
        console.warn(
          "Encryption is not supported in this environment. SSL is required."
        ),
        Promise.resolve(t)
      );
    const s = new TextEncoder(),
      n = JSON.stringify(t),
      i = new Uint8Array(n.length * 3),
      l = s.encodeInto(n, i);
    return window.crypto.subtle.encrypt(
      { name: "AES-GCM", iv: r },
      e,
      i.subarray(0, l.written)
    );
  },
  kk = async (r, e, t) => {
    if (typeof window.crypto.subtle > "u")
      return (
        console.warn(
          "Decryption is not supported in this environment. SSL is required."
        ),
        Promise.resolve(t)
      );
    const s = await window.crypto.subtle.decrypt(
      { name: "AES-GCM", iv: r },
      e,
      t
    );
    return JSON.parse(new TextDecoder().decode(s));
  },
  n2 = () => {
    const r = Er.get(va.iv);
    if (r) return new Uint8Array(r);
    const e = window.crypto.getRandomValues(new Uint8Array(12));
    return Er.set(va.iv, Array.from(e)), e;
  },
  Pk = async () =>
    typeof window.crypto.subtle > "u"
      ? (console.warn(
          "Encryption is not supported in this environment. SSL is required."
        ),
        Promise.resolve(null))
      : window.crypto.subtle.generateKey({ name: "AES-GCM", length: 256 }, !0, [
          "encrypt",
          "decrypt",
        ]),
  Ak = async (r) => {
    if (typeof window.crypto.subtle > "u")
      return (
        console.warn(
          "Encryption is not supported in this environment. SSL is required."
        ),
        Promise.resolve()
      );
    const e = await window.crypto.subtle.exportKey("raw", r);
    Er.set(va.key, Array.from(new Uint8Array(e)));
  },
  Mk = async (r) => {
    if (r) return r;
    const e = await Pk();
    return e ? (await Ak(e), e) : null;
  },
  i2 = async () => {
    const r = Er.get(va.key);
    return r
      ? await window.crypto.subtle.importKey(
          "raw",
          new Uint8Array(r),
          { name: "AES-GCM", length: 256 },
          !0,
          ["encrypt", "decrypt"]
        )
      : null;
  },
  Cs = class {
    static save() {
      lt.saveScrollPositions(
        Array.from(this.regions()).map((r) => ({
          top: r.scrollTop,
          left: r.scrollLeft,
        }))
      );
    }
    static regions() {
      return document.querySelectorAll("[scroll-region]");
    }
    static reset() {
      const r = typeof window < "u" ? window.location.hash : null;
      r || window.scrollTo(0, 0),
        this.regions().forEach((e) => {
          typeof e.scrollTo == "function"
            ? e.scrollTo(0, 0)
            : ((e.scrollTop = 0), (e.scrollLeft = 0));
        }),
        this.save(),
        r &&
          setTimeout(() => {
            const e = document.getElementById(r.slice(1));
            e ? e.scrollIntoView() : window.scrollTo(0, 0);
          });
    }
    static restore(r) {
      this.restoreDocument(),
        this.regions().forEach((e, t) => {
          const s = r[t];
          s &&
            (typeof e.scrollTo == "function"
              ? e.scrollTo(s.left, s.top)
              : ((e.scrollTop = s.top), (e.scrollLeft = s.left)));
        });
    }
    static restoreDocument() {
      const r = lt.getDocumentScrollPosition();
      typeof window < "u" && window.scrollTo(r.left, r.top);
    }
    static onScroll(r) {
      const e = r.target;
      typeof e.hasAttribute == "function" &&
        e.hasAttribute("scroll-region") &&
        this.save();
    }
    static onWindowScroll() {
      lt.saveDocumentScrollPosition({
        top: window.scrollY,
        left: window.scrollX,
      });
    }
  };
function sm(r) {
  return (
    r instanceof File ||
    r instanceof Blob ||
    (r instanceof FileList && r.length > 0) ||
    (r instanceof FormData && Array.from(r.values()).some((e) => sm(e))) ||
    (typeof r == "object" && r !== null && Object.values(r).some((e) => sm(e)))
  );
}
var Rv = (r) => r instanceof FormData;
function a2(r, e = new FormData(), t = null) {
  r = r || {};
  for (const s in r)
    Object.prototype.hasOwnProperty.call(r, s) && l2(e, o2(t, s), r[s]);
  return e;
}
function o2(r, e) {
  return r ? r + "[" + e + "]" : e;
}
function l2(r, e, t) {
  if (Array.isArray(t))
    return Array.from(t.keys()).forEach((s) =>
      l2(r, o2(e, s.toString()), t[s])
    );
  if (t instanceof Date) return r.append(e, t.toISOString());
  if (t instanceof File) return r.append(e, t, t.name);
  if (t instanceof Blob) return r.append(e, t);
  if (typeof t == "boolean") return r.append(e, t ? "1" : "0");
  if (typeof t == "string") return r.append(e, t);
  if (typeof t == "number") return r.append(e, `${t}`);
  if (t == null) return r.append(e, "");
  a2(t, r, e);
}
function Gn(r) {
  return new URL(
    r.toString(),
    typeof window > "u" ? void 0 : window.location.toString()
  );
}
var Nk = (r, e, t, s, n) => {
  let i = typeof r == "string" ? Gn(r) : r;
  if (((sm(e) || s) && !Rv(e) && (e = a2(e)), Rv(e))) return [i, e];
  const [l, c] = c2(t, i, e, n);
  return [Gn(l), c];
};
function c2(r, e, t, s = "brackets") {
  const n = /^[a-z][a-z0-9+.-]*:\/\//i.test(e.toString()),
    i = n || e.toString().startsWith("/"),
    l = !i && !e.toString().startsWith("#") && !e.toString().startsWith("?"),
    c = /^[.]{1,2}([/]|$)/.test(e.toString()),
    d = e.toString().includes("?") || (r === "get" && Object.keys(t).length),
    f = e.toString().includes("#"),
    m = new URL(
      e.toString(),
      typeof window > "u" ? "http://localhost" : window.location.toString()
    );
  if (r === "get" && Object.keys(t).length) {
    const h = { ignoreQueryPrefix: !0, parseArrays: !1 };
    (m.search = Av.stringify(
      { ...Av.parse(m.search, h), ...t },
      { encodeValuesOnly: !0, arrayFormat: s }
    )),
      (t = {});
  }
  return [
    [
      n ? `${m.protocol}//${m.host}` : "",
      i ? m.pathname : "",
      l ? m.pathname.substring(c ? 0 : 1) : "",
      d ? m.search : "",
      f ? m.hash : "",
    ].join(""),
    t,
  ];
}
function fu(r) {
  return (r = new URL(r.href)), (r.hash = ""), r;
}
var Bv = (r, e) => {
    r.hash && !e.hash && fu(r).href === e.href && (e.hash = r.hash);
  },
  nm = (r, e) => fu(r).href === fu(e).href,
  Rk = class {
    constructor() {
      (this.componentId = {}),
        (this.listeners = []),
        (this.isFirstPageLoad = !0),
        (this.cleared = !1);
    }
    init({ initialPage: r, swapComponent: e, resolveComponent: t }) {
      return (
        (this.page = r),
        (this.swapComponent = e),
        (this.resolveComponent = t),
        this
      );
    }
    set(
      r,
      { replace: e = !1, preserveScroll: t = !1, preserveState: s = !1 } = {}
    ) {
      this.componentId = {};
      const n = this.componentId;
      return (
        r.clearHistory && lt.clear(),
        this.resolve(r.component).then((i) => {
          if (n !== this.componentId) return;
          r.rememberedState ?? (r.rememberedState = {});
          const l = typeof window < "u" ? window.location : new URL(r.url);
          return (
            (e = e || nm(Gn(r.url), l)),
            new Promise((c) => {
              e
                ? lt.replaceState(r, () => c(null))
                : lt.pushState(r, () => c(null));
            }).then(() => {
              const c = !this.isTheSame(r);
              return (
                (this.page = r),
                (this.cleared = !1),
                c && this.fireEventsFor("newComponent"),
                this.isFirstPageLoad && this.fireEventsFor("firstLoad"),
                (this.isFirstPageLoad = !1),
                this.swap({ component: i, page: r, preserveState: s }).then(
                  () => {
                    t || Cs.reset(),
                      Ti.fireInternalEvent("loadDeferredProps"),
                      e || zo(r);
                  }
                )
              );
            })
          );
        })
      );
    }
    setQuietly(r, { preserveState: e = !1 } = {}) {
      return this.resolve(r.component).then(
        (t) => (
          (this.page = r),
          (this.cleared = !1),
          lt.setCurrent(r),
          this.swap({ component: t, page: r, preserveState: e })
        )
      );
    }
    clear() {
      this.cleared = !0;
    }
    isCleared() {
      return this.cleared;
    }
    get() {
      return this.page;
    }
    merge(r) {
      this.page = { ...this.page, ...r };
    }
    setUrlHash(r) {
      this.page.url.includes(r) || (this.page.url += r);
    }
    remember(r) {
      this.page.rememberedState = r;
    }
    swap({ component: r, page: e, preserveState: t }) {
      return this.swapComponent({ component: r, page: e, preserveState: t });
    }
    resolve(r) {
      return Promise.resolve(this.resolveComponent(r));
    }
    isTheSame(r) {
      return this.page.component === r.component;
    }
    on(r, e) {
      return (
        this.listeners.push({ event: r, callback: e }),
        () => {
          this.listeners = this.listeners.filter(
            (t) => t.event !== r && t.callback !== e
          );
        }
      );
    }
    fireEventsFor(r) {
      this.listeners.filter((e) => e.event === r).forEach((e) => e.callback());
    }
  },
  Le = new Rk(),
  u2 = class {
    constructor() {
      (this.items = []), (this.processingPromise = null);
    }
    add(r) {
      return this.items.push(r), this.process();
    }
    process() {
      return (
        this.processingPromise ??
          (this.processingPromise = this.processNext().then(() => {
            this.processingPromise = null;
          })),
        this.processingPromise
      );
    }
    processNext() {
      const r = this.items.shift();
      return r
        ? Promise.resolve(r()).then(() => this.processNext())
        : Promise.resolve();
    }
  },
  No = typeof window > "u",
  So = new u2(),
  Fv = !No && /CriOS/.test(window.navigator.userAgent),
  Bk = class {
    constructor() {
      (this.rememberedState = "rememberedState"),
        (this.scrollRegions = "scrollRegions"),
        (this.preserveUrl = !1),
        (this.current = {}),
        (this.initialState = null);
    }
    remember(r, e) {
      this.replaceState({
        ...Le.get(),
        rememberedState: { ...(Le.get()?.rememberedState ?? {}), [e]: r },
      });
    }
    restore(r) {
      if (!No)
        return this.current[this.rememberedState]
          ? this.current[this.rememberedState]?.[r]
          : this.initialState?.[this.rememberedState]?.[r];
    }
    pushState(r, e = null) {
      if (!No) {
        if (this.preserveUrl) {
          e && e();
          return;
        }
        (this.current = r),
          So.add(() =>
            this.getPageData(r).then((t) => {
              const s = () => {
                this.doPushState({ page: t }, r.url), e && e();
              };
              Fv ? setTimeout(s) : s();
            })
          );
      }
    }
    getPageData(r) {
      return new Promise((e) => (r.encryptHistory ? Tk(r).then(e) : e(r)));
    }
    processQueue() {
      return So.process();
    }
    decrypt(r = null) {
      if (No) return Promise.resolve(r ?? Le.get());
      const e = r ?? window.history.state?.page;
      return this.decryptPageData(e).then((t) => {
        if (!t) throw new Error("Unable to decrypt history");
        return (
          this.initialState === null
            ? (this.initialState = t ?? void 0)
            : (this.current = t ?? {}),
          t
        );
      });
    }
    decryptPageData(r) {
      return r instanceof ArrayBuffer ? Ek(r) : Promise.resolve(r);
    }
    saveScrollPositions(r) {
      So.add(() =>
        Promise.resolve().then(() => {
          window.history.state?.page &&
            this.doReplaceState({
              page: window.history.state.page,
              scrollRegions: r,
            });
        })
      );
    }
    saveDocumentScrollPosition(r) {
      So.add(() =>
        Promise.resolve().then(() => {
          window.history.state?.page &&
            this.doReplaceState({
              page: window.history.state.page,
              documentScrollPosition: r,
            });
        })
      );
    }
    getScrollRegions() {
      return window.history.state?.scrollRegions || [];
    }
    getDocumentScrollPosition() {
      return (
        window.history.state?.documentScrollPosition || { top: 0, left: 0 }
      );
    }
    replaceState(r, e = null) {
      if ((Le.merge(r), !No)) {
        if (this.preserveUrl) {
          e && e();
          return;
        }
        (this.current = r),
          So.add(() =>
            this.getPageData(r).then((t) => {
              const s = () => {
                this.doReplaceState({ page: t }, r.url), e && e();
              };
              Fv ? setTimeout(s) : s();
            })
          );
      }
    }
    doReplaceState(r, e) {
      window.history.replaceState(
        {
          ...r,
          scrollRegions: r.scrollRegions ?? window.history.state?.scrollRegions,
          documentScrollPosition:
            r.documentScrollPosition ??
            window.history.state?.documentScrollPosition,
        },
        "",
        e
      );
    }
    doPushState(r, e) {
      window.history.pushState(r, "", e);
    }
    getState(r, e) {
      return this.current?.[r] ?? e;
    }
    deleteState(r) {
      this.current[r] !== void 0 &&
        (delete this.current[r], this.replaceState(this.current));
    }
    hasAnyState() {
      return !!this.getAllState();
    }
    clear() {
      Er.remove(va.key), Er.remove(va.iv);
    }
    setCurrent(r) {
      this.current = r;
    }
    isValidState(r) {
      return !!r.page;
    }
    getAllState() {
      return this.current;
    }
  };
typeof window < "u" &&
  window.history.scrollRestoration &&
  (window.history.scrollRestoration = "manual");
var lt = new Bk(),
  Fk = class {
    constructor() {
      this.internalListeners = [];
    }
    init() {
      typeof window < "u" &&
        (window.addEventListener(
          "popstate",
          this.handlePopstateEvent.bind(this)
        ),
        window.addEventListener(
          "scroll",
          rm(Cs.onWindowScroll.bind(Cs), 100),
          !0
        )),
        typeof document < "u" &&
          document.addEventListener(
            "scroll",
            rm(Cs.onScroll.bind(Cs), 100),
            !0
          );
    }
    onGlobalEvent(r, e) {
      const t = (s) => {
        const n = e(s);
        s.cancelable && !s.defaultPrevented && n === !1 && s.preventDefault();
      };
      return this.registerListener(`inertia:${r}`, t);
    }
    on(r, e) {
      return (
        this.internalListeners.push({ event: r, listener: e }),
        () => {
          this.internalListeners = this.internalListeners.filter(
            (t) => t.listener !== e
          );
        }
      );
    }
    onMissingHistoryItem() {
      Le.clear(), this.fireInternalEvent("missingHistoryItem");
    }
    fireInternalEvent(r) {
      this.internalListeners
        .filter((e) => e.event === r)
        .forEach((e) => e.listener());
    }
    registerListener(r, e) {
      return (
        document.addEventListener(r, e),
        () => document.removeEventListener(r, e)
      );
    }
    handlePopstateEvent(r) {
      const e = r.state || null;
      if (e === null) {
        const t = Gn(Le.get().url);
        (t.hash = window.location.hash),
          lt.replaceState({ ...Le.get(), url: t.href }),
          Cs.reset();
        return;
      }
      if (!lt.isValidState(e)) return this.onMissingHistoryItem();
      lt.decrypt(e.page)
        .then((t) => {
          if (Le.get().version !== t.version) {
            this.onMissingHistoryItem();
            return;
          }
          os.cancelAll(),
            Le.setQuietly(t, { preserveState: !1 }).then(() => {
              window.requestAnimationFrame(() => {
                Cs.restore(lt.getScrollRegions());
              }),
                zo(Le.get());
            });
        })
        .catch(() => {
          this.onMissingHistoryItem();
        });
    }
  },
  Ti = new Fk(),
  Ik = class {
    constructor() {
      this.type = this.resolveType();
    }
    resolveType() {
      return typeof window > "u"
        ? "navigate"
        : window.performance &&
          window.performance.getEntriesByType &&
          window.performance.getEntriesByType("navigation").length > 0
        ? window.performance.getEntriesByType("navigation")[0].type
        : "navigate";
    }
    get() {
      return this.type;
    }
    isBackForward() {
      return this.type === "back_forward";
    }
    isReload() {
      return this.type === "reload";
    }
  },
  Rf = new Ik(),
  Ok = class {
    static handle() {
      this.clearRememberedStateOnReload(),
        [this.handleBackForward, this.handleLocation, this.handleDefault].find(
          (e) => e.bind(this)()
        );
    }
    static clearRememberedStateOnReload() {
      Rf.isReload() && lt.deleteState(lt.rememberedState);
    }
    static handleBackForward() {
      if (!Rf.isBackForward() || !lt.hasAnyState()) return !1;
      const r = lt.getScrollRegions();
      return (
        lt
          .decrypt()
          .then((e) => {
            Le.set(e, { preserveScroll: !0, preserveState: !0 }).then(() => {
              Cs.restore(r), zo(Le.get());
            });
          })
          .catch(() => {
            Ti.onMissingHistoryItem();
          }),
        !0
      );
    }
    static handleLocation() {
      if (!Er.exists(Er.locationVisitKey)) return !1;
      const r = Er.get(Er.locationVisitKey) || {};
      return (
        Er.remove(Er.locationVisitKey),
        typeof window < "u" && Le.setUrlHash(window.location.hash),
        lt
          .decrypt(Le.get())
          .then(() => {
            const e = lt.getState(lt.rememberedState, {}),
              t = lt.getScrollRegions();
            Le.remember(e),
              Le.set(Le.get(), {
                preserveScroll: r.preserveScroll,
                preserveState: !0,
              }).then(() => {
                r.preserveScroll && Cs.restore(t), zo(Le.get());
              });
          })
          .catch(() => {
            Ti.onMissingHistoryItem();
          }),
        !0
      );
    }
    static handleDefault() {
      typeof window < "u" && Le.setUrlHash(window.location.hash),
        Le.set(Le.get(), { preserveScroll: !0, preserveState: !0 }).then(() => {
          Rf.isReload() && Cs.restore(lt.getScrollRegions()), zo(Le.get());
        });
    }
  },
  Lk = class {
    constructor(r, e, t) {
      (this.id = null),
        (this.throttle = !1),
        (this.keepAlive = !1),
        (this.cbCount = 0),
        (this.keepAlive = t.keepAlive ?? !1),
        (this.cb = e),
        (this.interval = r),
        (t.autoStart ?? !0) && this.start();
    }
    stop() {
      this.id && clearInterval(this.id);
    }
    start() {
      typeof window > "u" ||
        (this.stop(),
        (this.id = window.setInterval(() => {
          (!this.throttle || this.cbCount % 10 === 0) && this.cb(),
            this.throttle && this.cbCount++;
        }, this.interval)));
    }
    isInBackground(r) {
      (this.throttle = this.keepAlive ? !1 : r),
        this.throttle && (this.cbCount = 0);
    }
  },
  Dk = class {
    constructor() {
      (this.polls = []), this.setupVisibilityListener();
    }
    add(r, e, t) {
      const s = new Lk(r, e, t);
      return (
        this.polls.push(s), { stop: () => s.stop(), start: () => s.start() }
      );
    }
    clear() {
      this.polls.forEach((r) => r.stop()), (this.polls = []);
    }
    setupVisibilityListener() {
      typeof document > "u" ||
        document.addEventListener(
          "visibilitychange",
          () => {
            this.polls.forEach((r) => r.isInBackground(document.hidden));
          },
          !1
        );
    }
  },
  Uk = new Dk(),
  d2 = (r, e, t) => {
    if (r === e) return !0;
    for (const s in r)
      if (!t.includes(s) && r[s] !== e[s] && !zk(r[s], e[s])) return !1;
    return !0;
  },
  zk = (r, e) => {
    switch (typeof r) {
      case "object":
        return d2(r, e, []);
      case "function":
        return r.toString() === e.toString();
      default:
        return r === e;
    }
  },
  Gk = { ms: 1, s: 1e3, m: 1e3 * 60, h: 1e3 * 60 * 60, d: 1e3 * 60 * 60 * 24 },
  Iv = (r) => {
    if (typeof r == "number") return r;
    for (const [e, t] of Object.entries(Gk))
      if (r.endsWith(e)) return parseFloat(r) * t;
    return parseInt(r);
  },
  $k = class {
    constructor() {
      (this.cached = []),
        (this.inFlightRequests = []),
        (this.removalTimers = []),
        (this.currentUseId = null);
    }
    add(r, e, { cacheFor: t }) {
      if (this.findInFlight(r)) return Promise.resolve();
      const n = this.findCached(r);
      if (!r.fresh && n && n.staleTimestamp > Date.now())
        return Promise.resolve();
      const [i, l] = this.extractStaleValues(t),
        c = new Promise((d, f) => {
          e({
            ...r,
            onCancel: () => {
              this.remove(r), r.onCancel(), f();
            },
            onError: (m) => {
              this.remove(r), r.onError(m), f();
            },
            onPrefetching(m) {
              r.onPrefetching(m);
            },
            onPrefetched(m, h) {
              r.onPrefetched(m, h);
            },
            onPrefetchResponse(m) {
              d(m);
            },
          });
        }).then(
          (d) => (
            this.remove(r),
            this.cached.push({
              params: { ...r },
              staleTimestamp: Date.now() + i,
              response: c,
              singleUse: l === 0,
              timestamp: Date.now(),
              inFlight: !1,
            }),
            this.scheduleForRemoval(r, l),
            (this.inFlightRequests = this.inFlightRequests.filter(
              (f) => !this.paramsAreEqual(f.params, r)
            )),
            d.handlePrefetch(),
            d
          )
        );
      return (
        this.inFlightRequests.push({
          params: { ...r },
          response: c,
          staleTimestamp: null,
          inFlight: !0,
        }),
        c
      );
    }
    removeAll() {
      (this.cached = []),
        this.removalTimers.forEach((r) => {
          clearTimeout(r.timer);
        }),
        (this.removalTimers = []);
    }
    remove(r) {
      (this.cached = this.cached.filter(
        (e) => !this.paramsAreEqual(e.params, r)
      )),
        this.clearTimer(r);
    }
    extractStaleValues(r) {
      const [e, t] = this.cacheForToStaleAndExpires(r);
      return [Iv(e), Iv(t)];
    }
    cacheForToStaleAndExpires(r) {
      if (!Array.isArray(r)) return [r, r];
      switch (r.length) {
        case 0:
          return [0, 0];
        case 1:
          return [r[0], r[0]];
        default:
          return [r[0], r[1]];
      }
    }
    clearTimer(r) {
      const e = this.removalTimers.find((t) =>
        this.paramsAreEqual(t.params, r)
      );
      e &&
        (clearTimeout(e.timer),
        (this.removalTimers = this.removalTimers.filter((t) => t !== e)));
    }
    scheduleForRemoval(r, e) {
      if (!(typeof window > "u") && (this.clearTimer(r), e > 0)) {
        const t = window.setTimeout(() => this.remove(r), e);
        this.removalTimers.push({ params: r, timer: t });
      }
    }
    get(r) {
      return this.findCached(r) || this.findInFlight(r);
    }
    use(r, e) {
      const t = `${e.url.pathname}-${Date.now()}-${Math.random()
        .toString(36)
        .substring(7)}`;
      return (
        (this.currentUseId = t),
        r.response.then((s) => {
          if (this.currentUseId === t)
            return (
              s.mergeParams({ ...e, onPrefetched: () => {} }),
              this.removeSingleUseItems(e),
              s.handle()
            );
        })
      );
    }
    removeSingleUseItems(r) {
      this.cached = this.cached.filter((e) =>
        this.paramsAreEqual(e.params, r) ? !e.singleUse : !0
      );
    }
    findCached(r) {
      return this.cached.find((e) => this.paramsAreEqual(e.params, r)) || null;
    }
    findInFlight(r) {
      return (
        this.inFlightRequests.find((e) => this.paramsAreEqual(e.params, r)) ||
        null
      );
    }
    withoutPurposePrefetchHeader(r) {
      const e = Ao(r);
      return e.headers.Purpose === "prefetch" && delete e.headers.Purpose, e;
    }
    paramsAreEqual(r, e) {
      return d2(
        this.withoutPurposePrefetchHeader(r),
        this.withoutPurposePrefetchHeader(e),
        [
          "showProgress",
          "replace",
          "prefetch",
          "onBefore",
          "onStart",
          "onProgress",
          "onFinish",
          "onCancel",
          "onSuccess",
          "onError",
          "onPrefetched",
          "onCancelToken",
          "onPrefetching",
          "async",
        ]
      );
    }
  },
  hi = new $k(),
  Hk = class h2 {
    constructor(e) {
      if (((this.callbacks = []), !e.prefetch)) this.params = e;
      else {
        const t = {
          onBefore: this.wrapCallback(e, "onBefore"),
          onStart: this.wrapCallback(e, "onStart"),
          onProgress: this.wrapCallback(e, "onProgress"),
          onFinish: this.wrapCallback(e, "onFinish"),
          onCancel: this.wrapCallback(e, "onCancel"),
          onSuccess: this.wrapCallback(e, "onSuccess"),
          onError: this.wrapCallback(e, "onError"),
          onCancelToken: this.wrapCallback(e, "onCancelToken"),
          onPrefetched: this.wrapCallback(e, "onPrefetched"),
          onPrefetching: this.wrapCallback(e, "onPrefetching"),
        };
        this.params = {
          ...e,
          ...t,
          onPrefetchResponse: e.onPrefetchResponse || (() => {}),
        };
      }
    }
    static create(e) {
      return new h2(e);
    }
    data() {
      return this.params.method === "get" ? null : this.params.data;
    }
    queryParams() {
      return this.params.method === "get" ? this.params.data : {};
    }
    isPartial() {
      return (
        this.params.only.length > 0 ||
        this.params.except.length > 0 ||
        this.params.reset.length > 0
      );
    }
    onCancelToken(e) {
      this.params.onCancelToken({ cancel: e });
    }
    markAsFinished() {
      (this.params.completed = !0),
        (this.params.cancelled = !1),
        (this.params.interrupted = !1);
    }
    markAsCancelled({ cancelled: e = !0, interrupted: t = !1 }) {
      this.params.onCancel(),
        (this.params.completed = !1),
        (this.params.cancelled = e),
        (this.params.interrupted = t);
    }
    wasCancelledAtAll() {
      return this.params.cancelled || this.params.interrupted;
    }
    onFinish() {
      this.params.onFinish(this.params);
    }
    onStart() {
      this.params.onStart(this.params);
    }
    onPrefetching() {
      this.params.onPrefetching(this.params);
    }
    onPrefetchResponse(e) {
      this.params.onPrefetchResponse && this.params.onPrefetchResponse(e);
    }
    all() {
      return this.params;
    }
    headers() {
      const e = { ...this.params.headers };
      this.isPartial() &&
        (e["X-Inertia-Partial-Component"] = Le.get().component);
      const t = this.params.only.concat(this.params.reset);
      return (
        t.length > 0 && (e["X-Inertia-Partial-Data"] = t.join(",")),
        this.params.except.length > 0 &&
          (e["X-Inertia-Partial-Except"] = this.params.except.join(",")),
        this.params.reset.length > 0 &&
          (e["X-Inertia-Reset"] = this.params.reset.join(",")),
        this.params.errorBag &&
          this.params.errorBag.length > 0 &&
          (e["X-Inertia-Error-Bag"] = this.params.errorBag),
        e
      );
    }
    setPreserveOptions(e) {
      (this.params.preserveScroll = this.resolvePreserveOption(
        this.params.preserveScroll,
        e
      )),
        (this.params.preserveState = this.resolvePreserveOption(
          this.params.preserveState,
          e
        ));
    }
    runCallbacks() {
      this.callbacks.forEach(({ name: e, args: t }) => {
        this.params[e](...t);
      });
    }
    merge(e) {
      this.params = { ...this.params, ...e };
    }
    wrapCallback(e, t) {
      return (...s) => {
        this.recordCallback(t, s), e[t](...s);
      };
    }
    recordCallback(e, t) {
      this.callbacks.push({ name: e, args: t });
    }
    resolvePreserveOption(e, t) {
      return typeof e == "function"
        ? e(t)
        : e === "errors"
        ? Object.keys(t.props.errors || {}).length > 0
        : e;
    }
  },
  Wk = {
    modal: null,
    listener: null,
    show(r) {
      typeof r == "object" &&
        (r = `All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(
          r
        )}`);
      const e = document.createElement("html");
      (e.innerHTML = r),
        e
          .querySelectorAll("a")
          .forEach((s) => s.setAttribute("target", "_top")),
        (this.modal = document.createElement("div")),
        (this.modal.style.position = "fixed"),
        (this.modal.style.width = "100vw"),
        (this.modal.style.height = "100vh"),
        (this.modal.style.padding = "50px"),
        (this.modal.style.boxSizing = "border-box"),
        (this.modal.style.backgroundColor = "rgba(0, 0, 0, .6)"),
        (this.modal.style.zIndex = 2e5),
        this.modal.addEventListener("click", () => this.hide());
      const t = document.createElement("iframe");
      if (
        ((t.style.backgroundColor = "white"),
        (t.style.borderRadius = "5px"),
        (t.style.width = "100%"),
        (t.style.height = "100%"),
        this.modal.appendChild(t),
        document.body.prepend(this.modal),
        (document.body.style.overflow = "hidden"),
        !t.contentWindow)
      )
        throw new Error("iframe not yet ready.");
      t.contentWindow.document.open(),
        t.contentWindow.document.write(e.outerHTML),
        t.contentWindow.document.close(),
        (this.listener = this.hideOnEscape.bind(this)),
        document.addEventListener("keydown", this.listener);
    },
    hide() {
      (this.modal.outerHTML = ""),
        (this.modal = null),
        (document.body.style.overflow = "visible"),
        document.removeEventListener("keydown", this.listener);
    },
    hideOnEscape(r) {
      r.keyCode === 27 && this.hide();
    },
  },
  Vk = new u2(),
  Ov = class f2 {
    constructor(e, t, s) {
      (this.requestParams = e), (this.response = t), (this.originatingPage = s);
    }
    static create(e, t, s) {
      return new f2(e, t, s);
    }
    async handlePrefetch() {
      nm(this.requestParams.all().url, window.location) && this.handle();
    }
    async handle() {
      return Vk.add(() => this.process());
    }
    async process() {
      if (this.requestParams.all().prefetch)
        return (
          (this.requestParams.all().prefetch = !1),
          this.requestParams
            .all()
            .onPrefetched(this.response, this.requestParams.all()),
          Sk(this.response, this.requestParams.all()),
          Promise.resolve()
        );
      if ((this.requestParams.runCallbacks(), !this.isInertiaResponse()))
        return this.handleNonInertiaResponse();
      await lt.processQueue(),
        (lt.preserveUrl = this.requestParams.all().preserveUrl),
        await this.setPage();
      const e = Le.get().props.errors || {};
      if (Object.keys(e).length > 0) {
        const t = this.getScopedErrors(e);
        return gk(t), this.requestParams.all().onError(t);
      }
      wk(Le.get()),
        await this.requestParams.all().onSuccess(Le.get()),
        (lt.preserveUrl = !1);
    }
    mergeParams(e) {
      this.requestParams.merge(e);
    }
    async handleNonInertiaResponse() {
      if (this.isLocationVisit()) {
        const t = Gn(this.getHeader("x-inertia-location"));
        return Bv(this.requestParams.all().url, t), this.locationVisit(t);
      }
      const e = {
        ...this.response,
        data: this.getDataFromResponse(this.response.data),
      };
      if (vk(e)) return Wk.show(e.data);
    }
    isInertiaResponse() {
      return this.hasHeader("x-inertia");
    }
    hasStatus(e) {
      return this.response.status === e;
    }
    getHeader(e) {
      return this.response.headers[e];
    }
    hasHeader(e) {
      return this.getHeader(e) !== void 0;
    }
    isLocationVisit() {
      return this.hasStatus(409) && this.hasHeader("x-inertia-location");
    }
    locationVisit(e) {
      try {
        if (
          (Er.set(Er.locationVisitKey, {
            preserveScroll: this.requestParams.all().preserveScroll === !0,
          }),
          typeof window > "u")
        )
          return;
        nm(window.location, e)
          ? window.location.reload()
          : (window.location.href = e.href);
      } catch {
        return !1;
      }
    }
    async setPage() {
      const e = this.getDataFromResponse(this.response.data);
      return this.shouldSetPage(e)
        ? (this.mergeProps(e),
          await this.setRememberedState(e),
          this.requestParams.setPreserveOptions(e),
          (e.url = lt.preserveUrl ? Le.get().url : this.pageUrl(e)),
          Le.set(e, {
            replace: this.requestParams.all().replace,
            preserveScroll: this.requestParams.all().preserveScroll,
            preserveState: this.requestParams.all().preserveState,
          }))
        : Promise.resolve();
    }
    getDataFromResponse(e) {
      if (typeof e != "string") return e;
      try {
        return JSON.parse(e);
      } catch {
        return e;
      }
    }
    shouldSetPage(e) {
      if (
        !this.requestParams.all().async ||
        this.originatingPage.component !== e.component
      )
        return !0;
      if (this.originatingPage.component !== Le.get().component) return !1;
      const t = Gn(this.originatingPage.url),
        s = Gn(Le.get().url);
      return t.origin === s.origin && t.pathname === s.pathname;
    }
    pageUrl(e) {
      const t = Gn(e.url);
      return (
        Bv(this.requestParams.all().url, t), t.pathname + t.search + t.hash
      );
    }
    mergeProps(e) {
      if (!this.requestParams.isPartial() || e.component !== Le.get().component)
        return;
      const t = e.mergeProps || [],
        s = e.deepMergeProps || [],
        n = e.matchPropsOn || [];
      t.forEach((i) => {
        const l = e.props[i];
        Array.isArray(l)
          ? (e.props[i] = this.mergeOrMatchItems(
              Le.get().props[i] || [],
              l,
              i,
              n
            ))
          : typeof l == "object" &&
            l !== null &&
            (e.props[i] = { ...(Le.get().props[i] || []), ...l });
      }),
        s.forEach((i) => {
          const l = e.props[i],
            c = Le.get().props[i],
            d = (f, m, h) =>
              Array.isArray(m)
                ? this.mergeOrMatchItems(f, m, h, n)
                : typeof m == "object" && m !== null
                ? Object.keys(m).reduce(
                    (g, x) => (
                      (g[x] = d(f ? f[x] : void 0, m[x], `${h}.${x}`)), g
                    ),
                    { ...f }
                  )
                : m;
          e.props[i] = d(c, l, i);
        }),
        (e.props = { ...Le.get().props, ...e.props });
    }
    mergeOrMatchItems(e, t, s, n) {
      const i = n.find((f) => f.split(".").slice(0, -1).join(".") === s);
      if (!i) return [...(Array.isArray(e) ? e : []), ...t];
      const l = i.split(".").pop() || "",
        c = Array.isArray(e) ? e : [],
        d = new Map();
      return (
        c.forEach((f) => {
          f && typeof f == "object" && l in f
            ? d.set(f[l], f)
            : d.set(Symbol(), f);
        }),
        t.forEach((f) => {
          f && typeof f == "object" && l in f
            ? d.set(f[l], f)
            : d.set(Symbol(), f);
        }),
        Array.from(d.values())
      );
    }
    async setRememberedState(e) {
      const t = await lt.getState(lt.rememberedState, {});
      this.requestParams.all().preserveState &&
        t &&
        e.component === Le.get().component &&
        (e.rememberedState = t);
    }
    getScopedErrors(e) {
      return this.requestParams.all().errorBag
        ? e[this.requestParams.all().errorBag || ""] || {}
        : e;
    }
  },
  Lv = class p2 {
    constructor(e, t) {
      (this.page = t),
        (this.requestHasFinished = !1),
        (this.requestParams = Hk.create(e)),
        (this.cancelToken = new AbortController());
    }
    static create(e, t) {
      return new p2(e, t);
    }
    async send() {
      this.requestParams.onCancelToken(() => this.cancel({ cancelled: !0 })),
        bk(this.requestParams.all()),
        this.requestParams.onStart(),
        this.requestParams.all().prefetch &&
          (this.requestParams.onPrefetching(), Ck(this.requestParams.all()));
      const e = this.requestParams.all().prefetch;
      return Ge({
        method: this.requestParams.all().method,
        url: fu(this.requestParams.all().url).href,
        data: this.requestParams.data(),
        params: this.requestParams.queryParams(),
        signal: this.cancelToken.signal,
        headers: this.getHeaders(),
        onUploadProgress: this.onProgress.bind(this),
        responseType: "text",
      })
        .then(
          (t) => (
            (this.response = Ov.create(this.requestParams, t, this.page)),
            this.response.handle()
          )
        )
        .catch((t) =>
          t?.response
            ? ((this.response = Ov.create(
                this.requestParams,
                t.response,
                this.page
              )),
              this.response.handle())
            : Promise.reject(t)
        )
        .catch((t) => {
          if (!Ge.isCancel(t) && xk(t)) return Promise.reject(t);
        })
        .finally(() => {
          this.finish(),
            e &&
              this.response &&
              this.requestParams.onPrefetchResponse(this.response);
        });
    }
    finish() {
      this.requestParams.wasCancelledAtAll() ||
        (this.requestParams.markAsFinished(), this.fireFinishEvents());
    }
    fireFinishEvents() {
      this.requestHasFinished ||
        ((this.requestHasFinished = !0),
        yk(this.requestParams.all()),
        this.requestParams.onFinish());
    }
    cancel({ cancelled: e = !1, interrupted: t = !1 }) {
      this.requestHasFinished ||
        (this.cancelToken.abort(),
        this.requestParams.markAsCancelled({ cancelled: e, interrupted: t }),
        this.fireFinishEvents());
    }
    onProgress(e) {
      this.requestParams.data() instanceof FormData &&
        ((e.percentage = e.progress ? Math.round(e.progress * 100) : 0),
        _k(e),
        this.requestParams.all().onProgress(e));
    }
    getHeaders() {
      const e = {
        ...this.requestParams.headers(),
        Accept: "text/html, application/xhtml+xml",
        "X-Requested-With": "XMLHttpRequest",
        "X-Inertia": !0,
      };
      return Le.get().version && (e["X-Inertia-Version"] = Le.get().version), e;
    }
  },
  Dv = class {
    constructor({ maxConcurrent: r, interruptible: e }) {
      (this.requests = []), (this.maxConcurrent = r), (this.interruptible = e);
    }
    send(r) {
      this.requests.push(r),
        r.send().then(() => {
          this.requests = this.requests.filter((e) => e !== r);
        });
    }
    interruptInFlight() {
      this.cancel({ interrupted: !0 }, !1);
    }
    cancelInFlight() {
      this.cancel({ cancelled: !0 }, !0);
    }
    cancel({ cancelled: r = !1, interrupted: e = !1 } = {}, t) {
      if (!this.shouldCancel(t)) return;
      this.requests.shift()?.cancel({ interrupted: e, cancelled: r });
    }
    shouldCancel(r) {
      return r
        ? !0
        : this.interruptible && this.requests.length >= this.maxConcurrent;
    }
  },
  qk = class {
    constructor() {
      (this.syncRequestStream = new Dv({
        maxConcurrent: 1,
        interruptible: !0,
      })),
        (this.asyncRequestStream = new Dv({
          maxConcurrent: 1 / 0,
          interruptible: !1,
        }));
    }
    init({ initialPage: r, resolveComponent: e, swapComponent: t }) {
      Le.init({ initialPage: r, resolveComponent: e, swapComponent: t }),
        Ok.handle(),
        Ti.init(),
        Ti.on("missingHistoryItem", () => {
          typeof window < "u" &&
            this.visit(window.location.href, {
              preserveState: !0,
              preserveScroll: !0,
              replace: !0,
            });
        }),
        Ti.on("loadDeferredProps", () => {
          this.loadDeferredProps();
        });
    }
    get(r, e = {}, t = {}) {
      return this.visit(r, { ...t, method: "get", data: e });
    }
    post(r, e = {}, t = {}) {
      return this.visit(r, {
        preserveState: !0,
        ...t,
        method: "post",
        data: e,
      });
    }
    put(r, e = {}, t = {}) {
      return this.visit(r, { preserveState: !0, ...t, method: "put", data: e });
    }
    patch(r, e = {}, t = {}) {
      return this.visit(r, {
        preserveState: !0,
        ...t,
        method: "patch",
        data: e,
      });
    }
    delete(r, e = {}) {
      return this.visit(r, { preserveState: !0, ...e, method: "delete" });
    }
    reload(r = {}) {
      if (!(typeof window > "u"))
        return this.visit(window.location.href, {
          ...r,
          preserveScroll: !0,
          preserveState: !0,
          async: !0,
          headers: { ...(r.headers || {}), "Cache-Control": "no-cache" },
        });
    }
    remember(r, e = "default") {
      lt.remember(r, e);
    }
    restore(r = "default") {
      return lt.restore(r);
    }
    on(r, e) {
      return typeof window > "u" ? () => {} : Ti.onGlobalEvent(r, e);
    }
    cancel() {
      this.syncRequestStream.cancelInFlight();
    }
    cancelAll() {
      this.asyncRequestStream.cancelInFlight(),
        this.syncRequestStream.cancelInFlight();
    }
    poll(r, e = {}, t = {}) {
      return Uk.add(r, () => this.reload(e), {
        autoStart: t.autoStart ?? !0,
        keepAlive: t.keepAlive ?? !1,
      });
    }
    visit(r, e = {}) {
      const t = this.getPendingVisit(r, {
          ...e,
          showProgress: e.showProgress ?? !e.async,
        }),
        s = this.getVisitEvents(e);
      if (s.onBefore(t) === !1 || !Nv(t)) return;
      const n = t.async ? this.asyncRequestStream : this.syncRequestStream;
      n.interruptInFlight(), !Le.isCleared() && !t.preserveUrl && Cs.save();
      const i = { ...t, ...s },
        l = hi.get(i);
      l
        ? (Uv(l.inFlight), hi.use(l, i))
        : (Uv(!0), n.send(Lv.create(i, Le.get())));
    }
    getCached(r, e = {}) {
      return hi.findCached(this.getPrefetchParams(r, e));
    }
    flush(r, e = {}) {
      hi.remove(this.getPrefetchParams(r, e));
    }
    flushAll() {
      hi.removeAll();
    }
    getPrefetching(r, e = {}) {
      return hi.findInFlight(this.getPrefetchParams(r, e));
    }
    prefetch(r, e = {}, { cacheFor: t = 3e4 }) {
      if (e.method !== "get")
        throw new Error("Prefetch requests must use the GET method");
      const s = this.getPendingVisit(r, {
          ...e,
          async: !0,
          showProgress: !1,
          prefetch: !0,
        }),
        n = s.url.origin + s.url.pathname + s.url.search,
        i =
          window.location.origin +
          window.location.pathname +
          window.location.search;
      if (n === i) return;
      const l = this.getVisitEvents(e);
      if (l.onBefore(s) === !1 || !Nv(s)) return;
      b2(), this.asyncRequestStream.interruptInFlight();
      const c = { ...s, ...l };
      new Promise((f) => {
        const m = () => {
          Le.get() ? f() : setTimeout(m, 50);
        };
        m();
      }).then(() => {
        hi.add(
          c,
          (f) => {
            this.asyncRequestStream.send(Lv.create(f, Le.get()));
          },
          { cacheFor: t }
        );
      });
    }
    clearHistory() {
      lt.clear();
    }
    decryptHistory() {
      return lt.decrypt();
    }
    resolveComponent(r) {
      return Le.resolve(r);
    }
    replace(r) {
      this.clientVisit(r, { replace: !0 });
    }
    push(r) {
      this.clientVisit(r);
    }
    clientVisit(r, { replace: e = !1 } = {}) {
      const t = Le.get(),
        s =
          typeof r.props == "function" ? r.props(t.props) : r.props ?? t.props,
        { onError: n, onFinish: i, onSuccess: l, ...c } = r;
      Le.set(
        { ...t, ...c, props: s },
        {
          replace: e,
          preserveScroll: r.preserveScroll,
          preserveState: r.preserveState,
        }
      )
        .then(() => {
          const d = Le.get().props.errors || {};
          if (Object.keys(d).length === 0) return l?.(Le.get());
          const f = r.errorBag ? d[r.errorBag || ""] || {} : d;
          return n?.(f);
        })
        .finally(() => i?.(r));
    }
    getPrefetchParams(r, e) {
      return {
        ...this.getPendingVisit(r, {
          ...e,
          async: !0,
          showProgress: !1,
          prefetch: !0,
        }),
        ...this.getVisitEvents(e),
      };
    }
    getPendingVisit(r, e, t = {}) {
      const s = {
          method: "get",
          data: {},
          replace: !1,
          preserveScroll: !1,
          preserveState: !1,
          only: [],
          except: [],
          headers: {},
          errorBag: "",
          forceFormData: !1,
          queryStringArrayFormat: "brackets",
          async: !1,
          showProgress: !0,
          fresh: !1,
          reset: [],
          preserveUrl: !1,
          prefetch: !1,
          ...e,
        },
        [n, i] = Nk(
          r,
          s.data,
          s.method,
          s.forceFormData,
          s.queryStringArrayFormat
        ),
        l = {
          cancelled: !1,
          completed: !1,
          interrupted: !1,
          ...s,
          ...t,
          url: n,
          data: i,
        };
      return l.prefetch && (l.headers.Purpose = "prefetch"), l;
    }
    getVisitEvents(r) {
      return {
        onCancelToken: r.onCancelToken || (() => {}),
        onBefore: r.onBefore || (() => {}),
        onStart: r.onStart || (() => {}),
        onProgress: r.onProgress || (() => {}),
        onFinish: r.onFinish || (() => {}),
        onCancel: r.onCancel || (() => {}),
        onSuccess: r.onSuccess || (() => {}),
        onError: r.onError || (() => {}),
        onPrefetched: r.onPrefetched || (() => {}),
        onPrefetching: r.onPrefetching || (() => {}),
      };
    }
    loadDeferredProps() {
      const r = Le.get()?.deferredProps;
      r &&
        Object.entries(r).forEach(([e, t]) => {
          this.reload({ only: t });
        });
    }
  },
  Xk = {
    buildDOMElement(r) {
      const e = document.createElement("template");
      e.innerHTML = r;
      const t = e.content.firstChild;
      if (!r.startsWith("<script ")) return t;
      const s = document.createElement("script");
      return (
        (s.innerHTML = t.innerHTML),
        t.getAttributeNames().forEach((n) => {
          s.setAttribute(n, t.getAttribute(n) || "");
        }),
        s
      );
    },
    isInertiaManagedElement(r) {
      return (
        r.nodeType === Node.ELEMENT_NODE && r.getAttribute("inertia") !== null
      );
    },
    findMatchingElementIndex(r, e) {
      const t = r.getAttribute("inertia");
      return t !== null
        ? e.findIndex((s) => s.getAttribute("inertia") === t)
        : -1;
    },
    update: rm(function (r) {
      const e = r.map((s) => this.buildDOMElement(s));
      Array.from(document.head.childNodes)
        .filter((s) => this.isInertiaManagedElement(s))
        .forEach((s) => {
          const n = this.findMatchingElementIndex(s, e);
          if (n === -1) {
            s?.parentNode?.removeChild(s);
            return;
          }
          const i = e.splice(n, 1)[0];
          i && !s.isEqualNode(i) && s?.parentNode?.replaceChild(i, s);
        }),
        e.forEach((s) => document.head.appendChild(s));
    }, 1),
  };
function Yk(r, e, t) {
  const s = {};
  let n = 0;
  function i() {
    const h = (n += 1);
    return (s[h] = []), h.toString();
  }
  function l(h) {
    h === null || Object.keys(s).indexOf(h) === -1 || (delete s[h], m());
  }
  function c(h) {
    Object.keys(s).indexOf(h) === -1 && (s[h] = []);
  }
  function d(h, g = []) {
    h !== null && Object.keys(s).indexOf(h) > -1 && (s[h] = g), m();
  }
  function f() {
    const h = e(""),
      g = { ...(h ? { title: `<title inertia="">${h}</title>` } : {}) },
      x = Object.values(s)
        .reduce((v, w) => v.concat(w), [])
        .reduce((v, w) => {
          if (w.indexOf("<") === -1) return v;
          if (w.indexOf("<title ") === 0) {
            const S = w.match(/(<title [^>]+>)(.*?)(<\/title>)/);
            return (v.title = S ? `${S[1]}${e(S[2])}${S[3]}` : w), v;
          }
          const _ = w.match(/ inertia="[^"]+"/);
          return _ ? (v[_[0]] = w) : (v[Object.keys(v).length] = w), v;
        }, g);
    return Object.values(x);
  }
  function m() {
    r ? t(f()) : Xk.update(f());
  }
  return (
    m(),
    {
      forceUpdate: m,
      createProvider: function () {
        const h = i();
        return {
          reconnect: () => c(h),
          update: (g) => d(h, g),
          disconnect: () => l(h),
        };
      },
    }
  );
}
var Vt = "nprogress",
  is,
  tr = {
    minimum: 0.08,
    easing: "linear",
    positionUsing: "translate3d",
    speed: 200,
    trickle: !0,
    trickleSpeed: 200,
    showSpinner: !0,
    barSelector: '[role="bar"]',
    spinnerSelector: '[role="spinner"]',
    parent: "body",
    color: "#29d",
    includeCSS: !0,
    template: [
      '<div class="bar" role="bar">',
      '<div class="peg"></div>',
      "</div>",
      '<div class="spinner" role="spinner">',
      '<div class="spinner-icon"></div>',
      "</div>",
    ].join(""),
  },
  qn = null,
  Kk = (r) => {
    Object.assign(tr, r),
      tr.includeCSS && rP(tr.color),
      (is = document.createElement("div")),
      (is.id = Vt),
      (is.innerHTML = tr.template);
  },
  Du = (r) => {
    const e = m2();
    (r = _2(r, tr.minimum, 1)), (qn = r === 1 ? null : r);
    const t = Zk(!e),
      s = t.querySelector(tr.barSelector),
      n = tr.speed,
      i = tr.easing;
    t.offsetWidth,
      tP((l) => {
        const c =
          tr.positionUsing === "translate3d"
            ? {
                transition: `all ${n}ms ${i}`,
                transform: `translate3d(${su(r)}%,0,0)`,
              }
            : tr.positionUsing === "translate"
            ? {
                transition: `all ${n}ms ${i}`,
                transform: `translate(${su(r)}%,0)`,
              }
            : { marginLeft: `${su(r)}%` };
        for (const d in c) s.style[d] = c[d];
        if (r !== 1) return setTimeout(l, n);
        (t.style.transition = "none"),
          (t.style.opacity = "1"),
          t.offsetWidth,
          setTimeout(() => {
            (t.style.transition = `all ${n}ms linear`),
              (t.style.opacity = "0"),
              setTimeout(() => {
                v2(), (t.style.transition = ""), (t.style.opacity = ""), l();
              }, n);
          }, n);
      });
  },
  m2 = () => typeof qn == "number",
  g2 = () => {
    qn || Du(0);
    const r = function () {
      setTimeout(function () {
        qn && (x2(), r());
      }, tr.trickleSpeed);
    };
    tr.trickle && r();
  },
  Qk = (r) => {
    (!r && !qn) || (x2(0.3 + 0.5 * Math.random()), Du(1));
  },
  x2 = (r) => {
    const e = qn;
    if (e === null) return g2();
    if (!(e > 1))
      return (
        (r =
          typeof r == "number"
            ? r
            : (() => {
                const t = {
                  0.1: [0, 0.2],
                  0.04: [0.2, 0.5],
                  0.02: [0.5, 0.8],
                  0.005: [0.8, 0.99],
                };
                for (const s in t)
                  if (e >= t[s][0] && e < t[s][1]) return parseFloat(s);
                return 0;
              })()),
        Du(_2(e + r, 0, 0.994))
      );
  },
  Zk = (r) => {
    if (Jk()) return document.getElementById(Vt);
    document.documentElement.classList.add(`${Vt}-busy`);
    const e = is.querySelector(tr.barSelector),
      t = r ? "-100" : su(qn || 0),
      s = y2();
    return (
      (e.style.transition = "all 0 linear"),
      (e.style.transform = `translate3d(${t}%,0,0)`),
      tr.showSpinner || is.querySelector(tr.spinnerSelector)?.remove(),
      s !== document.body && s.classList.add(`${Vt}-custom-parent`),
      s.appendChild(is),
      is
    );
  },
  y2 = () => (eP(tr.parent) ? tr.parent : document.querySelector(tr.parent)),
  v2 = () => {
    document.documentElement.classList.remove(`${Vt}-busy`),
      y2().classList.remove(`${Vt}-custom-parent`),
      is?.remove();
  },
  Jk = () => document.getElementById(Vt) !== null,
  eP = (r) =>
    typeof HTMLElement == "object"
      ? r instanceof HTMLElement
      : r &&
        typeof r == "object" &&
        r.nodeType === 1 &&
        typeof r.nodeName == "string";
function _2(r, e, t) {
  return r < e ? e : r > t ? t : r;
}
var su = (r) => (-1 + r) * 100,
  tP = (() => {
    const r = [],
      e = () => {
        const t = r.shift();
        t && t(e);
      };
    return (t) => {
      r.push(t), r.length === 1 && e();
    };
  })(),
  rP = (r) => {
    const e = document.createElement("style");
    (e.textContent = `
    #${Vt} {
      pointer-events: none;
    }

    #${Vt} .bar {
      background: ${r};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${Vt} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${r}, 0 0 5px ${r};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${Vt} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${Vt} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${r};
      border-left-color: ${r};
      border-radius: 50%;

      animation: ${Vt}-spinner 400ms linear infinite;
    }

    .${Vt}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${Vt}-custom-parent #${Vt} .spinner,
    .${Vt}-custom-parent #${Vt} .bar {
      position: absolute;
    }

    @keyframes ${Vt}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `),
      document.head.appendChild(e);
  },
  sP = () => {
    is && (is.style.display = "");
  },
  nP = () => {
    is && (is.style.display = "none");
  },
  ns = {
    configure: Kk,
    isStarted: m2,
    done: Qk,
    set: Du,
    remove: v2,
    start: g2,
    status: qn,
    show: sP,
    hide: nP,
  },
  nu = 0,
  Uv = (r = !1) => {
    (nu = Math.max(0, nu - 1)), (r || nu === 0) && ns.show();
  },
  b2 = () => {
    nu++, ns.hide();
  };
function iP(r) {
  document.addEventListener("inertia:start", (e) => aP(e, r)),
    document.addEventListener("inertia:progress", oP);
}
function aP(r, e) {
  r.detail.visit.showProgress || b2();
  const t = setTimeout(() => ns.start(), e);
  document.addEventListener("inertia:finish", (s) => lP(s, t), { once: !0 });
}
function oP(r) {
  ns.isStarted() &&
    r.detail.progress?.percentage &&
    ns.set(Math.max(ns.status, (r.detail.progress.percentage / 100) * 0.9));
}
function lP(r, e) {
  clearTimeout(e),
    ns.isStarted() &&
      (r.detail.visit.completed
        ? ns.done()
        : r.detail.visit.interrupted
        ? ns.set(0)
        : r.detail.visit.cancelled && (ns.done(), ns.remove()));
}
function cP({
  delay: r = 250,
  color: e = "#29d",
  includeCSS: t = !0,
  showSpinner: s = !1,
} = {}) {
  iP(r), ns.configure({ showSpinner: s, includeCSS: t, color: e });
}
function Bf(r) {
  const e = r.currentTarget.tagName.toLowerCase() === "a";
  return !(
    (r.target && (r?.target).isContentEditable) ||
    r.defaultPrevented ||
    (e && r.altKey) ||
    (e && r.ctrlKey) ||
    (e && r.metaKey) ||
    (e && r.shiftKey) ||
    (e && "button" in r && r.button !== 0)
  );
}
var os = new qk();
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */ var k = Au();
const Fe = Vm(k),
  uP = zE({ __proto__: null, default: Fe }, [k]);
function w2(r) {
  switch (typeof r) {
    case "number":
    case "symbol":
      return !1;
    case "string":
      return r.includes(".") || r.includes("[") || r.includes("]");
  }
}
function S2(r) {
  return typeof r == "string" || typeof r == "symbol"
    ? r
    : Object.is(r?.valueOf?.(), -0)
    ? "-0"
    : String(r);
}
function Jm(r) {
  const e = [],
    t = r.length;
  if (t === 0) return e;
  let s = 0,
    n = "",
    i = "",
    l = !1;
  for (r.charCodeAt(0) === 46 && (e.push(""), s++); s < t; ) {
    const c = r[s];
    i
      ? c === "\\" && s + 1 < t
        ? (s++, (n += r[s]))
        : c === i
        ? (i = "")
        : (n += c)
      : l
      ? c === '"' || c === "'"
        ? (i = c)
        : c === "]"
        ? ((l = !1), e.push(n), (n = ""))
        : (n += c)
      : c === "["
      ? ((l = !0), n && (e.push(n), (n = "")))
      : c === "."
      ? n && (e.push(n), (n = ""))
      : (n += c),
      s++;
  }
  return n && e.push(n), e;
}
function C2(r, e, t) {
  if (r == null) return t;
  switch (typeof e) {
    case "string": {
      if (hu(e)) return t;
      const s = r[e];
      return s === void 0 ? (w2(e) ? C2(r, Jm(e), t) : t) : s;
    }
    case "number":
    case "symbol": {
      typeof e == "number" && (e = S2(e));
      const s = r[e];
      return s === void 0 ? t : s;
    }
    default: {
      if (Array.isArray(e)) return dP(r, e, t);
      if ((Object.is(e?.valueOf(), -0) ? (e = "-0") : (e = String(e)), hu(e)))
        return t;
      const s = r[e];
      return s === void 0 ? t : s;
    }
  }
}
function dP(r, e, t) {
  if (e.length === 0) return t;
  let s = r;
  for (let n = 0; n < e.length; n++) {
    if (s == null || hu(e[n])) return t;
    s = s[e[n]];
  }
  return s === void 0 ? t : s;
}
function zv(r) {
  return r !== null && (typeof r == "object" || typeof r == "function");
}
const hP = /^(?:0|[1-9]\d*)$/;
function T2(r, e = Number.MAX_SAFE_INTEGER) {
  switch (typeof r) {
    case "number":
      return Number.isInteger(r) && r >= 0 && r < e;
    case "symbol":
      return !1;
    case "string":
      return hP.test(r);
  }
}
function fP(r) {
  return r !== null && typeof r == "object" && du(r) === "[object Arguments]";
}
function pP(r, e) {
  let t;
  if (
    (Array.isArray(e)
      ? (t = e)
      : typeof e == "string" && w2(e) && r?.[e] == null
      ? (t = Jm(e))
      : (t = [e]),
    t.length === 0)
  )
    return !1;
  let s = r;
  for (let n = 0; n < t.length; n++) {
    const i = t[n];
    if (
      (s == null || !Object.hasOwn(s, i)) &&
      !((Array.isArray(s) || fP(s)) && T2(i) && i < s.length)
    )
      return !1;
    s = s[i];
  }
  return !0;
}
const mP = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
  gP = /^\w*$/;
function xP(r, e) {
  return Array.isArray(r)
    ? !1
    : typeof r == "number" || typeof r == "boolean" || r == null || sk(r)
    ? !0
    : (typeof r == "string" && (gP.test(r) || !mP.test(r))) ||
      (e != null && Object.hasOwn(e, r));
}
const yP = (r, e, t) => {
  const s = r[e];
  (!(Object.hasOwn(r, e) && s2(s, t)) || (t === void 0 && !(e in r))) &&
    (r[e] = t);
};
function vP(r, e, t, s) {
  if (r == null && !zv(r)) return r;
  const n = xP(e, r)
    ? [e]
    : Array.isArray(e)
    ? e
    : typeof e == "string"
    ? Jm(e)
    : [e];
  let i = r;
  for (let l = 0; l < n.length && i != null; l++) {
    const c = S2(n[l]);
    if (hu(c)) continue;
    let d;
    if (l === n.length - 1) d = t(i[c]);
    else {
      const f = i[c],
        m = s?.(f, c, r);
      d = m !== void 0 ? m : zv(f) ? f : T2(n[l + 1]) ? [] : {};
    }
    yP(i, c, d), (i = i[c]);
  }
  return r;
}
function Ff(r, e, t) {
  return vP(
    r,
    e,
    () => t,
    () => {}
  );
}
var E2 = k.createContext(void 0);
E2.displayName = "InertiaHeadContext";
var im = E2,
  j2 = k.createContext(void 0);
j2.displayName = "InertiaPageContext";
var am = j2,
  om = !0,
  Gv = !1,
  $v = async () => {
    om = !1;
  };
function k2({
  children: r,
  initialPage: e,
  initialComponent: t,
  resolveComponent: s,
  titleCallback: n,
  onHeadUpdate: i,
}) {
  const [l, c] = k.useState({ component: t || null, page: e, key: null }),
    d = k.useMemo(
      () => Yk(typeof window > "u", n || ((m) => m), i || (() => {})),
      []
    );
  if (
    (Gv ||
      (os.init({
        initialPage: e,
        resolveComponent: s,
        swapComponent: async (m) => $v(m),
      }),
      (Gv = !0)),
    k.useEffect(() => {
      ($v = async ({ component: m, page: h, preserveState: g }) => {
        if (om) {
          om = !1;
          return;
        }
        c((x) => ({ component: m, page: h, key: g ? x.key : Date.now() }));
      }),
        os.on("navigate", () => d.forceUpdate());
    }, []),
    !l.component)
  )
    return k.createElement(
      im.Provider,
      { value: d },
      k.createElement(am.Provider, { value: l.page }, null)
    );
  const f =
    r ||
    (({ Component: m, props: h, key: g }) => {
      const x = k.createElement(m, { key: g, ...h });
      return typeof m.layout == "function"
        ? m.layout(x)
        : Array.isArray(m.layout)
        ? m.layout
            .concat(x)
            .reverse()
            .reduce((v, w) => k.createElement(w, { children: v, ...h }))
        : x;
    });
  return k.createElement(
    im.Provider,
    { value: d },
    k.createElement(
      am.Provider,
      { value: l.page },
      f({ Component: l.component, key: l.key, props: l.page.props })
    )
  );
}
k2.displayName = "Inertia";
async function _P({
  id: r = "app",
  resolve: e,
  setup: t,
  title: s,
  progress: n = {},
  page: i,
  render: l,
}) {
  const c = typeof window > "u",
    d = c ? null : document.getElementById(r),
    f = i || JSON.parse(d.dataset.page),
    m = (x) => Promise.resolve(e(x)).then((v) => v.default || v);
  let h = [];
  const g = await Promise.all([
    m(f.component),
    os.decryptHistory().catch(() => {}),
  ]).then(([x]) =>
    t({
      el: d,
      App: k2,
      props: {
        initialPage: f,
        initialComponent: x,
        resolveComponent: m,
        titleCallback: s,
        onHeadUpdate: c ? (v) => (h = v) : null,
      },
    })
  );
  if ((!c && n && cP(n), c)) {
    const x = await l(
      k.createElement("div", { id: r, "data-page": JSON.stringify(f) }, g)
    );
    return { head: h, body: x };
  }
}
function Pa() {
  const r = k.useContext(am);
  if (!r) throw new Error("usePage must be used within the Inertia component");
  return r;
}
var bP = function ({ children: r, title: e }) {
    const t = k.useContext(im),
      s = k.useMemo(() => t.createProvider(), [t]),
      n = typeof window > "u";
    k.useEffect(
      () => (
        s.reconnect(),
        s.update(h(r)),
        () => {
          s.disconnect();
        }
      ),
      [s, r, e]
    );
    function i(g) {
      return (
        [
          "area",
          "base",
          "br",
          "col",
          "embed",
          "hr",
          "img",
          "input",
          "keygen",
          "link",
          "meta",
          "param",
          "source",
          "track",
          "wbr",
        ].indexOf(g.type) > -1
      );
    }
    function l(g) {
      const x = Object.keys(g.props).reduce((v, w) => {
        if (["head-key", "children", "dangerouslySetInnerHTML"].includes(w))
          return v;
        const _ = String(g.props[w]);
        return _ === "" ? v + ` ${w}` : v + ` ${w}="${mk(_)}"`;
      }, "");
      return `<${g.type}${x}>`;
    }
    function c(g) {
      return typeof g.props.children == "string"
        ? g.props.children
        : g.props.children.reduce((x, v) => x + d(v), "");
    }
    function d(g) {
      let x = l(g);
      return (
        g.props.children && (x += c(g)),
        g.props.dangerouslySetInnerHTML &&
          (x += g.props.dangerouslySetInnerHTML.__html),
        i(g) || (x += `</${g.type}>`),
        x
      );
    }
    function f(g) {
      return Fe.cloneElement(g, {
        inertia: g.props["head-key"] !== void 0 ? g.props["head-key"] : "",
      });
    }
    function m(g) {
      return d(f(g));
    }
    function h(g) {
      const x = Fe.Children.toArray(g)
        .filter((v) => v)
        .map((v) => m(v));
      return (
        e &&
          !x.find((v) => v.startsWith("<title")) &&
          x.push(`<title inertia>${e}</title>`),
        x
      );
    }
    return n && s.update(h(r)), null;
  },
  qr = bP,
  rn = () => {},
  P2 = k.forwardRef(
    (
      {
        children: r,
        as: e = "a",
        data: t = {},
        href: s,
        method: n = "get",
        preserveScroll: i = !1,
        preserveState: l = null,
        replace: c = !1,
        only: d = [],
        except: f = [],
        headers: m = {},
        queryStringArrayFormat: h = "brackets",
        async: g = !1,
        onClick: x = rn,
        onCancelToken: v = rn,
        onBefore: w = rn,
        onStart: _ = rn,
        onProgress: S = rn,
        onFinish: T = rn,
        onCancel: j = rn,
        onSuccess: E = rn,
        onError: A = rn,
        prefetch: M = !1,
        cacheFor: N = 0,
        ...R
      },
      O
    ) => {
      const [U, q] = k.useState(0),
        Q = k.useRef(null),
        z = k.useMemo(
          () => (typeof s == "object" ? s.method : n.toLowerCase()),
          [s, n]
        ),
        Z = k.useMemo(
          () => ((e = e.toLowerCase()), z !== "get" ? "button" : e),
          [e, z]
        ),
        pe = k.useMemo(
          () => c2(z, typeof s == "object" ? s.url : s || "", t, h),
          [s, z, t, h]
        ),
        se = k.useMemo(() => pe[0], [pe]),
        ie = k.useMemo(() => pe[1], [pe]),
        Y = k.useMemo(
          () => ({
            data: ie,
            method: z,
            preserveScroll: i,
            preserveState: l ?? z !== "get",
            replace: c,
            only: d,
            except: f,
            headers: m,
            async: g,
          }),
          [ie, z, i, l, c, d, f, m, g]
        ),
        re = k.useMemo(
          () => ({
            ...Y,
            onCancelToken: v,
            onBefore: w,
            onStart(ae) {
              q((me) => me + 1), _(ae);
            },
            onProgress: S,
            onFinish(ae) {
              q((me) => me - 1), T(ae);
            },
            onCancel: j,
            onSuccess: E,
            onError: A,
          }),
          [Y, v, w, _, S, T, j, E, A]
        ),
        J = () => {
          os.prefetch(se, Y, { cacheFor: W });
        },
        F = k.useMemo(
          () =>
            M === !0 ? ["hover"] : M === !1 ? [] : Array.isArray(M) ? M : [M],
          Array.isArray(M) ? M : [M]
        ),
        W = k.useMemo(
          () => (N !== 0 ? N : F.length === 1 && F[0] === "click" ? 0 : 3e4),
          [N, F]
        );
      k.useEffect(
        () => () => {
          clearTimeout(Q.current);
        },
        []
      ),
        k.useEffect(() => {
          F.includes("mount") && setTimeout(() => J());
        }, F);
      const te = {
          onClick: (ae) => {
            x(ae), Bf(ae) && (ae.preventDefault(), os.visit(se, re));
          },
        },
        de = {
          onMouseEnter: () => {
            Q.current = window.setTimeout(() => {
              J();
            }, 75);
          },
          onMouseLeave: () => {
            clearTimeout(Q.current);
          },
          onClick: te.onClick,
        },
        ne = {
          onMouseDown: (ae) => {
            Bf(ae) && (ae.preventDefault(), J());
          },
          onMouseUp: (ae) => {
            ae.preventDefault(), os.visit(se, re);
          },
          onClick: (ae) => {
            x(ae), Bf(ae) && ae.preventDefault();
          },
        },
        ue = k.useMemo(
          () => ({ a: { href: se }, button: { type: "button" } }),
          [se]
        );
      return k.createElement(
        Z,
        {
          ...R,
          ...(ue[Z] || {}),
          ref: O,
          ...(F.includes("hover") ? de : F.includes("click") ? ne : te),
          "data-loading": U > 0 ? "" : void 0,
        },
        r
      );
    }
  );
P2.displayName = "InertiaLink";
var br = P2;
function Hv(r, e) {
  const [t, s] = k.useState(() => {
    const n = os.restore(e);
    return n !== void 0 ? n : r;
  });
  return (
    k.useEffect(() => {
      os.remember(t, e);
    }, [t, e]),
    [t, s]
  );
}
function sr(r, e) {
  const t = k.useRef(null),
    s = typeof r == "string" ? r : null,
    [n, i] = k.useState((typeof r == "string" ? e : r) || {}),
    l = k.useRef(null),
    c = k.useRef(null),
    [d, f] = s ? Hv(n, `${s}:data`) : k.useState(n),
    [m, h] = s ? Hv({}, `${s}:errors`) : k.useState({}),
    [g, x] = k.useState(!1),
    [v, w] = k.useState(!1),
    [_, S] = k.useState(null),
    [T, j] = k.useState(!1),
    [E, A] = k.useState(!1),
    M = k.useRef((ne) => ne),
    N = k.useMemo(() => !fk(d, n), [d, n]);
  k.useEffect(
    () => (
      (t.current = !0),
      () => {
        t.current = !1;
      }
    ),
    []
  );
  const R = k.useCallback(
      (...ne) => {
        const ue = typeof ne[0] == "object",
          ae = ue ? ne[0].method : ne[0],
          me = ue ? ne[0].url : ne[1],
          oe = (ue ? ne[1] : ne[2]) ?? {},
          ve = {
            ...oe,
            onCancelToken: (Te) => {
              if (((l.current = Te), oe.onCancelToken))
                return oe.onCancelToken(Te);
            },
            onBefore: (Te) => {
              if ((j(!1), A(!1), clearTimeout(c.current), oe.onBefore))
                return oe.onBefore(Te);
            },
            onStart: (Te) => {
              if ((w(!0), oe.onStart)) return oe.onStart(Te);
            },
            onProgress: (Te) => {
              if ((S(Te), oe.onProgress)) return oe.onProgress(Te);
            },
            onSuccess: (Te) => {
              if (
                (t.current &&
                  (w(!1),
                  S(null),
                  h({}),
                  x(!1),
                  j(!0),
                  A(!0),
                  i(Ao(d)),
                  (c.current = setTimeout(() => {
                    t.current && A(!1);
                  }, 2e3))),
                oe.onSuccess)
              )
                return oe.onSuccess(Te);
            },
            onError: (Te) => {
              if ((t.current && (w(!1), S(null), h(Te), x(!0)), oe.onError))
                return oe.onError(Te);
            },
            onCancel: () => {
              if ((t.current && (w(!1), S(null)), oe.onCancel))
                return oe.onCancel();
            },
            onFinish: (Te) => {
              if (
                (t.current && (w(!1), S(null)), (l.current = null), oe.onFinish)
              )
                return oe.onFinish(Te);
            },
          };
        ae === "delete"
          ? os.delete(me, { ...ve, data: M.current(d) })
          : os[ae](me, M.current(d), ve);
      },
      [d, h, M]
    ),
    O = k.useCallback(
      (ne, ue) => {
        f(
          typeof ne == "string"
            ? (ae) => Ff(Ao(ae), ne, ue)
            : typeof ne == "function"
            ? (ae) => ne(ae)
            : ne
        );
      },
      [f]
    ),
    [U, q] = k.useState(!1),
    Q = k.useCallback(
      (ne, ue) => {
        typeof ne > "u"
          ? (i(d), q(!0))
          : i((ae) =>
              typeof ne == "string"
                ? Ff(Ao(ae), ne, ue)
                : Object.assign(Ao(ae), ne)
            );
      },
      [d, i]
    );
  k.useLayoutEffect(() => {
    U && (N && i(d), q(!1));
  }, [U]);
  const z = k.useCallback(
      (...ne) => {
        ne.length === 0
          ? f(n)
          : f((ue) =>
              ne
                .filter((ae) => pP(n, ae))
                .reduce((ae, me) => Ff(ae, me, C2(n, me)), { ...ue })
            );
      },
      [f, n]
    ),
    Z = k.useCallback(
      (ne, ue) => {
        h((ae) => {
          const me = { ...ae, ...(typeof ne == "string" ? { [ne]: ue } : ne) };
          return x(Object.keys(me).length > 0), me;
        });
      },
      [h, x]
    ),
    pe = k.useCallback(
      (...ne) => {
        h((ue) => {
          const ae = Object.keys(ue).reduce(
            (me, oe) => ({
              ...me,
              ...(ne.length > 0 && !ne.includes(oe) ? { [oe]: ue[oe] } : {}),
            }),
            {}
          );
          return x(Object.keys(ae).length > 0), ae;
        });
      },
      [h, x]
    ),
    se = k.useCallback(
      (...ne) => {
        z(...ne), pe(...ne);
      },
      [z, pe]
    ),
    ie = (ne) => (ue, ae) => {
      R(ne, ue, ae);
    },
    Y = k.useCallback(ie("get"), [R]),
    re = k.useCallback(ie("post"), [R]),
    J = k.useCallback(ie("put"), [R]),
    F = k.useCallback(ie("patch"), [R]),
    W = k.useCallback(ie("delete"), [R]),
    te = k.useCallback(() => {
      l.current && l.current.cancel();
    }, []),
    de = k.useCallback((ne) => {
      M.current = ne;
    }, []);
  return {
    data: d,
    setData: O,
    isDirty: N,
    errors: m,
    hasErrors: g,
    processing: v,
    progress: _,
    wasSuccessful: T,
    recentlySuccessful: E,
    transform: de,
    setDefaults: Q,
    reset: z,
    setError: Z,
    clearErrors: pe,
    resetAndClearErrors: se,
    submit: R,
    get: Y,
    post: re,
    put: J,
    patch: F,
    delete: W,
    cancel: te,
  };
}
var vr = os;
async function wP(r, e) {
  for (const t of Array.isArray(r) ? r : [r]) {
    const s = e[t];
    if (!(typeof s > "u")) return typeof s == "function" ? s() : s;
  }
  throw new Error(`Page not found: ${r}`);
}
var D = ((r) => (
  (r.Application = "application"),
  (r.WebGLPipes = "webgl-pipes"),
  (r.WebGLPipesAdaptor = "webgl-pipes-adaptor"),
  (r.WebGLSystem = "webgl-system"),
  (r.WebGPUPipes = "webgpu-pipes"),
  (r.WebGPUPipesAdaptor = "webgpu-pipes-adaptor"),
  (r.WebGPUSystem = "webgpu-system"),
  (r.CanvasSystem = "canvas-system"),
  (r.CanvasPipesAdaptor = "canvas-pipes-adaptor"),
  (r.CanvasPipes = "canvas-pipes"),
  (r.Asset = "asset"),
  (r.LoadParser = "load-parser"),
  (r.ResolveParser = "resolve-parser"),
  (r.CacheParser = "cache-parser"),
  (r.DetectionParser = "detection-parser"),
  (r.MaskEffect = "mask-effect"),
  (r.BlendMode = "blend-mode"),
  (r.TextureSource = "texture-source"),
  (r.Environment = "environment"),
  (r.ShapeBuilder = "shape-builder"),
  (r.Batcher = "batcher"),
  r
))(D || {});
const lm = (r) => {
    if (typeof r == "function" || (typeof r == "object" && r.extension)) {
      if (!r.extension)
        throw new Error("Extension class must have an extension object");
      r = {
        ...(typeof r.extension != "object"
          ? { type: r.extension }
          : r.extension),
        ref: r,
      };
    }
    if (typeof r == "object") r = { ...r };
    else throw new Error("Invalid extension type");
    return typeof r.type == "string" && (r.type = [r.type]), r;
  },
  Mc = (r, e) => lm(r).priority ?? e,
  Ie = {
    _addHandlers: {},
    _removeHandlers: {},
    _queue: {},
    remove(...r) {
      return (
        r.map(lm).forEach((e) => {
          e.type.forEach((t) => this._removeHandlers[t]?.(e));
        }),
        this
      );
    },
    add(...r) {
      return (
        r.map(lm).forEach((e) => {
          e.type.forEach((t) => {
            const s = this._addHandlers,
              n = this._queue;
            s[t] ? s[t]?.(e) : ((n[t] = n[t] || []), n[t]?.push(e));
          });
        }),
        this
      );
    },
    handle(r, e, t) {
      const s = this._addHandlers,
        n = this._removeHandlers;
      if (s[r] || n[r])
        throw new Error(`Extension type ${r} already has a handler`);
      (s[r] = e), (n[r] = t);
      const i = this._queue;
      return i[r] && (i[r]?.forEach((l) => e(l)), delete i[r]), this;
    },
    handleByMap(r, e) {
      return this.handle(
        r,
        (t) => {
          t.name && (e[t.name] = t.ref);
        },
        (t) => {
          t.name && delete e[t.name];
        }
      );
    },
    handleByNamedList(r, e, t = -1) {
      return this.handle(
        r,
        (s) => {
          e.findIndex((i) => i.name === s.name) >= 0 ||
            (e.push({ name: s.name, value: s.ref }),
            e.sort((i, l) => Mc(l.value, t) - Mc(i.value, t)));
        },
        (s) => {
          const n = e.findIndex((i) => i.name === s.name);
          n !== -1 && e.splice(n, 1);
        }
      );
    },
    handleByList(r, e, t = -1) {
      return this.handle(
        r,
        (s) => {
          e.includes(s.ref) ||
            (e.push(s.ref), e.sort((n, i) => Mc(i, t) - Mc(n, t)));
        },
        (s) => {
          const n = e.indexOf(s.ref);
          n !== -1 && e.splice(n, 1);
        }
      );
    },
    mixin(r, ...e) {
      for (const t of e)
        Object.defineProperties(
          r.prototype,
          Object.getOwnPropertyDescriptors(t)
        );
    },
  },
  SP = {
    extension: { type: D.Environment, name: "browser", priority: -1 },
    test: () => !0,
    load: async () => {
      await Je(() => Promise.resolve().then(() => dF), void 0);
    },
  },
  CP = {
    extension: { type: D.Environment, name: "webworker", priority: 0 },
    test: () => typeof self < "u" && self.WorkerGlobalScope !== void 0,
    load: async () => {
      await Je(() => Promise.resolve().then(() => hF), void 0);
    },
  };
class lr {
  constructor(e, t, s) {
    (this._x = t || 0), (this._y = s || 0), (this._observer = e);
  }
  clone(e) {
    return new lr(e ?? this._observer, this._x, this._y);
  }
  set(e = 0, t = e) {
    return (
      (this._x !== e || this._y !== t) &&
        ((this._x = e), (this._y = t), this._observer._onUpdate(this)),
      this
    );
  }
  copyFrom(e) {
    return (
      (this._x !== e.x || this._y !== e.y) &&
        ((this._x = e.x), (this._y = e.y), this._observer._onUpdate(this)),
      this
    );
  }
  copyTo(e) {
    return e.set(this._x, this._y), e;
  }
  equals(e) {
    return e.x === this._x && e.y === this._y;
  }
  toString() {
    return `[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`;
  }
  get x() {
    return this._x;
  }
  set x(e) {
    this._x !== e && ((this._x = e), this._observer._onUpdate(this));
  }
  get y() {
    return this._y;
  }
  set y(e) {
    this._y !== e && ((this._y = e), this._observer._onUpdate(this));
  }
}
var If = { exports: {} },
  Wv;
function TP() {
  return (
    Wv ||
      ((Wv = 1),
      (function (r) {
        var e = Object.prototype.hasOwnProperty,
          t = "~";
        function s() {}
        Object.create &&
          ((s.prototype = Object.create(null)), new s().__proto__ || (t = !1));
        function n(d, f, m) {
          (this.fn = d), (this.context = f), (this.once = m || !1);
        }
        function i(d, f, m, h, g) {
          if (typeof m != "function")
            throw new TypeError("The listener must be a function");
          var x = new n(m, h || d, g),
            v = t ? t + f : f;
          return (
            d._events[v]
              ? d._events[v].fn
                ? (d._events[v] = [d._events[v], x])
                : d._events[v].push(x)
              : ((d._events[v] = x), d._eventsCount++),
            d
          );
        }
        function l(d, f) {
          --d._eventsCount === 0 ? (d._events = new s()) : delete d._events[f];
        }
        function c() {
          (this._events = new s()), (this._eventsCount = 0);
        }
        (c.prototype.eventNames = function () {
          var f = [],
            m,
            h;
          if (this._eventsCount === 0) return f;
          for (h in (m = this._events))
            e.call(m, h) && f.push(t ? h.slice(1) : h);
          return Object.getOwnPropertySymbols
            ? f.concat(Object.getOwnPropertySymbols(m))
            : f;
        }),
          (c.prototype.listeners = function (f) {
            var m = t ? t + f : f,
              h = this._events[m];
            if (!h) return [];
            if (h.fn) return [h.fn];
            for (var g = 0, x = h.length, v = new Array(x); g < x; g++)
              v[g] = h[g].fn;
            return v;
          }),
          (c.prototype.listenerCount = function (f) {
            var m = t ? t + f : f,
              h = this._events[m];
            return h ? (h.fn ? 1 : h.length) : 0;
          }),
          (c.prototype.emit = function (f, m, h, g, x, v) {
            var w = t ? t + f : f;
            if (!this._events[w]) return !1;
            var _ = this._events[w],
              S = arguments.length,
              T,
              j;
            if (_.fn) {
              switch ((_.once && this.removeListener(f, _.fn, void 0, !0), S)) {
                case 1:
                  return _.fn.call(_.context), !0;
                case 2:
                  return _.fn.call(_.context, m), !0;
                case 3:
                  return _.fn.call(_.context, m, h), !0;
                case 4:
                  return _.fn.call(_.context, m, h, g), !0;
                case 5:
                  return _.fn.call(_.context, m, h, g, x), !0;
                case 6:
                  return _.fn.call(_.context, m, h, g, x, v), !0;
              }
              for (j = 1, T = new Array(S - 1); j < S; j++)
                T[j - 1] = arguments[j];
              _.fn.apply(_.context, T);
            } else {
              var E = _.length,
                A;
              for (j = 0; j < E; j++)
                switch (
                  (_[j].once && this.removeListener(f, _[j].fn, void 0, !0), S)
                ) {
                  case 1:
                    _[j].fn.call(_[j].context);
                    break;
                  case 2:
                    _[j].fn.call(_[j].context, m);
                    break;
                  case 3:
                    _[j].fn.call(_[j].context, m, h);
                    break;
                  case 4:
                    _[j].fn.call(_[j].context, m, h, g);
                    break;
                  default:
                    if (!T)
                      for (A = 1, T = new Array(S - 1); A < S; A++)
                        T[A - 1] = arguments[A];
                    _[j].fn.apply(_[j].context, T);
                }
            }
            return !0;
          }),
          (c.prototype.on = function (f, m, h) {
            return i(this, f, m, h, !1);
          }),
          (c.prototype.once = function (f, m, h) {
            return i(this, f, m, h, !0);
          }),
          (c.prototype.removeListener = function (f, m, h, g) {
            var x = t ? t + f : f;
            if (!this._events[x]) return this;
            if (!m) return l(this, x), this;
            var v = this._events[x];
            if (v.fn)
              v.fn === m &&
                (!g || v.once) &&
                (!h || v.context === h) &&
                l(this, x);
            else {
              for (var w = 0, _ = [], S = v.length; w < S; w++)
                (v[w].fn !== m ||
                  (g && !v[w].once) ||
                  (h && v[w].context !== h)) &&
                  _.push(v[w]);
              _.length
                ? (this._events[x] = _.length === 1 ? _[0] : _)
                : l(this, x);
            }
            return this;
          }),
          (c.prototype.removeAllListeners = function (f) {
            var m;
            return (
              f
                ? ((m = t ? t + f : f), this._events[m] && l(this, m))
                : ((this._events = new s()), (this._eventsCount = 0)),
              this
            );
          }),
          (c.prototype.off = c.prototype.removeListener),
          (c.prototype.addListener = c.prototype.on),
          (c.prefixed = t),
          (c.EventEmitter = c),
          (r.exports = c);
      })(If)),
    If.exports
  );
}
var EP = TP();
const nr = Vm(EP),
  jP = Math.PI * 2,
  kP = 180 / Math.PI,
  PP = Math.PI / 180;
class yt {
  constructor(e = 0, t = 0) {
    (this.x = 0), (this.y = 0), (this.x = e), (this.y = t);
  }
  clone() {
    return new yt(this.x, this.y);
  }
  copyFrom(e) {
    return this.set(e.x, e.y), this;
  }
  copyTo(e) {
    return e.set(this.x, this.y), e;
  }
  equals(e) {
    return e.x === this.x && e.y === this.y;
  }
  set(e = 0, t = e) {
    return (this.x = e), (this.y = t), this;
  }
  toString() {
    return `[pixi.js/math:Point x=${this.x} y=${this.y}]`;
  }
  static get shared() {
    return (Of.x = 0), (Of.y = 0), Of;
  }
}
const Of = new yt();
class ke {
  constructor(e = 1, t = 0, s = 0, n = 1, i = 0, l = 0) {
    (this.array = null),
      (this.a = e),
      (this.b = t),
      (this.c = s),
      (this.d = n),
      (this.tx = i),
      (this.ty = l);
  }
  fromArray(e) {
    (this.a = e[0]),
      (this.b = e[1]),
      (this.c = e[3]),
      (this.d = e[4]),
      (this.tx = e[2]),
      (this.ty = e[5]);
  }
  set(e, t, s, n, i, l) {
    return (
      (this.a = e),
      (this.b = t),
      (this.c = s),
      (this.d = n),
      (this.tx = i),
      (this.ty = l),
      this
    );
  }
  toArray(e, t) {
    this.array || (this.array = new Float32Array(9));
    const s = t || this.array;
    return (
      e
        ? ((s[0] = this.a),
          (s[1] = this.b),
          (s[2] = 0),
          (s[3] = this.c),
          (s[4] = this.d),
          (s[5] = 0),
          (s[6] = this.tx),
          (s[7] = this.ty),
          (s[8] = 1))
        : ((s[0] = this.a),
          (s[1] = this.c),
          (s[2] = this.tx),
          (s[3] = this.b),
          (s[4] = this.d),
          (s[5] = this.ty),
          (s[6] = 0),
          (s[7] = 0),
          (s[8] = 1)),
      s
    );
  }
  apply(e, t) {
    t = t || new yt();
    const s = e.x,
      n = e.y;
    return (
      (t.x = this.a * s + this.c * n + this.tx),
      (t.y = this.b * s + this.d * n + this.ty),
      t
    );
  }
  applyInverse(e, t) {
    t = t || new yt();
    const s = this.a,
      n = this.b,
      i = this.c,
      l = this.d,
      c = this.tx,
      d = this.ty,
      f = 1 / (s * l + i * -n),
      m = e.x,
      h = e.y;
    return (
      (t.x = l * f * m + -i * f * h + (d * i - c * l) * f),
      (t.y = s * f * h + -n * f * m + (-d * s + c * n) * f),
      t
    );
  }
  translate(e, t) {
    return (this.tx += e), (this.ty += t), this;
  }
  scale(e, t) {
    return (
      (this.a *= e),
      (this.d *= t),
      (this.c *= e),
      (this.b *= t),
      (this.tx *= e),
      (this.ty *= t),
      this
    );
  }
  rotate(e) {
    const t = Math.cos(e),
      s = Math.sin(e),
      n = this.a,
      i = this.c,
      l = this.tx;
    return (
      (this.a = n * t - this.b * s),
      (this.b = n * s + this.b * t),
      (this.c = i * t - this.d * s),
      (this.d = i * s + this.d * t),
      (this.tx = l * t - this.ty * s),
      (this.ty = l * s + this.ty * t),
      this
    );
  }
  append(e) {
    const t = this.a,
      s = this.b,
      n = this.c,
      i = this.d;
    return (
      (this.a = e.a * t + e.b * n),
      (this.b = e.a * s + e.b * i),
      (this.c = e.c * t + e.d * n),
      (this.d = e.c * s + e.d * i),
      (this.tx = e.tx * t + e.ty * n + this.tx),
      (this.ty = e.tx * s + e.ty * i + this.ty),
      this
    );
  }
  appendFrom(e, t) {
    const s = e.a,
      n = e.b,
      i = e.c,
      l = e.d,
      c = e.tx,
      d = e.ty,
      f = t.a,
      m = t.b,
      h = t.c,
      g = t.d;
    return (
      (this.a = s * f + n * h),
      (this.b = s * m + n * g),
      (this.c = i * f + l * h),
      (this.d = i * m + l * g),
      (this.tx = c * f + d * h + t.tx),
      (this.ty = c * m + d * g + t.ty),
      this
    );
  }
  setTransform(e, t, s, n, i, l, c, d, f) {
    return (
      (this.a = Math.cos(c + f) * i),
      (this.b = Math.sin(c + f) * i),
      (this.c = -Math.sin(c - d) * l),
      (this.d = Math.cos(c - d) * l),
      (this.tx = e - (s * this.a + n * this.c)),
      (this.ty = t - (s * this.b + n * this.d)),
      this
    );
  }
  prepend(e) {
    const t = this.tx;
    if (e.a !== 1 || e.b !== 0 || e.c !== 0 || e.d !== 1) {
      const s = this.a,
        n = this.c;
      (this.a = s * e.a + this.b * e.c),
        (this.b = s * e.b + this.b * e.d),
        (this.c = n * e.a + this.d * e.c),
        (this.d = n * e.b + this.d * e.d);
    }
    return (
      (this.tx = t * e.a + this.ty * e.c + e.tx),
      (this.ty = t * e.b + this.ty * e.d + e.ty),
      this
    );
  }
  decompose(e) {
    const t = this.a,
      s = this.b,
      n = this.c,
      i = this.d,
      l = e.pivot,
      c = -Math.atan2(-n, i),
      d = Math.atan2(s, t),
      f = Math.abs(c + d);
    return (
      f < 1e-5 || Math.abs(jP - f) < 1e-5
        ? ((e.rotation = d), (e.skew.x = e.skew.y = 0))
        : ((e.rotation = 0), (e.skew.x = c), (e.skew.y = d)),
      (e.scale.x = Math.sqrt(t * t + s * s)),
      (e.scale.y = Math.sqrt(n * n + i * i)),
      (e.position.x = this.tx + (l.x * t + l.y * n)),
      (e.position.y = this.ty + (l.x * s + l.y * i)),
      e
    );
  }
  invert() {
    const e = this.a,
      t = this.b,
      s = this.c,
      n = this.d,
      i = this.tx,
      l = e * n - t * s;
    return (
      (this.a = n / l),
      (this.b = -t / l),
      (this.c = -s / l),
      (this.d = e / l),
      (this.tx = (s * this.ty - n * i) / l),
      (this.ty = -(e * this.ty - t * i) / l),
      this
    );
  }
  isIdentity() {
    return (
      this.a === 1 &&
      this.b === 0 &&
      this.c === 0 &&
      this.d === 1 &&
      this.tx === 0 &&
      this.ty === 0
    );
  }
  identity() {
    return (
      (this.a = 1),
      (this.b = 0),
      (this.c = 0),
      (this.d = 1),
      (this.tx = 0),
      (this.ty = 0),
      this
    );
  }
  clone() {
    const e = new ke();
    return (
      (e.a = this.a),
      (e.b = this.b),
      (e.c = this.c),
      (e.d = this.d),
      (e.tx = this.tx),
      (e.ty = this.ty),
      e
    );
  }
  copyTo(e) {
    return (
      (e.a = this.a),
      (e.b = this.b),
      (e.c = this.c),
      (e.d = this.d),
      (e.tx = this.tx),
      (e.ty = this.ty),
      e
    );
  }
  copyFrom(e) {
    return (
      (this.a = e.a),
      (this.b = e.b),
      (this.c = e.c),
      (this.d = e.d),
      (this.tx = e.tx),
      (this.ty = e.ty),
      this
    );
  }
  equals(e) {
    return (
      e.a === this.a &&
      e.b === this.b &&
      e.c === this.c &&
      e.d === this.d &&
      e.tx === this.tx &&
      e.ty === this.ty
    );
  }
  toString() {
    return `[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;
  }
  static get IDENTITY() {
    return MP.identity();
  }
  static get shared() {
    return AP.identity();
  }
}
const AP = new ke(),
  MP = new ke(),
  gi = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
  xi = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
  yi = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
  vi = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
  cm = [],
  A2 = [],
  Nc = Math.sign;
function NP() {
  for (let r = 0; r < 16; r++) {
    const e = [];
    cm.push(e);
    for (let t = 0; t < 16; t++) {
      const s = Nc(gi[r] * gi[t] + yi[r] * xi[t]),
        n = Nc(xi[r] * gi[t] + vi[r] * xi[t]),
        i = Nc(gi[r] * yi[t] + yi[r] * vi[t]),
        l = Nc(xi[r] * yi[t] + vi[r] * vi[t]);
      for (let c = 0; c < 16; c++)
        if (gi[c] === s && xi[c] === n && yi[c] === i && vi[c] === l) {
          e.push(c);
          break;
        }
    }
  }
  for (let r = 0; r < 16; r++) {
    const e = new ke();
    e.set(gi[r], xi[r], yi[r], vi[r], 0, 0), A2.push(e);
  }
}
NP();
const pt = {
    E: 0,
    SE: 1,
    S: 2,
    SW: 3,
    W: 4,
    NW: 5,
    N: 6,
    NE: 7,
    MIRROR_VERTICAL: 8,
    MAIN_DIAGONAL: 10,
    MIRROR_HORIZONTAL: 12,
    REVERSE_DIAGONAL: 14,
    uX: (r) => gi[r],
    uY: (r) => xi[r],
    vX: (r) => yi[r],
    vY: (r) => vi[r],
    inv: (r) => (r & 8 ? r & 15 : -r & 7),
    add: (r, e) => cm[r][e],
    sub: (r, e) => cm[r][pt.inv(e)],
    rotate180: (r) => r ^ 4,
    isVertical: (r) => (r & 3) === 2,
    byDirection: (r, e) =>
      Math.abs(r) * 2 <= Math.abs(e)
        ? e >= 0
          ? pt.S
          : pt.N
        : Math.abs(e) * 2 <= Math.abs(r)
        ? r > 0
          ? pt.E
          : pt.W
        : e > 0
        ? r > 0
          ? pt.SE
          : pt.SW
        : r > 0
        ? pt.NE
        : pt.NW,
    matrixAppendRotationInv: (r, e, t = 0, s = 0) => {
      const n = A2[pt.inv(e)];
      (n.tx = t), (n.ty = s), r.append(n);
    },
    transformRectCoords: (r, e, t, s) => {
      const { x: n, y: i, width: l, height: c } = r,
        { x: d, y: f, width: m, height: h } = e;
      return t === pt.E
        ? (s.set(n + d, i + f, l, c), s)
        : t === pt.S
        ? s.set(m - i - c + d, n + f, c, l)
        : t === pt.W
        ? s.set(m - n - l + d, h - i - c + f, l, c)
        : t === pt.N
        ? s.set(i + d, h - n - l + f, c, l)
        : s.set(n + d, i + f, l, c);
    },
  },
  Rc = [new yt(), new yt(), new yt(), new yt()];
class ct {
  constructor(e = 0, t = 0, s = 0, n = 0) {
    (this.type = "rectangle"),
      (this.x = Number(e)),
      (this.y = Number(t)),
      (this.width = Number(s)),
      (this.height = Number(n));
  }
  get left() {
    return this.x;
  }
  get right() {
    return this.x + this.width;
  }
  get top() {
    return this.y;
  }
  get bottom() {
    return this.y + this.height;
  }
  isEmpty() {
    return this.left === this.right || this.top === this.bottom;
  }
  static get EMPTY() {
    return new ct(0, 0, 0, 0);
  }
  clone() {
    return new ct(this.x, this.y, this.width, this.height);
  }
  copyFromBounds(e) {
    return (
      (this.x = e.minX),
      (this.y = e.minY),
      (this.width = e.maxX - e.minX),
      (this.height = e.maxY - e.minY),
      this
    );
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.width = e.width),
      (this.height = e.height),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  contains(e, t) {
    return this.width <= 0 || this.height <= 0
      ? !1
      : e >= this.x &&
          e < this.x + this.width &&
          t >= this.y &&
          t < this.y + this.height;
  }
  strokeContains(e, t, s, n = 0.5) {
    const { width: i, height: l } = this;
    if (i <= 0 || l <= 0) return !1;
    const c = this.x,
      d = this.y,
      f = s * (1 - n),
      m = s - f,
      h = c - f,
      g = c + i + f,
      x = d - f,
      v = d + l + f,
      w = c + m,
      _ = c + i - m,
      S = d + m,
      T = d + l - m;
    return (
      e >= h &&
      e <= g &&
      t >= x &&
      t <= v &&
      !(e > w && e < _ && t > S && t < T)
    );
  }
  intersects(e, t) {
    if (!t) {
      const R = this.x < e.x ? e.x : this.x;
      if ((this.right > e.right ? e.right : this.right) <= R) return !1;
      const U = this.y < e.y ? e.y : this.y;
      return (this.bottom > e.bottom ? e.bottom : this.bottom) > U;
    }
    const s = this.left,
      n = this.right,
      i = this.top,
      l = this.bottom;
    if (n <= s || l <= i) return !1;
    const c = Rc[0].set(e.left, e.top),
      d = Rc[1].set(e.left, e.bottom),
      f = Rc[2].set(e.right, e.top),
      m = Rc[3].set(e.right, e.bottom);
    if (f.x <= c.x || d.y <= c.y) return !1;
    const h = Math.sign(t.a * t.d - t.b * t.c);
    if (
      h === 0 ||
      (t.apply(c, c),
      t.apply(d, d),
      t.apply(f, f),
      t.apply(m, m),
      Math.max(c.x, d.x, f.x, m.x) <= s ||
        Math.min(c.x, d.x, f.x, m.x) >= n ||
        Math.max(c.y, d.y, f.y, m.y) <= i ||
        Math.min(c.y, d.y, f.y, m.y) >= l)
    )
      return !1;
    const g = h * (d.y - c.y),
      x = h * (c.x - d.x),
      v = g * s + x * i,
      w = g * n + x * i,
      _ = g * s + x * l,
      S = g * n + x * l;
    if (
      Math.max(v, w, _, S) <= g * c.x + x * c.y ||
      Math.min(v, w, _, S) >= g * m.x + x * m.y
    )
      return !1;
    const T = h * (c.y - f.y),
      j = h * (f.x - c.x),
      E = T * s + j * i,
      A = T * n + j * i,
      M = T * s + j * l,
      N = T * n + j * l;
    return !(
      Math.max(E, A, M, N) <= T * c.x + j * c.y ||
      Math.min(E, A, M, N) >= T * m.x + j * m.y
    );
  }
  pad(e = 0, t = e) {
    return (
      (this.x -= e),
      (this.y -= t),
      (this.width += e * 2),
      (this.height += t * 2),
      this
    );
  }
  fit(e) {
    const t = Math.max(this.x, e.x),
      s = Math.min(this.x + this.width, e.x + e.width),
      n = Math.max(this.y, e.y),
      i = Math.min(this.y + this.height, e.y + e.height);
    return (
      (this.x = t),
      (this.width = Math.max(s - t, 0)),
      (this.y = n),
      (this.height = Math.max(i - n, 0)),
      this
    );
  }
  ceil(e = 1, t = 0.001) {
    const s = Math.ceil((this.x + this.width - t) * e) / e,
      n = Math.ceil((this.y + this.height - t) * e) / e;
    return (
      (this.x = Math.floor((this.x + t) * e) / e),
      (this.y = Math.floor((this.y + t) * e) / e),
      (this.width = s - this.x),
      (this.height = n - this.y),
      this
    );
  }
  scale(e, t = e) {
    return (
      (this.x *= e), (this.y *= t), (this.width *= e), (this.height *= t), this
    );
  }
  enlarge(e) {
    const t = Math.min(this.x, e.x),
      s = Math.max(this.x + this.width, e.x + e.width),
      n = Math.min(this.y, e.y),
      i = Math.max(this.y + this.height, e.y + e.height);
    return (
      (this.x = t),
      (this.width = s - t),
      (this.y = n),
      (this.height = i - n),
      this
    );
  }
  getBounds(e) {
    return e || (e = new ct()), e.copyFrom(this), e;
  }
  containsRect(e) {
    if (this.width <= 0 || this.height <= 0) return !1;
    const t = e.x,
      s = e.y,
      n = e.x + e.width,
      i = e.y + e.height;
    return (
      t >= this.x &&
      t < this.x + this.width &&
      s >= this.y &&
      s < this.y + this.height &&
      n >= this.x &&
      n < this.x + this.width &&
      i >= this.y &&
      i < this.y + this.height
    );
  }
  set(e, t, s, n) {
    return (
      (this.x = e), (this.y = t), (this.width = s), (this.height = n), this
    );
  }
  toString() {
    return `[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}
const Lf = { default: -1 };
function St(r = "default") {
  return Lf[r] === void 0 && (Lf[r] = -1), ++Lf[r];
}
const Vv = {},
  st = "8.0.0",
  RP = "8.3.4";
function De(r, e, t = 3) {
  if (Vv[e]) return;
  let s = new Error().stack;
  typeof s > "u"
    ? console.warn(
        "PixiJS Deprecation Warning: ",
        `${e}
Deprecated since v${r}`
      )
    : ((s = s
        .split(
          `
`
        )
        .splice(t).join(`
`)),
      console.groupCollapsed
        ? (console.groupCollapsed(
            "%cPixiJS Deprecation Warning: %c%s",
            "color:#614108;background:#fffbe6",
            "font-weight:normal;color:#614108;background:#fffbe6",
            `${e}
Deprecated since v${r}`
          ),
          console.warn(s),
          console.groupEnd())
        : (console.warn(
            "PixiJS Deprecation Warning: ",
            `${e}
Deprecated since v${r}`
          ),
          console.warn(s))),
    (Vv[e] = !0);
}
const M2 = () => {};
function _a(r) {
  return (
    (r += r === 0 ? 1 : 0),
    --r,
    (r |= r >>> 1),
    (r |= r >>> 2),
    (r |= r >>> 4),
    (r |= r >>> 8),
    (r |= r >>> 16),
    r + 1
  );
}
function qv(r) {
  return !(r & (r - 1)) && !!r;
}
function N2(r) {
  const e = {};
  for (const t in r) r[t] !== void 0 && (e[t] = r[t]);
  return e;
}
const Xv = Object.create(null);
function BP(r) {
  const e = Xv[r];
  return e === void 0 && (Xv[r] = St("resource")), e;
}
const R2 = class B2 extends nr {
  constructor(e = {}) {
    super(),
      (this._resourceType = "textureSampler"),
      (this._touched = 0),
      (this._maxAnisotropy = 1),
      (this.destroyed = !1),
      (e = { ...B2.defaultOptions, ...e }),
      (this.addressMode = e.addressMode),
      (this.addressModeU = e.addressModeU ?? this.addressModeU),
      (this.addressModeV = e.addressModeV ?? this.addressModeV),
      (this.addressModeW = e.addressModeW ?? this.addressModeW),
      (this.scaleMode = e.scaleMode),
      (this.magFilter = e.magFilter ?? this.magFilter),
      (this.minFilter = e.minFilter ?? this.minFilter),
      (this.mipmapFilter = e.mipmapFilter ?? this.mipmapFilter),
      (this.lodMinClamp = e.lodMinClamp),
      (this.lodMaxClamp = e.lodMaxClamp),
      (this.compare = e.compare),
      (this.maxAnisotropy = e.maxAnisotropy ?? 1);
  }
  set addressMode(e) {
    (this.addressModeU = e), (this.addressModeV = e), (this.addressModeW = e);
  }
  get addressMode() {
    return this.addressModeU;
  }
  set wrapMode(e) {
    De(st, "TextureStyle.wrapMode is now TextureStyle.addressMode"),
      (this.addressMode = e);
  }
  get wrapMode() {
    return this.addressMode;
  }
  set scaleMode(e) {
    (this.magFilter = e), (this.minFilter = e), (this.mipmapFilter = e);
  }
  get scaleMode() {
    return this.magFilter;
  }
  set maxAnisotropy(e) {
    (this._maxAnisotropy = Math.min(e, 16)),
      this._maxAnisotropy > 1 && (this.scaleMode = "linear");
  }
  get maxAnisotropy() {
    return this._maxAnisotropy;
  }
  get _resourceId() {
    return this._sharedResourceId || this._generateResourceId();
  }
  update() {
    this.emit("change", this), (this._sharedResourceId = null);
  }
  _generateResourceId() {
    const e = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;
    return (this._sharedResourceId = BP(e)), this._resourceId;
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      this.removeAllListeners();
  }
};
R2.defaultOptions = { addressMode: "clamp-to-edge", scaleMode: "linear" };
let $s = R2;
const F2 = class I2 extends nr {
  constructor(e = {}) {
    super(),
      (this.options = e),
      (this.uid = St("textureSource")),
      (this._resourceType = "textureSource"),
      (this._resourceId = St("resource")),
      (this.uploadMethodId = "unknown"),
      (this._resolution = 1),
      (this.pixelWidth = 1),
      (this.pixelHeight = 1),
      (this.width = 1),
      (this.height = 1),
      (this.sampleCount = 1),
      (this.mipLevelCount = 1),
      (this.autoGenerateMipmaps = !1),
      (this.format = "rgba8unorm"),
      (this.dimension = "2d"),
      (this.antialias = !1),
      (this._touched = 0),
      (this._batchTick = -1),
      (this._textureBindLocation = -1),
      (e = { ...I2.defaultOptions, ...e }),
      (this.label = e.label ?? ""),
      (this.resource = e.resource),
      (this.autoGarbageCollect = e.autoGarbageCollect),
      (this._resolution = e.resolution),
      e.width
        ? (this.pixelWidth = e.width * this._resolution)
        : (this.pixelWidth = this.resource ? this.resourceWidth ?? 1 : 1),
      e.height
        ? (this.pixelHeight = e.height * this._resolution)
        : (this.pixelHeight = this.resource ? this.resourceHeight ?? 1 : 1),
      (this.width = this.pixelWidth / this._resolution),
      (this.height = this.pixelHeight / this._resolution),
      (this.format = e.format),
      (this.dimension = e.dimensions),
      (this.mipLevelCount = e.mipLevelCount),
      (this.autoGenerateMipmaps = e.autoGenerateMipmaps),
      (this.sampleCount = e.sampleCount),
      (this.antialias = e.antialias),
      (this.alphaMode = e.alphaMode),
      (this.style = new $s(N2(e))),
      (this.destroyed = !1),
      this._refreshPOT();
  }
  get source() {
    return this;
  }
  get style() {
    return this._style;
  }
  set style(e) {
    this.style !== e &&
      (this._style?.off("change", this._onStyleChange, this),
      (this._style = e),
      this._style?.on("change", this._onStyleChange, this),
      this._onStyleChange());
  }
  set maxAnisotropy(e) {
    this._style.maxAnisotropy = e;
  }
  get maxAnisotropy() {
    return this._style.maxAnisotropy;
  }
  get addressMode() {
    return this._style.addressMode;
  }
  set addressMode(e) {
    this._style.addressMode = e;
  }
  get repeatMode() {
    return this._style.addressMode;
  }
  set repeatMode(e) {
    this._style.addressMode = e;
  }
  get magFilter() {
    return this._style.magFilter;
  }
  set magFilter(e) {
    this._style.magFilter = e;
  }
  get minFilter() {
    return this._style.minFilter;
  }
  set minFilter(e) {
    this._style.minFilter = e;
  }
  get mipmapFilter() {
    return this._style.mipmapFilter;
  }
  set mipmapFilter(e) {
    this._style.mipmapFilter = e;
  }
  get lodMinClamp() {
    return this._style.lodMinClamp;
  }
  set lodMinClamp(e) {
    this._style.lodMinClamp = e;
  }
  get lodMaxClamp() {
    return this._style.lodMaxClamp;
  }
  set lodMaxClamp(e) {
    this._style.lodMaxClamp = e;
  }
  _onStyleChange() {
    this.emit("styleChange", this);
  }
  update() {
    if (this.resource) {
      const e = this._resolution;
      if (this.resize(this.resourceWidth / e, this.resourceHeight / e)) return;
    }
    this.emit("update", this);
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      this._style && (this._style.destroy(), (this._style = null)),
      (this.uploadMethodId = null),
      (this.resource = null),
      this.removeAllListeners();
  }
  unload() {
    (this._resourceId = St("resource")),
      this.emit("change", this),
      this.emit("unload", this);
  }
  get resourceWidth() {
    const { resource: e } = this;
    return e.naturalWidth || e.videoWidth || e.displayWidth || e.width;
  }
  get resourceHeight() {
    const { resource: e } = this;
    return e.naturalHeight || e.videoHeight || e.displayHeight || e.height;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(e) {
    this._resolution !== e &&
      ((this._resolution = e),
      (this.width = this.pixelWidth / e),
      (this.height = this.pixelHeight / e));
  }
  resize(e, t, s) {
    s || (s = this._resolution), e || (e = this.width), t || (t = this.height);
    const n = Math.round(e * s),
      i = Math.round(t * s);
    return (
      (this.width = n / s),
      (this.height = i / s),
      (this._resolution = s),
      this.pixelWidth === n && this.pixelHeight === i
        ? !1
        : (this._refreshPOT(),
          (this.pixelWidth = n),
          (this.pixelHeight = i),
          this.emit("resize", this),
          (this._resourceId = St("resource")),
          this.emit("change", this),
          !0)
    );
  }
  updateMipmaps() {
    this.autoGenerateMipmaps &&
      this.mipLevelCount > 1 &&
      this.emit("updateMipmaps", this);
  }
  set wrapMode(e) {
    this._style.wrapMode = e;
  }
  get wrapMode() {
    return this._style.wrapMode;
  }
  set scaleMode(e) {
    this._style.scaleMode = e;
  }
  get scaleMode() {
    return this._style.scaleMode;
  }
  _refreshPOT() {
    this.isPowerOfTwo = qv(this.pixelWidth) && qv(this.pixelHeight);
  }
  static test(e) {
    throw new Error("Unimplemented");
  }
};
F2.defaultOptions = {
  resolution: 1,
  format: "bgra8unorm",
  alphaMode: "premultiply-alpha-on-upload",
  dimensions: "2d",
  mipLevelCount: 1,
  autoGenerateMipmaps: !1,
  sampleCount: 1,
  antialias: !1,
  autoGarbageCollect: !1,
};
let Yt = F2;
class eg extends Yt {
  constructor(e) {
    const t = e.resource || new Float32Array(e.width * e.height * 4);
    let s = e.format;
    s ||
      (t instanceof Float32Array
        ? (s = "rgba32float")
        : t instanceof Int32Array || t instanceof Uint32Array
        ? (s = "rgba32uint")
        : t instanceof Int16Array || t instanceof Uint16Array
        ? (s = "rgba16uint")
        : (t instanceof Int8Array, (s = "bgra8unorm"))),
      super({ ...e, resource: t, format: s }),
      (this.uploadMethodId = "buffer");
  }
  static test(e) {
    return (
      e instanceof Int8Array ||
      e instanceof Uint8Array ||
      e instanceof Uint8ClampedArray ||
      e instanceof Int16Array ||
      e instanceof Uint16Array ||
      e instanceof Int32Array ||
      e instanceof Uint32Array ||
      e instanceof Float32Array
    );
  }
}
eg.extension = D.TextureSource;
const Yv = new ke();
class O2 {
  constructor(e, t) {
    (this.mapCoord = new ke()),
      (this.uClampFrame = new Float32Array(4)),
      (this.uClampOffset = new Float32Array(2)),
      (this._textureID = -1),
      (this._updateID = 0),
      (this.clampOffset = 0),
      typeof t > "u"
        ? (this.clampMargin = e.width < 10 ? 0 : 0.5)
        : (this.clampMargin = t),
      (this.isSimple = !1),
      (this.texture = e);
  }
  get texture() {
    return this._texture;
  }
  set texture(e) {
    this.texture !== e &&
      (this._texture?.removeListener("update", this.update, this),
      (this._texture = e),
      this._texture.addListener("update", this.update, this),
      this.update());
  }
  multiplyUvs(e, t) {
    t === void 0 && (t = e);
    const s = this.mapCoord;
    for (let n = 0; n < e.length; n += 2) {
      const i = e[n],
        l = e[n + 1];
      (t[n] = i * s.a + l * s.c + s.tx), (t[n + 1] = i * s.b + l * s.d + s.ty);
    }
    return t;
  }
  update() {
    const e = this._texture;
    this._updateID++;
    const t = e.uvs;
    this.mapCoord.set(
      t.x1 - t.x0,
      t.y1 - t.y0,
      t.x3 - t.x0,
      t.y3 - t.y0,
      t.x0,
      t.y0
    );
    const s = e.orig,
      n = e.trim;
    n &&
      (Yv.set(
        s.width / n.width,
        0,
        0,
        s.height / n.height,
        -n.x / n.width,
        -n.y / n.height
      ),
      this.mapCoord.append(Yv));
    const i = e.source,
      l = this.uClampFrame,
      c = this.clampMargin / i._resolution,
      d = this.clampOffset / i._resolution;
    return (
      (l[0] = (e.frame.x + c + d) / i.width),
      (l[1] = (e.frame.y + c + d) / i.height),
      (l[2] = (e.frame.x + e.frame.width - c + d) / i.width),
      (l[3] = (e.frame.y + e.frame.height - c + d) / i.height),
      (this.uClampOffset[0] = this.clampOffset / i.pixelWidth),
      (this.uClampOffset[1] = this.clampOffset / i.pixelHeight),
      (this.isSimple =
        e.frame.width === i.width &&
        e.frame.height === i.height &&
        e.rotate === 0),
      !0
    );
  }
}
class Se extends nr {
  constructor({
    source: e,
    label: t,
    frame: s,
    orig: n,
    trim: i,
    defaultAnchor: l,
    defaultBorders: c,
    rotate: d,
    dynamic: f,
  } = {}) {
    if (
      (super(),
      (this.uid = St("texture")),
      (this.uvs = { x0: 0, y0: 0, x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0 }),
      (this.frame = new ct()),
      (this.noFrame = !1),
      (this.dynamic = !1),
      (this.isTexture = !0),
      (this.label = t),
      (this.source = e?.source ?? new Yt()),
      (this.noFrame = !s),
      s)
    )
      this.frame.copyFrom(s);
    else {
      const { width: m, height: h } = this._source;
      (this.frame.width = m), (this.frame.height = h);
    }
    (this.orig = n || this.frame),
      (this.trim = i),
      (this.rotate = d ?? 0),
      (this.defaultAnchor = l),
      (this.defaultBorders = c),
      (this.destroyed = !1),
      (this.dynamic = f || !1),
      this.updateUvs();
  }
  set source(e) {
    this._source && this._source.off("resize", this.update, this),
      (this._source = e),
      e.on("resize", this.update, this),
      this.emit("update", this);
  }
  get source() {
    return this._source;
  }
  get textureMatrix() {
    return (
      this._textureMatrix || (this._textureMatrix = new O2(this)),
      this._textureMatrix
    );
  }
  get width() {
    return this.orig.width;
  }
  get height() {
    return this.orig.height;
  }
  updateUvs() {
    const { uvs: e, frame: t } = this,
      { width: s, height: n } = this._source,
      i = t.x / s,
      l = t.y / n,
      c = t.width / s,
      d = t.height / n;
    let f = this.rotate;
    if (f) {
      const m = c / 2,
        h = d / 2,
        g = i + m,
        x = l + h;
      (f = pt.add(f, pt.NW)),
        (e.x0 = g + m * pt.uX(f)),
        (e.y0 = x + h * pt.uY(f)),
        (f = pt.add(f, 2)),
        (e.x1 = g + m * pt.uX(f)),
        (e.y1 = x + h * pt.uY(f)),
        (f = pt.add(f, 2)),
        (e.x2 = g + m * pt.uX(f)),
        (e.y2 = x + h * pt.uY(f)),
        (f = pt.add(f, 2)),
        (e.x3 = g + m * pt.uX(f)),
        (e.y3 = x + h * pt.uY(f));
    } else
      (e.x0 = i),
        (e.y0 = l),
        (e.x1 = i + c),
        (e.y1 = l),
        (e.x2 = i + c),
        (e.y2 = l + d),
        (e.x3 = i),
        (e.y3 = l + d);
  }
  destroy(e = !1) {
    this._source && e && (this._source.destroy(), (this._source = null)),
      (this._textureMatrix = null),
      (this.destroyed = !0),
      this.emit("destroy", this),
      this.removeAllListeners();
  }
  update() {
    this.noFrame &&
      ((this.frame.width = this._source.width),
      (this.frame.height = this._source.height)),
      this.updateUvs(),
      this.emit("update", this);
  }
  get baseTexture() {
    return De(st, "Texture.baseTexture is now Texture.source"), this._source;
  }
}
Se.EMPTY = new Se({ label: "EMPTY", source: new Yt({ label: "EMPTY" }) });
Se.EMPTY.destroy = M2;
Se.WHITE = new Se({
  source: new eg({
    resource: new Uint8Array([255, 255, 255, 255]),
    width: 1,
    height: 1,
    alphaMode: "premultiply-alpha-on-upload",
    label: "WHITE",
  }),
  label: "WHITE",
});
Se.WHITE.destroy = M2;
function L2(r, e, t) {
  const { width: s, height: n } = t.orig,
    i = t.trim;
  if (i) {
    const l = i.width,
      c = i.height;
    (r.minX = i.x - e._x * s),
      (r.maxX = r.minX + l),
      (r.minY = i.y - e._y * n),
      (r.maxY = r.minY + c);
  } else
    (r.minX = -e._x * s),
      (r.maxX = r.minX + s),
      (r.minY = -e._y * n),
      (r.maxY = r.minY + n);
}
const Kv = new ke();
class wr {
  constructor(e = 1 / 0, t = 1 / 0, s = -1 / 0, n = -1 / 0) {
    (this.minX = 1 / 0),
      (this.minY = 1 / 0),
      (this.maxX = -1 / 0),
      (this.maxY = -1 / 0),
      (this.matrix = Kv),
      (this.minX = e),
      (this.minY = t),
      (this.maxX = s),
      (this.maxY = n);
  }
  isEmpty() {
    return this.minX > this.maxX || this.minY > this.maxY;
  }
  get rectangle() {
    this._rectangle || (this._rectangle = new ct());
    const e = this._rectangle;
    return (
      this.minX > this.maxX || this.minY > this.maxY
        ? ((e.x = 0), (e.y = 0), (e.width = 0), (e.height = 0))
        : e.copyFromBounds(this),
      e
    );
  }
  clear() {
    return (
      (this.minX = 1 / 0),
      (this.minY = 1 / 0),
      (this.maxX = -1 / 0),
      (this.maxY = -1 / 0),
      (this.matrix = Kv),
      this
    );
  }
  set(e, t, s, n) {
    (this.minX = e), (this.minY = t), (this.maxX = s), (this.maxY = n);
  }
  addFrame(e, t, s, n, i) {
    i || (i = this.matrix);
    const l = i.a,
      c = i.b,
      d = i.c,
      f = i.d,
      m = i.tx,
      h = i.ty;
    let g = this.minX,
      x = this.minY,
      v = this.maxX,
      w = this.maxY,
      _ = l * e + d * t + m,
      S = c * e + f * t + h;
    _ < g && (g = _),
      S < x && (x = S),
      _ > v && (v = _),
      S > w && (w = S),
      (_ = l * s + d * t + m),
      (S = c * s + f * t + h),
      _ < g && (g = _),
      S < x && (x = S),
      _ > v && (v = _),
      S > w && (w = S),
      (_ = l * e + d * n + m),
      (S = c * e + f * n + h),
      _ < g && (g = _),
      S < x && (x = S),
      _ > v && (v = _),
      S > w && (w = S),
      (_ = l * s + d * n + m),
      (S = c * s + f * n + h),
      _ < g && (g = _),
      S < x && (x = S),
      _ > v && (v = _),
      S > w && (w = S),
      (this.minX = g),
      (this.minY = x),
      (this.maxX = v),
      (this.maxY = w);
  }
  addRect(e, t) {
    this.addFrame(e.x, e.y, e.x + e.width, e.y + e.height, t);
  }
  addBounds(e, t) {
    this.addFrame(e.minX, e.minY, e.maxX, e.maxY, t);
  }
  addBoundsMask(e) {
    (this.minX = this.minX > e.minX ? this.minX : e.minX),
      (this.minY = this.minY > e.minY ? this.minY : e.minY),
      (this.maxX = this.maxX < e.maxX ? this.maxX : e.maxX),
      (this.maxY = this.maxY < e.maxY ? this.maxY : e.maxY);
  }
  applyMatrix(e) {
    const t = this.minX,
      s = this.minY,
      n = this.maxX,
      i = this.maxY,
      { a: l, b: c, c: d, d: f, tx: m, ty: h } = e;
    let g = l * t + d * s + m,
      x = c * t + f * s + h;
    (this.minX = g),
      (this.minY = x),
      (this.maxX = g),
      (this.maxY = x),
      (g = l * n + d * s + m),
      (x = c * n + f * s + h),
      (this.minX = g < this.minX ? g : this.minX),
      (this.minY = x < this.minY ? x : this.minY),
      (this.maxX = g > this.maxX ? g : this.maxX),
      (this.maxY = x > this.maxY ? x : this.maxY),
      (g = l * t + d * i + m),
      (x = c * t + f * i + h),
      (this.minX = g < this.minX ? g : this.minX),
      (this.minY = x < this.minY ? x : this.minY),
      (this.maxX = g > this.maxX ? g : this.maxX),
      (this.maxY = x > this.maxY ? x : this.maxY),
      (g = l * n + d * i + m),
      (x = c * n + f * i + h),
      (this.minX = g < this.minX ? g : this.minX),
      (this.minY = x < this.minY ? x : this.minY),
      (this.maxX = g > this.maxX ? g : this.maxX),
      (this.maxY = x > this.maxY ? x : this.maxY);
  }
  fit(e) {
    return (
      this.minX < e.left && (this.minX = e.left),
      this.maxX > e.right && (this.maxX = e.right),
      this.minY < e.top && (this.minY = e.top),
      this.maxY > e.bottom && (this.maxY = e.bottom),
      this
    );
  }
  fitBounds(e, t, s, n) {
    return (
      this.minX < e && (this.minX = e),
      this.maxX > t && (this.maxX = t),
      this.minY < s && (this.minY = s),
      this.maxY > n && (this.maxY = n),
      this
    );
  }
  pad(e, t = e) {
    return (
      (this.minX -= e),
      (this.maxX += e),
      (this.minY -= t),
      (this.maxY += t),
      this
    );
  }
  ceil() {
    return (
      (this.minX = Math.floor(this.minX)),
      (this.minY = Math.floor(this.minY)),
      (this.maxX = Math.ceil(this.maxX)),
      (this.maxY = Math.ceil(this.maxY)),
      this
    );
  }
  clone() {
    return new wr(this.minX, this.minY, this.maxX, this.maxY);
  }
  scale(e, t = e) {
    return (
      (this.minX *= e),
      (this.minY *= t),
      (this.maxX *= e),
      (this.maxY *= t),
      this
    );
  }
  get x() {
    return this.minX;
  }
  set x(e) {
    const t = this.maxX - this.minX;
    (this.minX = e), (this.maxX = e + t);
  }
  get y() {
    return this.minY;
  }
  set y(e) {
    const t = this.maxY - this.minY;
    (this.minY = e), (this.maxY = e + t);
  }
  get width() {
    return this.maxX - this.minX;
  }
  set width(e) {
    this.maxX = this.minX + e;
  }
  get height() {
    return this.maxY - this.minY;
  }
  set height(e) {
    this.maxY = this.minY + e;
  }
  get left() {
    return this.minX;
  }
  get right() {
    return this.maxX;
  }
  get top() {
    return this.minY;
  }
  get bottom() {
    return this.maxY;
  }
  get isPositive() {
    return this.maxX - this.minX > 0 && this.maxY - this.minY > 0;
  }
  get isValid() {
    return this.minX + this.minY !== 1 / 0;
  }
  addVertexData(e, t, s, n) {
    let i = this.minX,
      l = this.minY,
      c = this.maxX,
      d = this.maxY;
    n || (n = this.matrix);
    const f = n.a,
      m = n.b,
      h = n.c,
      g = n.d,
      x = n.tx,
      v = n.ty;
    for (let w = t; w < s; w += 2) {
      const _ = e[w],
        S = e[w + 1],
        T = f * _ + h * S + x,
        j = m * _ + g * S + v;
      (i = T < i ? T : i),
        (l = j < l ? j : l),
        (c = T > c ? T : c),
        (d = j > d ? j : d);
    }
    (this.minX = i), (this.minY = l), (this.maxX = c), (this.maxY = d);
  }
  containsPoint(e, t) {
    return this.minX <= e && this.minY <= t && this.maxX >= e && this.maxY >= t;
  }
  toString() {
    return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`;
  }
  copyFrom(e) {
    return (
      (this.minX = e.minX),
      (this.minY = e.minY),
      (this.maxX = e.maxX),
      (this.maxY = e.maxY),
      this
    );
  }
}
var FP = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) },
  sn = function (r) {
    return typeof r == "string" ? r.length > 0 : typeof r == "number";
  },
  er = function (r, e, t) {
    return (
      e === void 0 && (e = 0),
      t === void 0 && (t = Math.pow(10, e)),
      Math.round(t * r) / t + 0
    );
  },
  as = function (r, e, t) {
    return (
      e === void 0 && (e = 0),
      t === void 0 && (t = 1),
      r > t ? t : r > e ? r : e
    );
  },
  D2 = function (r) {
    return (r = isFinite(r) ? r % 360 : 0) > 0 ? r : r + 360;
  },
  Qv = function (r) {
    return {
      r: as(r.r, 0, 255),
      g: as(r.g, 0, 255),
      b: as(r.b, 0, 255),
      a: as(r.a),
    };
  },
  Df = function (r) {
    return { r: er(r.r), g: er(r.g), b: er(r.b), a: er(r.a, 3) };
  },
  IP = /^#([0-9a-f]{3,8})$/i,
  Bc = function (r) {
    var e = r.toString(16);
    return e.length < 2 ? "0" + e : e;
  },
  U2 = function (r) {
    var e = r.r,
      t = r.g,
      s = r.b,
      n = r.a,
      i = Math.max(e, t, s),
      l = i - Math.min(e, t, s),
      c = l
        ? i === e
          ? (t - s) / l
          : i === t
          ? 2 + (s - e) / l
          : 4 + (e - t) / l
        : 0;
    return {
      h: 60 * (c < 0 ? c + 6 : c),
      s: i ? (l / i) * 100 : 0,
      v: (i / 255) * 100,
      a: n,
    };
  },
  z2 = function (r) {
    var e = r.h,
      t = r.s,
      s = r.v,
      n = r.a;
    (e = (e / 360) * 6), (t /= 100), (s /= 100);
    var i = Math.floor(e),
      l = s * (1 - t),
      c = s * (1 - (e - i) * t),
      d = s * (1 - (1 - e + i) * t),
      f = i % 6;
    return {
      r: 255 * [s, c, l, l, d, s][f],
      g: 255 * [d, s, s, c, l, l][f],
      b: 255 * [l, l, d, s, s, c][f],
      a: n,
    };
  },
  Zv = function (r) {
    return { h: D2(r.h), s: as(r.s, 0, 100), l: as(r.l, 0, 100), a: as(r.a) };
  },
  Jv = function (r) {
    return { h: er(r.h), s: er(r.s), l: er(r.l), a: er(r.a, 3) };
  },
  e_ = function (r) {
    return z2(
      ((t = (e = r).s),
      {
        h: e.h,
        s:
          (t *= ((s = e.l) < 50 ? s : 100 - s) / 100) > 0
            ? ((2 * t) / (s + t)) * 100
            : 0,
        v: s + t,
        a: e.a,
      })
    );
    var e, t, s;
  },
  Go = function (r) {
    return {
      h: (e = U2(r)).h,
      s:
        (n = ((200 - (t = e.s)) * (s = e.v)) / 100) > 0 && n < 200
          ? ((t * s) / 100 / (n <= 100 ? n : 200 - n)) * 100
          : 0,
      l: n / 2,
      a: e.a,
    };
    var e, t, s, n;
  },
  OP =
    /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  LP =
    /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  DP =
    /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  UP =
    /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  um = {
    string: [
      [
        function (r) {
          var e = IP.exec(r);
          return e
            ? (r = e[1]).length <= 4
              ? {
                  r: parseInt(r[0] + r[0], 16),
                  g: parseInt(r[1] + r[1], 16),
                  b: parseInt(r[2] + r[2], 16),
                  a:
                    r.length === 4 ? er(parseInt(r[3] + r[3], 16) / 255, 2) : 1,
                }
              : r.length === 6 || r.length === 8
              ? {
                  r: parseInt(r.substr(0, 2), 16),
                  g: parseInt(r.substr(2, 2), 16),
                  b: parseInt(r.substr(4, 2), 16),
                  a:
                    r.length === 8
                      ? er(parseInt(r.substr(6, 2), 16) / 255, 2)
                      : 1,
                }
              : null
            : null;
        },
        "hex",
      ],
      [
        function (r) {
          var e = DP.exec(r) || UP.exec(r);
          return e
            ? e[2] !== e[4] || e[4] !== e[6]
              ? null
              : Qv({
                  r: Number(e[1]) / (e[2] ? 100 / 255 : 1),
                  g: Number(e[3]) / (e[4] ? 100 / 255 : 1),
                  b: Number(e[5]) / (e[6] ? 100 / 255 : 1),
                  a: e[7] === void 0 ? 1 : Number(e[7]) / (e[8] ? 100 : 1),
                })
            : null;
        },
        "rgb",
      ],
      [
        function (r) {
          var e = OP.exec(r) || LP.exec(r);
          if (!e) return null;
          var t,
            s,
            n = Zv({
              h:
                ((t = e[1]),
                (s = e[2]),
                s === void 0 && (s = "deg"),
                Number(t) * (FP[s] || 1)),
              s: Number(e[3]),
              l: Number(e[4]),
              a: e[5] === void 0 ? 1 : Number(e[5]) / (e[6] ? 100 : 1),
            });
          return e_(n);
        },
        "hsl",
      ],
    ],
    object: [
      [
        function (r) {
          var e = r.r,
            t = r.g,
            s = r.b,
            n = r.a,
            i = n === void 0 ? 1 : n;
          return sn(e) && sn(t) && sn(s)
            ? Qv({ r: Number(e), g: Number(t), b: Number(s), a: Number(i) })
            : null;
        },
        "rgb",
      ],
      [
        function (r) {
          var e = r.h,
            t = r.s,
            s = r.l,
            n = r.a,
            i = n === void 0 ? 1 : n;
          if (!sn(e) || !sn(t) || !sn(s)) return null;
          var l = Zv({
            h: Number(e),
            s: Number(t),
            l: Number(s),
            a: Number(i),
          });
          return e_(l);
        },
        "hsl",
      ],
      [
        function (r) {
          var e = r.h,
            t = r.s,
            s = r.v,
            n = r.a,
            i = n === void 0 ? 1 : n;
          if (!sn(e) || !sn(t) || !sn(s)) return null;
          var l = (function (c) {
            return {
              h: D2(c.h),
              s: as(c.s, 0, 100),
              v: as(c.v, 0, 100),
              a: as(c.a),
            };
          })({ h: Number(e), s: Number(t), v: Number(s), a: Number(i) });
          return z2(l);
        },
        "hsv",
      ],
    ],
  },
  t_ = function (r, e) {
    for (var t = 0; t < e.length; t++) {
      var s = e[t][0](r);
      if (s) return [s, e[t][1]];
    }
    return [null, void 0];
  },
  zP = function (r) {
    return typeof r == "string"
      ? t_(r.trim(), um.string)
      : typeof r == "object" && r !== null
      ? t_(r, um.object)
      : [null, void 0];
  },
  Uf = function (r, e) {
    var t = Go(r);
    return { h: t.h, s: as(t.s + 100 * e, 0, 100), l: t.l, a: t.a };
  },
  zf = function (r) {
    return (299 * r.r + 587 * r.g + 114 * r.b) / 1e3 / 255;
  },
  r_ = function (r, e) {
    var t = Go(r);
    return { h: t.h, s: t.s, l: as(t.l + 100 * e, 0, 100), a: t.a };
  },
  dm = (function () {
    function r(e) {
      (this.parsed = zP(e)[0]),
        (this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 });
    }
    return (
      (r.prototype.isValid = function () {
        return this.parsed !== null;
      }),
      (r.prototype.brightness = function () {
        return er(zf(this.rgba), 2);
      }),
      (r.prototype.isDark = function () {
        return zf(this.rgba) < 0.5;
      }),
      (r.prototype.isLight = function () {
        return zf(this.rgba) >= 0.5;
      }),
      (r.prototype.toHex = function () {
        return (
          (e = Df(this.rgba)),
          (t = e.r),
          (s = e.g),
          (n = e.b),
          (l = (i = e.a) < 1 ? Bc(er(255 * i)) : ""),
          "#" + Bc(t) + Bc(s) + Bc(n) + l
        );
        var e, t, s, n, i, l;
      }),
      (r.prototype.toRgb = function () {
        return Df(this.rgba);
      }),
      (r.prototype.toRgbString = function () {
        return (
          (e = Df(this.rgba)),
          (t = e.r),
          (s = e.g),
          (n = e.b),
          (i = e.a) < 1
            ? "rgba(" + t + ", " + s + ", " + n + ", " + i + ")"
            : "rgb(" + t + ", " + s + ", " + n + ")"
        );
        var e, t, s, n, i;
      }),
      (r.prototype.toHsl = function () {
        return Jv(Go(this.rgba));
      }),
      (r.prototype.toHslString = function () {
        return (
          (e = Jv(Go(this.rgba))),
          (t = e.h),
          (s = e.s),
          (n = e.l),
          (i = e.a) < 1
            ? "hsla(" + t + ", " + s + "%, " + n + "%, " + i + ")"
            : "hsl(" + t + ", " + s + "%, " + n + "%)"
        );
        var e, t, s, n, i;
      }),
      (r.prototype.toHsv = function () {
        return (
          (e = U2(this.rgba)),
          { h: er(e.h), s: er(e.s), v: er(e.v), a: er(e.a, 3) }
        );
        var e;
      }),
      (r.prototype.invert = function () {
        return Ds({
          r: 255 - (e = this.rgba).r,
          g: 255 - e.g,
          b: 255 - e.b,
          a: e.a,
        });
        var e;
      }),
      (r.prototype.saturate = function (e) {
        return e === void 0 && (e = 0.1), Ds(Uf(this.rgba, e));
      }),
      (r.prototype.desaturate = function (e) {
        return e === void 0 && (e = 0.1), Ds(Uf(this.rgba, -e));
      }),
      (r.prototype.grayscale = function () {
        return Ds(Uf(this.rgba, -1));
      }),
      (r.prototype.lighten = function (e) {
        return e === void 0 && (e = 0.1), Ds(r_(this.rgba, e));
      }),
      (r.prototype.darken = function (e) {
        return e === void 0 && (e = 0.1), Ds(r_(this.rgba, -e));
      }),
      (r.prototype.rotate = function (e) {
        return e === void 0 && (e = 15), this.hue(this.hue() + e);
      }),
      (r.prototype.alpha = function (e) {
        return typeof e == "number"
          ? Ds({ r: (t = this.rgba).r, g: t.g, b: t.b, a: e })
          : er(this.rgba.a, 3);
        var t;
      }),
      (r.prototype.hue = function (e) {
        var t = Go(this.rgba);
        return typeof e == "number"
          ? Ds({ h: e, s: t.s, l: t.l, a: t.a })
          : er(t.h);
      }),
      (r.prototype.isEqual = function (e) {
        return this.toHex() === Ds(e).toHex();
      }),
      r
    );
  })(),
  Ds = function (r) {
    return r instanceof dm ? r : new dm(r);
  },
  s_ = [],
  GP = function (r) {
    r.forEach(function (e) {
      s_.indexOf(e) < 0 && (e(dm, um), s_.push(e));
    });
  };
function $P(r, e) {
  var t = {
      white: "#ffffff",
      bisque: "#ffe4c4",
      blue: "#0000ff",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      azure: "#f0ffff",
      whitesmoke: "#f5f5f5",
      papayawhip: "#ffefd5",
      plum: "#dda0dd",
      blanchedalmond: "#ffebcd",
      black: "#000000",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gainsboro: "#dcdcdc",
      cornsilk: "#fff8dc",
      cornflowerblue: "#6495ed",
      burlywood: "#deb887",
      aquamarine: "#7fffd4",
      beige: "#f5f5dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkkhaki: "#bdb76b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      peachpuff: "#ffdab9",
      darkmagenta: "#8b008b",
      darkred: "#8b0000",
      darkorchid: "#9932cc",
      darkorange: "#ff8c00",
      darkslateblue: "#483d8b",
      gray: "#808080",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      wheat: "#f5deb3",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      ghostwhite: "#f8f8ff",
      darkviolet: "#9400d3",
      magenta: "#ff00ff",
      green: "#008000",
      dodgerblue: "#1e90ff",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      blueviolet: "#8a2be2",
      forestgreen: "#228b22",
      lawngreen: "#7cfc00",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      fuchsia: "#ff00ff",
      brown: "#a52a2a",
      maroon: "#800000",
      mediumblue: "#0000cd",
      lightcoral: "#f08080",
      darkturquoise: "#00ced1",
      lightcyan: "#e0ffff",
      ivory: "#fffff0",
      lightyellow: "#ffffe0",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      linen: "#faf0e6",
      mediumaquamarine: "#66cdaa",
      lemonchiffon: "#fffacd",
      lime: "#00ff00",
      khaki: "#f0e68c",
      mediumseagreen: "#3cb371",
      limegreen: "#32cd32",
      mediumspringgreen: "#00fa9a",
      lightskyblue: "#87cefa",
      lightblue: "#add8e6",
      midnightblue: "#191970",
      lightpink: "#ffb6c1",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      mintcream: "#f5fffa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      navajowhite: "#ffdead",
      navy: "#000080",
      mediumvioletred: "#c71585",
      powderblue: "#b0e0e6",
      palegoldenrod: "#eee8aa",
      oldlace: "#fdf5e6",
      paleturquoise: "#afeeee",
      mediumturquoise: "#48d1cc",
      mediumorchid: "#ba55d3",
      rebeccapurple: "#663399",
      lightsteelblue: "#b0c4de",
      mediumslateblue: "#7b68ee",
      thistle: "#d8bfd8",
      tan: "#d2b48c",
      orchid: "#da70d6",
      mediumpurple: "#9370db",
      purple: "#800080",
      pink: "#ffc0cb",
      skyblue: "#87ceeb",
      springgreen: "#00ff7f",
      palegreen: "#98fb98",
      red: "#ff0000",
      yellow: "#ffff00",
      slateblue: "#6a5acd",
      lavenderblush: "#fff0f5",
      peru: "#cd853f",
      palevioletred: "#db7093",
      violet: "#ee82ee",
      teal: "#008080",
      slategray: "#708090",
      slategrey: "#708090",
      aliceblue: "#f0f8ff",
      darkseagreen: "#8fbc8f",
      darkolivegreen: "#556b2f",
      greenyellow: "#adff2f",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      tomato: "#ff6347",
      silver: "#c0c0c0",
      sienna: "#a0522d",
      lavender: "#e6e6fa",
      lightgreen: "#90ee90",
      orange: "#ffa500",
      orangered: "#ff4500",
      steelblue: "#4682b4",
      royalblue: "#4169e1",
      turquoise: "#40e0d0",
      yellowgreen: "#9acd32",
      salmon: "#fa8072",
      saddlebrown: "#8b4513",
      sandybrown: "#f4a460",
      rosybrown: "#bc8f8f",
      darksalmon: "#e9967a",
      lightgoldenrodyellow: "#fafad2",
      snow: "#fffafa",
      lightgrey: "#d3d3d3",
      lightgray: "#d3d3d3",
      dimgray: "#696969",
      dimgrey: "#696969",
      olivedrab: "#6b8e23",
      olive: "#808000",
    },
    s = {};
  for (var n in t) s[t[n]] = n;
  var i = {};
  (r.prototype.toName = function (l) {
    if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
      return "transparent";
    var c,
      d,
      f = s[this.toHex()];
    if (f) return f;
    if (l?.closest) {
      var m = this.toRgb(),
        h = 1 / 0,
        g = "black";
      if (!i.length) for (var x in t) i[x] = new r(t[x]).toRgb();
      for (var v in t) {
        var w =
          ((c = m),
          (d = i[v]),
          Math.pow(c.r - d.r, 2) +
            Math.pow(c.g - d.g, 2) +
            Math.pow(c.b - d.b, 2));
        w < h && ((h = w), (g = v));
      }
      return g;
    }
  }),
    e.string.push([
      function (l) {
        var c = l.toLowerCase(),
          d = c === "transparent" ? "#0000" : t[c];
        return d ? new r(d).toRgb() : null;
      },
      "name",
    ]);
}
GP([$P]);
const ba = class Ro {
  constructor(e = 16777215) {
    (this._value = null),
      (this._components = new Float32Array(4)),
      this._components.fill(1),
      (this._int = 16777215),
      (this.value = e);
  }
  get red() {
    return this._components[0];
  }
  get green() {
    return this._components[1];
  }
  get blue() {
    return this._components[2];
  }
  get alpha() {
    return this._components[3];
  }
  setValue(e) {
    return (this.value = e), this;
  }
  set value(e) {
    if (e instanceof Ro)
      (this._value = this._cloneSource(e._value)),
        (this._int = e._int),
        this._components.set(e._components);
    else {
      if (e === null) throw new Error("Cannot set Color#value to null");
      (this._value === null || !this._isSourceEqual(this._value, e)) &&
        ((this._value = this._cloneSource(e)), this._normalize(this._value));
    }
  }
  get value() {
    return this._value;
  }
  _cloneSource(e) {
    return typeof e == "string" ||
      typeof e == "number" ||
      e instanceof Number ||
      e === null
      ? e
      : Array.isArray(e) || ArrayBuffer.isView(e)
      ? e.slice(0)
      : typeof e == "object" && e !== null
      ? { ...e }
      : e;
  }
  _isSourceEqual(e, t) {
    const s = typeof e;
    if (s !== typeof t) return !1;
    if (s === "number" || s === "string" || e instanceof Number) return e === t;
    if (
      (Array.isArray(e) && Array.isArray(t)) ||
      (ArrayBuffer.isView(e) && ArrayBuffer.isView(t))
    )
      return e.length !== t.length ? !1 : e.every((i, l) => i === t[l]);
    if (e !== null && t !== null) {
      const i = Object.keys(e),
        l = Object.keys(t);
      return i.length !== l.length ? !1 : i.every((c) => e[c] === t[c]);
    }
    return e === t;
  }
  toRgba() {
    const [e, t, s, n] = this._components;
    return { r: e, g: t, b: s, a: n };
  }
  toRgb() {
    const [e, t, s] = this._components;
    return { r: e, g: t, b: s };
  }
  toRgbaString() {
    const [e, t, s] = this.toUint8RgbArray();
    return `rgba(${e},${t},${s},${this.alpha})`;
  }
  toUint8RgbArray(e) {
    const [t, s, n] = this._components;
    return (
      this._arrayRgb || (this._arrayRgb = []),
      e || (e = this._arrayRgb),
      (e[0] = Math.round(t * 255)),
      (e[1] = Math.round(s * 255)),
      (e[2] = Math.round(n * 255)),
      e
    );
  }
  toArray(e) {
    this._arrayRgba || (this._arrayRgba = []), e || (e = this._arrayRgba);
    const [t, s, n, i] = this._components;
    return (e[0] = t), (e[1] = s), (e[2] = n), (e[3] = i), e;
  }
  toRgbArray(e) {
    this._arrayRgb || (this._arrayRgb = []), e || (e = this._arrayRgb);
    const [t, s, n] = this._components;
    return (e[0] = t), (e[1] = s), (e[2] = n), e;
  }
  toNumber() {
    return this._int;
  }
  toBgrNumber() {
    const [e, t, s] = this.toUint8RgbArray();
    return (s << 16) + (t << 8) + e;
  }
  toLittleEndianNumber() {
    const e = this._int;
    return (e >> 16) + (e & 65280) + ((e & 255) << 16);
  }
  multiply(e) {
    const [t, s, n, i] = Ro._temp.setValue(e)._components;
    return (
      (this._components[0] *= t),
      (this._components[1] *= s),
      (this._components[2] *= n),
      (this._components[3] *= i),
      this._refreshInt(),
      (this._value = null),
      this
    );
  }
  premultiply(e, t = !0) {
    return (
      t &&
        ((this._components[0] *= e),
        (this._components[1] *= e),
        (this._components[2] *= e)),
      (this._components[3] = e),
      this._refreshInt(),
      (this._value = null),
      this
    );
  }
  toPremultiplied(e, t = !0) {
    if (e === 1) return (255 << 24) + this._int;
    if (e === 0) return t ? 0 : this._int;
    let s = (this._int >> 16) & 255,
      n = (this._int >> 8) & 255,
      i = this._int & 255;
    return (
      t &&
        ((s = (s * e + 0.5) | 0),
        (n = (n * e + 0.5) | 0),
        (i = (i * e + 0.5) | 0)),
      ((e * 255) << 24) + (s << 16) + (n << 8) + i
    );
  }
  toHex() {
    const e = this._int.toString(16);
    return `#${"000000".substring(0, 6 - e.length) + e}`;
  }
  toHexa() {
    const t = Math.round(this._components[3] * 255).toString(16);
    return this.toHex() + "00".substring(0, 2 - t.length) + t;
  }
  setAlpha(e) {
    return (this._components[3] = this._clamp(e)), this;
  }
  _normalize(e) {
    let t, s, n, i;
    if (
      (typeof e == "number" || e instanceof Number) &&
      e >= 0 &&
      e <= 16777215
    ) {
      const l = e;
      (t = ((l >> 16) & 255) / 255),
        (s = ((l >> 8) & 255) / 255),
        (n = (l & 255) / 255),
        (i = 1);
    } else if (
      (Array.isArray(e) || e instanceof Float32Array) &&
      e.length >= 3 &&
      e.length <= 4
    )
      (e = this._clamp(e)), ([t, s, n, i = 1] = e);
    else if (
      (e instanceof Uint8Array || e instanceof Uint8ClampedArray) &&
      e.length >= 3 &&
      e.length <= 4
    )
      (e = this._clamp(e, 0, 255)),
        ([t, s, n, i = 255] = e),
        (t /= 255),
        (s /= 255),
        (n /= 255),
        (i /= 255);
    else if (typeof e == "string" || typeof e == "object") {
      if (typeof e == "string") {
        const c = Ro.HEX_PATTERN.exec(e);
        c && (e = `#${c[2]}`);
      }
      const l = Ds(e);
      l.isValid() &&
        (({ r: t, g: s, b: n, a: i } = l.rgba),
        (t /= 255),
        (s /= 255),
        (n /= 255));
    }
    if (t !== void 0)
      (this._components[0] = t),
        (this._components[1] = s),
        (this._components[2] = n),
        (this._components[3] = i),
        this._refreshInt();
    else throw new Error(`Unable to convert color ${e}`);
  }
  _refreshInt() {
    this._clamp(this._components);
    const [e, t, s] = this._components;
    this._int = ((e * 255) << 16) + ((t * 255) << 8) + ((s * 255) | 0);
  }
  _clamp(e, t = 0, s = 1) {
    return typeof e == "number"
      ? Math.min(Math.max(e, t), s)
      : (e.forEach((n, i) => {
          e[i] = Math.min(Math.max(n, t), s);
        }),
        e);
  }
  static isColorLike(e) {
    return (
      typeof e == "number" ||
      typeof e == "string" ||
      e instanceof Number ||
      e instanceof Ro ||
      Array.isArray(e) ||
      e instanceof Uint8Array ||
      e instanceof Uint8ClampedArray ||
      e instanceof Float32Array ||
      (e.r !== void 0 && e.g !== void 0 && e.b !== void 0) ||
      (e.r !== void 0 && e.g !== void 0 && e.b !== void 0 && e.a !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.l !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.l !== void 0 && e.a !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.v !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.v !== void 0 && e.a !== void 0)
    );
  }
};
ba.shared = new ba();
ba._temp = new ba();
ba.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;
let Ct = ba;
const HP = { cullArea: null, cullable: !1, cullableChildren: !0 };
let Gf = 0;
const n_ = 500;
function Re(...r) {
  Gf !== n_ &&
    (Gf++,
    Gf === n_
      ? console.warn(
          "PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."
        )
      : console.warn("PixiJS Warning: ", ...r));
}
class tg {
  constructor(e, t) {
    (this._pool = []),
      (this._count = 0),
      (this._index = 0),
      (this._classType = e),
      t && this.prepopulate(t);
  }
  prepopulate(e) {
    for (let t = 0; t < e; t++)
      this._pool[this._index++] = new this._classType();
    this._count += e;
  }
  get(e) {
    let t;
    return (
      this._index > 0
        ? (t = this._pool[--this._index])
        : (t = new this._classType()),
      t.init?.(e),
      t
    );
  }
  return(e) {
    e.reset?.(), (this._pool[this._index++] = e);
  }
  get totalSize() {
    return this._count;
  }
  get totalFree() {
    return this._index;
  }
  get totalUsed() {
    return this._count - this._index;
  }
  clear() {
    (this._pool.length = 0), (this._index = 0);
  }
}
class WP {
  constructor() {
    this._poolsByClass = new Map();
  }
  prepopulate(e, t) {
    this.getPool(e).prepopulate(t);
  }
  get(e, t) {
    return this.getPool(e).get(t);
  }
  return(e) {
    this.getPool(e.constructor).return(e);
  }
  getPool(e) {
    return (
      this._poolsByClass.has(e) || this._poolsByClass.set(e, new tg(e)),
      this._poolsByClass.get(e)
    );
  }
  stats() {
    const e = {};
    return (
      this._poolsByClass.forEach((t) => {
        const s = e[t._classType.name]
          ? t._classType.name + t._classType.ID
          : t._classType.name;
        e[s] = { free: t.totalFree, used: t.totalUsed, size: t.totalSize };
      }),
      e
    );
  }
}
const ur = new WP(),
  VP = {
    get isCachedAsTexture() {
      return !!this.renderGroup?.isCachedAsTexture;
    },
    cacheAsTexture(r) {
      typeof r == "boolean" && r === !1
        ? this.disableRenderGroup()
        : (this.enableRenderGroup(),
          this.renderGroup.enableCacheAsTexture(r === !0 ? {} : r));
    },
    updateCacheTexture() {
      this.renderGroup?.updateCacheTexture();
    },
    get cacheAsBitmap() {
      return this.isCachedAsTexture;
    },
    set cacheAsBitmap(r) {
      De("v8.6.0", "cacheAsBitmap is deprecated, use cacheAsTexture instead."),
        this.cacheAsTexture(r);
    },
  };
function G2(r, e, t) {
  const s = r.length;
  let n;
  if (e >= s || t === 0) return;
  t = e + t > s ? s - e : t;
  const i = s - t;
  for (n = e; n < i; ++n) r[n] = r[n + t];
  r.length = i;
}
const qP = {
    allowChildren: !0,
    removeChildren(r = 0, e) {
      const t = e ?? this.children.length,
        s = t - r,
        n = [];
      if (s > 0 && s <= t) {
        for (let l = t - 1; l >= r; l--) {
          const c = this.children[l];
          c && (n.push(c), (c.parent = null));
        }
        G2(this.children, r, t);
        const i = this.renderGroup || this.parentRenderGroup;
        i && i.removeChildren(n);
        for (let l = 0; l < n.length; ++l) {
          const c = n[l];
          c.parentRenderLayer?.detach(c),
            this.emit("childRemoved", c, this, l),
            n[l].emit("removed", this);
        }
        return n.length > 0 && this._didViewChangeTick++, n;
      } else if (s === 0 && this.children.length === 0) return n;
      throw new RangeError(
        "removeChildren: numeric values are outside the acceptable range."
      );
    },
    removeChildAt(r) {
      const e = this.getChildAt(r);
      return this.removeChild(e);
    },
    getChildAt(r) {
      if (r < 0 || r >= this.children.length)
        throw new Error(`getChildAt: Index (${r}) does not exist.`);
      return this.children[r];
    },
    setChildIndex(r, e) {
      if (e < 0 || e >= this.children.length)
        throw new Error(
          `The index ${e} supplied is out of bounds ${this.children.length}`
        );
      this.getChildIndex(r), this.addChildAt(r, e);
    },
    getChildIndex(r) {
      const e = this.children.indexOf(r);
      if (e === -1)
        throw new Error("The supplied Container must be a child of the caller");
      return e;
    },
    addChildAt(r, e) {
      this.allowChildren ||
        De(
          st,
          "addChildAt: Only Containers will be allowed to add children in v8.0.0"
        );
      const { children: t } = this;
      if (e < 0 || e > t.length)
        throw new Error(
          `${r}addChildAt: The index ${e} supplied is out of bounds ${t.length}`
        );
      if (r.parent) {
        const n = r.parent.children.indexOf(r);
        if (r.parent === this && n === e) return r;
        n !== -1 && r.parent.children.splice(n, 1);
      }
      e === t.length ? t.push(r) : t.splice(e, 0, r),
        (r.parent = this),
        (r.didChange = !0),
        (r._updateFlags = 15);
      const s = this.renderGroup || this.parentRenderGroup;
      return (
        s && s.addChild(r),
        this.sortableChildren && (this.sortDirty = !0),
        this.emit("childAdded", r, this, e),
        r.emit("added", this),
        r
      );
    },
    swapChildren(r, e) {
      if (r === e) return;
      const t = this.getChildIndex(r),
        s = this.getChildIndex(e);
      (this.children[t] = e), (this.children[s] = r);
      const n = this.renderGroup || this.parentRenderGroup;
      n && (n.structureDidChange = !0), this._didContainerChangeTick++;
    },
    removeFromParent() {
      this.parent?.removeChild(this);
    },
    reparentChild(...r) {
      return r.length === 1
        ? this.reparentChildAt(r[0], this.children.length)
        : (r.forEach((e) => this.reparentChildAt(e, this.children.length)),
          r[0]);
    },
    reparentChildAt(r, e) {
      if (r.parent === this) return this.setChildIndex(r, e), r;
      const t = r.worldTransform.clone();
      r.removeFromParent(), this.addChildAt(r, e);
      const s = this.worldTransform.clone();
      return s.invert(), t.prepend(s), r.setFromMatrix(t), r;
    },
    replaceChild(r, e) {
      r.updateLocalTransform(),
        this.addChildAt(e, this.getChildIndex(r)),
        e.setFromMatrix(r.localTransform),
        e.updateLocalTransform(),
        this.removeChild(r);
    },
  },
  XP = {
    collectRenderables(r, e, t) {
      (this.parentRenderLayer && this.parentRenderLayer !== t) ||
        this.globalDisplayStatus < 7 ||
        !this.includeInBuild ||
        (this.sortableChildren && this.sortChildren(),
        this.isSimple
          ? this.collectRenderablesSimple(r, e, t)
          : this.renderGroup
          ? e.renderPipes.renderGroup.addRenderGroup(this.renderGroup, r)
          : this.collectRenderablesWithEffects(r, e, t));
    },
    collectRenderablesSimple(r, e, t) {
      const s = this.children,
        n = s.length;
      for (let i = 0; i < n; i++) s[i].collectRenderables(r, e, t);
    },
    collectRenderablesWithEffects(r, e, t) {
      const { renderPipes: s } = e;
      for (let n = 0; n < this.effects.length; n++) {
        const i = this.effects[n];
        s[i.pipe].push(i, this, r);
      }
      this.collectRenderablesSimple(r, e, t);
      for (let n = this.effects.length - 1; n >= 0; n--) {
        const i = this.effects[n];
        s[i.pipe].pop(i, this, r);
      }
    },
  };
class pu {
  constructor() {
    (this.pipe = "filter"), (this.priority = 1);
  }
  destroy() {
    for (let e = 0; e < this.filters.length; e++) this.filters[e].destroy();
    (this.filters = null), (this.filterArea = null);
  }
}
class YP {
  constructor() {
    (this._effectClasses = []), (this._tests = []), (this._initialized = !1);
  }
  init() {
    this._initialized ||
      ((this._initialized = !0),
      this._effectClasses.forEach((e) => {
        this.add({ test: e.test, maskClass: e });
      }));
  }
  add(e) {
    this._tests.push(e);
  }
  getMaskEffect(e) {
    this._initialized || this.init();
    for (let t = 0; t < this._tests.length; t++) {
      const s = this._tests[t];
      if (s.test(e)) return ur.get(s.maskClass, e);
    }
    return e;
  }
  returnMaskEffect(e) {
    ur.return(e);
  }
}
const hm = new YP();
Ie.handleByList(D.MaskEffect, hm._effectClasses);
const KP = {
    _maskEffect: null,
    _maskOptions: { inverse: !1 },
    _filterEffect: null,
    effects: [],
    _markStructureAsChanged() {
      const r = this.renderGroup || this.parentRenderGroup;
      r && (r.structureDidChange = !0);
    },
    addEffect(r) {
      this.effects.indexOf(r) === -1 &&
        (this.effects.push(r),
        this.effects.sort((t, s) => t.priority - s.priority),
        this._markStructureAsChanged(),
        this._updateIsSimple());
    },
    removeEffect(r) {
      const e = this.effects.indexOf(r);
      e !== -1 &&
        (this.effects.splice(e, 1),
        this._markStructureAsChanged(),
        this._updateIsSimple());
    },
    set mask(r) {
      const e = this._maskEffect;
      e?.mask !== r &&
        (e &&
          (this.removeEffect(e),
          hm.returnMaskEffect(e),
          (this._maskEffect = null)),
        r != null &&
          ((this._maskEffect = hm.getMaskEffect(r)),
          this.addEffect(this._maskEffect)));
    },
    get mask() {
      return this._maskEffect?.mask;
    },
    setMask(r) {
      (this._maskOptions = { ...this._maskOptions, ...r }),
        r.mask && (this.mask = r.mask),
        this._markStructureAsChanged();
    },
    set filters(r) {
      !Array.isArray(r) && r && (r = [r]);
      const e = this._filterEffect || (this._filterEffect = new pu());
      r = r;
      const t = r?.length > 0,
        s = e.filters?.length > 0,
        n = t !== s;
      (r = Array.isArray(r) ? r.slice(0) : r),
        (e.filters = Object.freeze(r)),
        n &&
          (t
            ? this.addEffect(e)
            : (this.removeEffect(e), (e.filters = r ?? null)));
    },
    get filters() {
      return this._filterEffect?.filters;
    },
    set filterArea(r) {
      this._filterEffect || (this._filterEffect = new pu()),
        (this._filterEffect.filterArea = r);
    },
    get filterArea() {
      return this._filterEffect?.filterArea;
    },
  },
  QP = {
    label: null,
    get name() {
      return (
        De(
          st,
          "Container.name property has been removed, use Container.label instead"
        ),
        this.label
      );
    },
    set name(r) {
      De(
        st,
        "Container.name property has been removed, use Container.label instead"
      ),
        (this.label = r);
    },
    getChildByName(r, e = !1) {
      return this.getChildByLabel(r, e);
    },
    getChildByLabel(r, e = !1) {
      const t = this.children;
      for (let s = 0; s < t.length; s++) {
        const n = t[s];
        if (n.label === r || (r instanceof RegExp && r.test(n.label))) return n;
      }
      if (e)
        for (let s = 0; s < t.length; s++) {
          const i = t[s].getChildByLabel(r, !0);
          if (i) return i;
        }
      return null;
    },
    getChildrenByLabel(r, e = !1, t = []) {
      const s = this.children;
      for (let n = 0; n < s.length; n++) {
        const i = s[n];
        (i.label === r || (r instanceof RegExp && r.test(i.label))) &&
          t.push(i);
      }
      if (e)
        for (let n = 0; n < s.length; n++) s[n].getChildrenByLabel(r, !0, t);
      return t;
    },
  },
  jr = new tg(ke),
  ln = new tg(wr),
  ZP = new ke(),
  JP = {
    getFastGlobalBounds(r, e) {
      e || (e = new wr()),
        e.clear(),
        this._getGlobalBoundsRecursive(!!r, e, this.parentRenderLayer),
        e.isValid || e.set(0, 0, 0, 0);
      const t = this.renderGroup || this.parentRenderGroup;
      return e.applyMatrix(t.worldTransform), e;
    },
    _getGlobalBoundsRecursive(r, e, t) {
      let s = e;
      if (
        (r && this.parentRenderLayer && this.parentRenderLayer !== t) ||
        this.localDisplayStatus !== 7 ||
        !this.measurable
      )
        return;
      const n = !!this.effects.length;
      if (((this.renderGroup || n) && (s = ln.get().clear()), this.boundsArea))
        e.addRect(this.boundsArea, this.worldTransform);
      else {
        if (this.renderPipeId) {
          const l = this.bounds;
          s.addFrame(l.minX, l.minY, l.maxX, l.maxY, this.groupTransform);
        }
        const i = this.children;
        for (let l = 0; l < i.length; l++)
          i[l]._getGlobalBoundsRecursive(r, s, t);
      }
      if (n) {
        let i = !1;
        const l = this.renderGroup || this.parentRenderGroup;
        for (let c = 0; c < this.effects.length; c++)
          this.effects[c].addBounds &&
            (i || ((i = !0), s.applyMatrix(l.worldTransform)),
            this.effects[c].addBounds(s, !0));
        i && s.applyMatrix(l.worldTransform.copyTo(ZP).invert()),
          e.addBounds(s),
          ln.return(s);
      } else
        this.renderGroup &&
          (e.addBounds(s, this.relativeGroupTransform), ln.return(s));
    },
  };
function rg(r, e, t) {
  t.clear();
  let s, n;
  return (
    r.parent
      ? e
        ? (s = r.parent.worldTransform)
        : ((n = jr.get().identity()), (s = sg(r, n)))
      : (s = ke.IDENTITY),
    $2(r, t, s, e),
    n && jr.return(n),
    t.isValid || t.set(0, 0, 0, 0),
    t
  );
}
function $2(r, e, t, s) {
  if (!r.visible || !r.measurable) return;
  let n;
  s
    ? (n = r.worldTransform)
    : (r.updateLocalTransform(),
      (n = jr.get()),
      n.appendFrom(r.localTransform, t));
  const i = e,
    l = !!r.effects.length;
  if ((l && (e = ln.get().clear()), r.boundsArea)) e.addRect(r.boundsArea, n);
  else {
    r.bounds && ((e.matrix = n), e.addBounds(r.bounds));
    for (let c = 0; c < r.children.length; c++) $2(r.children[c], e, n, s);
  }
  if (l) {
    for (let c = 0; c < r.effects.length; c++) r.effects[c].addBounds?.(e);
    i.addBounds(e, ke.IDENTITY), ln.return(e);
  }
  s || jr.return(n);
}
function sg(r, e) {
  const t = r.parent;
  return (
    t && (sg(t, e), t.updateLocalTransform(), e.append(t.localTransform)), e
  );
}
function H2(r, e) {
  if (r === 16777215 || !e) return e;
  if (e === 16777215 || !r) return r;
  const t = (r >> 16) & 255,
    s = (r >> 8) & 255,
    n = r & 255,
    i = (e >> 16) & 255,
    l = (e >> 8) & 255,
    c = e & 255,
    d = ((t * i) / 255) | 0,
    f = ((s * l) / 255) | 0,
    m = ((n * c) / 255) | 0;
  return (d << 16) + (f << 8) + m;
}
const i_ = 16777215;
function mu(r, e) {
  return r === i_ ? e : e === i_ ? r : H2(r, e);
}
function iu(r) {
  return ((r & 255) << 16) + (r & 65280) + ((r >> 16) & 255);
}
const eA = {
  getGlobalAlpha(r) {
    if (r)
      return this.renderGroup
        ? this.renderGroup.worldAlpha
        : this.parentRenderGroup
        ? this.parentRenderGroup.worldAlpha * this.alpha
        : this.alpha;
    let e = this.alpha,
      t = this.parent;
    for (; t; ) (e *= t.alpha), (t = t.parent);
    return e;
  },
  getGlobalTransform(r = new ke(), e) {
    if (e) return r.copyFrom(this.worldTransform);
    this.updateLocalTransform();
    const t = sg(this, jr.get().identity());
    return r.appendFrom(this.localTransform, t), jr.return(t), r;
  },
  getGlobalTint(r) {
    if (r)
      return this.renderGroup
        ? iu(this.renderGroup.worldColor)
        : this.parentRenderGroup
        ? iu(mu(this.localColor, this.parentRenderGroup.worldColor))
        : this.tint;
    let e = this.localColor,
      t = this.parent;
    for (; t; ) (e = mu(e, t.localColor)), (t = t.parent);
    return iu(e);
  },
};
function ng(r, e, t) {
  return (
    e.clear(),
    t || (t = ke.IDENTITY),
    W2(r, e, t, r, !0),
    e.isValid || e.set(0, 0, 0, 0),
    e
  );
}
function W2(r, e, t, s, n) {
  let i;
  if (n) (i = jr.get()), (i = t.copyTo(i));
  else {
    if (!r.visible || !r.measurable) return;
    r.updateLocalTransform();
    const d = r.localTransform;
    (i = jr.get()), i.appendFrom(d, t);
  }
  const l = e,
    c = !!r.effects.length;
  if ((c && (e = ln.get().clear()), r.boundsArea)) e.addRect(r.boundsArea, i);
  else {
    r.renderPipeId && ((e.matrix = i), e.addBounds(r.bounds));
    const d = r.children;
    for (let f = 0; f < d.length; f++) W2(d[f], e, i, s, !1);
  }
  if (c) {
    for (let d = 0; d < r.effects.length; d++)
      r.effects[d].addLocalBounds?.(e, s);
    l.addBounds(e, ke.IDENTITY), ln.return(e);
  }
  jr.return(i);
}
function V2(r, e) {
  const t = r.children;
  for (let s = 0; s < t.length; s++) {
    const n = t[s],
      i = n.uid,
      l =
        ((n._didViewChangeTick & 65535) << 16) |
        (n._didContainerChangeTick & 65535),
      c = e.index;
    (e.data[c] !== i || e.data[c + 1] !== l) &&
      ((e.data[e.index] = i), (e.data[e.index + 1] = l), (e.didChange = !0)),
      (e.index = c + 2),
      n.children.length && V2(n, e);
  }
  return e.didChange;
}
const tA = new ke(),
  rA = {
    _localBoundsCacheId: -1,
    _localBoundsCacheData: null,
    _setWidth(r, e) {
      const t = Math.sign(this.scale.x) || 1;
      e !== 0 ? (this.scale.x = (r / e) * t) : (this.scale.x = t);
    },
    _setHeight(r, e) {
      const t = Math.sign(this.scale.y) || 1;
      e !== 0 ? (this.scale.y = (r / e) * t) : (this.scale.y = t);
    },
    getLocalBounds() {
      this._localBoundsCacheData ||
        (this._localBoundsCacheData = {
          data: [],
          index: 1,
          didChange: !1,
          localBounds: new wr(),
        });
      const r = this._localBoundsCacheData;
      return (
        (r.index = 1),
        (r.didChange = !1),
        r.data[0] !== this._didViewChangeTick &&
          ((r.didChange = !0), (r.data[0] = this._didViewChangeTick)),
        V2(this, r),
        r.didChange && ng(this, r.localBounds, tA),
        r.localBounds
      );
    },
    getBounds(r, e) {
      return rg(this, r, e || new wr());
    },
  },
  sA = {
    _onRender: null,
    set onRender(r) {
      const e = this.renderGroup || this.parentRenderGroup;
      if (!r) {
        this._onRender && e?.removeOnRender(this), (this._onRender = null);
        return;
      }
      this._onRender || e?.addOnRender(this), (this._onRender = r);
    },
    get onRender() {
      return this._onRender;
    },
  },
  nA = {
    _zIndex: 0,
    sortDirty: !1,
    sortableChildren: !1,
    get zIndex() {
      return this._zIndex;
    },
    set zIndex(r) {
      this._zIndex !== r && ((this._zIndex = r), this.depthOfChildModified());
    },
    depthOfChildModified() {
      this.parent &&
        ((this.parent.sortableChildren = !0), (this.parent.sortDirty = !0)),
        this.parentRenderGroup &&
          (this.parentRenderGroup.structureDidChange = !0);
    },
    sortChildren() {
      this.sortDirty && ((this.sortDirty = !1), this.children.sort(iA));
    },
  };
function iA(r, e) {
  return r._zIndex - e._zIndex;
}
const aA = {
  getGlobalPosition(r = new yt(), e = !1) {
    return (
      this.parent
        ? this.parent.toGlobal(this._position, r, e)
        : ((r.x = this._position.x), (r.y = this._position.y)),
      r
    );
  },
  toGlobal(r, e, t = !1) {
    const s = this.getGlobalTransform(jr.get(), t);
    return (e = s.apply(r, e)), jr.return(s), e;
  },
  toLocal(r, e, t, s) {
    e && (r = e.toGlobal(r, t, s));
    const n = this.getGlobalTransform(jr.get(), s);
    return (t = n.applyInverse(r, t)), jr.return(n), t;
  },
};
class q2 {
  constructor() {
    (this.uid = St("instructionSet")),
      (this.instructions = []),
      (this.instructionSize = 0),
      (this.renderables = []),
      (this.gcTick = 0);
  }
  reset() {
    this.instructionSize = 0;
  }
  add(e) {
    this.instructions[this.instructionSize++] = e;
  }
  log() {
    (this.instructions.length = this.instructionSize),
      console.table(this.instructions, ["type", "action"]);
  }
}
let oA = 0;
class lA {
  constructor(e) {
    (this._poolKeyHash = Object.create(null)),
      (this._texturePool = {}),
      (this.textureOptions = e || {}),
      (this.enableFullScreen = !1),
      (this.textureStyle = new $s(this.textureOptions));
  }
  createTexture(e, t, s) {
    const n = new Yt({
      ...this.textureOptions,
      width: e,
      height: t,
      resolution: 1,
      antialias: s,
      autoGarbageCollect: !1,
    });
    return new Se({ source: n, label: `texturePool_${oA++}` });
  }
  getOptimalTexture(e, t, s = 1, n) {
    let i = Math.ceil(e * s - 1e-6),
      l = Math.ceil(t * s - 1e-6);
    (i = _a(i)), (l = _a(l));
    const c = (i << 17) + (l << 1) + (n ? 1 : 0);
    this._texturePool[c] || (this._texturePool[c] = []);
    let d = this._texturePool[c].pop();
    return (
      d || (d = this.createTexture(i, l, n)),
      (d.source._resolution = s),
      (d.source.width = i / s),
      (d.source.height = l / s),
      (d.source.pixelWidth = i),
      (d.source.pixelHeight = l),
      (d.frame.x = 0),
      (d.frame.y = 0),
      (d.frame.width = e),
      (d.frame.height = t),
      d.updateUvs(),
      (this._poolKeyHash[d.uid] = c),
      d
    );
  }
  getSameSizeTexture(e, t = !1) {
    const s = e.source;
    return this.getOptimalTexture(e.width, e.height, s._resolution, t);
  }
  returnTexture(e, t = !1) {
    const s = this._poolKeyHash[e.uid];
    t && (e.source.style = this.textureStyle), this._texturePool[s].push(e);
  }
  clear(e) {
    if (((e = e !== !1), e))
      for (const t in this._texturePool) {
        const s = this._texturePool[t];
        if (s) for (let n = 0; n < s.length; n++) s[n].destroy(!0);
      }
    this._texturePool = {};
  }
}
const Gt = new lA();
class cA {
  constructor() {
    (this.renderPipeId = "renderGroup"),
      (this.root = null),
      (this.canBundle = !1),
      (this.renderGroupParent = null),
      (this.renderGroupChildren = []),
      (this.worldTransform = new ke()),
      (this.worldColorAlpha = 4294967295),
      (this.worldColor = 16777215),
      (this.worldAlpha = 1),
      (this.childrenToUpdate = Object.create(null)),
      (this.updateTick = 0),
      (this.gcTick = 0),
      (this.childrenRenderablesToUpdate = { list: [], index: 0 }),
      (this.structureDidChange = !0),
      (this.instructionSet = new q2()),
      (this._onRenderContainers = []),
      (this.textureNeedsUpdate = !0),
      (this.isCachedAsTexture = !1),
      (this._matrixDirty = 7);
  }
  init(e) {
    (this.root = e), e._onRender && this.addOnRender(e), (e.didChange = !0);
    const t = e.children;
    for (let s = 0; s < t.length; s++) {
      const n = t[s];
      (n._updateFlags = 15), this.addChild(n);
    }
  }
  enableCacheAsTexture(e = {}) {
    (this.textureOptions = e),
      (this.isCachedAsTexture = !0),
      (this.textureNeedsUpdate = !0);
  }
  disableCacheAsTexture() {
    (this.isCachedAsTexture = !1),
      this.texture &&
        (Gt.returnTexture(this.texture, !0), (this.texture = null));
  }
  updateCacheTexture() {
    this.textureNeedsUpdate = !0;
  }
  reset() {
    this.renderGroupChildren.length = 0;
    for (const e in this.childrenToUpdate) {
      const t = this.childrenToUpdate[e];
      t.list.fill(null), (t.index = 0);
    }
    (this.childrenRenderablesToUpdate.index = 0),
      this.childrenRenderablesToUpdate.list.fill(null),
      (this.root = null),
      (this.updateTick = 0),
      (this.structureDidChange = !0),
      (this._onRenderContainers.length = 0),
      (this.renderGroupParent = null),
      this.disableCacheAsTexture();
  }
  get localTransform() {
    return this.root.localTransform;
  }
  addRenderGroupChild(e) {
    e.renderGroupParent && e.renderGroupParent._removeRenderGroupChild(e),
      (e.renderGroupParent = this),
      this.renderGroupChildren.push(e);
  }
  _removeRenderGroupChild(e) {
    const t = this.renderGroupChildren.indexOf(e);
    t > -1 && this.renderGroupChildren.splice(t, 1),
      (e.renderGroupParent = null);
  }
  addChild(e) {
    if (
      ((this.structureDidChange = !0),
      (e.parentRenderGroup = this),
      (e.updateTick = -1),
      e.parent === this.root
        ? (e.relativeRenderGroupDepth = 1)
        : (e.relativeRenderGroupDepth = e.parent.relativeRenderGroupDepth + 1),
      (e.didChange = !0),
      this.onChildUpdate(e),
      e.renderGroup)
    ) {
      this.addRenderGroupChild(e.renderGroup);
      return;
    }
    e._onRender && this.addOnRender(e);
    const t = e.children;
    for (let s = 0; s < t.length; s++) this.addChild(t[s]);
  }
  removeChild(e) {
    if (
      ((this.structureDidChange = !0),
      e._onRender && (e.renderGroup || this.removeOnRender(e)),
      (e.parentRenderGroup = null),
      e.renderGroup)
    ) {
      this._removeRenderGroupChild(e.renderGroup);
      return;
    }
    const t = e.children;
    for (let s = 0; s < t.length; s++) this.removeChild(t[s]);
  }
  removeChildren(e) {
    for (let t = 0; t < e.length; t++) this.removeChild(e[t]);
  }
  onChildUpdate(e) {
    let t = this.childrenToUpdate[e.relativeRenderGroupDepth];
    t ||
      (t = this.childrenToUpdate[e.relativeRenderGroupDepth] =
        { index: 0, list: [] }),
      (t.list[t.index++] = e);
  }
  updateRenderable(e) {
    e.globalDisplayStatus < 7 ||
      (this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),
      (e.didViewUpdate = !1));
  }
  onChildViewUpdate(e) {
    this.childrenRenderablesToUpdate.list[
      this.childrenRenderablesToUpdate.index++
    ] = e;
  }
  get isRenderable() {
    return this.root.localDisplayStatus === 7 && this.worldAlpha > 0;
  }
  addOnRender(e) {
    this._onRenderContainers.push(e);
  }
  removeOnRender(e) {
    this._onRenderContainers.splice(this._onRenderContainers.indexOf(e), 1);
  }
  runOnRender(e) {
    for (let t = 0; t < this._onRenderContainers.length; t++)
      this._onRenderContainers[t]._onRender(e);
  }
  destroy() {
    this.disableCacheAsTexture(),
      (this.renderGroupParent = null),
      (this.root = null),
      (this.childrenRenderablesToUpdate = null),
      (this.childrenToUpdate = null),
      (this.renderGroupChildren = null),
      (this._onRenderContainers = null),
      (this.instructionSet = null);
  }
  getChildren(e = []) {
    const t = this.root.children;
    for (let s = 0; s < t.length; s++) this._getChildren(t[s], e);
    return e;
  }
  _getChildren(e, t = []) {
    if ((t.push(e), e.renderGroup)) return t;
    const s = e.children;
    for (let n = 0; n < s.length; n++) this._getChildren(s[n], t);
    return t;
  }
  invalidateMatrices() {
    this._matrixDirty = 7;
  }
  get inverseWorldTransform() {
    return (this._matrixDirty & 1) === 0
      ? this._inverseWorldTransform
      : ((this._matrixDirty &= -2),
        this._inverseWorldTransform || (this._inverseWorldTransform = new ke()),
        this._inverseWorldTransform.copyFrom(this.worldTransform).invert());
  }
  get textureOffsetInverseTransform() {
    return (this._matrixDirty & 2) === 0
      ? this._textureOffsetInverseTransform
      : ((this._matrixDirty &= -3),
        this._textureOffsetInverseTransform ||
          (this._textureOffsetInverseTransform = new ke()),
        this._textureOffsetInverseTransform
          .copyFrom(this.inverseWorldTransform)
          .translate(-this._textureBounds.x, -this._textureBounds.y));
  }
  get inverseParentTextureTransform() {
    if ((this._matrixDirty & 4) === 0)
      return this._inverseParentTextureTransform;
    this._matrixDirty &= -5;
    const e = this._parentCacheAsTextureRenderGroup;
    return e
      ? (this._inverseParentTextureTransform ||
          (this._inverseParentTextureTransform = new ke()),
        this._inverseParentTextureTransform
          .copyFrom(this.worldTransform)
          .prepend(e.inverseWorldTransform)
          .translate(-e._textureBounds.x, -e._textureBounds.y))
      : this.worldTransform;
  }
  get cacheToLocalTransform() {
    return this._parentCacheAsTextureRenderGroup
      ? this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform
      : null;
  }
}
function uA(r, e, t = {}) {
  for (const s in e) !t[s] && e[s] !== void 0 && (r[s] = e[s]);
}
const $f = new lr(null),
  Fc = new lr(null),
  Hf = new lr(null, 1, 1),
  Ic = new lr(null),
  gu = 1,
  ig = 2,
  $o = 4;
class Ye extends nr {
  constructor(e = {}) {
    super(),
      (this.uid = St("renderable")),
      (this._updateFlags = 15),
      (this.renderGroup = null),
      (this.parentRenderGroup = null),
      (this.parentRenderGroupIndex = 0),
      (this.didChange = !1),
      (this.didViewUpdate = !1),
      (this.relativeRenderGroupDepth = 0),
      (this.children = []),
      (this.parent = null),
      (this.includeInBuild = !0),
      (this.measurable = !0),
      (this.isSimple = !0),
      (this.updateTick = -1),
      (this.localTransform = new ke()),
      (this.relativeGroupTransform = new ke()),
      (this.groupTransform = this.relativeGroupTransform),
      (this.destroyed = !1),
      (this._position = new lr(this, 0, 0)),
      (this._scale = Hf),
      (this._pivot = Fc),
      (this._origin = Ic),
      (this._skew = $f),
      (this._cx = 1),
      (this._sx = 0),
      (this._cy = 0),
      (this._sy = 1),
      (this._rotation = 0),
      (this.localColor = 16777215),
      (this.localAlpha = 1),
      (this.groupAlpha = 1),
      (this.groupColor = 16777215),
      (this.groupColorAlpha = 4294967295),
      (this.localBlendMode = "inherit"),
      (this.groupBlendMode = "normal"),
      (this.localDisplayStatus = 7),
      (this.globalDisplayStatus = 7),
      (this._didContainerChangeTick = 0),
      (this._didViewChangeTick = 0),
      (this._didLocalTransformChangeId = -1),
      (this.effects = []),
      uA(this, e, { children: !0, parent: !0, effects: !0 }),
      e.children?.forEach((t) => this.addChild(t)),
      e.parent?.addChild(this);
  }
  static mixin(e) {
    De(
      "8.8.0",
      "Container.mixin is deprecated, please use extensions.mixin instead."
    ),
      Ie.mixin(Ye, e);
  }
  set _didChangeId(e) {
    (this._didViewChangeTick = (e >> 12) & 4095),
      (this._didContainerChangeTick = e & 4095);
  }
  get _didChangeId() {
    return (
      (this._didContainerChangeTick & 4095) |
      ((this._didViewChangeTick & 4095) << 12)
    );
  }
  addChild(...e) {
    if (
      (this.allowChildren ||
        De(
          st,
          "addChild: Only Containers will be allowed to add children in v8.0.0"
        ),
      e.length > 1)
    ) {
      for (let n = 0; n < e.length; n++) this.addChild(e[n]);
      return e[0];
    }
    const t = e[0],
      s = this.renderGroup || this.parentRenderGroup;
    return t.parent === this
      ? (this.children.splice(this.children.indexOf(t), 1),
        this.children.push(t),
        s && (s.structureDidChange = !0),
        t)
      : (t.parent && t.parent.removeChild(t),
        this.children.push(t),
        this.sortableChildren && (this.sortDirty = !0),
        (t.parent = this),
        (t.didChange = !0),
        (t._updateFlags = 15),
        s && s.addChild(t),
        this.emit("childAdded", t, this, this.children.length - 1),
        t.emit("added", this),
        this._didViewChangeTick++,
        t._zIndex !== 0 && t.depthOfChildModified(),
        t);
  }
  removeChild(...e) {
    if (e.length > 1) {
      for (let n = 0; n < e.length; n++) this.removeChild(e[n]);
      return e[0];
    }
    const t = e[0],
      s = this.children.indexOf(t);
    return (
      s > -1 &&
        (this._didViewChangeTick++,
        this.children.splice(s, 1),
        this.renderGroup
          ? this.renderGroup.removeChild(t)
          : this.parentRenderGroup && this.parentRenderGroup.removeChild(t),
        t.parentRenderLayer && t.parentRenderLayer.detach(t),
        (t.parent = null),
        this.emit("childRemoved", t, this, s),
        t.emit("removed", this)),
      t
    );
  }
  _onUpdate(e) {
    e && e === this._skew && this._updateSkew(),
      this._didContainerChangeTick++,
      !this.didChange &&
        ((this.didChange = !0),
        this.parentRenderGroup && this.parentRenderGroup.onChildUpdate(this));
  }
  set isRenderGroup(e) {
    !!this.renderGroup !== e &&
      (e ? this.enableRenderGroup() : this.disableRenderGroup());
  }
  get isRenderGroup() {
    return !!this.renderGroup;
  }
  enableRenderGroup() {
    if (this.renderGroup) return;
    const e = this.parentRenderGroup;
    e?.removeChild(this),
      (this.renderGroup = ur.get(cA, this)),
      (this.groupTransform = ke.IDENTITY),
      e?.addChild(this),
      this._updateIsSimple();
  }
  disableRenderGroup() {
    if (!this.renderGroup) return;
    const e = this.parentRenderGroup;
    e?.removeChild(this),
      ur.return(this.renderGroup),
      (this.renderGroup = null),
      (this.groupTransform = this.relativeGroupTransform),
      e?.addChild(this),
      this._updateIsSimple();
  }
  _updateIsSimple() {
    this.isSimple = !this.renderGroup && this.effects.length === 0;
  }
  get worldTransform() {
    return (
      this._worldTransform || (this._worldTransform = new ke()),
      this.renderGroup
        ? this._worldTransform.copyFrom(this.renderGroup.worldTransform)
        : this.parentRenderGroup &&
          this._worldTransform.appendFrom(
            this.relativeGroupTransform,
            this.parentRenderGroup.worldTransform
          ),
      this._worldTransform
    );
  }
  get x() {
    return this._position.x;
  }
  set x(e) {
    this._position.x = e;
  }
  get y() {
    return this._position.y;
  }
  set y(e) {
    this._position.y = e;
  }
  get position() {
    return this._position;
  }
  set position(e) {
    this._position.copyFrom(e);
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(e) {
    this._rotation !== e && ((this._rotation = e), this._onUpdate(this._skew));
  }
  get angle() {
    return this.rotation * kP;
  }
  set angle(e) {
    this.rotation = e * PP;
  }
  get pivot() {
    return (
      this._pivot === Fc && (this._pivot = new lr(this, 0, 0)), this._pivot
    );
  }
  set pivot(e) {
    this._pivot === Fc &&
      ((this._pivot = new lr(this, 0, 0)),
      this._origin !== Ic &&
        Re(
          "Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully."
        )),
      typeof e == "number" ? this._pivot.set(e) : this._pivot.copyFrom(e);
  }
  get skew() {
    return this._skew === $f && (this._skew = new lr(this, 0, 0)), this._skew;
  }
  set skew(e) {
    this._skew === $f && (this._skew = new lr(this, 0, 0)),
      this._skew.copyFrom(e);
  }
  get scale() {
    return (
      this._scale === Hf && (this._scale = new lr(this, 1, 1)), this._scale
    );
  }
  set scale(e) {
    this._scale === Hf && (this._scale = new lr(this, 0, 0)),
      typeof e == "string" && (e = parseFloat(e)),
      typeof e == "number" ? this._scale.set(e) : this._scale.copyFrom(e);
  }
  get origin() {
    return (
      this._origin === Ic && (this._origin = new lr(this, 0, 0)), this._origin
    );
  }
  set origin(e) {
    this._origin === Ic &&
      ((this._origin = new lr(this, 0, 0)),
      this._pivot !== Fc &&
        Re(
          "Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully."
        )),
      typeof e == "number" ? this._origin.set(e) : this._origin.copyFrom(e);
  }
  get width() {
    return Math.abs(this.scale.x * this.getLocalBounds().width);
  }
  set width(e) {
    const t = this.getLocalBounds().width;
    this._setWidth(e, t);
  }
  get height() {
    return Math.abs(this.scale.y * this.getLocalBounds().height);
  }
  set height(e) {
    const t = this.getLocalBounds().height;
    this._setHeight(e, t);
  }
  getSize(e) {
    e || (e = {});
    const t = this.getLocalBounds();
    return (
      (e.width = Math.abs(this.scale.x * t.width)),
      (e.height = Math.abs(this.scale.y * t.height)),
      e
    );
  }
  setSize(e, t) {
    const s = this.getLocalBounds();
    typeof e == "object"
      ? ((t = e.height ?? e.width), (e = e.width))
      : t ?? (t = e),
      e !== void 0 && this._setWidth(e, s.width),
      t !== void 0 && this._setHeight(t, s.height);
  }
  _updateSkew() {
    const e = this._rotation,
      t = this._skew;
    (this._cx = Math.cos(e + t._y)),
      (this._sx = Math.sin(e + t._y)),
      (this._cy = -Math.sin(e - t._x)),
      (this._sy = Math.cos(e - t._x));
  }
  updateTransform(e) {
    return (
      this.position.set(
        typeof e.x == "number" ? e.x : this.position.x,
        typeof e.y == "number" ? e.y : this.position.y
      ),
      this.scale.set(
        typeof e.scaleX == "number" ? e.scaleX || 1 : this.scale.x,
        typeof e.scaleY == "number" ? e.scaleY || 1 : this.scale.y
      ),
      (this.rotation =
        typeof e.rotation == "number" ? e.rotation : this.rotation),
      this.skew.set(
        typeof e.skewX == "number" ? e.skewX : this.skew.x,
        typeof e.skewY == "number" ? e.skewY : this.skew.y
      ),
      this.pivot.set(
        typeof e.pivotX == "number" ? e.pivotX : this.pivot.x,
        typeof e.pivotY == "number" ? e.pivotY : this.pivot.y
      ),
      this.origin.set(
        typeof e.originX == "number" ? e.originX : this.origin.x,
        typeof e.originY == "number" ? e.originY : this.origin.y
      ),
      this
    );
  }
  setFromMatrix(e) {
    e.decompose(this);
  }
  updateLocalTransform() {
    const e = this._didContainerChangeTick;
    if (this._didLocalTransformChangeId === e) return;
    this._didLocalTransformChangeId = e;
    const t = this.localTransform,
      s = this._scale,
      n = this._pivot,
      i = this._origin,
      l = this._position,
      c = s._x,
      d = s._y,
      f = n._x,
      m = n._y,
      h = -i._x,
      g = -i._y;
    (t.a = this._cx * c),
      (t.b = this._sx * c),
      (t.c = this._cy * d),
      (t.d = this._sy * d),
      (t.tx = l._x - (f * t.a + m * t.c) + (h * t.a + g * t.c) - h),
      (t.ty = l._y - (f * t.b + m * t.d) + (h * t.b + g * t.d) - g);
  }
  set alpha(e) {
    e !== this.localAlpha &&
      ((this.localAlpha = e), (this._updateFlags |= gu), this._onUpdate());
  }
  get alpha() {
    return this.localAlpha;
  }
  set tint(e) {
    const s = Ct.shared.setValue(e ?? 16777215).toBgrNumber();
    s !== this.localColor &&
      ((this.localColor = s), (this._updateFlags |= gu), this._onUpdate());
  }
  get tint() {
    return iu(this.localColor);
  }
  set blendMode(e) {
    this.localBlendMode !== e &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= ig),
      (this.localBlendMode = e),
      this._onUpdate());
  }
  get blendMode() {
    return this.localBlendMode;
  }
  get visible() {
    return !!(this.localDisplayStatus & 2);
  }
  set visible(e) {
    const t = e ? 2 : 0;
    (this.localDisplayStatus & 2) !== t &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= $o),
      (this.localDisplayStatus ^= 2),
      this._onUpdate());
  }
  get culled() {
    return !(this.localDisplayStatus & 4);
  }
  set culled(e) {
    const t = e ? 0 : 4;
    (this.localDisplayStatus & 4) !== t &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= $o),
      (this.localDisplayStatus ^= 4),
      this._onUpdate());
  }
  get renderable() {
    return !!(this.localDisplayStatus & 1);
  }
  set renderable(e) {
    const t = e ? 1 : 0;
    (this.localDisplayStatus & 1) !== t &&
      ((this._updateFlags |= $o),
      (this.localDisplayStatus ^= 1),
      this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      this._onUpdate());
  }
  get isRenderable() {
    return this.localDisplayStatus === 7 && this.groupAlpha > 0;
  }
  destroy(e = !1) {
    if (this.destroyed) return;
    this.destroyed = !0;
    let t;
    if (
      (this.children.length &&
        (t = this.removeChildren(0, this.children.length)),
      this.removeFromParent(),
      (this.parent = null),
      (this._maskEffect = null),
      (this._filterEffect = null),
      (this.effects = null),
      (this._position = null),
      (this._scale = null),
      (this._pivot = null),
      (this._origin = null),
      (this._skew = null),
      this.emit("destroyed", this),
      this.removeAllListeners(),
      (typeof e == "boolean" ? e : e?.children) && t)
    )
      for (let n = 0; n < t.length; ++n) t[n].destroy(e);
    this.renderGroup?.destroy(), (this.renderGroup = null);
  }
}
Ie.mixin(Ye, qP, JP, aA, sA, rA, KP, QP, nA, HP, VP, eA, XP);
class ag extends Ye {
  constructor(e) {
    super(e),
      (this.canBundle = !0),
      (this.allowChildren = !1),
      (this._roundPixels = 0),
      (this._lastUsed = -1),
      (this._gpuData = Object.create(null)),
      (this._bounds = new wr(0, 1, 0, 0)),
      (this._boundsDirty = !0);
  }
  get bounds() {
    return this._boundsDirty
      ? (this.updateBounds(), (this._boundsDirty = !1), this._bounds)
      : this._bounds;
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  containsPoint(e) {
    const t = this.bounds,
      { x: s, y: n } = e;
    return s >= t.minX && s <= t.maxX && n >= t.minY && n <= t.maxY;
  }
  onViewUpdate() {
    if (
      (this._didViewChangeTick++, (this._boundsDirty = !0), this.didViewUpdate)
    )
      return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  destroy(e) {
    super.destroy(e), (this._bounds = null);
    for (const t in this._gpuData) this._gpuData[t].destroy?.();
    this._gpuData = null;
  }
  collectRenderablesSimple(e, t, s) {
    const { renderPipes: n } = t;
    n.blendMode.setBlendMode(this, this.groupBlendMode, e),
      n[this.renderPipeId].addRenderable(this, e),
      (this.didViewUpdate = !1);
    const l = this.children,
      c = l.length;
    for (let d = 0; d < c; d++) l[d].collectRenderables(e, t, s);
  }
}
class Ve extends ag {
  constructor(e = Se.EMPTY) {
    e instanceof Se && (e = { texture: e });
    const {
      texture: t = Se.EMPTY,
      anchor: s,
      roundPixels: n,
      width: i,
      height: l,
      ...c
    } = e;
    super({ label: "Sprite", ...c }),
      (this.renderPipeId = "sprite"),
      (this.batched = !0),
      (this._visualBounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (this._anchor = new lr({
        _onUpdate: () => {
          this.onViewUpdate();
        },
      })),
      s
        ? (this.anchor = s)
        : t.defaultAnchor && (this.anchor = t.defaultAnchor),
      (this.texture = t),
      (this.allowChildren = !1),
      (this.roundPixels = n ?? !1),
      i !== void 0 && (this.width = i),
      l !== void 0 && (this.height = l);
  }
  static from(e, t = !1) {
    return e instanceof Se ? new Ve(e) : new Ve(Se.from(e, t));
  }
  set texture(e) {
    e || (e = Se.EMPTY);
    const t = this._texture;
    t !== e &&
      (t && t.dynamic && t.off("update", this.onViewUpdate, this),
      e.dynamic && e.on("update", this.onViewUpdate, this),
      (this._texture = e),
      this._width && this._setWidth(this._width, this._texture.orig.width),
      this._height && this._setHeight(this._height, this._texture.orig.height),
      this.onViewUpdate());
  }
  get texture() {
    return this._texture;
  }
  get visualBounds() {
    return (
      L2(this._visualBounds, this._anchor, this._texture), this._visualBounds
    );
  }
  get sourceBounds() {
    return (
      De(
        "8.6.1",
        "Sprite.sourceBounds is deprecated, use visualBounds instead."
      ),
      this.visualBounds
    );
  }
  updateBounds() {
    const e = this._anchor,
      t = this._texture,
      s = this._bounds,
      { width: n, height: i } = t.orig;
    (s.minX = -e._x * n),
      (s.maxX = s.minX + n),
      (s.minY = -e._y * i),
      (s.maxY = s.minY + i);
  }
  destroy(e = !1) {
    if ((super.destroy(e), typeof e == "boolean" ? e : e?.texture)) {
      const s = typeof e == "boolean" ? e : e?.textureSource;
      this._texture.destroy(s);
    }
    (this._texture = null),
      (this._visualBounds = null),
      (this._bounds = null),
      (this._anchor = null),
      (this._gpuData = null);
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(e) {
    typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e);
  }
  get width() {
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(e) {
    this._setWidth(e, this._texture.orig.width), (this._width = e);
  }
  get height() {
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(e) {
    this._setHeight(e, this._texture.orig.height), (this._height = e);
  }
  getSize(e) {
    return (
      e || (e = {}),
      (e.width = Math.abs(this.scale.x) * this._texture.orig.width),
      (e.height = Math.abs(this.scale.y) * this._texture.orig.height),
      e
    );
  }
  setSize(e, t) {
    typeof e == "object"
      ? ((t = e.height ?? e.width), (e = e.width))
      : t ?? (t = e),
      e !== void 0 && this._setWidth(e, this._texture.orig.width),
      t !== void 0 && this._setHeight(t, this._texture.orig.height);
  }
}
const dA = new wr();
function X2(r, e, t) {
  const s = dA;
  (r.measurable = !0), rg(r, t, s), e.addBoundsMask(s), (r.measurable = !1);
}
function Y2(r, e, t) {
  const s = ln.get();
  r.measurable = !0;
  const n = jr.get().identity(),
    i = K2(r, t, n);
  ng(r, s, i),
    (r.measurable = !1),
    e.addBoundsMask(s),
    jr.return(n),
    ln.return(s);
}
function K2(r, e, t) {
  return r
    ? (r !== e &&
        (K2(r.parent, e, t),
        r.updateLocalTransform(),
        t.append(r.localTransform)),
      t)
    : (Re("Mask bounds, renderable is not inside the root container"), t);
}
class Q2 {
  constructor(e) {
    (this.priority = 0),
      (this.inverse = !1),
      (this.pipe = "alphaMask"),
      e?.mask && this.init(e.mask);
  }
  init(e) {
    (this.mask = e),
      (this.renderMaskToTexture = !(e instanceof Ve)),
      (this.mask.renderable = this.renderMaskToTexture),
      (this.mask.includeInBuild = !this.renderMaskToTexture),
      (this.mask.measurable = !1);
  }
  reset() {
    (this.mask.measurable = !0), (this.mask = null);
  }
  addBounds(e, t) {
    this.inverse || X2(this.mask, e, t);
  }
  addLocalBounds(e, t) {
    Y2(this.mask, e, t);
  }
  containsPoint(e, t) {
    const s = this.mask;
    return t(s, e);
  }
  destroy() {
    this.reset();
  }
  static test(e) {
    return e instanceof Ve;
  }
}
Q2.extension = D.MaskEffect;
class Z2 {
  constructor(e) {
    (this.priority = 0),
      (this.pipe = "colorMask"),
      e?.mask && this.init(e.mask);
  }
  init(e) {
    this.mask = e;
  }
  destroy() {}
  static test(e) {
    return typeof e == "number";
  }
}
Z2.extension = D.MaskEffect;
class J2 {
  constructor(e) {
    (this.priority = 0),
      (this.pipe = "stencilMask"),
      e?.mask && this.init(e.mask);
  }
  init(e) {
    (this.mask = e),
      (this.mask.includeInBuild = !1),
      (this.mask.measurable = !1);
  }
  reset() {
    (this.mask.measurable = !0),
      (this.mask.includeInBuild = !0),
      (this.mask = null);
  }
  addBounds(e, t) {
    X2(this.mask, e, t);
  }
  addLocalBounds(e, t) {
    Y2(this.mask, e, t);
  }
  containsPoint(e, t) {
    const s = this.mask;
    return t(s, e);
  }
  destroy() {
    this.reset();
  }
  static test(e) {
    return e instanceof Ye;
  }
}
J2.extension = D.MaskEffect;
const hA = {
  createCanvas: (r, e) => {
    const t = document.createElement("canvas");
    return (t.width = r), (t.height = e), t;
  },
  createImage: () => new Image(),
  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
  getWebGLRenderingContext: () => WebGLRenderingContext,
  getNavigator: () => navigator,
  getBaseUrl: () => document.baseURI ?? window.location.href,
  getFontFaceSet: () => document.fonts,
  fetch: (r, e) => fetch(r, e),
  parseXML: (r) => new DOMParser().parseFromString(r, "text/xml"),
};
let a_ = hA;
const Ke = {
  get() {
    return a_;
  },
  set(r) {
    a_ = r;
  },
};
class cn extends Yt {
  constructor(e) {
    e.resource || (e.resource = Ke.get().createCanvas()),
      e.width ||
        ((e.width = e.resource.width),
        e.autoDensity || (e.width /= e.resolution)),
      e.height ||
        ((e.height = e.resource.height),
        e.autoDensity || (e.height /= e.resolution)),
      super(e),
      (this.uploadMethodId = "image"),
      (this.autoDensity = e.autoDensity),
      this.resizeCanvas(),
      (this.transparent = !!e.transparent);
  }
  resizeCanvas() {
    this.autoDensity &&
      "style" in this.resource &&
      ((this.resource.style.width = `${this.width}px`),
      (this.resource.style.height = `${this.height}px`)),
      (this.resource.width !== this.pixelWidth ||
        this.resource.height !== this.pixelHeight) &&
        ((this.resource.width = this.pixelWidth),
        (this.resource.height = this.pixelHeight));
  }
  resize(e = this.width, t = this.height, s = this._resolution) {
    const n = super.resize(e, t, s);
    return n && this.resizeCanvas(), n;
  }
  static test(e) {
    return (
      (globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement) ||
      (globalThis.OffscreenCanvas && e instanceof OffscreenCanvas)
    );
  }
  get context2D() {
    return (
      this._context2D || (this._context2D = this.resource.getContext("2d"))
    );
  }
}
cn.extension = D.TextureSource;
class Mi extends Yt {
  constructor(e) {
    super(e), (this.uploadMethodId = "image"), (this.autoGarbageCollect = !0);
  }
  static test(e) {
    return (
      (globalThis.HTMLImageElement && e instanceof HTMLImageElement) ||
      (typeof ImageBitmap < "u" && e instanceof ImageBitmap) ||
      (globalThis.VideoFrame && e instanceof VideoFrame)
    );
  }
}
Mi.extension = D.TextureSource;
var wa = ((r) => (
  (r[(r.INTERACTION = 50)] = "INTERACTION"),
  (r[(r.HIGH = 25)] = "HIGH"),
  (r[(r.NORMAL = 0)] = "NORMAL"),
  (r[(r.LOW = -25)] = "LOW"),
  (r[(r.UTILITY = -50)] = "UTILITY"),
  r
))(wa || {});
class Wf {
  constructor(e, t = null, s = 0, n = !1) {
    (this.next = null),
      (this.previous = null),
      (this._destroyed = !1),
      (this._fn = e),
      (this._context = t),
      (this.priority = s),
      (this._once = n);
  }
  match(e, t = null) {
    return this._fn === e && this._context === t;
  }
  emit(e) {
    this._fn && (this._context ? this._fn.call(this._context, e) : this._fn(e));
    const t = this.next;
    return (
      this._once && this.destroy(!0), this._destroyed && (this.next = null), t
    );
  }
  connect(e) {
    (this.previous = e),
      e.next && (e.next.previous = this),
      (this.next = e.next),
      (e.next = this);
  }
  destroy(e = !1) {
    (this._destroyed = !0),
      (this._fn = null),
      (this._context = null),
      this.previous && (this.previous.next = this.next),
      this.next && (this.next.previous = this.previous);
    const t = this.next;
    return (this.next = e ? null : t), (this.previous = null), t;
  }
}
const ew = class Hr {
  constructor() {
    (this.autoStart = !1),
      (this.deltaTime = 1),
      (this.lastTime = -1),
      (this.speed = 1),
      (this.started = !1),
      (this._requestId = null),
      (this._maxElapsedMS = 100),
      (this._minElapsedMS = 0),
      (this._protected = !1),
      (this._lastFrame = -1),
      (this._head = new Wf(null, null, 1 / 0)),
      (this.deltaMS = 1 / Hr.targetFPMS),
      (this.elapsedMS = 1 / Hr.targetFPMS),
      (this._tick = (e) => {
        (this._requestId = null),
          this.started &&
            (this.update(e),
            this.started &&
              this._requestId === null &&
              this._head.next &&
              (this._requestId = requestAnimationFrame(this._tick)));
      });
  }
  _requestIfNeeded() {
    this._requestId === null &&
      this._head.next &&
      ((this.lastTime = performance.now()),
      (this._lastFrame = this.lastTime),
      (this._requestId = requestAnimationFrame(this._tick)));
  }
  _cancelIfNeeded() {
    this._requestId !== null &&
      (cancelAnimationFrame(this._requestId), (this._requestId = null));
  }
  _startIfPossible() {
    this.started ? this._requestIfNeeded() : this.autoStart && this.start();
  }
  add(e, t, s = wa.NORMAL) {
    return this._addListener(new Wf(e, t, s));
  }
  addOnce(e, t, s = wa.NORMAL) {
    return this._addListener(new Wf(e, t, s, !0));
  }
  _addListener(e) {
    let t = this._head.next,
      s = this._head;
    if (!t) e.connect(s);
    else {
      for (; t; ) {
        if (e.priority > t.priority) {
          e.connect(s);
          break;
        }
        (s = t), (t = t.next);
      }
      e.previous || e.connect(s);
    }
    return this._startIfPossible(), this;
  }
  remove(e, t) {
    let s = this._head.next;
    for (; s; ) s.match(e, t) ? (s = s.destroy()) : (s = s.next);
    return this._head.next || this._cancelIfNeeded(), this;
  }
  get count() {
    if (!this._head) return 0;
    let e = 0,
      t = this._head;
    for (; (t = t.next); ) e++;
    return e;
  }
  start() {
    this.started || ((this.started = !0), this._requestIfNeeded());
  }
  stop() {
    this.started && ((this.started = !1), this._cancelIfNeeded());
  }
  destroy() {
    if (!this._protected) {
      this.stop();
      let e = this._head.next;
      for (; e; ) e = e.destroy(!0);
      this._head.destroy(), (this._head = null);
    }
  }
  update(e = performance.now()) {
    let t;
    if (e > this.lastTime) {
      if (
        ((t = this.elapsedMS = e - this.lastTime),
        t > this._maxElapsedMS && (t = this._maxElapsedMS),
        (t *= this.speed),
        this._minElapsedMS)
      ) {
        const i = (e - this._lastFrame) | 0;
        if (i < this._minElapsedMS) return;
        this._lastFrame = e - (i % this._minElapsedMS);
      }
      (this.deltaMS = t), (this.deltaTime = this.deltaMS * Hr.targetFPMS);
      const s = this._head;
      let n = s.next;
      for (; n; ) n = n.emit(this);
      s.next || this._cancelIfNeeded();
    } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
    this.lastTime = e;
  }
  get FPS() {
    return 1e3 / this.elapsedMS;
  }
  get minFPS() {
    return 1e3 / this._maxElapsedMS;
  }
  set minFPS(e) {
    const t = Math.min(this.maxFPS, e),
      s = Math.min(Math.max(0, t) / 1e3, Hr.targetFPMS);
    this._maxElapsedMS = 1 / s;
  }
  get maxFPS() {
    return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;
  }
  set maxFPS(e) {
    if (e === 0) this._minElapsedMS = 0;
    else {
      const t = Math.max(this.minFPS, e);
      this._minElapsedMS = 1 / (t / 1e3);
    }
  }
  static get shared() {
    if (!Hr._shared) {
      const e = (Hr._shared = new Hr());
      (e.autoStart = !0), (e._protected = !0);
    }
    return Hr._shared;
  }
  static get system() {
    if (!Hr._system) {
      const e = (Hr._system = new Hr());
      (e.autoStart = !0), (e._protected = !0);
    }
    return Hr._system;
  }
};
ew.targetFPMS = 0.06;
let cr = ew,
  Vf;
async function tw() {
  return (
    Vf ??
      (Vf = (async () => {
        const e = Ke.get().createCanvas(1, 1).getContext("webgl");
        if (!e) return "premultiply-alpha-on-upload";
        const t = await new Promise((l) => {
          const c = document.createElement("video");
          (c.onloadeddata = () => l(c)),
            (c.onerror = () => l(null)),
            (c.autoplay = !1),
            (c.crossOrigin = "anonymous"),
            (c.preload = "auto"),
            (c.src =
              "data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM="),
            c.load();
        });
        if (!t) return "premultiply-alpha-on-upload";
        const s = e.createTexture();
        e.bindTexture(e.TEXTURE_2D, s);
        const n = e.createFramebuffer();
        e.bindFramebuffer(e.FRAMEBUFFER, n),
          e.framebufferTexture2D(
            e.FRAMEBUFFER,
            e.COLOR_ATTACHMENT0,
            e.TEXTURE_2D,
            s,
            0
          ),
          e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1),
          e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL, e.NONE),
          e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t);
        const i = new Uint8Array(4);
        return (
          e.readPixels(0, 0, 1, 1, e.RGBA, e.UNSIGNED_BYTE, i),
          e.deleteFramebuffer(n),
          e.deleteTexture(s),
          e.getExtension("WEBGL_lose_context")?.loseContext(),
          i[0] <= i[3] ? "premultiplied-alpha" : "premultiply-alpha-on-upload"
        );
      })()),
    Vf
  );
}
const Uu = class rw extends Yt {
  constructor(e) {
    super(e),
      (this.isReady = !1),
      (this.uploadMethodId = "video"),
      (e = { ...rw.defaultOptions, ...e }),
      (this._autoUpdate = !0),
      (this._isConnectedToTicker = !1),
      (this._updateFPS = e.updateFPS || 0),
      (this._msToNextUpdate = 0),
      (this.autoPlay = e.autoPlay !== !1),
      (this.alphaMode = e.alphaMode ?? "premultiply-alpha-on-upload"),
      (this._videoFrameRequestCallback =
        this._videoFrameRequestCallback.bind(this)),
      (this._videoFrameRequestCallbackHandle = null),
      (this._load = null),
      (this._resolve = null),
      (this._reject = null),
      (this._onCanPlay = this._onCanPlay.bind(this)),
      (this._onCanPlayThrough = this._onCanPlayThrough.bind(this)),
      (this._onError = this._onError.bind(this)),
      (this._onPlayStart = this._onPlayStart.bind(this)),
      (this._onPlayStop = this._onPlayStop.bind(this)),
      (this._onSeeked = this._onSeeked.bind(this)),
      e.autoLoad !== !1 && this.load();
  }
  updateFrame() {
    if (!this.destroyed) {
      if (this._updateFPS) {
        const e = cr.shared.elapsedMS * this.resource.playbackRate;
        this._msToNextUpdate = Math.floor(this._msToNextUpdate - e);
      }
      (!this._updateFPS || this._msToNextUpdate <= 0) &&
        (this._msToNextUpdate = this._updateFPS
          ? Math.floor(1e3 / this._updateFPS)
          : 0),
        this.isValid && this.update();
    }
  }
  _videoFrameRequestCallback() {
    this.updateFrame(),
      this.destroyed
        ? (this._videoFrameRequestCallbackHandle = null)
        : (this._videoFrameRequestCallbackHandle =
            this.resource.requestVideoFrameCallback(
              this._videoFrameRequestCallback
            ));
  }
  get isValid() {
    return !!this.resource.videoWidth && !!this.resource.videoHeight;
  }
  async load() {
    if (this._load) return this._load;
    const e = this.resource,
      t = this.options;
    return (
      (e.readyState === e.HAVE_ENOUGH_DATA ||
        e.readyState === e.HAVE_FUTURE_DATA) &&
        e.width &&
        e.height &&
        (e.complete = !0),
      e.addEventListener("play", this._onPlayStart),
      e.addEventListener("pause", this._onPlayStop),
      e.addEventListener("seeked", this._onSeeked),
      this._isSourceReady()
        ? this._mediaReady()
        : (t.preload || e.addEventListener("canplay", this._onCanPlay),
          e.addEventListener("canplaythrough", this._onCanPlayThrough),
          e.addEventListener("error", this._onError, !0)),
      (this.alphaMode = await tw()),
      (this._load = new Promise((s, n) => {
        this.isValid
          ? s(this)
          : ((this._resolve = s),
            (this._reject = n),
            t.preloadTimeoutMs !== void 0 &&
              (this._preloadTimeout = setTimeout(() => {
                this._onError(
                  new ErrorEvent(
                    `Preload exceeded timeout of ${t.preloadTimeoutMs}ms`
                  )
                );
              })),
            e.load());
      })),
      this._load
    );
  }
  _onError(e) {
    this.resource.removeEventListener("error", this._onError, !0),
      this.emit("error", e),
      this._reject &&
        (this._reject(e), (this._reject = null), (this._resolve = null));
  }
  _isSourcePlaying() {
    const e = this.resource;
    return !e.paused && !e.ended;
  }
  _isSourceReady() {
    return this.resource.readyState > 2;
  }
  _onPlayStart() {
    this.isValid || this._mediaReady(), this._configureAutoUpdate();
  }
  _onPlayStop() {
    this._configureAutoUpdate();
  }
  _onSeeked() {
    this._autoUpdate &&
      !this._isSourcePlaying() &&
      ((this._msToNextUpdate = 0),
      this.updateFrame(),
      (this._msToNextUpdate = 0));
  }
  _onCanPlay() {
    this.resource.removeEventListener("canplay", this._onCanPlay),
      this._mediaReady();
  }
  _onCanPlayThrough() {
    this.resource.removeEventListener("canplaythrough", this._onCanPlay),
      this._preloadTimeout &&
        (clearTimeout(this._preloadTimeout), (this._preloadTimeout = void 0)),
      this._mediaReady();
  }
  _mediaReady() {
    const e = this.resource;
    this.isValid &&
      ((this.isReady = !0), this.resize(e.videoWidth, e.videoHeight)),
      (this._msToNextUpdate = 0),
      this.updateFrame(),
      (this._msToNextUpdate = 0),
      this._resolve &&
        (this._resolve(this), (this._resolve = null), (this._reject = null)),
      this._isSourcePlaying()
        ? this._onPlayStart()
        : this.autoPlay && this.resource.play();
  }
  destroy() {
    this._configureAutoUpdate();
    const e = this.resource;
    e &&
      (e.removeEventListener("play", this._onPlayStart),
      e.removeEventListener("pause", this._onPlayStop),
      e.removeEventListener("seeked", this._onSeeked),
      e.removeEventListener("canplay", this._onCanPlay),
      e.removeEventListener("canplaythrough", this._onCanPlayThrough),
      e.removeEventListener("error", this._onError, !0),
      e.pause(),
      (e.src = ""),
      e.load()),
      super.destroy();
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(e) {
    e !== this._autoUpdate &&
      ((this._autoUpdate = e), this._configureAutoUpdate());
  }
  get updateFPS() {
    return this._updateFPS;
  }
  set updateFPS(e) {
    e !== this._updateFPS &&
      ((this._updateFPS = e), this._configureAutoUpdate());
  }
  _configureAutoUpdate() {
    this._autoUpdate && this._isSourcePlaying()
      ? !this._updateFPS && this.resource.requestVideoFrameCallback
        ? (this._isConnectedToTicker &&
            (cr.shared.remove(this.updateFrame, this),
            (this._isConnectedToTicker = !1),
            (this._msToNextUpdate = 0)),
          this._videoFrameRequestCallbackHandle === null &&
            (this._videoFrameRequestCallbackHandle =
              this.resource.requestVideoFrameCallback(
                this._videoFrameRequestCallback
              )))
        : (this._videoFrameRequestCallbackHandle !== null &&
            (this.resource.cancelVideoFrameCallback(
              this._videoFrameRequestCallbackHandle
            ),
            (this._videoFrameRequestCallbackHandle = null)),
          this._isConnectedToTicker ||
            (cr.shared.add(this.updateFrame, this),
            (this._isConnectedToTicker = !0),
            (this._msToNextUpdate = 0)))
      : (this._videoFrameRequestCallbackHandle !== null &&
          (this.resource.cancelVideoFrameCallback(
            this._videoFrameRequestCallbackHandle
          ),
          (this._videoFrameRequestCallbackHandle = null)),
        this._isConnectedToTicker &&
          (cr.shared.remove(this.updateFrame, this),
          (this._isConnectedToTicker = !1),
          (this._msToNextUpdate = 0)));
  }
  static test(e) {
    return globalThis.HTMLVideoElement && e instanceof HTMLVideoElement;
  }
};
Uu.extension = D.TextureSource;
Uu.defaultOptions = {
  ...Yt.defaultOptions,
  autoLoad: !0,
  autoPlay: !0,
  updateFPS: 0,
  crossorigin: !0,
  loop: !1,
  muted: !0,
  playsinline: !0,
  preload: !1,
};
Uu.MIME_TYPES = { ogv: "video/ogg", mov: "video/quicktime", m4v: "video/mp4" };
let Ho = Uu;
const Ts = (r, e, t = !1) => (
  Array.isArray(r) || (r = [r]),
  e ? r.map((s) => (typeof s == "string" || t ? e(s) : s)) : r
);
class fA {
  constructor() {
    (this._parsers = []),
      (this._cache = new Map()),
      (this._cacheMap = new Map());
  }
  reset() {
    this._cacheMap.clear(), this._cache.clear();
  }
  has(e) {
    return this._cache.has(e);
  }
  get(e) {
    const t = this._cache.get(e);
    return t || Re(`[Assets] Asset id ${e} was not found in the Cache`), t;
  }
  set(e, t) {
    const s = Ts(e);
    let n;
    for (let d = 0; d < this.parsers.length; d++) {
      const f = this.parsers[d];
      if (f.test(t)) {
        n = f.getCacheableAssets(s, t);
        break;
      }
    }
    const i = new Map(Object.entries(n || {}));
    n ||
      s.forEach((d) => {
        i.set(d, t);
      });
    const l = [...i.keys()],
      c = { cacheKeys: l, keys: s };
    s.forEach((d) => {
      this._cacheMap.set(d, c);
    }),
      l.forEach((d) => {
        const f = n ? n[d] : t;
        this._cache.has(d) &&
          this._cache.get(d) !== f &&
          Re("[Cache] already has key:", d),
          this._cache.set(d, i.get(d));
      });
  }
  remove(e) {
    if (!this._cacheMap.has(e)) {
      Re(`[Assets] Asset id ${e} was not found in the Cache`);
      return;
    }
    const t = this._cacheMap.get(e);
    t.cacheKeys.forEach((n) => {
      this._cache.delete(n);
    }),
      t.keys.forEach((n) => {
        this._cacheMap.delete(n);
      });
  }
  get parsers() {
    return this._parsers;
  }
}
const mt = new fA(),
  fm = [];
Ie.handleByList(D.TextureSource, fm);
function sw(r = {}) {
  const e = r && r.resource,
    t = e ? r.resource : r,
    s = e ? r : { resource: r };
  for (let n = 0; n < fm.length; n++) {
    const i = fm[n];
    if (i.test(t)) return new i(s);
  }
  throw new Error(`Could not find a source type for resource: ${s.resource}`);
}
function pA(r = {}, e = !1) {
  const t = r && r.resource,
    s = t ? r.resource : r,
    n = t ? r : { resource: r };
  if (!e && mt.has(s)) return mt.get(s);
  const i = new Se({ source: sw(n) });
  return (
    i.on("destroy", () => {
      mt.has(s) && mt.remove(s);
    }),
    e || mt.set(s, i),
    i
  );
}
function mA(r, e = !1) {
  return typeof r == "string"
    ? mt.get(r)
    : r instanceof Yt
    ? new Se({ source: r })
    : pA(r, e);
}
Se.from = mA;
Yt.from = sw;
Ie.add(Q2, Z2, J2, Ho, Mi, cn, eg);
var pn = ((r) => (
  (r[(r.Low = 0)] = "Low"),
  (r[(r.Normal = 1)] = "Normal"),
  (r[(r.High = 2)] = "High"),
  r
))(pn || {});
function _s(r) {
  if (typeof r != "string")
    throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`);
}
function Co(r) {
  return r.split("?")[0].split("#")[0];
}
function gA(r) {
  return r.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function xA(r, e, t) {
  return r.replace(new RegExp(gA(e), "g"), t);
}
function yA(r, e) {
  let t = "",
    s = 0,
    n = -1,
    i = 0,
    l = -1;
  for (let c = 0; c <= r.length; ++c) {
    if (c < r.length) l = r.charCodeAt(c);
    else {
      if (l === 47) break;
      l = 47;
    }
    if (l === 47) {
      if (!(n === c - 1 || i === 1))
        if (n !== c - 1 && i === 2) {
          if (
            t.length < 2 ||
            s !== 2 ||
            t.charCodeAt(t.length - 1) !== 46 ||
            t.charCodeAt(t.length - 2) !== 46
          ) {
            if (t.length > 2) {
              const d = t.lastIndexOf("/");
              if (d !== t.length - 1) {
                d === -1
                  ? ((t = ""), (s = 0))
                  : ((t = t.slice(0, d)),
                    (s = t.length - 1 - t.lastIndexOf("/"))),
                  (n = c),
                  (i = 0);
                continue;
              }
            } else if (t.length === 2 || t.length === 1) {
              (t = ""), (s = 0), (n = c), (i = 0);
              continue;
            }
          }
        } else
          t.length > 0
            ? (t += `/${r.slice(n + 1, c)}`)
            : (t = r.slice(n + 1, c)),
            (s = c - n - 1);
      (n = c), (i = 0);
    } else l === 46 && i !== -1 ? ++i : (i = -1);
  }
  return t;
}
const dr = {
  toPosix(r) {
    return xA(r, "\\", "/");
  },
  isUrl(r) {
    return /^https?:/.test(this.toPosix(r));
  },
  isDataUrl(r) {
    return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(
      r
    );
  },
  isBlobUrl(r) {
    return r.startsWith("blob:");
  },
  hasProtocol(r) {
    return /^[^/:]+:/.test(this.toPosix(r));
  },
  getProtocol(r) {
    _s(r), (r = this.toPosix(r));
    const e = /^file:\/\/\//.exec(r);
    if (e) return e[0];
    const t = /^[^/:]+:\/{0,2}/.exec(r);
    return t ? t[0] : "";
  },
  toAbsolute(r, e, t) {
    if ((_s(r), this.isDataUrl(r) || this.isBlobUrl(r))) return r;
    const s = Co(this.toPosix(e ?? Ke.get().getBaseUrl())),
      n = Co(this.toPosix(t ?? this.rootname(s)));
    return (
      (r = this.toPosix(r)),
      r.startsWith("/")
        ? dr.join(n, r.slice(1))
        : this.isAbsolute(r)
        ? r
        : this.join(s, r)
    );
  },
  normalize(r) {
    if ((_s(r), r.length === 0)) return ".";
    if (this.isDataUrl(r) || this.isBlobUrl(r)) return r;
    r = this.toPosix(r);
    let e = "";
    const t = r.startsWith("/");
    this.hasProtocol(r) && ((e = this.rootname(r)), (r = r.slice(e.length)));
    const s = r.endsWith("/");
    return (r = yA(r)), r.length > 0 && s && (r += "/"), t ? `/${r}` : e + r;
  },
  isAbsolute(r) {
    return (
      _s(r), (r = this.toPosix(r)), this.hasProtocol(r) ? !0 : r.startsWith("/")
    );
  },
  join(...r) {
    if (r.length === 0) return ".";
    let e;
    for (let t = 0; t < r.length; ++t) {
      const s = r[t];
      if ((_s(s), s.length > 0))
        if (e === void 0) e = s;
        else {
          const n = r[t - 1] ?? "";
          this.joinExtensions.includes(this.extname(n).toLowerCase())
            ? (e += `/../${s}`)
            : (e += `/${s}`);
        }
    }
    return e === void 0 ? "." : this.normalize(e);
  },
  dirname(r) {
    if ((_s(r), r.length === 0)) return ".";
    r = this.toPosix(r);
    let e = r.charCodeAt(0);
    const t = e === 47;
    let s = -1,
      n = !0;
    const i = this.getProtocol(r),
      l = r;
    r = r.slice(i.length);
    for (let c = r.length - 1; c >= 1; --c)
      if (((e = r.charCodeAt(c)), e === 47)) {
        if (!n) {
          s = c;
          break;
        }
      } else n = !1;
    return s === -1
      ? t
        ? "/"
        : this.isUrl(l)
        ? i + r
        : i
      : t && s === 1
      ? "//"
      : i + r.slice(0, s);
  },
  rootname(r) {
    _s(r), (r = this.toPosix(r));
    let e = "";
    if (
      (r.startsWith("/") ? (e = "/") : (e = this.getProtocol(r)), this.isUrl(r))
    ) {
      const t = r.indexOf("/", e.length);
      t !== -1 ? (e = r.slice(0, t)) : (e = r), e.endsWith("/") || (e += "/");
    }
    return e;
  },
  basename(r, e) {
    _s(r), e && _s(e), (r = Co(this.toPosix(r)));
    let t = 0,
      s = -1,
      n = !0,
      i;
    if (e !== void 0 && e.length > 0 && e.length <= r.length) {
      if (e.length === r.length && e === r) return "";
      let l = e.length - 1,
        c = -1;
      for (i = r.length - 1; i >= 0; --i) {
        const d = r.charCodeAt(i);
        if (d === 47) {
          if (!n) {
            t = i + 1;
            break;
          }
        } else
          c === -1 && ((n = !1), (c = i + 1)),
            l >= 0 &&
              (d === e.charCodeAt(l)
                ? --l === -1 && (s = i)
                : ((l = -1), (s = c)));
      }
      return t === s ? (s = c) : s === -1 && (s = r.length), r.slice(t, s);
    }
    for (i = r.length - 1; i >= 0; --i)
      if (r.charCodeAt(i) === 47) {
        if (!n) {
          t = i + 1;
          break;
        }
      } else s === -1 && ((n = !1), (s = i + 1));
    return s === -1 ? "" : r.slice(t, s);
  },
  extname(r) {
    _s(r), (r = Co(this.toPosix(r)));
    let e = -1,
      t = 0,
      s = -1,
      n = !0,
      i = 0;
    for (let l = r.length - 1; l >= 0; --l) {
      const c = r.charCodeAt(l);
      if (c === 47) {
        if (!n) {
          t = l + 1;
          break;
        }
        continue;
      }
      s === -1 && ((n = !1), (s = l + 1)),
        c === 46
          ? e === -1
            ? (e = l)
            : i !== 1 && (i = 1)
          : e !== -1 && (i = -1);
    }
    return e === -1 ||
      s === -1 ||
      i === 0 ||
      (i === 1 && e === s - 1 && e === t + 1)
      ? ""
      : r.slice(e, s);
  },
  parse(r) {
    _s(r);
    const e = { root: "", dir: "", base: "", ext: "", name: "" };
    if (r.length === 0) return e;
    r = Co(this.toPosix(r));
    let t = r.charCodeAt(0);
    const s = this.isAbsolute(r);
    let n;
    (e.root = this.rootname(r)), s || this.hasProtocol(r) ? (n = 1) : (n = 0);
    let i = -1,
      l = 0,
      c = -1,
      d = !0,
      f = r.length - 1,
      m = 0;
    for (; f >= n; --f) {
      if (((t = r.charCodeAt(f)), t === 47)) {
        if (!d) {
          l = f + 1;
          break;
        }
        continue;
      }
      c === -1 && ((d = !1), (c = f + 1)),
        t === 46
          ? i === -1
            ? (i = f)
            : m !== 1 && (m = 1)
          : i !== -1 && (m = -1);
    }
    return (
      i === -1 || c === -1 || m === 0 || (m === 1 && i === c - 1 && i === l + 1)
        ? c !== -1 &&
          (l === 0 && s
            ? (e.base = e.name = r.slice(1, c))
            : (e.base = e.name = r.slice(l, c)))
        : (l === 0 && s
            ? ((e.name = r.slice(1, i)), (e.base = r.slice(1, c)))
            : ((e.name = r.slice(l, i)), (e.base = r.slice(l, c))),
          (e.ext = r.slice(i, c))),
      (e.dir = this.dirname(r)),
      e
    );
  },
  sep: "/",
  delimiter: ":",
  joinExtensions: [".html"],
};
function nw(r, e, t, s, n) {
  const i = e[t];
  for (let l = 0; l < i.length; l++) {
    const c = i[l];
    t < e.length - 1
      ? nw(r.replace(s[t], c), e, t + 1, s, n)
      : n.push(r.replace(s[t], c));
  }
}
function vA(r) {
  const e = /\{(.*?)\}/g,
    t = r.match(e),
    s = [];
  if (t) {
    const n = [];
    t.forEach((i) => {
      const l = i.substring(1, i.length - 1).split(",");
      n.push(l);
    }),
      nw(r, n, 0, t, s);
  } else s.push(r);
  return s;
}
const xu = (r) => !Array.isArray(r);
class Aa {
  constructor() {
    (this._defaultBundleIdentifierOptions = {
      connector: "-",
      createBundleAssetId: (e, t) => `${e}${this._bundleIdConnector}${t}`,
      extractAssetIdFromBundle: (e, t) =>
        t.replace(`${e}${this._bundleIdConnector}`, ""),
    }),
      (this._bundleIdConnector =
        this._defaultBundleIdentifierOptions.connector),
      (this._createBundleAssetId =
        this._defaultBundleIdentifierOptions.createBundleAssetId),
      (this._extractAssetIdFromBundle =
        this._defaultBundleIdentifierOptions.extractAssetIdFromBundle),
      (this._assetMap = {}),
      (this._preferredOrder = []),
      (this._parsers = []),
      (this._resolverHash = {}),
      (this._bundles = {});
  }
  setBundleIdentifier(e) {
    if (
      ((this._bundleIdConnector = e.connector ?? this._bundleIdConnector),
      (this._createBundleAssetId =
        e.createBundleAssetId ?? this._createBundleAssetId),
      (this._extractAssetIdFromBundle =
        e.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle),
      this._extractAssetIdFromBundle(
        "foo",
        this._createBundleAssetId("foo", "bar")
      ) !== "bar")
    )
      throw new Error(
        "[Resolver] GenerateBundleAssetId are not working correctly"
      );
  }
  prefer(...e) {
    e.forEach((t) => {
      this._preferredOrder.push(t),
        t.priority || (t.priority = Object.keys(t.params));
    }),
      (this._resolverHash = {});
  }
  set basePath(e) {
    this._basePath = e;
  }
  get basePath() {
    return this._basePath;
  }
  set rootPath(e) {
    this._rootPath = e;
  }
  get rootPath() {
    return this._rootPath;
  }
  get parsers() {
    return this._parsers;
  }
  reset() {
    this.setBundleIdentifier(this._defaultBundleIdentifierOptions),
      (this._assetMap = {}),
      (this._preferredOrder = []),
      (this._resolverHash = {}),
      (this._rootPath = null),
      (this._basePath = null),
      (this._manifest = null),
      (this._bundles = {}),
      (this._defaultSearchParams = null);
  }
  setDefaultSearchParams(e) {
    if (typeof e == "string") this._defaultSearchParams = e;
    else {
      const t = e;
      this._defaultSearchParams = Object.keys(t)
        .map((s) => `${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`)
        .join("&");
    }
  }
  getAlias(e) {
    const { alias: t, src: s } = e;
    return Ts(
      t || s,
      (i) =>
        typeof i == "string"
          ? i
          : Array.isArray(i)
          ? i.map((l) => l?.src ?? l)
          : i?.src
          ? i.src
          : i,
      !0
    );
  }
  addManifest(e) {
    this._manifest &&
      Re("[Resolver] Manifest already exists, this will be overwritten"),
      (this._manifest = e),
      e.bundles.forEach((t) => {
        this.addBundle(t.name, t.assets);
      });
  }
  addBundle(e, t) {
    const s = [];
    let n = t;
    Array.isArray(t) ||
      (n = Object.entries(t).map(([i, l]) =>
        typeof l == "string" || Array.isArray(l)
          ? { alias: i, src: l }
          : { alias: i, ...l }
      )),
      n.forEach((i) => {
        const l = i.src,
          c = i.alias;
        let d;
        if (typeof c == "string") {
          const f = this._createBundleAssetId(e, c);
          s.push(f), (d = [c, f]);
        } else {
          const f = c.map((m) => this._createBundleAssetId(e, m));
          s.push(...f), (d = [...c, ...f]);
        }
        this.add({ ...i, alias: d, src: l });
      }),
      (this._bundles[e] = s);
  }
  add(e) {
    const t = [];
    Array.isArray(e) ? t.push(...e) : t.push(e);
    let s;
    (s = (i) => {
      this.hasKey(i) && Re(`[Resolver] already has key: ${i} overwriting`);
    }),
      Ts(t).forEach((i) => {
        const { src: l } = i;
        let { data: c, format: d, loadParser: f, parser: m } = i;
        const h = Ts(l).map((v) =>
            typeof v == "string" ? vA(v) : Array.isArray(v) ? v : [v]
          ),
          g = this.getAlias(i);
        Array.isArray(g) ? g.forEach(s) : s(g);
        const x = [];
        h.forEach((v) => {
          v.forEach((w) => {
            let _ = {};
            if (typeof w != "object") {
              _.src = w;
              for (let S = 0; S < this._parsers.length; S++) {
                const T = this._parsers[S];
                if (T.test(w)) {
                  _ = T.parse(w);
                  break;
                }
              }
            } else
              (c = w.data ?? c),
                (d = w.format ?? d),
                (w.loadParser || w.parser) &&
                  ((f = w.loadParser ?? f), (m = w.parser ?? m)),
                (_ = { ..._, ...w });
            if (!g)
              throw new Error(
                `[Resolver] alias is undefined for this asset: ${_.src}`
              );
            (_ = this._buildResolvedAsset(_, {
              aliases: g,
              data: c,
              format: d,
              loadParser: f,
              parser: m,
            })),
              x.push(_);
          });
        }),
          g.forEach((v) => {
            this._assetMap[v] = x;
          });
      });
  }
  resolveBundle(e) {
    const t = xu(e);
    e = Ts(e);
    const s = {};
    return (
      e.forEach((n) => {
        const i = this._bundles[n];
        if (i) {
          const l = this.resolve(i),
            c = {};
          for (const d in l) {
            const f = l[d];
            c[this._extractAssetIdFromBundle(n, d)] = f;
          }
          s[n] = c;
        }
      }),
      t ? s[e[0]] : s
    );
  }
  resolveUrl(e) {
    const t = this.resolve(e);
    if (typeof e != "string") {
      const s = {};
      for (const n in t) s[n] = t[n].src;
      return s;
    }
    return t.src;
  }
  resolve(e) {
    const t = xu(e);
    e = Ts(e);
    const s = {};
    return (
      e.forEach((n) => {
        if (!this._resolverHash[n])
          if (this._assetMap[n]) {
            let i = this._assetMap[n];
            const l = this._getPreferredOrder(i);
            l?.priority.forEach((c) => {
              l.params[c].forEach((d) => {
                const f = i.filter((m) => (m[c] ? m[c] === d : !1));
                f.length && (i = f);
              });
            }),
              (this._resolverHash[n] = i[0]);
          } else
            this._resolverHash[n] = this._buildResolvedAsset(
              { alias: [n], src: n },
              {}
            );
        s[n] = this._resolverHash[n];
      }),
      t ? s[e[0]] : s
    );
  }
  hasKey(e) {
    return !!this._assetMap[e];
  }
  hasBundle(e) {
    return !!this._bundles[e];
  }
  _getPreferredOrder(e) {
    for (let t = 0; t < e.length; t++) {
      const s = e[t],
        n = this._preferredOrder.find((i) =>
          i.params.format.includes(s.format)
        );
      if (n) return n;
    }
    return this._preferredOrder[0];
  }
  _appendDefaultSearchParams(e) {
    if (!this._defaultSearchParams) return e;
    const t = /\?/.test(e) ? "&" : "?";
    return `${e}${t}${this._defaultSearchParams}`;
  }
  _buildResolvedAsset(e, t) {
    const { aliases: s, data: n, loadParser: i, parser: l, format: c } = t;
    return (
      (this._basePath || this._rootPath) &&
        (e.src = dr.toAbsolute(e.src, this._basePath, this._rootPath)),
      (e.alias = s ?? e.alias ?? [e.src]),
      (e.src = this._appendDefaultSearchParams(e.src)),
      (e.data = { ...(n || {}), ...e.data }),
      (e.loadParser = i ?? e.loadParser),
      (e.parser = l ?? e.parser),
      (e.format = c ?? e.format ?? _A(e.src)),
      e
    );
  }
}
Aa.RETINA_PREFIX = /@([0-9\.]+)x/;
function _A(r) {
  return r.split(".").pop().split("?").shift().split("#").shift();
}
const pm = (r, e) => {
    const t = e.split("?")[1];
    return t && (r += `?${t}`), r;
  },
  iw = class Bo {
    constructor(e, t) {
      this.linkedSheets = [];
      let s = e;
      e?.source instanceof Yt && (s = { texture: e, data: t });
      const { texture: n, data: i, cachePrefix: l = "" } = s;
      (this.cachePrefix = l),
        (this._texture = n instanceof Se ? n : null),
        (this.textureSource = n.source),
        (this.textures = {}),
        (this.animations = {}),
        (this.data = i);
      const c = parseFloat(i.meta.scale);
      c
        ? ((this.resolution = c), (n.source.resolution = this.resolution))
        : (this.resolution = n.source._resolution),
        (this._frames = this.data.frames),
        (this._frameKeys = Object.keys(this._frames)),
        (this._batchIndex = 0),
        (this._callback = null);
    }
    parse() {
      return new Promise((e) => {
        (this._callback = e),
          (this._batchIndex = 0),
          this._frameKeys.length <= Bo.BATCH_SIZE
            ? (this._processFrames(0),
              this._processAnimations(),
              this._parseComplete())
            : this._nextBatch();
      });
    }
    _processFrames(e) {
      let t = e;
      const s = Bo.BATCH_SIZE;
      for (; t - e < s && t < this._frameKeys.length; ) {
        const n = this._frameKeys[t],
          i = this._frames[n],
          l = i.frame;
        if (l) {
          let c = null,
            d = null;
          const f = i.trimmed !== !1 && i.sourceSize ? i.sourceSize : i.frame,
            m = new ct(
              0,
              0,
              Math.floor(f.w) / this.resolution,
              Math.floor(f.h) / this.resolution
            );
          i.rotated
            ? (c = new ct(
                Math.floor(l.x) / this.resolution,
                Math.floor(l.y) / this.resolution,
                Math.floor(l.h) / this.resolution,
                Math.floor(l.w) / this.resolution
              ))
            : (c = new ct(
                Math.floor(l.x) / this.resolution,
                Math.floor(l.y) / this.resolution,
                Math.floor(l.w) / this.resolution,
                Math.floor(l.h) / this.resolution
              )),
            i.trimmed !== !1 &&
              i.spriteSourceSize &&
              (d = new ct(
                Math.floor(i.spriteSourceSize.x) / this.resolution,
                Math.floor(i.spriteSourceSize.y) / this.resolution,
                Math.floor(l.w) / this.resolution,
                Math.floor(l.h) / this.resolution
              )),
            (this.textures[n] = new Se({
              source: this.textureSource,
              frame: c,
              orig: m,
              trim: d,
              rotate: i.rotated ? 2 : 0,
              defaultAnchor: i.anchor,
              defaultBorders: i.borders,
              label: n.toString(),
            }));
        }
        t++;
      }
    }
    _processAnimations() {
      const e = this.data.animations || {};
      for (const t in e) {
        this.animations[t] = [];
        for (let s = 0; s < e[t].length; s++) {
          const n = e[t][s];
          this.animations[t].push(this.textures[n]);
        }
      }
    }
    _parseComplete() {
      const e = this._callback;
      (this._callback = null),
        (this._batchIndex = 0),
        e.call(this, this.textures);
    }
    _nextBatch() {
      this._processFrames(this._batchIndex * Bo.BATCH_SIZE),
        this._batchIndex++,
        setTimeout(() => {
          this._batchIndex * Bo.BATCH_SIZE < this._frameKeys.length
            ? this._nextBatch()
            : (this._processAnimations(), this._parseComplete());
        }, 0);
    }
    destroy(e = !1) {
      for (const t in this.textures) this.textures[t].destroy();
      (this._frames = null),
        (this._frameKeys = null),
        (this.data = null),
        (this.textures = null),
        e && (this._texture?.destroy(), this.textureSource.destroy()),
        (this._texture = null),
        (this.textureSource = null),
        (this.linkedSheets = []);
    }
  };
iw.BATCH_SIZE = 1e3;
let Jo = iw;
const bA = [
  "jpg",
  "png",
  "jpeg",
  "avif",
  "webp",
  "basis",
  "etc2",
  "bc7",
  "bc6h",
  "bc5",
  "bc4",
  "bc3",
  "bc2",
  "bc1",
  "eac",
  "astc",
];
function aw(r, e, t) {
  const s = {};
  if (
    (r.forEach((n) => {
      s[n] = e;
    }),
    Object.keys(e.textures).forEach((n) => {
      s[`${e.cachePrefix}${n}`] = e.textures[n];
    }),
    !t)
  ) {
    const n = dr.dirname(r[0]);
    e.linkedSheets.forEach((i, l) => {
      const c = aw([`${n}/${e.data.meta.related_multi_packs[l]}`], i, !0);
      Object.assign(s, c);
    });
  }
  return s;
}
const wA = {
  extension: D.Asset,
  cache: {
    test: (r) => r instanceof Jo,
    getCacheableAssets: (r, e) => aw(r, e, !1),
  },
  resolver: {
    extension: { type: D.ResolveParser, name: "resolveSpritesheet" },
    test: (r) => {
      const t = r.split("?")[0].split("."),
        s = t.pop(),
        n = t.pop();
      return s === "json" && bA.includes(n);
    },
    parse: (r) => {
      const e = r.split(".");
      return {
        resolution: parseFloat(Aa.RETINA_PREFIX.exec(r)?.[1] ?? "1"),
        format: e[e.length - 2],
        src: r,
      };
    },
  },
  loader: {
    name: "spritesheetLoader",
    id: "spritesheet",
    extension: {
      type: D.LoadParser,
      priority: pn.Normal,
      name: "spritesheetLoader",
    },
    async testParse(r, e) {
      return dr.extname(e.src).toLowerCase() === ".json" && !!r.frames;
    },
    async parse(r, e, t) {
      const {
        texture: s,
        imageFilename: n,
        textureOptions: i,
        cachePrefix: l,
      } = e?.data ?? {};
      let c = dr.dirname(e.src);
      c && c.lastIndexOf("/") !== c.length - 1 && (c += "/");
      let d;
      if (s instanceof Se) d = s;
      else {
        const h = pm(c + (n ?? r.meta.image), e.src);
        d = (await t.load([{ src: h, data: i }]))[h];
      }
      const f = new Jo({ texture: d.source, data: r, cachePrefix: l });
      await f.parse();
      const m = r?.meta?.related_multi_packs;
      if (Array.isArray(m)) {
        const h = [];
        for (const x of m) {
          if (typeof x != "string") continue;
          let v = c + x;
          e.data?.ignoreMultiPack ||
            ((v = pm(v, e.src)),
            h.push(
              t.load({
                src: v,
                data: { textureOptions: i, ignoreMultiPack: !0 },
              })
            ));
        }
        const g = await Promise.all(h);
        (f.linkedSheets = g),
          g.forEach((x) => {
            x.linkedSheets = [f].concat(f.linkedSheets.filter((v) => v !== x));
          });
      }
      return f;
    },
    async unload(r, e, t) {
      await t.unload(r.textureSource._sourceOrigin), r.destroy(!1);
    },
  },
};
Ie.add(wA);
class ow {
  constructor(e) {
    (this._lastTransform = ""),
      (this._observer = null),
      (this._tickerAttached = !1),
      (this.updateTranslation = () => {
        if (!this._canvas) return;
        const t = this._canvas.getBoundingClientRect(),
          s = this._canvas.width,
          n = this._canvas.height,
          i = (t.width / s) * this._renderer.resolution,
          l = (t.height / n) * this._renderer.resolution,
          c = t.left,
          d = t.top,
          f = `translate(${c}px, ${d}px) scale(${i}, ${l})`;
        f !== this._lastTransform &&
          ((this._domElement.style.transform = f), (this._lastTransform = f));
      }),
      (this._domElement = e.domElement),
      (this._renderer = e.renderer),
      !(
        globalThis.OffscreenCanvas &&
        this._renderer.canvas instanceof OffscreenCanvas
      ) && ((this._canvas = this._renderer.canvas), this._attachObserver());
  }
  get canvas() {
    return this._canvas;
  }
  ensureAttached() {
    !this._domElement.parentNode &&
      this._canvas.parentNode &&
      (this._canvas.parentNode.appendChild(this._domElement),
      this.updateTranslation());
  }
  _attachObserver() {
    "ResizeObserver" in globalThis
      ? (this._observer &&
          (this._observer.disconnect(), (this._observer = null)),
        (this._observer = new ResizeObserver((e) => {
          for (const t of e) {
            if (t.target !== this._canvas) continue;
            const s = this.canvas.width,
              n = this.canvas.height,
              i = (t.contentRect.width / s) * this._renderer.resolution,
              l = (t.contentRect.height / n) * this._renderer.resolution;
            (this._lastScaleX !== i || this._lastScaleY !== l) &&
              (this.updateTranslation(),
              (this._lastScaleX = i),
              (this._lastScaleY = l));
          }
        })),
        this._observer.observe(this._canvas))
      : this._tickerAttached ||
        cr.shared.add(this.updateTranslation, this, wa.HIGH);
  }
  destroy() {
    this._observer
      ? (this._observer.disconnect(), (this._observer = null))
      : this._tickerAttached && cr.shared.remove(this.updateTranslation),
      (this._domElement = null),
      (this._renderer = null),
      (this._canvas = null),
      (this._tickerAttached = !1),
      (this._lastTransform = ""),
      (this._lastScaleX = null),
      (this._lastScaleY = null);
  }
}
class fl {
  constructor(e) {
    (this.bubbles = !0),
      (this.cancelBubble = !0),
      (this.cancelable = !1),
      (this.composed = !1),
      (this.defaultPrevented = !1),
      (this.eventPhase = fl.prototype.NONE),
      (this.propagationStopped = !1),
      (this.propagationImmediatelyStopped = !1),
      (this.layer = new yt()),
      (this.page = new yt()),
      (this.NONE = 0),
      (this.CAPTURING_PHASE = 1),
      (this.AT_TARGET = 2),
      (this.BUBBLING_PHASE = 3),
      (this.manager = e);
  }
  get layerX() {
    return this.layer.x;
  }
  get layerY() {
    return this.layer.y;
  }
  get pageX() {
    return this.page.x;
  }
  get pageY() {
    return this.page.y;
  }
  get data() {
    return this;
  }
  composedPath() {
    return (
      this.manager &&
        (!this.path || this.path[this.path.length - 1] !== this.target) &&
        (this.path = this.target
          ? this.manager.propagationPath(this.target)
          : []),
      this.path
    );
  }
  initEvent(e, t, s) {
    throw new Error(
      "initEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
    );
  }
  initUIEvent(e, t, s, n, i) {
    throw new Error(
      "initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
    );
  }
  preventDefault() {
    this.nativeEvent instanceof Event &&
      this.nativeEvent.cancelable &&
      this.nativeEvent.preventDefault(),
      (this.defaultPrevented = !0);
  }
  stopImmediatePropagation() {
    this.propagationImmediatelyStopped = !0;
  }
  stopPropagation() {
    this.propagationStopped = !0;
  }
}
var qf = /iPhone/i,
  o_ = /iPod/i,
  l_ = /iPad/i,
  c_ = /\biOS-universal(?:.+)Mac\b/i,
  Xf = /\bAndroid(?:.+)Mobile\b/i,
  u_ = /Android/i,
  la = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
  Oc = /Silk/i,
  nn = /Windows Phone/i,
  d_ = /\bWindows(?:.+)ARM\b/i,
  h_ = /BlackBerry/i,
  f_ = /BB10/i,
  p_ = /Opera Mini/i,
  m_ = /\b(CriOS|Chrome)(?:.+)Mobile/i,
  g_ = /Mobile(?:.+)Firefox\b/i,
  x_ = function (r) {
    return (
      typeof r < "u" &&
      r.platform === "MacIntel" &&
      typeof r.maxTouchPoints == "number" &&
      r.maxTouchPoints > 1 &&
      typeof MSStream > "u"
    );
  };
function SA(r) {
  return function (e) {
    return e.test(r);
  };
}
function y_(r) {
  var e = { userAgent: "", platform: "", maxTouchPoints: 0 };
  !r && typeof navigator < "u"
    ? (e = {
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        maxTouchPoints: navigator.maxTouchPoints || 0,
      })
    : typeof r == "string"
    ? (e.userAgent = r)
    : r &&
      r.userAgent &&
      (e = {
        userAgent: r.userAgent,
        platform: r.platform,
        maxTouchPoints: r.maxTouchPoints || 0,
      });
  var t = e.userAgent,
    s = t.split("[FBAN");
  typeof s[1] < "u" && (t = s[0]),
    (s = t.split("Twitter")),
    typeof s[1] < "u" && (t = s[0]);
  var n = SA(t),
    i = {
      apple: {
        phone: n(qf) && !n(nn),
        ipod: n(o_),
        tablet: !n(qf) && (n(l_) || x_(e)) && !n(nn),
        universal: n(c_),
        device: (n(qf) || n(o_) || n(l_) || n(c_) || x_(e)) && !n(nn),
      },
      amazon: { phone: n(la), tablet: !n(la) && n(Oc), device: n(la) || n(Oc) },
      android: {
        phone: (!n(nn) && n(la)) || (!n(nn) && n(Xf)),
        tablet: !n(nn) && !n(la) && !n(Xf) && (n(Oc) || n(u_)),
        device:
          (!n(nn) && (n(la) || n(Oc) || n(Xf) || n(u_))) || n(/\bokhttp\b/i),
      },
      windows: { phone: n(nn), tablet: n(d_), device: n(nn) || n(d_) },
      other: {
        blackberry: n(h_),
        blackberry10: n(f_),
        opera: n(p_),
        firefox: n(g_),
        chrome: n(m_),
        device: n(h_) || n(f_) || n(p_) || n(g_) || n(m_),
      },
      any: !1,
      phone: !1,
      tablet: !1,
    };
  return (
    (i.any =
      i.apple.device || i.android.device || i.windows.device || i.other.device),
    (i.phone = i.apple.phone || i.android.phone || i.windows.phone),
    (i.tablet = i.apple.tablet || i.android.tablet || i.windows.tablet),
    i
  );
}
const CA = y_.default ?? y_,
  TA = CA(globalThis.navigator),
  EA = 9,
  v_ = 100,
  jA = 0,
  kA = 0,
  __ = 2,
  b_ = 1,
  PA = -1e3,
  AA = -1e3,
  MA = 2,
  og = class lw {
    constructor(e, t = TA) {
      (this._mobileInfo = t),
        (this.debug = !1),
        (this._activateOnTab = !0),
        (this._deactivateOnMouseMove = !0),
        (this._isActive = !1),
        (this._isMobileAccessibility = !1),
        (this._div = null),
        (this._pool = []),
        (this._renderId = 0),
        (this._children = []),
        (this._androidUpdateCount = 0),
        (this._androidUpdateFrequency = 500),
        (this._hookDiv = null),
        (t.tablet || t.phone) && this._createTouchHook(),
        (this._renderer = e);
    }
    get isActive() {
      return this._isActive;
    }
    get isMobileAccessibility() {
      return this._isMobileAccessibility;
    }
    get hookDiv() {
      return this._hookDiv;
    }
    _createTouchHook() {
      const e = document.createElement("button");
      (e.style.width = `${b_}px`),
        (e.style.height = `${b_}px`),
        (e.style.position = "absolute"),
        (e.style.top = `${PA}px`),
        (e.style.left = `${AA}px`),
        (e.style.zIndex = MA.toString()),
        (e.style.backgroundColor = "#FF0000"),
        (e.title = "select to enable accessibility for this content"),
        e.addEventListener("focus", () => {
          (this._isMobileAccessibility = !0),
            this._activate(),
            this._destroyTouchHook();
        }),
        document.body.appendChild(e),
        (this._hookDiv = e);
    }
    _destroyTouchHook() {
      this._hookDiv &&
        (document.body.removeChild(this._hookDiv), (this._hookDiv = null));
    }
    _activate() {
      if (this._isActive) return;
      (this._isActive = !0),
        this._div ||
          ((this._div = document.createElement("div")),
          (this._div.style.position = "absolute"),
          (this._div.style.top = `${jA}px`),
          (this._div.style.left = `${kA}px`),
          (this._div.style.pointerEvents = "none"),
          (this._div.style.zIndex = __.toString()),
          (this._canvasObserver = new ow({
            domElement: this._div,
            renderer: this._renderer,
          }))),
        this._activateOnTab &&
          ((this._onKeyDown = this._onKeyDown.bind(this)),
          globalThis.addEventListener("keydown", this._onKeyDown, !1)),
        this._deactivateOnMouseMove &&
          ((this._onMouseMove = this._onMouseMove.bind(this)),
          globalThis.document.addEventListener(
            "mousemove",
            this._onMouseMove,
            !0
          ));
      const e = this._renderer.view.canvas;
      if (e.parentNode)
        this._canvasObserver.ensureAttached(), this._initAccessibilitySetup();
      else {
        const t = new MutationObserver(() => {
          e.parentNode &&
            (t.disconnect(),
            this._canvasObserver.ensureAttached(),
            this._initAccessibilitySetup());
        });
        t.observe(document.body, { childList: !0, subtree: !0 });
      }
    }
    _initAccessibilitySetup() {
      this._renderer.runners.postrender.add(this),
        this._renderer.lastObjectRendered &&
          this._updateAccessibleObjects(this._renderer.lastObjectRendered);
    }
    _deactivate() {
      if (!(!this._isActive || this._isMobileAccessibility)) {
        (this._isActive = !1),
          globalThis.document.removeEventListener(
            "mousemove",
            this._onMouseMove,
            !0
          ),
          this._activateOnTab &&
            globalThis.addEventListener("keydown", this._onKeyDown, !1),
          this._renderer.runners.postrender.remove(this);
        for (const e of this._children)
          e._accessibleDiv &&
            e._accessibleDiv.parentNode &&
            (e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),
            (e._accessibleDiv = null)),
            (e._accessibleActive = !1);
        this._pool.forEach((e) => {
          e.parentNode && e.parentNode.removeChild(e);
        }),
          this._div &&
            this._div.parentNode &&
            this._div.parentNode.removeChild(this._div),
          (this._pool = []),
          (this._children = []);
      }
    }
    _updateAccessibleObjects(e) {
      if (!e.visible || !e.accessibleChildren) return;
      e.accessible &&
        (e._accessibleActive || this._addChild(e),
        (e._renderId = this._renderId));
      const t = e.children;
      if (t)
        for (let s = 0; s < t.length; s++) this._updateAccessibleObjects(t[s]);
    }
    init(e) {
      const s = {
        accessibilityOptions: {
          ...lw.defaultOptions,
          ...(e?.accessibilityOptions || {}),
        },
      };
      (this.debug = s.accessibilityOptions.debug),
        (this._activateOnTab = s.accessibilityOptions.activateOnTab),
        (this._deactivateOnMouseMove =
          s.accessibilityOptions.deactivateOnMouseMove),
        s.accessibilityOptions.enabledByDefault
          ? this._activate()
          : this._activateOnTab &&
            ((this._onKeyDown = this._onKeyDown.bind(this)),
            globalThis.addEventListener("keydown", this._onKeyDown, !1)),
        this._renderer.runners.postrender.remove(this);
    }
    postrender() {
      const e = performance.now();
      if (
        (this._mobileInfo.android.device && e < this._androidUpdateCount) ||
        ((this._androidUpdateCount = e + this._androidUpdateFrequency),
        !this._renderer.renderingToScreen || !this._renderer.view.canvas)
      )
        return;
      const t = new Set();
      if (this._renderer.lastObjectRendered) {
        this._updateAccessibleObjects(this._renderer.lastObjectRendered);
        for (const s of this._children)
          s._renderId === this._renderId && t.add(this._children.indexOf(s));
      }
      for (let s = this._children.length - 1; s >= 0; s--) {
        const n = this._children[s];
        t.has(s) ||
          (n._accessibleDiv &&
            n._accessibleDiv.parentNode &&
            (n._accessibleDiv.parentNode.removeChild(n._accessibleDiv),
            this._pool.push(n._accessibleDiv),
            (n._accessibleDiv = null)),
          (n._accessibleActive = !1),
          G2(this._children, s, 1));
      }
      this._renderer.renderingToScreen && this._canvasObserver.ensureAttached();
      for (let s = 0; s < this._children.length; s++) {
        const n = this._children[s];
        if (!n._accessibleActive || !n._accessibleDiv) continue;
        const i = n._accessibleDiv,
          l = n.hitArea || n.getBounds().rectangle;
        if (n.hitArea) {
          const c = n.worldTransform;
          (i.style.left = `${c.tx + l.x * c.a}px`),
            (i.style.top = `${c.ty + l.y * c.d}px`),
            (i.style.width = `${l.width * c.a}px`),
            (i.style.height = `${l.height * c.d}px`);
        } else
          this._capHitArea(l),
            (i.style.left = `${l.x}px`),
            (i.style.top = `${l.y}px`),
            (i.style.width = `${l.width}px`),
            (i.style.height = `${l.height}px`);
      }
      this._renderId++;
    }
    _updateDebugHTML(e) {
      e.innerHTML = `type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`;
    }
    _capHitArea(e) {
      e.x < 0 && ((e.width += e.x), (e.x = 0)),
        e.y < 0 && ((e.height += e.y), (e.y = 0));
      const { width: t, height: s } = this._renderer;
      e.x + e.width > t && (e.width = t - e.x),
        e.y + e.height > s && (e.height = s - e.y);
    }
    _addChild(e) {
      let t = this._pool.pop();
      t ||
        (e.accessibleType === "button"
          ? (t = document.createElement("button"))
          : ((t = document.createElement(e.accessibleType)),
            (t.style.cssText = `
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `),
            e.accessibleText && (t.innerText = e.accessibleText)),
        (t.style.width = `${v_}px`),
        (t.style.height = `${v_}px`),
        (t.style.backgroundColor = this.debug
          ? "rgba(255,255,255,0.5)"
          : "transparent"),
        (t.style.position = "absolute"),
        (t.style.zIndex = __.toString()),
        (t.style.borderStyle = "none"),
        navigator.userAgent.toLowerCase().includes("chrome")
          ? t.setAttribute("aria-live", "off")
          : t.setAttribute("aria-live", "polite"),
        navigator.userAgent.match(/rv:.*Gecko\//)
          ? t.setAttribute("aria-relevant", "additions")
          : t.setAttribute("aria-relevant", "text"),
        t.addEventListener("click", this._onClick.bind(this)),
        t.addEventListener("focus", this._onFocus.bind(this)),
        t.addEventListener("focusout", this._onFocusOut.bind(this))),
        (t.style.pointerEvents = e.accessiblePointerEvents),
        (t.type = e.accessibleType),
        e.accessibleTitle && e.accessibleTitle !== null
          ? (t.title = e.accessibleTitle)
          : (!e.accessibleHint || e.accessibleHint === null) &&
            (t.title = `container ${e.tabIndex}`),
        e.accessibleHint &&
          e.accessibleHint !== null &&
          t.setAttribute("aria-label", e.accessibleHint),
        this.debug && this._updateDebugHTML(t),
        (e._accessibleActive = !0),
        (e._accessibleDiv = t),
        (t.container = e),
        this._children.push(e),
        this._div.appendChild(e._accessibleDiv),
        e.interactive && (e._accessibleDiv.tabIndex = e.tabIndex);
    }
    _dispatchEvent(e, t) {
      const { container: s } = e.target,
        n = this._renderer.events.rootBoundary,
        i = Object.assign(new fl(n), { target: s });
      (n.rootTarget = this._renderer.lastObjectRendered),
        t.forEach((l) => n.dispatchEvent(i, l));
    }
    _onClick(e) {
      this._dispatchEvent(e, ["click", "pointertap", "tap"]);
    }
    _onFocus(e) {
      e.target.getAttribute("aria-live") ||
        e.target.setAttribute("aria-live", "assertive"),
        this._dispatchEvent(e, ["mouseover"]);
    }
    _onFocusOut(e) {
      e.target.getAttribute("aria-live") ||
        e.target.setAttribute("aria-live", "polite"),
        this._dispatchEvent(e, ["mouseout"]);
    }
    _onKeyDown(e) {
      e.keyCode !== EA || !this._activateOnTab || this._activate();
    }
    _onMouseMove(e) {
      (e.movementX === 0 && e.movementY === 0) || this._deactivate();
    }
    destroy() {
      this._deactivate(),
        this._destroyTouchHook(),
        this._canvasObserver?.destroy(),
        (this._canvasObserver = null),
        (this._div = null),
        (this._pool = null),
        (this._children = null),
        (this._renderer = null),
        this._activateOnTab &&
          globalThis.removeEventListener("keydown", this._onKeyDown);
    }
    setAccessibilityEnabled(e) {
      e ? this._activate() : this._deactivate();
    }
  };
og.extension = { type: [D.WebGLSystem, D.WebGPUSystem], name: "accessibility" };
og.defaultOptions = {
  enabledByDefault: !1,
  debug: !1,
  activateOnTab: !0,
  deactivateOnMouseMove: !0,
};
let NA = og;
const RA = {
    accessible: !1,
    accessibleTitle: null,
    accessibleHint: null,
    tabIndex: 0,
    accessibleType: "button",
    accessibleText: null,
    accessiblePointerEvents: "auto",
    accessibleChildren: !0,
    _accessibleActive: !1,
    _accessibleDiv: null,
    _renderId: -1,
  },
  Yf = Object.create(null),
  w_ = Object.create(null);
function el(r, e) {
  let t = w_[r];
  return (
    t === void 0 && (Yf[e] === void 0 && (Yf[e] = 1), (w_[r] = t = Yf[e]++)), t
  );
}
let Lc;
function cw() {
  return (
    (!Lc || Lc?.isContextLost()) &&
      (Lc = Ke.get().createCanvas().getContext("webgl", {})),
    Lc
  );
}
let Dc;
function BA() {
  if (!Dc) {
    Dc = "mediump";
    const r = cw();
    r &&
      r.getShaderPrecisionFormat &&
      (Dc = r.getShaderPrecisionFormat(r.FRAGMENT_SHADER, r.HIGH_FLOAT)
        .precision
        ? "highp"
        : "mediump");
  }
  return Dc;
}
function FA(r, e, t) {
  return e
    ? r
    : t
    ? ((r = r.replace("out vec4 finalColor;", "")),
      `

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${r}
        `)
    : `

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${r}
        `;
}
function IA(r, e, t) {
  const s = t ? e.maxSupportedFragmentPrecision : e.maxSupportedVertexPrecision;
  if (r.substring(0, 9) !== "precision") {
    let n = t ? e.requestedFragmentPrecision : e.requestedVertexPrecision;
    return (
      n === "highp" && s !== "highp" && (n = "mediump"),
      `precision ${n} float;
${r}`
    );
  } else if (s !== "highp" && r.substring(0, 15) === "precision highp")
    return r.replace("precision highp", "precision mediump");
  return r;
}
function OA(r, e) {
  return e
    ? `#version 300 es
${r}`
    : r;
}
const LA = {},
  DA = {};
function UA(r, { name: e = "pixi-program" }, t = !0) {
  (e = e.replace(/\s+/g, "-")), (e += t ? "-fragment" : "-vertex");
  const s = t ? LA : DA;
  return (
    s[e] ? (s[e]++, (e += `-${s[e]}`)) : (s[e] = 1),
    r.indexOf("#define SHADER_NAME") !== -1
      ? r
      : `${`#define SHADER_NAME ${e}`}
${r}`
  );
}
function zA(r, e) {
  return e ? r.replace("#version 300 es", "") : r;
}
const Kf = {
    stripVersion: zA,
    ensurePrecision: IA,
    addProgramDefines: FA,
    setProgramName: UA,
    insertVersion: OA,
  },
  Qf = Object.create(null),
  uw = class mm {
    constructor(e) {
      e = { ...mm.defaultOptions, ...e };
      const t = e.fragment.indexOf("#version 300 es") !== -1,
        s = {
          stripVersion: t,
          ensurePrecision: {
            requestedFragmentPrecision: e.preferredFragmentPrecision,
            requestedVertexPrecision: e.preferredVertexPrecision,
            maxSupportedVertexPrecision: "highp",
            maxSupportedFragmentPrecision: BA(),
          },
          setProgramName: { name: e.name },
          addProgramDefines: t,
          insertVersion: t,
        };
      let n = e.fragment,
        i = e.vertex;
      Object.keys(Kf).forEach((l) => {
        const c = s[l];
        (n = Kf[l](n, c, !0)), (i = Kf[l](i, c, !1));
      }),
        (this.fragment = n),
        (this.vertex = i),
        (this.transformFeedbackVaryings = e.transformFeedbackVaryings),
        (this._key = el(`${this.vertex}:${this.fragment}`, "gl-program"));
    }
    destroy() {
      (this.fragment = null),
        (this.vertex = null),
        (this._attributeData = null),
        (this._uniformData = null),
        (this._uniformBlockData = null),
        (this.transformFeedbackVaryings = null);
    }
    static from(e) {
      const t = `${e.vertex}:${e.fragment}`;
      return Qf[t] || (Qf[t] = new mm(e)), Qf[t];
    }
  };
uw.defaultOptions = {
  preferredVertexPrecision: "highp",
  preferredFragmentPrecision: "mediump",
};
let Bi = uw;
const S_ = {
  uint8x2: { size: 2, stride: 2, normalised: !1 },
  uint8x4: { size: 4, stride: 4, normalised: !1 },
  sint8x2: { size: 2, stride: 2, normalised: !1 },
  sint8x4: { size: 4, stride: 4, normalised: !1 },
  unorm8x2: { size: 2, stride: 2, normalised: !0 },
  unorm8x4: { size: 4, stride: 4, normalised: !0 },
  snorm8x2: { size: 2, stride: 2, normalised: !0 },
  snorm8x4: { size: 4, stride: 4, normalised: !0 },
  uint16x2: { size: 2, stride: 4, normalised: !1 },
  uint16x4: { size: 4, stride: 8, normalised: !1 },
  sint16x2: { size: 2, stride: 4, normalised: !1 },
  sint16x4: { size: 4, stride: 8, normalised: !1 },
  unorm16x2: { size: 2, stride: 4, normalised: !0 },
  unorm16x4: { size: 4, stride: 8, normalised: !0 },
  snorm16x2: { size: 2, stride: 4, normalised: !0 },
  snorm16x4: { size: 4, stride: 8, normalised: !0 },
  float16x2: { size: 2, stride: 4, normalised: !1 },
  float16x4: { size: 4, stride: 8, normalised: !1 },
  float32: { size: 1, stride: 4, normalised: !1 },
  float32x2: { size: 2, stride: 8, normalised: !1 },
  float32x3: { size: 3, stride: 12, normalised: !1 },
  float32x4: { size: 4, stride: 16, normalised: !1 },
  uint32: { size: 1, stride: 4, normalised: !1 },
  uint32x2: { size: 2, stride: 8, normalised: !1 },
  uint32x3: { size: 3, stride: 12, normalised: !1 },
  uint32x4: { size: 4, stride: 16, normalised: !1 },
  sint32: { size: 1, stride: 4, normalised: !1 },
  sint32x2: { size: 2, stride: 8, normalised: !1 },
  sint32x3: { size: 3, stride: 12, normalised: !1 },
  sint32x4: { size: 4, stride: 16, normalised: !1 },
};
function Xn(r) {
  return S_[r] ?? S_.float32;
}
const GA = {
  f32: "float32",
  "vec2<f32>": "float32x2",
  "vec3<f32>": "float32x3",
  "vec4<f32>": "float32x4",
  vec2f: "float32x2",
  vec3f: "float32x3",
  vec4f: "float32x4",
  i32: "sint32",
  "vec2<i32>": "sint32x2",
  "vec3<i32>": "sint32x3",
  "vec4<i32>": "sint32x4",
  u32: "uint32",
  "vec2<u32>": "uint32x2",
  "vec3<u32>": "uint32x3",
  "vec4<u32>": "uint32x4",
  bool: "uint32",
  "vec2<bool>": "uint32x2",
  "vec3<bool>": "uint32x3",
  "vec4<bool>": "uint32x4",
};
function $A({ source: r, entryPoint: e }) {
  const t = {},
    s = r.indexOf(`fn ${e}`);
  if (s !== -1) {
    const n = r.indexOf("->", s);
    if (n !== -1) {
      const i = r.substring(s, n),
        l =
          /@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;
      let c;
      for (; (c = l.exec(i)) !== null; ) {
        const d = GA[c[3]] ?? "float32";
        t[c[2]] = {
          location: parseInt(c[1], 10),
          format: d,
          stride: Xn(d).stride,
          offset: 0,
          instance: !1,
          start: 0,
        };
      }
    }
  }
  return t;
}
function Zf(r) {
  const e = /(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,
    t = /@group\((\d+)\)/,
    s = /@binding\((\d+)\)/,
    n = /var(<[^>]+>)? (\w+)/,
    i = /:\s*(\w+)/,
    l = /struct\s+(\w+)\s*{([^}]+)}/g,
    c = /(\w+)\s*:\s*([\w\<\>]+)/g,
    d = /struct\s+(\w+)/,
    f = r
      .match(e)
      ?.map((h) => ({
        group: parseInt(h.match(t)[1], 10),
        binding: parseInt(h.match(s)[1], 10),
        name: h.match(n)[2],
        isUniform: h.match(n)[1] === "<uniform>",
        type: h.match(i)[1],
      }));
  if (!f) return { groups: [], structs: [] };
  const m =
    r
      .match(l)
      ?.map((h) => {
        const g = h.match(d)[1],
          x = h.match(c).reduce((v, w) => {
            const [_, S] = w.split(":");
            return (v[_.trim()] = S.trim()), v;
          }, {});
        return x ? { name: g, members: x } : null;
      })
      .filter(({ name: h }) => f.some((g) => g.type === h)) ?? [];
  return { groups: f, structs: m };
}
var Fo = ((r) => (
  (r[(r.VERTEX = 1)] = "VERTEX"),
  (r[(r.FRAGMENT = 2)] = "FRAGMENT"),
  (r[(r.COMPUTE = 4)] = "COMPUTE"),
  r
))(Fo || {});
function HA({ groups: r }) {
  const e = [];
  for (let t = 0; t < r.length; t++) {
    const s = r[t];
    e[s.group] || (e[s.group] = []),
      s.isUniform
        ? e[s.group].push({
            binding: s.binding,
            visibility: Fo.VERTEX | Fo.FRAGMENT,
            buffer: { type: "uniform" },
          })
        : s.type === "sampler"
        ? e[s.group].push({
            binding: s.binding,
            visibility: Fo.FRAGMENT,
            sampler: { type: "filtering" },
          })
        : s.type === "texture_2d" &&
          e[s.group].push({
            binding: s.binding,
            visibility: Fo.FRAGMENT,
            texture: {
              sampleType: "float",
              viewDimension: "2d",
              multisampled: !1,
            },
          });
  }
  return e;
}
function WA({ groups: r }) {
  const e = [];
  for (let t = 0; t < r.length; t++) {
    const s = r[t];
    e[s.group] || (e[s.group] = {}), (e[s.group][s.name] = s.binding);
  }
  return e;
}
function VA(r, e) {
  const t = new Set(),
    s = new Set(),
    n = [...r.structs, ...e.structs].filter((l) =>
      t.has(l.name) ? !1 : (t.add(l.name), !0)
    ),
    i = [...r.groups, ...e.groups].filter((l) => {
      const c = `${l.name}-${l.binding}`;
      return s.has(c) ? !1 : (s.add(c), !0);
    });
  return { structs: n, groups: i };
}
const Jf = Object.create(null);
class Qn {
  constructor(e) {
    (this._layoutKey = 0), (this._attributeLocationsKey = 0);
    const { fragment: t, vertex: s, layout: n, gpuLayout: i, name: l } = e;
    if (
      ((this.name = l),
      (this.fragment = t),
      (this.vertex = s),
      t.source === s.source)
    ) {
      const c = Zf(t.source);
      this.structsAndGroups = c;
    } else {
      const c = Zf(s.source),
        d = Zf(t.source);
      this.structsAndGroups = VA(c, d);
    }
    (this.layout = n ?? WA(this.structsAndGroups)),
      (this.gpuLayout = i ?? HA(this.structsAndGroups)),
      (this.autoAssignGlobalUniforms =
        this.layout[0]?.globalUniforms !== void 0),
      (this.autoAssignLocalUniforms = this.layout[1]?.localUniforms !== void 0),
      this._generateProgramKey();
  }
  _generateProgramKey() {
    const { vertex: e, fragment: t } = this,
      s = e.source + t.source + e.entryPoint + t.entryPoint;
    this._layoutKey = el(s, "program");
  }
  get attributeData() {
    return (
      this._attributeData ?? (this._attributeData = $A(this.vertex)),
      this._attributeData
    );
  }
  destroy() {
    (this.gpuLayout = null),
      (this.layout = null),
      (this.structsAndGroups = null),
      (this.fragment = null),
      (this.vertex = null);
  }
  static from(e) {
    const t = `${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;
    return Jf[t] || (Jf[t] = new Qn(e)), Jf[t];
  }
}
const dw = [
    "f32",
    "i32",
    "vec2<f32>",
    "vec3<f32>",
    "vec4<f32>",
    "mat2x2<f32>",
    "mat3x3<f32>",
    "mat4x4<f32>",
    "mat3x2<f32>",
    "mat4x2<f32>",
    "mat2x3<f32>",
    "mat4x3<f32>",
    "mat2x4<f32>",
    "mat3x4<f32>",
    "vec2<i32>",
    "vec3<i32>",
    "vec4<i32>",
  ],
  qA = dw.reduce((r, e) => ((r[e] = !0), r), {});
function XA(r, e) {
  switch (r) {
    case "f32":
      return 0;
    case "vec2<f32>":
      return new Float32Array(2 * e);
    case "vec3<f32>":
      return new Float32Array(3 * e);
    case "vec4<f32>":
      return new Float32Array(4 * e);
    case "mat2x2<f32>":
      return new Float32Array([1, 0, 0, 1]);
    case "mat3x3<f32>":
      return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
    case "mat4x4<f32>":
      return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
  }
  return null;
}
const hw = class fw {
  constructor(e, t) {
    (this._touched = 0),
      (this.uid = St("uniform")),
      (this._resourceType = "uniformGroup"),
      (this._resourceId = St("resource")),
      (this.isUniformGroup = !0),
      (this._dirtyId = 0),
      (this.destroyed = !1),
      (t = { ...fw.defaultOptions, ...t }),
      (this.uniformStructures = e);
    const s = {};
    for (const n in e) {
      const i = e[n];
      if (((i.name = n), (i.size = i.size ?? 1), !qA[i.type]))
        throw new Error(
          `Uniform type ${
            i.type
          } is not supported. Supported uniform types are: ${dw.join(", ")}`
        );
      i.value ?? (i.value = XA(i.type, i.size)), (s[n] = i.value);
    }
    (this.uniforms = s),
      (this._dirtyId = 1),
      (this.ubo = t.ubo),
      (this.isStatic = t.isStatic),
      (this._signature = el(
        Object.keys(s)
          .map((n) => `${n}-${e[n].type}`)
          .join("-"),
        "uniform-group"
      ));
  }
  update() {
    this._dirtyId++;
  }
};
hw.defaultOptions = { ubo: !1, isStatic: !1 };
let kr = hw;
class un {
  constructor(e) {
    (this.resources = Object.create(null)), (this._dirty = !0);
    let t = 0;
    for (const s in e) {
      const n = e[s];
      this.setResource(n, t++);
    }
    this._updateKey();
  }
  _updateKey() {
    if (!this._dirty) return;
    this._dirty = !1;
    const e = [];
    let t = 0;
    for (const s in this.resources) e[t++] = this.resources[s]._resourceId;
    this._key = e.join("|");
  }
  setResource(e, t) {
    const s = this.resources[t];
    e !== s &&
      (s && e.off?.("change", this.onResourceChange, this),
      e.on?.("change", this.onResourceChange, this),
      (this.resources[t] = e),
      (this._dirty = !0));
  }
  getResource(e) {
    return this.resources[e];
  }
  _touch(e) {
    const t = this.resources;
    for (const s in t) t[s]._touched = e;
  }
  destroy() {
    const e = this.resources;
    for (const t in e) e[t].off?.("change", this.onResourceChange, this);
    this.resources = null;
  }
  onResourceChange(e) {
    if (((this._dirty = !0), e.destroyed)) {
      const t = this.resources;
      for (const s in t) t[s] === e && (t[s] = null);
    } else this._updateKey();
  }
}
var Xr = ((r) => (
  (r[(r.WEBGL = 1)] = "WEBGL"),
  (r[(r.WEBGPU = 2)] = "WEBGPU"),
  (r[(r.BOTH = 3)] = "BOTH"),
  r
))(Xr || {});
class ls extends nr {
  constructor(e) {
    super(),
      (this.uid = St("shader")),
      (this._uniformBindMap = Object.create(null)),
      (this._ownedBindGroups = []);
    let {
      gpuProgram: t,
      glProgram: s,
      groups: n,
      resources: i,
      compatibleRenderers: l,
      groupMap: c,
    } = e;
    (this.gpuProgram = t),
      (this.glProgram = s),
      l === void 0 && ((l = 0), t && (l |= Xr.WEBGPU), s && (l |= Xr.WEBGL)),
      (this.compatibleRenderers = l);
    const d = {};
    if ((!i && !n && (i = {}), i && n))
      throw new Error("[Shader] Cannot have both resources and groups");
    if (!t && n && !c)
      throw new Error(
        "[Shader] No group map or WebGPU shader provided - consider using resources instead."
      );
    if (!t && n && c)
      for (const f in c)
        for (const m in c[f]) {
          const h = c[f][m];
          d[h] = { group: f, binding: m, name: h };
        }
    else if (t && n && !c) {
      const f = t.structsAndGroups.groups;
      (c = {}),
        f.forEach((m) => {
          (c[m.group] = c[m.group] || {}),
            (c[m.group][m.binding] = m.name),
            (d[m.name] = m);
        });
    } else if (i) {
      (n = {}),
        (c = {}),
        t &&
          t.structsAndGroups.groups.forEach((h) => {
            (c[h.group] = c[h.group] || {}),
              (c[h.group][h.binding] = h.name),
              (d[h.name] = h);
          });
      let f = 0;
      for (const m in i)
        d[m] ||
          (n[99] || ((n[99] = new un()), this._ownedBindGroups.push(n[99])),
          (d[m] = { group: 99, binding: f, name: m }),
          (c[99] = c[99] || {}),
          (c[99][f] = m),
          f++);
      for (const m in i) {
        const h = m;
        let g = i[m];
        !g.source && !g._resourceType && (g = new kr(g));
        const x = d[h];
        x &&
          (n[x.group] ||
            ((n[x.group] = new un()), this._ownedBindGroups.push(n[x.group])),
          n[x.group].setResource(g, x.binding));
      }
    }
    (this.groups = n),
      (this._uniformBindMap = c),
      (this.resources = this._buildResourceAccessor(n, d));
  }
  addResource(e, t, s) {
    var n, i;
    (n = this._uniformBindMap)[t] || (n[t] = {}),
      (i = this._uniformBindMap[t])[s] || (i[s] = e),
      this.groups[t] ||
        ((this.groups[t] = new un()),
        this._ownedBindGroups.push(this.groups[t]));
  }
  _buildResourceAccessor(e, t) {
    const s = {};
    for (const n in t) {
      const i = t[n];
      Object.defineProperty(s, i.name, {
        get() {
          return e[i.group].getResource(i.binding);
        },
        set(l) {
          e[i.group].setResource(l, i.binding);
        },
      });
    }
    return s;
  }
  destroy(e = !1) {
    this.emit("destroy", this),
      e && (this.gpuProgram?.destroy(), this.glProgram?.destroy()),
      (this.gpuProgram = null),
      (this.glProgram = null),
      this.removeAllListeners(),
      (this._uniformBindMap = null),
      this._ownedBindGroups.forEach((t) => {
        t.destroy();
      }),
      (this._ownedBindGroups = null),
      (this.resources = null),
      (this.groups = null);
  }
  static from(e) {
    const { gpu: t, gl: s, ...n } = e;
    let i, l;
    return (
      t && (i = Qn.from(t)),
      s && (l = Bi.from(s)),
      new ls({ gpuProgram: i, glProgram: l, ...n })
    );
  }
}
const YA = {
    normal: 0,
    add: 1,
    multiply: 2,
    screen: 3,
    overlay: 4,
    erase: 5,
    "normal-npm": 6,
    "add-npm": 7,
    "screen-npm": 8,
    min: 9,
    max: 10,
  },
  ep = 0,
  tp = 1,
  rp = 2,
  sp = 3,
  np = 4,
  ip = 5,
  gm = class pw {
    constructor() {
      (this.data = 0),
        (this.blendMode = "normal"),
        (this.polygonOffset = 0),
        (this.blend = !0),
        (this.depthMask = !0);
    }
    get blend() {
      return !!(this.data & (1 << ep));
    }
    set blend(e) {
      !!(this.data & (1 << ep)) !== e && (this.data ^= 1 << ep);
    }
    get offsets() {
      return !!(this.data & (1 << tp));
    }
    set offsets(e) {
      !!(this.data & (1 << tp)) !== e && (this.data ^= 1 << tp);
    }
    set cullMode(e) {
      if (e === "none") {
        this.culling = !1;
        return;
      }
      (this.culling = !0), (this.clockwiseFrontFace = e === "front");
    }
    get cullMode() {
      return this.culling
        ? this.clockwiseFrontFace
          ? "front"
          : "back"
        : "none";
    }
    get culling() {
      return !!(this.data & (1 << rp));
    }
    set culling(e) {
      !!(this.data & (1 << rp)) !== e && (this.data ^= 1 << rp);
    }
    get depthTest() {
      return !!(this.data & (1 << sp));
    }
    set depthTest(e) {
      !!(this.data & (1 << sp)) !== e && (this.data ^= 1 << sp);
    }
    get depthMask() {
      return !!(this.data & (1 << ip));
    }
    set depthMask(e) {
      !!(this.data & (1 << ip)) !== e && (this.data ^= 1 << ip);
    }
    get clockwiseFrontFace() {
      return !!(this.data & (1 << np));
    }
    set clockwiseFrontFace(e) {
      !!(this.data & (1 << np)) !== e && (this.data ^= 1 << np);
    }
    get blendMode() {
      return this._blendMode;
    }
    set blendMode(e) {
      (this.blend = e !== "none"),
        (this._blendMode = e),
        (this._blendModeId = YA[e] || 0);
    }
    get polygonOffset() {
      return this._polygonOffset;
    }
    set polygonOffset(e) {
      (this.offsets = !!e), (this._polygonOffset = e);
    }
    toString() {
      return `[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;
    }
    static for2d() {
      const e = new pw();
      return (e.depthTest = !1), (e.blend = !0), e;
    }
  };
gm.default2d = gm.for2d();
let ks = gm;
const mw = class xm extends ls {
  constructor(e) {
    (e = { ...xm.defaultOptions, ...e }),
      super(e),
      (this.enabled = !0),
      (this._state = ks.for2d()),
      (this.blendMode = e.blendMode),
      (this.padding = e.padding),
      typeof e.antialias == "boolean"
        ? (this.antialias = e.antialias ? "on" : "off")
        : (this.antialias = e.antialias),
      (this.resolution = e.resolution),
      (this.blendRequired = e.blendRequired),
      (this.clipToViewport = e.clipToViewport),
      this.addResource("uTexture", 0, 1);
  }
  apply(e, t, s, n) {
    e.applyFilter(this, t, s, n);
  }
  get blendMode() {
    return this._state.blendMode;
  }
  set blendMode(e) {
    this._state.blendMode = e;
  }
  static from(e) {
    const { gpu: t, gl: s, ...n } = e;
    let i, l;
    return (
      t && (i = Qn.from(t)),
      s && (l = Bi.from(s)),
      new xm({ gpuProgram: i, glProgram: l, ...n })
    );
  }
};
mw.defaultOptions = {
  blendMode: "normal",
  resolution: 1,
  padding: 0,
  antialias: "off",
  blendRequired: !1,
  clipToViewport: !0,
};
let lg = mw;
const ym = [];
Ie.handleByNamedList(D.Environment, ym);
async function KA(r) {
  if (!r)
    for (let e = 0; e < ym.length; e++) {
      const t = ym[e];
      if (t.value.test()) {
        await t.value.load();
        return;
      }
    }
}
let To;
function gw() {
  if (typeof To == "boolean") return To;
  try {
    To =
      new Function(
        "param1",
        "param2",
        "param3",
        "return param1[param2] === param3;"
      )({ a: "b" }, "a", "b") === !0;
  } catch {
    To = !1;
  }
  return To;
}
function C_(r, e, t = 2) {
  const s = e && e.length,
    n = s ? e[0] * t : r.length;
  let i = xw(r, 0, n, t, !0);
  const l = [];
  if (!i || i.next === i.prev) return l;
  let c, d, f;
  if ((s && (i = t5(r, e, i, t)), r.length > 80 * t)) {
    (c = r[0]), (d = r[1]);
    let m = c,
      h = d;
    for (let g = t; g < n; g += t) {
      const x = r[g],
        v = r[g + 1];
      x < c && (c = x), v < d && (d = v), x > m && (m = x), v > h && (h = v);
    }
    (f = Math.max(m - c, h - d)), (f = f !== 0 ? 32767 / f : 0);
  }
  return tl(i, l, t, c, d, f, 0), l;
}
function xw(r, e, t, s, n) {
  let i;
  if (n === h5(r, e, t, s) > 0)
    for (let l = e; l < t; l += s) i = T_((l / s) | 0, r[l], r[l + 1], i);
  else
    for (let l = t - s; l >= e; l -= s) i = T_((l / s) | 0, r[l], r[l + 1], i);
  return i && Sa(i, i.next) && (sl(i), (i = i.next)), i;
}
function Ni(r, e) {
  if (!r) return r;
  e || (e = r);
  let t = r,
    s;
  do
    if (
      ((s = !1), !t.steiner && (Sa(t, t.next) || Nt(t.prev, t, t.next) === 0))
    ) {
      if ((sl(t), (t = e = t.prev), t === t.next)) break;
      s = !0;
    } else t = t.next;
  while (s || t !== e);
  return e;
}
function tl(r, e, t, s, n, i, l) {
  if (!r) return;
  !l && i && a5(r, s, n, i);
  let c = r;
  for (; r.prev !== r.next; ) {
    const d = r.prev,
      f = r.next;
    if (i ? ZA(r, s, n, i) : QA(r)) {
      e.push(d.i, r.i, f.i), sl(r), (r = f.next), (c = f.next);
      continue;
    }
    if (((r = f), r === c)) {
      l
        ? l === 1
          ? ((r = JA(Ni(r), e)), tl(r, e, t, s, n, i, 2))
          : l === 2 && e5(r, e, t, s, n, i)
        : tl(Ni(r), e, t, s, n, i, 1);
      break;
    }
  }
}
function QA(r) {
  const e = r.prev,
    t = r,
    s = r.next;
  if (Nt(e, t, s) >= 0) return !1;
  const n = e.x,
    i = t.x,
    l = s.x,
    c = e.y,
    d = t.y,
    f = s.y,
    m = Math.min(n, i, l),
    h = Math.min(c, d, f),
    g = Math.max(n, i, l),
    x = Math.max(c, d, f);
  let v = s.next;
  for (; v !== e; ) {
    if (
      v.x >= m &&
      v.x <= g &&
      v.y >= h &&
      v.y <= x &&
      Io(n, c, i, d, l, f, v.x, v.y) &&
      Nt(v.prev, v, v.next) >= 0
    )
      return !1;
    v = v.next;
  }
  return !0;
}
function ZA(r, e, t, s) {
  const n = r.prev,
    i = r,
    l = r.next;
  if (Nt(n, i, l) >= 0) return !1;
  const c = n.x,
    d = i.x,
    f = l.x,
    m = n.y,
    h = i.y,
    g = l.y,
    x = Math.min(c, d, f),
    v = Math.min(m, h, g),
    w = Math.max(c, d, f),
    _ = Math.max(m, h, g),
    S = vm(x, v, e, t, s),
    T = vm(w, _, e, t, s);
  let j = r.prevZ,
    E = r.nextZ;
  for (; j && j.z >= S && E && E.z <= T; ) {
    if (
      (j.x >= x &&
        j.x <= w &&
        j.y >= v &&
        j.y <= _ &&
        j !== n &&
        j !== l &&
        Io(c, m, d, h, f, g, j.x, j.y) &&
        Nt(j.prev, j, j.next) >= 0) ||
      ((j = j.prevZ),
      E.x >= x &&
        E.x <= w &&
        E.y >= v &&
        E.y <= _ &&
        E !== n &&
        E !== l &&
        Io(c, m, d, h, f, g, E.x, E.y) &&
        Nt(E.prev, E, E.next) >= 0)
    )
      return !1;
    E = E.nextZ;
  }
  for (; j && j.z >= S; ) {
    if (
      j.x >= x &&
      j.x <= w &&
      j.y >= v &&
      j.y <= _ &&
      j !== n &&
      j !== l &&
      Io(c, m, d, h, f, g, j.x, j.y) &&
      Nt(j.prev, j, j.next) >= 0
    )
      return !1;
    j = j.prevZ;
  }
  for (; E && E.z <= T; ) {
    if (
      E.x >= x &&
      E.x <= w &&
      E.y >= v &&
      E.y <= _ &&
      E !== n &&
      E !== l &&
      Io(c, m, d, h, f, g, E.x, E.y) &&
      Nt(E.prev, E, E.next) >= 0
    )
      return !1;
    E = E.nextZ;
  }
  return !0;
}
function JA(r, e) {
  let t = r;
  do {
    const s = t.prev,
      n = t.next.next;
    !Sa(s, n) &&
      vw(s, t, t.next, n) &&
      rl(s, n) &&
      rl(n, s) &&
      (e.push(s.i, t.i, n.i), sl(t), sl(t.next), (t = r = n)),
      (t = t.next);
  } while (t !== r);
  return Ni(t);
}
function e5(r, e, t, s, n, i) {
  let l = r;
  do {
    let c = l.next.next;
    for (; c !== l.prev; ) {
      if (l.i !== c.i && c5(l, c)) {
        let d = _w(l, c);
        (l = Ni(l, l.next)),
          (d = Ni(d, d.next)),
          tl(l, e, t, s, n, i, 0),
          tl(d, e, t, s, n, i, 0);
        return;
      }
      c = c.next;
    }
    l = l.next;
  } while (l !== r);
}
function t5(r, e, t, s) {
  const n = [];
  for (let i = 0, l = e.length; i < l; i++) {
    const c = e[i] * s,
      d = i < l - 1 ? e[i + 1] * s : r.length,
      f = xw(r, c, d, s, !1);
    f === f.next && (f.steiner = !0), n.push(l5(f));
  }
  n.sort(r5);
  for (let i = 0; i < n.length; i++) t = s5(n[i], t);
  return t;
}
function r5(r, e) {
  let t = r.x - e.x;
  if (t === 0 && ((t = r.y - e.y), t === 0)) {
    const s = (r.next.y - r.y) / (r.next.x - r.x),
      n = (e.next.y - e.y) / (e.next.x - e.x);
    t = s - n;
  }
  return t;
}
function s5(r, e) {
  const t = n5(r, e);
  if (!t) return e;
  const s = _w(t, r);
  return Ni(s, s.next), Ni(t, t.next);
}
function n5(r, e) {
  let t = e;
  const s = r.x,
    n = r.y;
  let i = -1 / 0,
    l;
  if (Sa(r, t)) return t;
  do {
    if (Sa(r, t.next)) return t.next;
    if (n <= t.y && n >= t.next.y && t.next.y !== t.y) {
      const h = t.x + ((n - t.y) * (t.next.x - t.x)) / (t.next.y - t.y);
      if (
        h <= s &&
        h > i &&
        ((i = h), (l = t.x < t.next.x ? t : t.next), h === s)
      )
        return l;
    }
    t = t.next;
  } while (t !== e);
  if (!l) return null;
  const c = l,
    d = l.x,
    f = l.y;
  let m = 1 / 0;
  t = l;
  do {
    if (
      s >= t.x &&
      t.x >= d &&
      s !== t.x &&
      yw(n < f ? s : i, n, d, f, n < f ? i : s, n, t.x, t.y)
    ) {
      const h = Math.abs(n - t.y) / (s - t.x);
      rl(t, r) &&
        (h < m || (h === m && (t.x > l.x || (t.x === l.x && i5(l, t))))) &&
        ((l = t), (m = h));
    }
    t = t.next;
  } while (t !== c);
  return l;
}
function i5(r, e) {
  return Nt(r.prev, r, e.prev) < 0 && Nt(e.next, r, r.next) < 0;
}
function a5(r, e, t, s) {
  let n = r;
  do
    n.z === 0 && (n.z = vm(n.x, n.y, e, t, s)),
      (n.prevZ = n.prev),
      (n.nextZ = n.next),
      (n = n.next);
  while (n !== r);
  (n.prevZ.nextZ = null), (n.prevZ = null), o5(n);
}
function o5(r) {
  let e,
    t = 1;
  do {
    let s = r,
      n;
    r = null;
    let i = null;
    for (e = 0; s; ) {
      e++;
      let l = s,
        c = 0;
      for (let f = 0; f < t && (c++, (l = l.nextZ), !!l); f++);
      let d = t;
      for (; c > 0 || (d > 0 && l); )
        c !== 0 && (d === 0 || !l || s.z <= l.z)
          ? ((n = s), (s = s.nextZ), c--)
          : ((n = l), (l = l.nextZ), d--),
          i ? (i.nextZ = n) : (r = n),
          (n.prevZ = i),
          (i = n);
      s = l;
    }
    (i.nextZ = null), (t *= 2);
  } while (e > 1);
  return r;
}
function vm(r, e, t, s, n) {
  return (
    (r = ((r - t) * n) | 0),
    (e = ((e - s) * n) | 0),
    (r = (r | (r << 8)) & 16711935),
    (r = (r | (r << 4)) & 252645135),
    (r = (r | (r << 2)) & 858993459),
    (r = (r | (r << 1)) & 1431655765),
    (e = (e | (e << 8)) & 16711935),
    (e = (e | (e << 4)) & 252645135),
    (e = (e | (e << 2)) & 858993459),
    (e = (e | (e << 1)) & 1431655765),
    r | (e << 1)
  );
}
function l5(r) {
  let e = r,
    t = r;
  do (e.x < t.x || (e.x === t.x && e.y < t.y)) && (t = e), (e = e.next);
  while (e !== r);
  return t;
}
function yw(r, e, t, s, n, i, l, c) {
  return (
    (n - l) * (e - c) >= (r - l) * (i - c) &&
    (r - l) * (s - c) >= (t - l) * (e - c) &&
    (t - l) * (i - c) >= (n - l) * (s - c)
  );
}
function Io(r, e, t, s, n, i, l, c) {
  return !(r === l && e === c) && yw(r, e, t, s, n, i, l, c);
}
function c5(r, e) {
  return (
    r.next.i !== e.i &&
    r.prev.i !== e.i &&
    !u5(r, e) &&
    ((rl(r, e) &&
      rl(e, r) &&
      d5(r, e) &&
      (Nt(r.prev, r, e.prev) || Nt(r, e.prev, e))) ||
      (Sa(r, e) && Nt(r.prev, r, r.next) > 0 && Nt(e.prev, e, e.next) > 0))
  );
}
function Nt(r, e, t) {
  return (e.y - r.y) * (t.x - e.x) - (e.x - r.x) * (t.y - e.y);
}
function Sa(r, e) {
  return r.x === e.x && r.y === e.y;
}
function vw(r, e, t, s) {
  const n = zc(Nt(r, e, t)),
    i = zc(Nt(r, e, s)),
    l = zc(Nt(t, s, r)),
    c = zc(Nt(t, s, e));
  return !!(
    (n !== i && l !== c) ||
    (n === 0 && Uc(r, t, e)) ||
    (i === 0 && Uc(r, s, e)) ||
    (l === 0 && Uc(t, r, s)) ||
    (c === 0 && Uc(t, e, s))
  );
}
function Uc(r, e, t) {
  return (
    e.x <= Math.max(r.x, t.x) &&
    e.x >= Math.min(r.x, t.x) &&
    e.y <= Math.max(r.y, t.y) &&
    e.y >= Math.min(r.y, t.y)
  );
}
function zc(r) {
  return r > 0 ? 1 : r < 0 ? -1 : 0;
}
function u5(r, e) {
  let t = r;
  do {
    if (
      t.i !== r.i &&
      t.next.i !== r.i &&
      t.i !== e.i &&
      t.next.i !== e.i &&
      vw(t, t.next, r, e)
    )
      return !0;
    t = t.next;
  } while (t !== r);
  return !1;
}
function rl(r, e) {
  return Nt(r.prev, r, r.next) < 0
    ? Nt(r, e, r.next) >= 0 && Nt(r, r.prev, e) >= 0
    : Nt(r, e, r.prev) < 0 || Nt(r, r.next, e) < 0;
}
function d5(r, e) {
  let t = r,
    s = !1;
  const n = (r.x + e.x) / 2,
    i = (r.y + e.y) / 2;
  do
    t.y > i != t.next.y > i &&
      t.next.y !== t.y &&
      n < ((t.next.x - t.x) * (i - t.y)) / (t.next.y - t.y) + t.x &&
      (s = !s),
      (t = t.next);
  while (t !== r);
  return s;
}
function _w(r, e) {
  const t = _m(r.i, r.x, r.y),
    s = _m(e.i, e.x, e.y),
    n = r.next,
    i = e.prev;
  return (
    (r.next = e),
    (e.prev = r),
    (t.next = n),
    (n.prev = t),
    (s.next = t),
    (t.prev = s),
    (i.next = s),
    (s.prev = i),
    s
  );
}
function T_(r, e, t, s) {
  const n = _m(r, e, t);
  return (
    s
      ? ((n.next = s.next), (n.prev = s), (s.next.prev = n), (s.next = n))
      : ((n.prev = n), (n.next = n)),
    n
  );
}
function sl(r) {
  (r.next.prev = r.prev),
    (r.prev.next = r.next),
    r.prevZ && (r.prevZ.nextZ = r.nextZ),
    r.nextZ && (r.nextZ.prevZ = r.prevZ);
}
function _m(r, e, t) {
  return {
    i: r,
    x: e,
    y: t,
    prev: null,
    next: null,
    z: 0,
    prevZ: null,
    nextZ: null,
    steiner: !1,
  };
}
function h5(r, e, t, s) {
  let n = 0;
  for (let i = e, l = t - s; i < t; i += s)
    (n += (r[l] - r[i]) * (r[i + 1] + r[l + 1])), (l = i);
  return n;
}
const f5 = C_.default || C_;
var Wr = ((r) => (
  (r[(r.NONE = 0)] = "NONE"),
  (r[(r.COLOR = 16384)] = "COLOR"),
  (r[(r.STENCIL = 1024)] = "STENCIL"),
  (r[(r.DEPTH = 256)] = "DEPTH"),
  (r[(r.COLOR_DEPTH = 16640)] = "COLOR_DEPTH"),
  (r[(r.COLOR_STENCIL = 17408)] = "COLOR_STENCIL"),
  (r[(r.DEPTH_STENCIL = 1280)] = "DEPTH_STENCIL"),
  (r[(r.ALL = 17664)] = "ALL"),
  r
))(Wr || {});
class bw {
  constructor(e) {
    (this.items = []), (this._name = e);
  }
  emit(e, t, s, n, i, l, c, d) {
    const { name: f, items: m } = this;
    for (let h = 0, g = m.length; h < g; h++) m[h][f](e, t, s, n, i, l, c, d);
    return this;
  }
  add(e) {
    return e[this._name] && (this.remove(e), this.items.push(e)), this;
  }
  remove(e) {
    const t = this.items.indexOf(e);
    return t !== -1 && this.items.splice(t, 1), this;
  }
  contains(e) {
    return this.items.indexOf(e) !== -1;
  }
  removeAll() {
    return (this.items.length = 0), this;
  }
  destroy() {
    this.removeAll(), (this.items = null), (this._name = null);
  }
  get empty() {
    return this.items.length === 0;
  }
  get name() {
    return this._name;
  }
}
const p5 = [
    "init",
    "destroy",
    "contextChange",
    "resolutionChange",
    "resetState",
    "renderEnd",
    "renderStart",
    "render",
    "update",
    "postrender",
    "prerender",
  ],
  ww = class Sw extends nr {
    constructor(e) {
      super(),
        (this.uid = St("renderer")),
        (this.runners = Object.create(null)),
        (this.renderPipes = Object.create(null)),
        (this._initOptions = {}),
        (this._systemsHash = Object.create(null)),
        (this.type = e.type),
        (this.name = e.name),
        (this.config = e);
      const t = [...p5, ...(this.config.runners ?? [])];
      this._addRunners(...t), this._unsafeEvalCheck();
    }
    async init(e = {}) {
      const t = e.skipExtensionImports === !0 ? !0 : e.manageImports === !1;
      await KA(t),
        this._addSystems(this.config.systems),
        this._addPipes(this.config.renderPipes, this.config.renderPipeAdaptors);
      for (const s in this._systemsHash)
        e = { ...this._systemsHash[s].constructor.defaultOptions, ...e };
      (e = { ...Sw.defaultOptions, ...e }),
        (this._roundPixels = e.roundPixels ? 1 : 0);
      for (let s = 0; s < this.runners.init.items.length; s++)
        await this.runners.init.items[s].init(e);
      this._initOptions = e;
    }
    render(e, t) {
      let s = e;
      if (
        (s instanceof Ye &&
          ((s = { container: s }),
          t &&
            (De(
              st,
              "passing a second argument is deprecated, please use render options instead"
            ),
            (s.target = t.renderTexture))),
        s.target || (s.target = this.view.renderTarget),
        s.target === this.view.renderTarget &&
          ((this._lastObjectRendered = s.container),
          s.clearColor ?? (s.clearColor = this.background.colorRgba),
          s.clear ?? (s.clear = this.background.clearBeforeRender)),
        s.clearColor)
      ) {
        const n = Array.isArray(s.clearColor) && s.clearColor.length === 4;
        s.clearColor = n
          ? s.clearColor
          : Ct.shared.setValue(s.clearColor).toArray();
      }
      s.transform ||
        (s.container.updateLocalTransform(),
        (s.transform = s.container.localTransform)),
        s.container.enableRenderGroup(),
        this.runners.prerender.emit(s),
        this.runners.renderStart.emit(s),
        this.runners.render.emit(s),
        this.runners.renderEnd.emit(s),
        this.runners.postrender.emit(s);
    }
    resize(e, t, s) {
      const n = this.view.resolution;
      this.view.resize(e, t, s),
        this.emit(
          "resize",
          this.view.screen.width,
          this.view.screen.height,
          this.view.resolution
        ),
        s !== void 0 && s !== n && this.runners.resolutionChange.emit(s);
    }
    clear(e = {}) {
      const t = this;
      e.target || (e.target = t.renderTarget.renderTarget),
        e.clearColor || (e.clearColor = this.background.colorRgba),
        e.clear ?? (e.clear = Wr.ALL);
      const { clear: s, clearColor: n, target: i } = e;
      Ct.shared.setValue(n ?? this.background.colorRgba),
        t.renderTarget.clear(i, s, Ct.shared.toArray());
    }
    get resolution() {
      return this.view.resolution;
    }
    set resolution(e) {
      (this.view.resolution = e), this.runners.resolutionChange.emit(e);
    }
    get width() {
      return this.view.texture.frame.width;
    }
    get height() {
      return this.view.texture.frame.height;
    }
    get canvas() {
      return this.view.canvas;
    }
    get lastObjectRendered() {
      return this._lastObjectRendered;
    }
    get renderingToScreen() {
      return this.renderTarget.renderingToScreen;
    }
    get screen() {
      return this.view.screen;
    }
    _addRunners(...e) {
      e.forEach((t) => {
        this.runners[t] = new bw(t);
      });
    }
    _addSystems(e) {
      let t;
      for (t in e) {
        const s = e[t];
        this._addSystem(s.value, s.name);
      }
    }
    _addSystem(e, t) {
      const s = new e(this);
      if (this[t]) throw new Error(`Whoops! The name "${t}" is already in use`);
      (this[t] = s), (this._systemsHash[t] = s);
      for (const n in this.runners) this.runners[n].add(s);
      return this;
    }
    _addPipes(e, t) {
      const s = t.reduce((n, i) => ((n[i.name] = i.value), n), {});
      e.forEach((n) => {
        const i = n.value,
          l = n.name,
          c = s[l];
        this.renderPipes[l] = new i(this, c ? new c() : null);
      });
    }
    destroy(e = !1) {
      this.runners.destroy.items.reverse(),
        this.runners.destroy.emit(e),
        Object.values(this.runners).forEach((t) => {
          t.destroy();
        }),
        (this._systemsHash = null),
        (this.renderPipes = null);
    }
    generateTexture(e) {
      return this.textureGenerator.generateTexture(e);
    }
    get roundPixels() {
      return !!this._roundPixels;
    }
    _unsafeEvalCheck() {
      if (!gw())
        throw new Error(
          "Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support."
        );
    }
    resetState() {
      this.runners.resetState.emit();
    }
  };
ww.defaultOptions = {
  resolution: 1,
  failIfMajorPerformanceCaveat: !1,
  roundPixels: !1,
};
let zu = ww,
  Gc;
function m5(r) {
  return (
    Gc !== void 0 ||
      (Gc = (() => {
        const e = {
          stencil: !0,
          failIfMajorPerformanceCaveat:
            r ?? zu.defaultOptions.failIfMajorPerformanceCaveat,
        };
        try {
          if (!Ke.get().getWebGLRenderingContext()) return !1;
          let s = Ke.get().createCanvas().getContext("webgl", e);
          const n = !!s?.getContextAttributes()?.stencil;
          if (s) {
            const i = s.getExtension("WEBGL_lose_context");
            i && i.loseContext();
          }
          return (s = null), n;
        } catch {
          return !1;
        }
      })()),
    Gc
  );
}
let $c;
async function g5(r = {}) {
  return (
    $c !== void 0 ||
      ($c = await (async () => {
        const e = Ke.get().getNavigator().gpu;
        if (!e) return !1;
        try {
          return await (await e.requestAdapter(r)).requestDevice(), !0;
        } catch {
          return !1;
        }
      })()),
    $c
  );
}
const E_ = ["webgl", "webgpu", "canvas"];
async function x5(r) {
  let e = [];
  r.preference
    ? (e.push(r.preference),
      E_.forEach((i) => {
        i !== r.preference && e.push(i);
      }))
    : (e = E_.slice());
  let t,
    s = {};
  for (let i = 0; i < e.length; i++) {
    const l = e[i];
    if (l === "webgpu" && (await g5())) {
      const { WebGPURenderer: c } = await Je(async () => {
        const { WebGPURenderer: d } = await Promise.resolve().then(() => cB);
        return { WebGPURenderer: d };
      }, void 0);
      (t = c), (s = { ...r, ...r.webgpu });
      break;
    } else if (
      l === "webgl" &&
      m5(
        r.failIfMajorPerformanceCaveat ??
          zu.defaultOptions.failIfMajorPerformanceCaveat
      )
    ) {
      const { WebGLRenderer: c } = await Je(async () => {
        const { WebGLRenderer: d } = await Promise.resolve().then(() => HR);
        return { WebGLRenderer: d };
      }, void 0);
      (t = c), (s = { ...r, ...r.webgl });
      break;
    } else if (l === "canvas")
      throw (
        ((s = { ...r }), new Error("CanvasRenderer is not yet implemented"))
      );
  }
  if ((delete s.webgpu, delete s.webgl, !t))
    throw new Error("No available renderer for the current environment");
  const n = new t();
  return await n.init(s), n;
}
const yu = "8.12.0";
class Cw {
  static init() {
    globalThis.__PIXI_APP_INIT__?.(this, yu);
  }
  static destroy() {}
}
Cw.extension = D.Application;
class Tw {
  constructor(e) {
    this._renderer = e;
  }
  init() {
    globalThis.__PIXI_RENDERER_INIT__?.(this._renderer, yu);
  }
  destroy() {
    this._renderer = null;
  }
}
Tw.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem],
  name: "initHook",
  priority: -10,
};
const Ew = class bm {
  constructor(...e) {
    (this.stage = new Ye()),
      e[0] !== void 0 &&
        De(
          st,
          "Application constructor options are deprecated, please use Application.init() instead."
        );
  }
  async init(e) {
    (e = { ...e }),
      (this.renderer = await x5(e)),
      bm._plugins.forEach((t) => {
        t.init.call(this, e);
      });
  }
  render() {
    this.renderer.render({ container: this.stage });
  }
  get canvas() {
    return this.renderer.canvas;
  }
  get view() {
    return (
      De(
        st,
        "Application.view is deprecated, please use Application.canvas instead."
      ),
      this.renderer.canvas
    );
  }
  get screen() {
    return this.renderer.screen;
  }
  destroy(e = !1, t = !1) {
    const s = bm._plugins.slice(0);
    s.reverse(),
      s.forEach((n) => {
        n.destroy.call(this);
      }),
      this.stage.destroy(t),
      (this.stage = null),
      this.renderer.destroy(e),
      (this.renderer = null);
  }
};
Ew._plugins = [];
let jw = Ew;
Ie.handleByList(D.Application, jw._plugins);
Ie.add(Cw);
class kw {
  static init(e) {
    Object.defineProperty(this, "resizeTo", {
      set(t) {
        globalThis.removeEventListener("resize", this.queueResize),
          (this._resizeTo = t),
          t &&
            (globalThis.addEventListener("resize", this.queueResize),
            this.resize());
      },
      get() {
        return this._resizeTo;
      },
    }),
      (this.queueResize = () => {
        this._resizeTo &&
          (this._cancelResize(),
          (this._resizeId = requestAnimationFrame(() => this.resize())));
      }),
      (this._cancelResize = () => {
        this._resizeId &&
          (cancelAnimationFrame(this._resizeId), (this._resizeId = null));
      }),
      (this.resize = () => {
        if (!this._resizeTo) return;
        this._cancelResize();
        let t, s;
        if (this._resizeTo === globalThis.window)
          (t = globalThis.innerWidth), (s = globalThis.innerHeight);
        else {
          const { clientWidth: n, clientHeight: i } = this._resizeTo;
          (t = n), (s = i);
        }
        this.renderer.resize(t, s), this.render();
      }),
      (this._resizeId = null),
      (this._resizeTo = null),
      (this.resizeTo = e.resizeTo || null);
  }
  static destroy() {
    globalThis.removeEventListener("resize", this.queueResize),
      this._cancelResize(),
      (this._cancelResize = null),
      (this.queueResize = null),
      (this.resizeTo = null),
      (this.resize = null);
  }
}
kw.extension = D.Application;
class Pw {
  static init(e) {
    (e = Object.assign({ autoStart: !0, sharedTicker: !1 }, e)),
      Object.defineProperty(this, "ticker", {
        set(t) {
          this._ticker && this._ticker.remove(this.render, this),
            (this._ticker = t),
            t && t.add(this.render, this, wa.LOW);
        },
        get() {
          return this._ticker;
        },
      }),
      (this.stop = () => {
        this._ticker.stop();
      }),
      (this.start = () => {
        this._ticker.start();
      }),
      (this._ticker = null),
      (this.ticker = e.sharedTicker ? cr.shared : new cr()),
      e.autoStart && this.start();
  }
  static destroy() {
    if (this._ticker) {
      const e = this._ticker;
      (this.ticker = null), e.destroy();
    }
  }
}
Pw.extension = D.Application;
class Aw extends nr {
  constructor() {
    super(...arguments),
      (this.chars = Object.create(null)),
      (this.lineHeight = 0),
      (this.fontFamily = ""),
      (this.fontMetrics = { fontSize: 0, ascent: 0, descent: 0 }),
      (this.baseLineOffset = 0),
      (this.distanceField = { type: "none", range: 0 }),
      (this.pages = []),
      (this.applyFillAsTint = !0),
      (this.baseMeasurementFontSize = 100),
      (this.baseRenderedFontSize = 100);
  }
  get font() {
    return (
      De(
        st,
        "BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."
      ),
      this.fontFamily
    );
  }
  get pageTextures() {
    return (
      De(
        st,
        "BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."
      ),
      this.pages
    );
  }
  get size() {
    return (
      De(
        st,
        "BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."
      ),
      this.fontMetrics.fontSize
    );
  }
  get distanceFieldRange() {
    return (
      De(
        st,
        "BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."
      ),
      this.distanceField.range
    );
  }
  get distanceFieldType() {
    return (
      De(
        st,
        "BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."
      ),
      this.distanceField.type
    );
  }
  destroy(e = !1) {
    this.emit("destroy", this), this.removeAllListeners();
    for (const t in this.chars) this.chars[t].texture?.destroy();
    (this.chars = null),
      e &&
        (this.pages.forEach((t) => t.texture.destroy(!0)), (this.pages = null));
  }
}
const y5 = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui",
];
function vu(r) {
  const e = typeof r.fontSize == "number" ? `${r.fontSize}px` : r.fontSize;
  let t = r.fontFamily;
  Array.isArray(r.fontFamily) || (t = r.fontFamily.split(","));
  for (let s = t.length - 1; s >= 0; s--) {
    let n = t[s].trim();
    !/([\"\'])[^\'\"]+\1/.test(n) && !y5.includes(n) && (n = `"${n}"`),
      (t[s] = n);
  }
  return `${r.fontStyle} ${r.fontVariant} ${r.fontWeight} ${e} ${t.join(",")}`;
}
const ap = { willReadFrequently: !0 },
  Hs = class Pe {
    static get experimentalLetterSpacingSupported() {
      let e = Pe._experimentalLetterSpacingSupported;
      if (e === void 0) {
        const t = Ke.get().getCanvasRenderingContext2D().prototype;
        e = Pe._experimentalLetterSpacingSupported =
          "letterSpacing" in t || "textLetterSpacing" in t;
      }
      return e;
    }
    constructor(e, t, s, n, i, l, c, d, f) {
      (this.text = e),
        (this.style = t),
        (this.width = s),
        (this.height = n),
        (this.lines = i),
        (this.lineWidths = l),
        (this.lineHeight = c),
        (this.maxLineWidth = d),
        (this.fontProperties = f);
    }
    static measureText(e = " ", t, s = Pe._canvas, n = t.wordWrap) {
      const i = vu(t),
        l = Pe.measureFont(i);
      l.fontSize === 0 && ((l.fontSize = t.fontSize), (l.ascent = t.fontSize));
      const c = Pe.__context;
      c.font = i;
      const f = (n ? Pe._wordWrap(e, t, s) : e).split(/(?:\r\n|\r|\n)/),
        m = new Array(f.length);
      let h = 0;
      for (let S = 0; S < f.length; S++) {
        const T = Pe._measureText(f[S], t.letterSpacing, c);
        (m[S] = T), (h = Math.max(h, T));
      }
      const g = t._stroke?.width || 0;
      let x = h + g;
      t.dropShadow && (x += t.dropShadow.distance);
      const v = t.lineHeight || l.fontSize;
      let w = Math.max(v, l.fontSize + g) + (f.length - 1) * (v + t.leading);
      return (
        t.dropShadow && (w += t.dropShadow.distance),
        new Pe(e, t, x, w, f, m, v + t.leading, h, l)
      );
    }
    static _measureText(e, t, s) {
      let n = !1;
      Pe.experimentalLetterSpacingSupported &&
        (Pe.experimentalLetterSpacing
          ? ((s.letterSpacing = `${t}px`),
            (s.textLetterSpacing = `${t}px`),
            (n = !0))
          : ((s.letterSpacing = "0px"), (s.textLetterSpacing = "0px")));
      const i = s.measureText(e);
      let l = i.width;
      const c = -i.actualBoundingBoxLeft;
      let f = i.actualBoundingBoxRight - c;
      if (l > 0)
        if (n) (l -= t), (f -= t);
        else {
          const m = (Pe.graphemeSegmenter(e).length - 1) * t;
          (l += m), (f += m);
        }
      return Math.max(l, f);
    }
    static _wordWrap(e, t, s = Pe._canvas) {
      const n = s.getContext("2d", ap);
      let i = 0,
        l = "",
        c = "";
      const d = Object.create(null),
        { letterSpacing: f, whiteSpace: m } = t,
        h = Pe._collapseSpaces(m),
        g = Pe._collapseNewlines(m);
      let x = !h;
      const v = t.wordWrapWidth + f,
        w = Pe._tokenize(e);
      for (let _ = 0; _ < w.length; _++) {
        let S = w[_];
        if (Pe._isNewline(S)) {
          if (!g) {
            (c += Pe._addLine(l)), (x = !h), (l = ""), (i = 0);
            continue;
          }
          S = " ";
        }
        if (h) {
          const j = Pe.isBreakingSpace(S),
            E = Pe.isBreakingSpace(l[l.length - 1]);
          if (j && E) continue;
        }
        const T = Pe._getFromCache(S, f, d, n);
        if (T > v)
          if (
            (l !== "" && ((c += Pe._addLine(l)), (l = ""), (i = 0)),
            Pe.canBreakWords(S, t.breakWords))
          ) {
            const j = Pe.wordWrapSplit(S);
            for (let E = 0; E < j.length; E++) {
              let A = j[E],
                M = A,
                N = 1;
              for (; j[E + N]; ) {
                const O = j[E + N];
                if (!Pe.canBreakChars(M, O, S, E, t.breakWords)) A += O;
                else break;
                (M = O), N++;
              }
              E += N - 1;
              const R = Pe._getFromCache(A, f, d, n);
              R + i > v && ((c += Pe._addLine(l)), (x = !1), (l = ""), (i = 0)),
                (l += A),
                (i += R);
            }
          } else {
            l.length > 0 && ((c += Pe._addLine(l)), (l = ""), (i = 0));
            const j = _ === w.length - 1;
            (c += Pe._addLine(S, !j)), (x = !1), (l = ""), (i = 0);
          }
        else
          T + i > v && ((x = !1), (c += Pe._addLine(l)), (l = ""), (i = 0)),
            (l.length > 0 || !Pe.isBreakingSpace(S) || x) &&
              ((l += S), (i += T));
      }
      return (c += Pe._addLine(l, !1)), c;
    }
    static _addLine(e, t = !0) {
      return (
        (e = Pe._trimRight(e)),
        (e = t
          ? `${e}
`
          : e),
        e
      );
    }
    static _getFromCache(e, t, s, n) {
      let i = s[e];
      return (
        typeof i != "number" &&
          ((i = Pe._measureText(e, t, n) + t), (s[e] = i)),
        i
      );
    }
    static _collapseSpaces(e) {
      return e === "normal" || e === "pre-line";
    }
    static _collapseNewlines(e) {
      return e === "normal";
    }
    static _trimRight(e) {
      if (typeof e != "string") return "";
      for (let t = e.length - 1; t >= 0; t--) {
        const s = e[t];
        if (!Pe.isBreakingSpace(s)) break;
        e = e.slice(0, -1);
      }
      return e;
    }
    static _isNewline(e) {
      return typeof e != "string" ? !1 : Pe._newlines.includes(e.charCodeAt(0));
    }
    static isBreakingSpace(e, t) {
      return typeof e != "string"
        ? !1
        : Pe._breakingSpaces.includes(e.charCodeAt(0));
    }
    static _tokenize(e) {
      const t = [];
      let s = "";
      if (typeof e != "string") return t;
      for (let n = 0; n < e.length; n++) {
        const i = e[n],
          l = e[n + 1];
        if (Pe.isBreakingSpace(i, l) || Pe._isNewline(i)) {
          s !== "" && (t.push(s), (s = "")),
            i === "\r" &&
            l ===
              `
`
              ? (t.push(`\r
`),
                n++)
              : t.push(i);
          continue;
        }
        s += i;
      }
      return s !== "" && t.push(s), t;
    }
    static canBreakWords(e, t) {
      return t;
    }
    static canBreakChars(e, t, s, n, i) {
      return !0;
    }
    static wordWrapSplit(e) {
      return Pe.graphemeSegmenter(e);
    }
    static measureFont(e) {
      if (Pe._fonts[e]) return Pe._fonts[e];
      const t = Pe._context;
      t.font = e;
      const s = t.measureText(Pe.METRICS_STRING + Pe.BASELINE_SYMBOL),
        n = {
          ascent: s.actualBoundingBoxAscent,
          descent: s.actualBoundingBoxDescent,
          fontSize: s.actualBoundingBoxAscent + s.actualBoundingBoxDescent,
        };
      return (Pe._fonts[e] = n), n;
    }
    static clearMetrics(e = "") {
      e ? delete Pe._fonts[e] : (Pe._fonts = {});
    }
    static get _canvas() {
      if (!Pe.__canvas) {
        let e;
        try {
          const t = new OffscreenCanvas(0, 0);
          if (t.getContext("2d", ap)?.measureText) return (Pe.__canvas = t), t;
          e = Ke.get().createCanvas();
        } catch {
          e = Ke.get().createCanvas();
        }
        (e.width = e.height = 10), (Pe.__canvas = e);
      }
      return Pe.__canvas;
    }
    static get _context() {
      return (
        Pe.__context || (Pe.__context = Pe._canvas.getContext("2d", ap)),
        Pe.__context
      );
    }
  };
Hs.METRICS_STRING = "|ÉqÅ";
Hs.BASELINE_SYMBOL = "M";
Hs.BASELINE_MULTIPLIER = 1.4;
Hs.HEIGHT_MULTIPLIER = 2;
Hs.graphemeSegmenter = (() => {
  if (typeof Intl?.Segmenter == "function") {
    const r = new Intl.Segmenter();
    return (e) => {
      const t = r.segment(e),
        s = [];
      let n = 0;
      for (const i of t) s[n++] = i.segment;
      return s;
    };
  }
  return (r) => [...r];
})();
Hs.experimentalLetterSpacing = !1;
Hs._fonts = {};
Hs._newlines = [10, 13];
Hs._breakingSpaces = [
  9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287,
  12288,
];
let Es = Hs;
const j_ = [
    { offset: 0, color: "white" },
    { offset: 1, color: "black" },
  ],
  cg = class wm {
    constructor(...e) {
      (this.uid = St("fillGradient")),
        (this.type = "linear"),
        (this.colorStops = []);
      let t = v5(e);
      (t = {
        ...(t.type === "radial"
          ? wm.defaultRadialOptions
          : wm.defaultLinearOptions),
        ...N2(t),
      }),
        (this._textureSize = t.textureSize),
        (this._wrapMode = t.wrapMode),
        t.type === "radial"
          ? ((this.center = t.center),
            (this.outerCenter = t.outerCenter ?? this.center),
            (this.innerRadius = t.innerRadius),
            (this.outerRadius = t.outerRadius),
            (this.scale = t.scale),
            (this.rotation = t.rotation))
          : ((this.start = t.start), (this.end = t.end)),
        (this.textureSpace = t.textureSpace),
        (this.type = t.type),
        t.colorStops.forEach((n) => {
          this.addColorStop(n.offset, n.color);
        });
    }
    addColorStop(e, t) {
      return (
        this.colorStops.push({
          offset: e,
          color: Ct.shared.setValue(t).toHexa(),
        }),
        this
      );
    }
    buildLinearGradient() {
      if (this.texture) return;
      let { x: e, y: t } = this.start,
        { x: s, y: n } = this.end,
        i = s - e,
        l = n - t;
      const c = i < 0 || l < 0;
      if (this._wrapMode === "clamp-to-edge") {
        if (i < 0) {
          const _ = e;
          (e = s), (s = _), (i *= -1);
        }
        if (l < 0) {
          const _ = t;
          (t = n), (n = _), (l *= -1);
        }
      }
      const d = this.colorStops.length ? this.colorStops : j_,
        f = this._textureSize,
        { canvas: m, context: h } = P_(f, 1),
        g = c
          ? h.createLinearGradient(this._textureSize, 0, 0, 0)
          : h.createLinearGradient(0, 0, this._textureSize, 0);
      k_(g, d),
        (h.fillStyle = g),
        h.fillRect(0, 0, f, 1),
        (this.texture = new Se({
          source: new Mi({ resource: m, addressMode: this._wrapMode }),
        }));
      const x = Math.sqrt(i * i + l * l),
        v = Math.atan2(l, i),
        w = new ke();
      w.scale(x / f, 1),
        w.rotate(v),
        w.translate(e, t),
        this.textureSpace === "local" && w.scale(f, f),
        (this.transform = w);
    }
    buildGradient() {
      this.type === "linear"
        ? this.buildLinearGradient()
        : this.buildRadialGradient();
    }
    buildRadialGradient() {
      if (this.texture) return;
      const e = this.colorStops.length ? this.colorStops : j_,
        t = this._textureSize,
        { canvas: s, context: n } = P_(t, t),
        { x: i, y: l } = this.center,
        { x: c, y: d } = this.outerCenter,
        f = this.innerRadius,
        m = this.outerRadius,
        h = c - m,
        g = d - m,
        x = t / (m * 2),
        v = (i - h) * x,
        w = (l - g) * x,
        _ = n.createRadialGradient(
          v,
          w,
          f * x,
          (c - h) * x,
          (d - g) * x,
          m * x
        );
      k_(_, e),
        (n.fillStyle = e[e.length - 1].color),
        n.fillRect(0, 0, t, t),
        (n.fillStyle = _),
        n.translate(v, w),
        n.rotate(this.rotation),
        n.scale(1, this.scale),
        n.translate(-v, -w),
        n.fillRect(0, 0, t, t),
        (this.texture = new Se({
          source: new Mi({ resource: s, addressMode: this._wrapMode }),
        }));
      const S = new ke();
      S.scale(1 / x, 1 / x),
        S.translate(h, g),
        this.textureSpace === "local" && S.scale(t, t),
        (this.transform = S);
    }
    get styleKey() {
      return this.uid;
    }
    destroy() {
      this.texture?.destroy(!0),
        (this.texture = null),
        (this.transform = null),
        (this.colorStops = []),
        (this.start = null),
        (this.end = null),
        (this.center = null),
        (this.outerCenter = null);
    }
  };
cg.defaultLinearOptions = {
  start: { x: 0, y: 0 },
  end: { x: 0, y: 1 },
  colorStops: [],
  textureSpace: "local",
  type: "linear",
  textureSize: 256,
  wrapMode: "clamp-to-edge",
};
cg.defaultRadialOptions = {
  center: { x: 0.5, y: 0.5 },
  innerRadius: 0,
  outerRadius: 0.5,
  colorStops: [],
  scale: 1,
  textureSpace: "local",
  type: "radial",
  textureSize: 256,
  wrapMode: "clamp-to-edge",
};
let hn = cg;
function k_(r, e) {
  for (let t = 0; t < e.length; t++) {
    const s = e[t];
    r.addColorStop(s.offset, s.color);
  }
}
function P_(r, e) {
  const t = Ke.get().createCanvas(r, e),
    s = t.getContext("2d");
  return { canvas: t, context: s };
}
function v5(r) {
  let e = r[0] ?? {};
  return (
    (typeof e == "number" || r[1]) &&
      (De("8.5.2", "use options object instead"),
      (e = {
        type: "linear",
        start: { x: r[0], y: r[1] },
        end: { x: r[2], y: r[3] },
        textureSpace: r[4],
        textureSize: r[5] ?? hn.defaultLinearOptions.textureSize,
      })),
    e
  );
}
const A_ = {
  repeat: { addressModeU: "repeat", addressModeV: "repeat" },
  "repeat-x": { addressModeU: "repeat", addressModeV: "clamp-to-edge" },
  "repeat-y": { addressModeU: "clamp-to-edge", addressModeV: "repeat" },
  "no-repeat": { addressModeU: "clamp-to-edge", addressModeV: "clamp-to-edge" },
};
class Gu {
  constructor(e, t) {
    (this.uid = St("fillPattern")),
      (this.transform = new ke()),
      (this._styleKey = null),
      (this.texture = e),
      this.transform.scale(1 / e.frame.width, 1 / e.frame.height),
      t &&
        ((e.source.style.addressModeU = A_[t].addressModeU),
        (e.source.style.addressModeV = A_[t].addressModeV));
  }
  setTransform(e) {
    const t = this.texture;
    this.transform.copyFrom(e),
      this.transform.invert(),
      this.transform.scale(1 / t.frame.width, 1 / t.frame.height),
      (this._styleKey = null);
  }
  get styleKey() {
    return this._styleKey
      ? this._styleKey
      : ((this._styleKey = `fill-pattern-${this.uid}-${
          this.texture.uid
        }-${this.transform.toArray().join("-")}`),
        this._styleKey);
  }
  destroy() {
    this.texture.destroy(!0), (this.texture = null), (this._styleKey = null);
  }
}
var op, M_;
function _5() {
  if (M_) return op;
  (M_ = 1), (op = t);
  var r = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },
    e = /([astvzqmhlc])([^astvzqmhlc]*)/gi;
  function t(i) {
    var l = [];
    return (
      i.replace(e, function (c, d, f) {
        var m = d.toLowerCase();
        for (
          f = n(f),
            m == "m" &&
              f.length > 2 &&
              (l.push([d].concat(f.splice(0, 2))),
              (m = "l"),
              (d = d == "m" ? "l" : "L"));
          ;

        ) {
          if (f.length == r[m]) return f.unshift(d), l.push(f);
          if (f.length < r[m]) throw new Error("malformed path data");
          l.push([d].concat(f.splice(0, r[m])));
        }
      }),
      l
    );
  }
  var s = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;
  function n(i) {
    var l = i.match(s);
    return l ? l.map(Number) : [];
  }
  return op;
}
var b5 = _5();
const w5 = Vm(b5);
function S5(r, e) {
  const t = w5(r),
    s = [];
  let n = null,
    i = 0,
    l = 0;
  for (let c = 0; c < t.length; c++) {
    const d = t[c],
      f = d[0],
      m = d;
    switch (f) {
      case "M":
        (i = m[1]), (l = m[2]), e.moveTo(i, l);
        break;
      case "m":
        (i += m[1]), (l += m[2]), e.moveTo(i, l);
        break;
      case "H":
        (i = m[1]), e.lineTo(i, l);
        break;
      case "h":
        (i += m[1]), e.lineTo(i, l);
        break;
      case "V":
        (l = m[1]), e.lineTo(i, l);
        break;
      case "v":
        (l += m[1]), e.lineTo(i, l);
        break;
      case "L":
        (i = m[1]), (l = m[2]), e.lineTo(i, l);
        break;
      case "l":
        (i += m[1]), (l += m[2]), e.lineTo(i, l);
        break;
      case "C":
        (i = m[5]), (l = m[6]), e.bezierCurveTo(m[1], m[2], m[3], m[4], i, l);
        break;
      case "c":
        e.bezierCurveTo(
          i + m[1],
          l + m[2],
          i + m[3],
          l + m[4],
          i + m[5],
          l + m[6]
        ),
          (i += m[5]),
          (l += m[6]);
        break;
      case "S":
        (i = m[3]), (l = m[4]), e.bezierCurveToShort(m[1], m[2], i, l);
        break;
      case "s":
        e.bezierCurveToShort(i + m[1], l + m[2], i + m[3], l + m[4]),
          (i += m[3]),
          (l += m[4]);
        break;
      case "Q":
        (i = m[3]), (l = m[4]), e.quadraticCurveTo(m[1], m[2], i, l);
        break;
      case "q":
        e.quadraticCurveTo(i + m[1], l + m[2], i + m[3], l + m[4]),
          (i += m[3]),
          (l += m[4]);
        break;
      case "T":
        (i = m[1]), (l = m[2]), e.quadraticCurveToShort(i, l);
        break;
      case "t":
        (i += m[1]), (l += m[2]), e.quadraticCurveToShort(i, l);
        break;
      case "A":
        (i = m[6]), (l = m[7]), e.arcToSvg(m[1], m[2], m[3], m[4], m[5], i, l);
        break;
      case "a":
        (i += m[6]),
          (l += m[7]),
          e.arcToSvg(m[1], m[2], m[3], m[4], m[5], i, l);
        break;
      case "Z":
      case "z":
        e.closePath(),
          s.length > 0 &&
            ((n = s.pop()),
            n ? ((i = n.startX), (l = n.startY)) : ((i = 0), (l = 0))),
          (n = null);
        break;
      default:
        Re(`Unknown SVG path command: ${f}`);
    }
    f !== "Z" &&
      f !== "z" &&
      n === null &&
      ((n = { startX: i, startY: l }), s.push(n));
  }
  return e;
}
class ug {
  constructor(e = 0, t = 0, s = 0) {
    (this.type = "circle"), (this.x = e), (this.y = t), (this.radius = s);
  }
  clone() {
    return new ug(this.x, this.y, this.radius);
  }
  contains(e, t) {
    if (this.radius <= 0) return !1;
    const s = this.radius * this.radius;
    let n = this.x - e,
      i = this.y - t;
    return (n *= n), (i *= i), n + i <= s;
  }
  strokeContains(e, t, s, n = 0.5) {
    if (this.radius === 0) return !1;
    const i = this.x - e,
      l = this.y - t,
      c = this.radius,
      d = (1 - n) * s,
      f = Math.sqrt(i * i + l * l);
    return f <= c + d && f > c - (s - d);
  }
  getBounds(e) {
    return (
      e || (e = new ct()),
      (e.x = this.x - this.radius),
      (e.y = this.y - this.radius),
      (e.width = this.radius * 2),
      (e.height = this.radius * 2),
      e
    );
  }
  copyFrom(e) {
    return (this.x = e.x), (this.y = e.y), (this.radius = e.radius), this;
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;
  }
}
class dg {
  constructor(e = 0, t = 0, s = 0, n = 0) {
    (this.type = "ellipse"),
      (this.x = e),
      (this.y = t),
      (this.halfWidth = s),
      (this.halfHeight = n);
  }
  clone() {
    return new dg(this.x, this.y, this.halfWidth, this.halfHeight);
  }
  contains(e, t) {
    if (this.halfWidth <= 0 || this.halfHeight <= 0) return !1;
    let s = (e - this.x) / this.halfWidth,
      n = (t - this.y) / this.halfHeight;
    return (s *= s), (n *= n), s + n <= 1;
  }
  strokeContains(e, t, s, n = 0.5) {
    const { halfWidth: i, halfHeight: l } = this;
    if (i <= 0 || l <= 0) return !1;
    const c = s * (1 - n),
      d = s - c,
      f = i - d,
      m = l - d,
      h = i + c,
      g = l + c,
      x = e - this.x,
      v = t - this.y,
      w = (x * x) / (f * f) + (v * v) / (m * m),
      _ = (x * x) / (h * h) + (v * v) / (g * g);
    return w > 1 && _ <= 1;
  }
  getBounds(e) {
    return (
      e || (e = new ct()),
      (e.x = this.x - this.halfWidth),
      (e.y = this.y - this.halfHeight),
      (e.width = this.halfWidth * 2),
      (e.height = this.halfHeight * 2),
      e
    );
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.halfWidth = e.halfWidth),
      (this.halfHeight = e.halfHeight),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`;
  }
}
function C5(r, e, t, s, n, i) {
  const l = r - t,
    c = e - s,
    d = n - t,
    f = i - s,
    m = l * d + c * f,
    h = d * d + f * f;
  let g = -1;
  h !== 0 && (g = m / h);
  let x, v;
  g < 0
    ? ((x = t), (v = s))
    : g > 1
    ? ((x = n), (v = i))
    : ((x = t + g * d), (v = s + g * f));
  const w = r - x,
    _ = e - v;
  return w * w + _ * _;
}
let T5, E5;
class Wo {
  constructor(...e) {
    this.type = "polygon";
    let t = Array.isArray(e[0]) ? e[0] : e;
    if (typeof t[0] != "number") {
      const s = [];
      for (let n = 0, i = t.length; n < i; n++) s.push(t[n].x, t[n].y);
      t = s;
    }
    (this.points = t), (this.closePath = !0);
  }
  isClockwise() {
    let e = 0;
    const t = this.points,
      s = t.length;
    for (let n = 0; n < s; n += 2) {
      const i = t[n],
        l = t[n + 1],
        c = t[(n + 2) % s],
        d = t[(n + 3) % s];
      e += (c - i) * (d + l);
    }
    return e < 0;
  }
  containsPolygon(e) {
    const t = this.getBounds(T5),
      s = e.getBounds(E5);
    if (!t.containsRect(s)) return !1;
    const n = e.points;
    for (let i = 0; i < n.length; i += 2) {
      const l = n[i],
        c = n[i + 1];
      if (!this.contains(l, c)) return !1;
    }
    return !0;
  }
  clone() {
    const e = this.points.slice(),
      t = new Wo(e);
    return (t.closePath = this.closePath), t;
  }
  contains(e, t) {
    let s = !1;
    const n = this.points.length / 2;
    for (let i = 0, l = n - 1; i < n; l = i++) {
      const c = this.points[i * 2],
        d = this.points[i * 2 + 1],
        f = this.points[l * 2],
        m = this.points[l * 2 + 1];
      d > t != m > t && e < (f - c) * ((t - d) / (m - d)) + c && (s = !s);
    }
    return s;
  }
  strokeContains(e, t, s, n = 0.5) {
    const i = s * s,
      l = i * (1 - n),
      c = i - l,
      { points: d } = this,
      f = d.length - (this.closePath ? 0 : 2);
    for (let m = 0; m < f; m += 2) {
      const h = d[m],
        g = d[m + 1],
        x = d[(m + 2) % d.length],
        v = d[(m + 3) % d.length],
        w = C5(e, t, h, g, x, v),
        _ = Math.sign((x - h) * (t - g) - (v - g) * (e - h));
      if (w <= (_ < 0 ? c : l)) return !0;
    }
    return !1;
  }
  getBounds(e) {
    e || (e = new ct());
    const t = this.points;
    let s = 1 / 0,
      n = -1 / 0,
      i = 1 / 0,
      l = -1 / 0;
    for (let c = 0, d = t.length; c < d; c += 2) {
      const f = t[c],
        m = t[c + 1];
      (s = f < s ? f : s),
        (n = f > n ? f : n),
        (i = m < i ? m : i),
        (l = m > l ? m : l);
    }
    return (e.x = s), (e.width = n - s), (e.y = i), (e.height = l - i), e;
  }
  copyFrom(e) {
    return (
      (this.points = e.points.slice()), (this.closePath = e.closePath), this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:PolygoncloseStroke=${
      this.closePath
    }points=${this.points.reduce((e, t) => `${e}, ${t}`, "")}]`;
  }
  get lastX() {
    return this.points[this.points.length - 2];
  }
  get lastY() {
    return this.points[this.points.length - 1];
  }
  get x() {
    return (
      De(
        "8.11.0",
        "Polygon.lastX is deprecated, please use Polygon.lastX instead."
      ),
      this.points[this.points.length - 2]
    );
  }
  get y() {
    return (
      De(
        "8.11.0",
        "Polygon.y is deprecated, please use Polygon.lastY instead."
      ),
      this.points[this.points.length - 1]
    );
  }
  get startX() {
    return this.points[0];
  }
  get startY() {
    return this.points[1];
  }
}
const Hc = (r, e, t, s, n, i, l) => {
  const c = r - t,
    d = e - s,
    f = Math.sqrt(c * c + d * d);
  return f >= n - i && f <= n + l;
};
class hg {
  constructor(e = 0, t = 0, s = 0, n = 0, i = 20) {
    (this.type = "roundedRectangle"),
      (this.x = e),
      (this.y = t),
      (this.width = s),
      (this.height = n),
      (this.radius = i);
  }
  getBounds(e) {
    return (
      e || (e = new ct()),
      (e.x = this.x),
      (e.y = this.y),
      (e.width = this.width),
      (e.height = this.height),
      e
    );
  }
  clone() {
    return new hg(this.x, this.y, this.width, this.height, this.radius);
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.width = e.width),
      (this.height = e.height),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  contains(e, t) {
    if (this.width <= 0 || this.height <= 0) return !1;
    if (
      e >= this.x &&
      e <= this.x + this.width &&
      t >= this.y &&
      t <= this.y + this.height
    ) {
      const s = Math.max(
        0,
        Math.min(this.radius, Math.min(this.width, this.height) / 2)
      );
      if (
        (t >= this.y + s && t <= this.y + this.height - s) ||
        (e >= this.x + s && e <= this.x + this.width - s)
      )
        return !0;
      let n = e - (this.x + s),
        i = t - (this.y + s);
      const l = s * s;
      if (
        n * n + i * i <= l ||
        ((n = e - (this.x + this.width - s)), n * n + i * i <= l) ||
        ((i = t - (this.y + this.height - s)), n * n + i * i <= l) ||
        ((n = e - (this.x + s)), n * n + i * i <= l)
      )
        return !0;
    }
    return !1;
  }
  strokeContains(e, t, s, n = 0.5) {
    const { x: i, y: l, width: c, height: d, radius: f } = this,
      m = s * (1 - n),
      h = s - m,
      g = i + f,
      x = l + f,
      v = c - f * 2,
      w = d - f * 2,
      _ = i + c,
      S = l + d;
    return (((e >= i - m && e <= i + h) || (e >= _ - h && e <= _ + m)) &&
      t >= x &&
      t <= x + w) ||
      (((t >= l - m && t <= l + h) || (t >= S - h && t <= S + m)) &&
        e >= g &&
        e <= g + v)
      ? !0
      : (e < g && t < x && Hc(e, t, g, x, f, h, m)) ||
          (e > _ - f && t < x && Hc(e, t, _ - f, x, f, h, m)) ||
          (e > _ - f && t > S - f && Hc(e, t, _ - f, S - f, f, h, m)) ||
          (e < g && t > S - f && Hc(e, t, g, S - f, f, h, m));
  }
  toString() {
    return `[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;
  }
}
const Mw = {};
function fg(r, e, t) {
  let s = 2166136261;
  for (let n = 0; n < e; n++)
    (s ^= r[n].uid), (s = Math.imul(s, 16777619)), (s >>>= 0);
  return Mw[s] || j5(r, e, s, t);
}
function j5(r, e, t, s) {
  const n = {};
  let i = 0;
  for (let c = 0; c < s; c++) {
    const d = c < e ? r[c] : Se.EMPTY.source;
    (n[i++] = d.source), (n[i++] = d.style);
  }
  const l = new un(n);
  return (Mw[t] = l), l;
}
class ma {
  constructor(e) {
    typeof e == "number"
      ? (this.rawBinaryData = new ArrayBuffer(e))
      : e instanceof Uint8Array
      ? (this.rawBinaryData = e.buffer)
      : (this.rawBinaryData = e),
      (this.uint32View = new Uint32Array(this.rawBinaryData)),
      (this.float32View = new Float32Array(this.rawBinaryData)),
      (this.size = this.rawBinaryData.byteLength);
  }
  get int8View() {
    return (
      this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
      this._int8View
    );
  }
  get uint8View() {
    return (
      this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
      this._uint8View
    );
  }
  get int16View() {
    return (
      this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
      this._int16View
    );
  }
  get int32View() {
    return (
      this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
      this._int32View
    );
  }
  get float64View() {
    return (
      this._float64Array ||
        (this._float64Array = new Float64Array(this.rawBinaryData)),
      this._float64Array
    );
  }
  get bigUint64View() {
    return (
      this._bigUint64Array ||
        (this._bigUint64Array = new BigUint64Array(this.rawBinaryData)),
      this._bigUint64Array
    );
  }
  view(e) {
    return this[`${e}View`];
  }
  destroy() {
    (this.rawBinaryData = null),
      (this._int8View = null),
      (this._uint8View = null),
      (this._int16View = null),
      (this.uint16View = null),
      (this._int32View = null),
      (this.uint32View = null),
      (this.float32View = null);
  }
  static sizeOf(e) {
    switch (e) {
      case "int8":
      case "uint8":
        return 1;
      case "int16":
      case "uint16":
        return 2;
      case "int32":
      case "uint32":
      case "float32":
        return 4;
      default:
        throw new Error(`${e} isn't a valid view type`);
    }
  }
}
function Sm(r, e) {
  const t = (r.byteLength / 8) | 0,
    s = new Float64Array(r, 0, t);
  new Float64Array(e, 0, t).set(s);
  const i = r.byteLength - t * 8;
  if (i > 0) {
    const l = new Uint8Array(r, t * 8, i);
    new Uint8Array(e, t * 8, i).set(l);
  }
}
const k5 = { normal: "normal-npm", add: "add-npm", screen: "screen-npm" };
var Dt = ((r) => (
  (r[(r.DISABLED = 0)] = "DISABLED"),
  (r[(r.RENDERING_MASK_ADD = 1)] = "RENDERING_MASK_ADD"),
  (r[(r.MASK_ACTIVE = 2)] = "MASK_ACTIVE"),
  (r[(r.INVERSE_MASK_ACTIVE = 3)] = "INVERSE_MASK_ACTIVE"),
  (r[(r.RENDERING_MASK_REMOVE = 4)] = "RENDERING_MASK_REMOVE"),
  (r[(r.NONE = 5)] = "NONE"),
  r
))(Dt || {});
function nl(r, e) {
  return (e.alphaMode === "no-premultiply-alpha" && k5[r]) || r;
}
const P5 = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}",
].join(`
`);
function A5(r) {
  let e = "";
  for (let t = 0; t < r; ++t)
    t > 0 &&
      (e += `
else `),
      t < r - 1 && (e += `if(test == ${t}.0){}`);
  return e;
}
function Nw(r, e) {
  if (r === 0)
    throw new Error(
      "Invalid value of `0` passed to `checkMaxIfStatementsInShader`"
    );
  const t = e.createShader(e.FRAGMENT_SHADER);
  try {
    for (;;) {
      const s = P5.replace(/%forloop%/gi, A5(r));
      if (
        (e.shaderSource(t, s),
        e.compileShader(t),
        !e.getShaderParameter(t, e.COMPILE_STATUS))
      )
        r = (r / 2) | 0;
      else break;
    }
  } finally {
    e.deleteShader(t);
  }
  return r;
}
let ca = null;
function M5() {
  if (ca) return ca;
  const r = cw();
  return (
    (ca = r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),
    (ca = Nw(ca, r)),
    r.getExtension("WEBGL_lose_context")?.loseContext(),
    ca
  );
}
class N5 {
  constructor() {
    (this.ids = Object.create(null)), (this.textures = []), (this.count = 0);
  }
  clear() {
    for (let e = 0; e < this.count; e++) {
      const t = this.textures[e];
      (this.textures[e] = null), (this.ids[t.uid] = null);
    }
    this.count = 0;
  }
}
class R5 {
  constructor() {
    (this.renderPipeId = "batch"),
      (this.action = "startBatch"),
      (this.start = 0),
      (this.size = 0),
      (this.textures = new N5()),
      (this.blendMode = "normal"),
      (this.topology = "triangle-strip"),
      (this.canBundle = !0);
  }
  destroy() {
    (this.textures = null),
      (this.gpuBindGroup = null),
      (this.bindGroup = null),
      (this.batcher = null);
  }
}
const Rw = [];
let Cm = 0;
function N_() {
  return Cm > 0 ? Rw[--Cm] : new R5();
}
function R_(r) {
  Rw[Cm++] = r;
}
let Eo = 0;
const Bw = class Fw {
  constructor(e) {
    (this.uid = St("batcher")),
      (this.dirty = !0),
      (this.batchIndex = 0),
      (this.batches = []),
      (this._elements = []),
      (e = { ...Fw.defaultOptions, ...e }),
      e.maxTextures ||
        (De(
          "v8.8.0",
          "maxTextures is a required option for Batcher now, please pass it in the options"
        ),
        (e.maxTextures = M5()));
    const {
      maxTextures: t,
      attributesInitialSize: s,
      indicesInitialSize: n,
    } = e;
    (this.attributeBuffer = new ma(s * 4)),
      (this.indexBuffer = new Uint16Array(n)),
      (this.maxTextures = t);
  }
  begin() {
    (this.elementSize = 0),
      (this.elementStart = 0),
      (this.indexSize = 0),
      (this.attributeSize = 0);
    for (let e = 0; e < this.batchIndex; e++) R_(this.batches[e]);
    (this.batchIndex = 0),
      (this._batchIndexStart = 0),
      (this._batchIndexSize = 0),
      (this.dirty = !0);
  }
  add(e) {
    (this._elements[this.elementSize++] = e),
      (e._indexStart = this.indexSize),
      (e._attributeStart = this.attributeSize),
      (e._batcher = this),
      (this.indexSize += e.indexSize),
      (this.attributeSize += e.attributeSize * this.vertexSize);
  }
  checkAndUpdateTexture(e, t) {
    const s = e._batch.textures.ids[t._source.uid];
    return !s && s !== 0 ? !1 : ((e._textureId = s), (e.texture = t), !0);
  }
  updateElement(e) {
    this.dirty = !0;
    const t = this.attributeBuffer;
    e.packAsQuad
      ? this.packQuadAttributes(
          e,
          t.float32View,
          t.uint32View,
          e._attributeStart,
          e._textureId
        )
      : this.packAttributes(
          e,
          t.float32View,
          t.uint32View,
          e._attributeStart,
          e._textureId
        );
  }
  break(e) {
    const t = this._elements;
    if (!t[this.elementStart]) return;
    let s = N_(),
      n = s.textures;
    n.clear();
    const i = t[this.elementStart];
    let l = nl(i.blendMode, i.texture._source),
      c = i.topology;
    this.attributeSize * 4 > this.attributeBuffer.size &&
      this._resizeAttributeBuffer(this.attributeSize * 4),
      this.indexSize > this.indexBuffer.length &&
        this._resizeIndexBuffer(this.indexSize);
    const d = this.attributeBuffer.float32View,
      f = this.attributeBuffer.uint32View,
      m = this.indexBuffer;
    let h = this._batchIndexSize,
      g = this._batchIndexStart,
      x = "startBatch";
    const v = this.maxTextures;
    for (let w = this.elementStart; w < this.elementSize; ++w) {
      const _ = t[w];
      t[w] = null;
      const T = _.texture._source,
        j = nl(_.blendMode, T),
        E = l !== j || c !== _.topology;
      if (T._batchTick === Eo && !E) {
        (_._textureId = T._textureBindLocation),
          (h += _.indexSize),
          _.packAsQuad
            ? (this.packQuadAttributes(
                _,
                d,
                f,
                _._attributeStart,
                _._textureId
              ),
              this.packQuadIndex(
                m,
                _._indexStart,
                _._attributeStart / this.vertexSize
              ))
            : (this.packAttributes(_, d, f, _._attributeStart, _._textureId),
              this.packIndex(
                _,
                m,
                _._indexStart,
                _._attributeStart / this.vertexSize
              )),
          (_._batch = s);
        continue;
      }
      (T._batchTick = Eo),
        (n.count >= v || E) &&
          (this._finishBatch(s, g, h - g, n, l, c, e, x),
          (x = "renderBatch"),
          (g = h),
          (l = j),
          (c = _.topology),
          (s = N_()),
          (n = s.textures),
          n.clear(),
          ++Eo),
        (_._textureId = T._textureBindLocation = n.count),
        (n.ids[T.uid] = n.count),
        (n.textures[n.count++] = T),
        (_._batch = s),
        (h += _.indexSize),
        _.packAsQuad
          ? (this.packQuadAttributes(_, d, f, _._attributeStart, _._textureId),
            this.packQuadIndex(
              m,
              _._indexStart,
              _._attributeStart / this.vertexSize
            ))
          : (this.packAttributes(_, d, f, _._attributeStart, _._textureId),
            this.packIndex(
              _,
              m,
              _._indexStart,
              _._attributeStart / this.vertexSize
            ));
    }
    n.count > 0 &&
      (this._finishBatch(s, g, h - g, n, l, c, e, x), (g = h), ++Eo),
      (this.elementStart = this.elementSize),
      (this._batchIndexStart = g),
      (this._batchIndexSize = h);
  }
  _finishBatch(e, t, s, n, i, l, c, d) {
    (e.gpuBindGroup = null),
      (e.bindGroup = null),
      (e.action = d),
      (e.batcher = this),
      (e.textures = n),
      (e.blendMode = i),
      (e.topology = l),
      (e.start = t),
      (e.size = s),
      ++Eo,
      (this.batches[this.batchIndex++] = e),
      c.add(e);
  }
  finish(e) {
    this.break(e);
  }
  ensureAttributeBuffer(e) {
    e * 4 <= this.attributeBuffer.size || this._resizeAttributeBuffer(e * 4);
  }
  ensureIndexBuffer(e) {
    e <= this.indexBuffer.length || this._resizeIndexBuffer(e);
  }
  _resizeAttributeBuffer(e) {
    const t = Math.max(e, this.attributeBuffer.size * 2),
      s = new ma(t);
    Sm(this.attributeBuffer.rawBinaryData, s.rawBinaryData),
      (this.attributeBuffer = s);
  }
  _resizeIndexBuffer(e) {
    const t = this.indexBuffer;
    let s = Math.max(e, t.length * 1.5);
    s += s % 2;
    const n = s > 65535 ? new Uint32Array(s) : new Uint16Array(s);
    if (n.BYTES_PER_ELEMENT !== t.BYTES_PER_ELEMENT)
      for (let i = 0; i < t.length; i++) n[i] = t[i];
    else Sm(t.buffer, n.buffer);
    this.indexBuffer = n;
  }
  packQuadIndex(e, t, s) {
    (e[t] = s + 0),
      (e[t + 1] = s + 1),
      (e[t + 2] = s + 2),
      (e[t + 3] = s + 0),
      (e[t + 4] = s + 2),
      (e[t + 5] = s + 3);
  }
  packIndex(e, t, s, n) {
    const i = e.indices,
      l = e.indexSize,
      c = e.indexOffset,
      d = e.attributeOffset;
    for (let f = 0; f < l; f++) t[s++] = n + i[f + c] - d;
  }
  destroy() {
    for (let e = 0; e < this.batches.length; e++) R_(this.batches[e]);
    this.batches = null;
    for (let e = 0; e < this._elements.length; e++)
      this._elements[e]._batch = null;
    (this._elements = null),
      (this.indexBuffer = null),
      this.attributeBuffer.destroy(),
      (this.attributeBuffer = null);
  }
};
Bw.defaultOptions = {
  maxTextures: null,
  attributesInitialSize: 4,
  indicesInitialSize: 6,
};
let B5 = Bw;
var tt = ((r) => (
  (r[(r.MAP_READ = 1)] = "MAP_READ"),
  (r[(r.MAP_WRITE = 2)] = "MAP_WRITE"),
  (r[(r.COPY_SRC = 4)] = "COPY_SRC"),
  (r[(r.COPY_DST = 8)] = "COPY_DST"),
  (r[(r.INDEX = 16)] = "INDEX"),
  (r[(r.VERTEX = 32)] = "VERTEX"),
  (r[(r.UNIFORM = 64)] = "UNIFORM"),
  (r[(r.STORAGE = 128)] = "STORAGE"),
  (r[(r.INDIRECT = 256)] = "INDIRECT"),
  (r[(r.QUERY_RESOLVE = 512)] = "QUERY_RESOLVE"),
  (r[(r.STATIC = 1024)] = "STATIC"),
  r
))(tt || {});
let Vr = class extends nr {
  constructor(e) {
    let { data: t, size: s } = e;
    const { usage: n, label: i, shrinkToFit: l } = e;
    super(),
      (this.uid = St("buffer")),
      (this._resourceType = "buffer"),
      (this._resourceId = St("resource")),
      (this._touched = 0),
      (this._updateID = 1),
      (this._dataInt32 = null),
      (this.shrinkToFit = !0),
      (this.destroyed = !1),
      t instanceof Array && (t = new Float32Array(t)),
      (this._data = t),
      s ?? (s = t?.byteLength);
    const c = !!t;
    (this.descriptor = { size: s, usage: n, mappedAtCreation: c, label: i }),
      (this.shrinkToFit = l ?? !0);
  }
  get data() {
    return this._data;
  }
  set data(e) {
    this.setDataWithSize(e, e.length, !0);
  }
  get dataInt32() {
    return (
      this._dataInt32 || (this._dataInt32 = new Int32Array(this.data.buffer)),
      this._dataInt32
    );
  }
  get static() {
    return !!(this.descriptor.usage & tt.STATIC);
  }
  set static(e) {
    e
      ? (this.descriptor.usage |= tt.STATIC)
      : (this.descriptor.usage &= ~tt.STATIC);
  }
  setDataWithSize(e, t, s) {
    if (
      (this._updateID++,
      (this._updateSize = t * e.BYTES_PER_ELEMENT),
      this._data === e)
    ) {
      s && this.emit("update", this);
      return;
    }
    const n = this._data;
    if (
      ((this._data = e), (this._dataInt32 = null), !n || n.length !== e.length)
    ) {
      !this.shrinkToFit && n && e.byteLength < n.byteLength
        ? s && this.emit("update", this)
        : ((this.descriptor.size = e.byteLength),
          (this._resourceId = St("resource")),
          this.emit("change", this));
      return;
    }
    s && this.emit("update", this);
  }
  update(e) {
    (this._updateSize = e ?? this._updateSize),
      this._updateID++,
      this.emit("update", this);
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      (this._data = null),
      (this.descriptor = null),
      this.removeAllListeners();
  }
};
function Iw(r, e) {
  if (!(r instanceof Vr)) {
    let t = e ? tt.INDEX : tt.VERTEX;
    r instanceof Array &&
      (e
        ? ((r = new Uint32Array(r)), (t = tt.INDEX | tt.COPY_DST))
        : ((r = new Float32Array(r)), (t = tt.VERTEX | tt.COPY_DST))),
      (r = new Vr({
        data: r,
        label: e ? "index-mesh-buffer" : "vertex-mesh-buffer",
        usage: t,
      }));
  }
  return r;
}
function F5(r, e, t) {
  const s = r.getAttribute(e);
  if (!s) return (t.minX = 0), (t.minY = 0), (t.maxX = 0), (t.maxY = 0), t;
  const n = s.buffer.data;
  let i = 1 / 0,
    l = 1 / 0,
    c = -1 / 0,
    d = -1 / 0;
  const f = n.BYTES_PER_ELEMENT,
    m = (s.offset || 0) / f,
    h = (s.stride || 8) / f;
  for (let g = m; g < n.length; g += h) {
    const x = n[g],
      v = n[g + 1];
    x > c && (c = x), v > d && (d = v), x < i && (i = x), v < l && (l = v);
  }
  return (t.minX = i), (t.minY = l), (t.maxX = c), (t.maxY = d), t;
}
function I5(r) {
  return (
    (r instanceof Vr || Array.isArray(r) || r.BYTES_PER_ELEMENT) &&
      (r = { buffer: r }),
    (r.buffer = Iw(r.buffer, !1)),
    r
  );
}
class pl extends nr {
  constructor(e = {}) {
    super(),
      (this.uid = St("geometry")),
      (this._layoutKey = 0),
      (this.instanceCount = 1),
      (this._bounds = new wr()),
      (this._boundsDirty = !0);
    const { attributes: t, indexBuffer: s, topology: n } = e;
    if (((this.buffers = []), (this.attributes = {}), t))
      for (const i in t) this.addAttribute(i, t[i]);
    (this.instanceCount = e.instanceCount ?? 1),
      s && this.addIndex(s),
      (this.topology = n || "triangle-list");
  }
  onBufferUpdate() {
    (this._boundsDirty = !0), this.emit("update", this);
  }
  getAttribute(e) {
    return this.attributes[e];
  }
  getIndex() {
    return this.indexBuffer;
  }
  getBuffer(e) {
    return this.getAttribute(e).buffer;
  }
  getSize() {
    for (const e in this.attributes) {
      const t = this.attributes[e];
      return t.buffer.data.length / (t.stride / 4 || t.size);
    }
    return 0;
  }
  addAttribute(e, t) {
    const s = I5(t);
    this.buffers.indexOf(s.buffer) === -1 &&
      (this.buffers.push(s.buffer),
      s.buffer.on("update", this.onBufferUpdate, this),
      s.buffer.on("change", this.onBufferUpdate, this)),
      (this.attributes[e] = s);
  }
  addIndex(e) {
    (this.indexBuffer = Iw(e, !0)), this.buffers.push(this.indexBuffer);
  }
  get bounds() {
    return this._boundsDirty
      ? ((this._boundsDirty = !1), F5(this, "aPosition", this._bounds))
      : this._bounds;
  }
  destroy(e = !1) {
    this.emit("destroy", this),
      this.removeAllListeners(),
      e && this.buffers.forEach((t) => t.destroy()),
      (this.attributes = null),
      (this.buffers = null),
      (this.indexBuffer = null),
      (this._bounds = null);
  }
}
const O5 = new Float32Array(1),
  L5 = new Uint32Array(1);
class D5 extends pl {
  constructor() {
    const t = new Vr({
        data: O5,
        label: "attribute-batch-buffer",
        usage: tt.VERTEX | tt.COPY_DST,
        shrinkToFit: !1,
      }),
      s = new Vr({
        data: L5,
        label: "index-batch-buffer",
        usage: tt.INDEX | tt.COPY_DST,
        shrinkToFit: !1,
      }),
      n = 24;
    super({
      attributes: {
        aPosition: { buffer: t, format: "float32x2", stride: n, offset: 0 },
        aUV: { buffer: t, format: "float32x2", stride: n, offset: 8 },
        aColor: { buffer: t, format: "unorm8x4", stride: n, offset: 16 },
        aTextureIdAndRound: {
          buffer: t,
          format: "uint16x2",
          stride: n,
          offset: 20,
        },
      },
      indexBuffer: s,
    });
  }
}
function B_(r, e, t) {
  if (r)
    for (const s in r) {
      const n = s.toLocaleLowerCase(),
        i = e[n];
      if (i) {
        let l = r[s];
        s === "header" &&
          (l = l
            .replace(/@in\s+[^;]+;\s*/g, "")
            .replace(/@out\s+[^;]+;\s*/g, "")),
          t && i.push(`//----${t}----//`),
          i.push(l);
      } else Re(`${s} placement hook does not exist in shader`);
    }
}
const U5 = /\{\{(.*?)\}\}/g;
function F_(r) {
  const e = {};
  return (
    (r.match(U5)?.map((s) => s.replace(/[{()}]/g, "")) ?? []).forEach((s) => {
      e[s] = [];
    }),
    e
  );
}
function I_(r, e) {
  let t;
  const s = /@in\s+([^;]+);/g;
  for (; (t = s.exec(r)) !== null; ) e.push(t[1]);
}
function O_(r, e, t = !1) {
  const s = [];
  I_(e, s),
    r.forEach((c) => {
      c.header && I_(c.header, s);
    });
  const n = s;
  t && n.sort();
  const i = n.map((c, d) => `       @location(${d}) ${c},`).join(`
`);
  let l = e.replace(/@in\s+[^;]+;\s*/g, "");
  return (
    (l = l.replace(
      "{{in}}",
      `
${i}
`
    )),
    l
  );
}
function L_(r, e) {
  let t;
  const s = /@out\s+([^;]+);/g;
  for (; (t = s.exec(r)) !== null; ) e.push(t[1]);
}
function z5(r) {
  const t = /\b(\w+)\s*:/g.exec(r);
  return t ? t[1] : "";
}
function G5(r) {
  const e = /@.*?\s+/g;
  return r.replace(e, "");
}
function $5(r, e) {
  const t = [];
  L_(e, t),
    r.forEach((d) => {
      d.header && L_(d.header, t);
    });
  let s = 0;
  const n = t
      .sort()
      .map((d) => (d.indexOf("builtin") > -1 ? d : `@location(${s++}) ${d}`))
      .join(`,
`),
    i = t.sort().map((d) => `       var ${G5(d)};`).join(`
`),
    l = `return VSOutput(
            ${t.sort().map((d) => ` ${z5(d)}`).join(`,
`)});`;
  let c = e.replace(/@out\s+[^;]+;\s*/g, "");
  return (
    (c = c.replace(
      "{{struct}}",
      `
${n}
`
    )),
    (c = c.replace(
      "{{start}}",
      `
${i}
`
    )),
    (c = c.replace(
      "{{return}}",
      `
${l}
`
    )),
    c
  );
}
function D_(r, e) {
  let t = r;
  for (const s in e) {
    const n = e[s];
    n.join(`
`).length
      ? (t = t.replace(
          `{{${s}}}`,
          `//-----${s} START-----//
${n.join(`
`)}
//----${s} FINISH----//`
        ))
      : (t = t.replace(`{{${s}}}`, ""));
  }
  return t;
}
const $n = Object.create(null),
  lp = new Map();
let H5 = 0;
function W5({ template: r, bits: e }) {
  const t = Ow(r, e);
  if ($n[t]) return $n[t];
  const { vertex: s, fragment: n } = q5(r, e);
  return ($n[t] = Lw(s, n, e)), $n[t];
}
function V5({ template: r, bits: e }) {
  const t = Ow(r, e);
  return $n[t] || ($n[t] = Lw(r.vertex, r.fragment, e)), $n[t];
}
function q5(r, e) {
  const t = e.map((l) => l.vertex).filter((l) => !!l),
    s = e.map((l) => l.fragment).filter((l) => !!l);
  let n = O_(t, r.vertex, !0);
  n = $5(t, n);
  const i = O_(s, r.fragment, !0);
  return { vertex: n, fragment: i };
}
function Ow(r, e) {
  return (
    e
      .map((t) => (lp.has(t) || lp.set(t, H5++), lp.get(t)))
      .sort((t, s) => t - s)
      .join("-") +
    r.vertex +
    r.fragment
  );
}
function Lw(r, e, t) {
  const s = F_(r),
    n = F_(e);
  return (
    t.forEach((i) => {
      B_(i.vertex, s, i.name), B_(i.fragment, n, i.name);
    }),
    { vertex: D_(r, s), fragment: D_(e, n) }
  );
}
const X5 = `
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,
  Y5 = `
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,
  K5 = `
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,
  Q5 = `

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,
  Z5 = {
    name: "global-uniforms-bit",
    vertex: {
      header: `
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `,
    },
  },
  J5 = {
    name: "global-uniforms-bit",
    vertex: {
      header: `
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `,
    },
  };
function ml({ bits: r, name: e }) {
  const t = W5({ template: { fragment: Y5, vertex: X5 }, bits: [Z5, ...r] });
  return Qn.from({
    name: e,
    vertex: { source: t.vertex, entryPoint: "main" },
    fragment: { source: t.fragment, entryPoint: "main" },
  });
}
function gl({ bits: r, name: e }) {
  return new Bi({
    name: e,
    ...V5({ template: { vertex: K5, fragment: Q5 }, bits: [J5, ...r] }),
  });
}
const pg = {
    name: "color-bit",
    vertex: {
      header: `
            @in aColor: vec4<f32>;
        `,
      main: `
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `,
    },
  },
  mg = {
    name: "color-bit",
    vertex: {
      header: `
            in vec4 aColor;
        `,
      main: `
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `,
    },
  },
  cp = {};
function eM(r) {
  const e = [];
  if (r === 1)
    e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),
      e.push("@group(1) @binding(1) var textureSampler1: sampler;");
  else {
    let t = 0;
    for (let s = 0; s < r; s++)
      e.push(
        `@group(1) @binding(${t++}) var textureSource${s + 1}: texture_2d<f32>;`
      ),
        e.push(
          `@group(1) @binding(${t++}) var textureSampler${s + 1}: sampler;`
        );
  }
  return e.join(`
`);
}
function tM(r) {
  const e = [];
  if (r === 1)
    e.push(
      "outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);"
    );
  else {
    e.push("switch vTextureId {");
    for (let t = 0; t < r; t++)
      t === r - 1 ? e.push("  default:{") : e.push(`  case ${t}:{`),
        e.push(
          `      outColor = textureSampleGrad(textureSource${
            t + 1
          }, textureSampler${t + 1}, vUV, uvDx, uvDy);`
        ),
        e.push("      break;}");
    e.push("}");
  }
  return e.join(`
`);
}
function gg(r) {
  return (
    cp[r] ||
      (cp[r] = {
        name: "texture-batch-bit",
        vertex: {
          header: `
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,
          main: `
                vTextureId = aTextureIdAndRound.y;
            `,
          end: `
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `,
        },
        fragment: {
          header: `
                @in @interpolate(flat) vTextureId: u32;

                ${eM(r)}
            `,
          main: `
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${tM(r)}
            `,
        },
      }),
    cp[r]
  );
}
const up = {};
function rM(r) {
  const e = [];
  for (let t = 0; t < r; t++)
    t > 0 && e.push("else"),
      t < r - 1 && e.push(`if(vTextureId < ${t}.5)`),
      e.push("{"),
      e.push(`	outColor = texture(uTextures[${t}], vUV);`),
      e.push("}");
  return e.join(`
`);
}
function xg(r) {
  return (
    up[r] ||
      (up[r] = {
        name: "texture-batch-bit",
        vertex: {
          header: `
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,
          main: `
                vTextureId = aTextureIdAndRound.y;
            `,
          end: `
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `,
        },
        fragment: {
          header: `
                in float vTextureId;

                uniform sampler2D uTextures[${r}];

            `,
          main: `

                ${rM(r)}
            `,
        },
      }),
    up[r]
  );
}
const xl = {
    name: "round-pixels-bit",
    vertex: {
      header: `
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `,
    },
  },
  yl = {
    name: "round-pixels-bit",
    vertex: {
      header: `
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `,
    },
  },
  U_ = {};
function yg(r) {
  let e = U_[r];
  if (e) return e;
  const t = new Int32Array(r);
  for (let s = 0; s < r; s++) t[s] = s;
  return (
    (e = U_[r] =
      new kr(
        { uTextures: { value: t, type: "i32", size: r } },
        { isStatic: !0 }
      )),
    e
  );
}
class sM extends ls {
  constructor(e) {
    const t = gl({ name: "batch", bits: [mg, xg(e), yl] }),
      s = ml({ name: "batch", bits: [pg, gg(e), xl] });
    super({ glProgram: t, gpuProgram: s, resources: { batchSamplers: yg(e) } });
  }
}
let dp = null;
const Dw = class Uw extends B5 {
  constructor(e) {
    super(e),
      (this.geometry = new D5()),
      (this.name = Uw.extension.name),
      (this.vertexSize = 6),
      dp ?? (dp = new sM(e.maxTextures)),
      (this.shader = dp);
  }
  packAttributes(e, t, s, n, i) {
    const l = (i << 16) | (e.roundPixels & 65535),
      c = e.transform,
      d = c.a,
      f = c.b,
      m = c.c,
      h = c.d,
      g = c.tx,
      x = c.ty,
      { positions: v, uvs: w } = e,
      _ = e.color,
      S = e.attributeOffset,
      T = S + e.attributeSize;
    for (let j = S; j < T; j++) {
      const E = j * 2,
        A = v[E],
        M = v[E + 1];
      (t[n++] = d * A + m * M + g),
        (t[n++] = h * M + f * A + x),
        (t[n++] = w[E]),
        (t[n++] = w[E + 1]),
        (s[n++] = _),
        (s[n++] = l);
    }
  }
  packQuadAttributes(e, t, s, n, i) {
    const l = e.texture,
      c = e.transform,
      d = c.a,
      f = c.b,
      m = c.c,
      h = c.d,
      g = c.tx,
      x = c.ty,
      v = e.bounds,
      w = v.maxX,
      _ = v.minX,
      S = v.maxY,
      T = v.minY,
      j = l.uvs,
      E = e.color,
      A = (i << 16) | (e.roundPixels & 65535);
    (t[n + 0] = d * _ + m * T + g),
      (t[n + 1] = h * T + f * _ + x),
      (t[n + 2] = j.x0),
      (t[n + 3] = j.y0),
      (s[n + 4] = E),
      (s[n + 5] = A),
      (t[n + 6] = d * w + m * T + g),
      (t[n + 7] = h * T + f * w + x),
      (t[n + 8] = j.x1),
      (t[n + 9] = j.y1),
      (s[n + 10] = E),
      (s[n + 11] = A),
      (t[n + 12] = d * w + m * S + g),
      (t[n + 13] = h * S + f * w + x),
      (t[n + 14] = j.x2),
      (t[n + 15] = j.y2),
      (s[n + 16] = E),
      (s[n + 17] = A),
      (t[n + 18] = d * _ + m * S + g),
      (t[n + 19] = h * S + f * _ + x),
      (t[n + 20] = j.x3),
      (t[n + 21] = j.y3),
      (s[n + 22] = E),
      (s[n + 23] = A);
  }
};
Dw.extension = { type: [D.Batcher], name: "default" };
let vg = Dw;
function nM(r, e, t, s, n, i, l, c = null) {
  let d = 0;
  (t *= e), (n *= i);
  const f = c.a,
    m = c.b,
    h = c.c,
    g = c.d,
    x = c.tx,
    v = c.ty;
  for (; d < l; ) {
    const w = r[t],
      _ = r[t + 1];
    (s[n] = f * w + h * _ + x),
      (s[n + 1] = m * w + g * _ + v),
      (n += i),
      (t += e),
      d++;
  }
}
function iM(r, e, t, s) {
  let n = 0;
  for (e *= t; n < s; ) (r[e] = 0), (r[e + 1] = 0), (e += t), n++;
}
function zw(r, e, t, s, n) {
  const i = e.a,
    l = e.b,
    c = e.c,
    d = e.d,
    f = e.tx,
    m = e.ty;
  t || (t = 0), s || (s = 2), n || (n = r.length / s - t);
  let h = t * s;
  for (let g = 0; g < n; g++) {
    const x = r[h],
      v = r[h + 1];
    (r[h] = i * x + c * v + f), (r[h + 1] = l * x + d * v + m), (h += s);
  }
}
const aM = new ke();
class _g {
  constructor() {
    (this.packAsQuad = !1),
      (this.batcherName = "default"),
      (this.topology = "triangle-list"),
      (this.applyTransform = !0),
      (this.roundPixels = 0),
      (this._batcher = null),
      (this._batch = null);
  }
  get uvs() {
    return this.geometryData.uvs;
  }
  get positions() {
    return this.geometryData.vertices;
  }
  get indices() {
    return this.geometryData.indices;
  }
  get blendMode() {
    return this.renderable && this.applyTransform
      ? this.renderable.groupBlendMode
      : "normal";
  }
  get color() {
    const e = this.baseColor,
      t = (e >> 16) | (e & 65280) | ((e & 255) << 16),
      s = this.renderable;
    return s
      ? H2(t, s.groupColor) + ((this.alpha * s.groupAlpha * 255) << 24)
      : t + ((this.alpha * 255) << 24);
  }
  get transform() {
    return this.renderable?.groupTransform || aM;
  }
  copyTo(e) {
    (e.indexOffset = this.indexOffset),
      (e.indexSize = this.indexSize),
      (e.attributeOffset = this.attributeOffset),
      (e.attributeSize = this.attributeSize),
      (e.baseColor = this.baseColor),
      (e.alpha = this.alpha),
      (e.texture = this.texture),
      (e.geometryData = this.geometryData),
      (e.topology = this.topology);
  }
  reset() {
    (this.applyTransform = !0),
      (this.renderable = null),
      (this.topology = "triangle-list");
  }
}
const il = {
    extension: { type: D.ShapeBuilder, name: "circle" },
    build(r, e) {
      let t, s, n, i, l, c;
      if (r.type === "circle") {
        const E = r;
        if (((l = c = E.radius), l <= 0)) return !1;
        (t = E.x), (s = E.y), (n = i = 0);
      } else if (r.type === "ellipse") {
        const E = r;
        if (((l = E.halfWidth), (c = E.halfHeight), l <= 0 || c <= 0))
          return !1;
        (t = E.x), (s = E.y), (n = i = 0);
      } else {
        const E = r,
          A = E.width / 2,
          M = E.height / 2;
        (t = E.x + A),
          (s = E.y + M),
          (l = c = Math.max(0, Math.min(E.radius, Math.min(A, M)))),
          (n = A - l),
          (i = M - c);
      }
      if (n < 0 || i < 0) return !1;
      const d = Math.ceil(2.3 * Math.sqrt(l + c)),
        f = d * 8 + (n ? 4 : 0) + (i ? 4 : 0);
      if (f === 0) return !1;
      if (d === 0)
        return (
          (e[0] = e[6] = t + n),
          (e[1] = e[3] = s + i),
          (e[2] = e[4] = t - n),
          (e[5] = e[7] = s - i),
          !0
        );
      let m = 0,
        h = d * 4 + (n ? 2 : 0) + 2,
        g = h,
        x = f,
        v = n + l,
        w = i,
        _ = t + v,
        S = t - v,
        T = s + w;
      if (((e[m++] = _), (e[m++] = T), (e[--h] = T), (e[--h] = S), i)) {
        const E = s - w;
        (e[g++] = S), (e[g++] = E), (e[--x] = E), (e[--x] = _);
      }
      for (let E = 1; E < d; E++) {
        const A = (Math.PI / 2) * (E / d),
          M = n + Math.cos(A) * l,
          N = i + Math.sin(A) * c,
          R = t + M,
          O = t - M,
          U = s + N,
          q = s - N;
        (e[m++] = R),
          (e[m++] = U),
          (e[--h] = U),
          (e[--h] = O),
          (e[g++] = O),
          (e[g++] = q),
          (e[--x] = q),
          (e[--x] = R);
      }
      (v = n), (w = i + c), (_ = t + v), (S = t - v), (T = s + w);
      const j = s - w;
      return (
        (e[m++] = _),
        (e[m++] = T),
        (e[--x] = j),
        (e[--x] = _),
        n && ((e[m++] = S), (e[m++] = T), (e[--x] = j), (e[--x] = S)),
        !0
      );
    },
    triangulate(r, e, t, s, n, i) {
      if (r.length === 0) return;
      let l = 0,
        c = 0;
      for (let m = 0; m < r.length; m += 2) (l += r[m]), (c += r[m + 1]);
      (l /= r.length / 2), (c /= r.length / 2);
      let d = s;
      (e[d * t] = l), (e[d * t + 1] = c);
      const f = d++;
      for (let m = 0; m < r.length; m += 2)
        (e[d * t] = r[m]),
          (e[d * t + 1] = r[m + 1]),
          m > 0 && ((n[i++] = d), (n[i++] = f), (n[i++] = d - 1)),
          d++;
      (n[i++] = f + 1), (n[i++] = f), (n[i++] = d - 1);
    },
  },
  oM = { ...il, extension: { ...il.extension, name: "ellipse" } },
  lM = { ...il, extension: { ...il.extension, name: "roundedRectangle" } },
  Gw = 1e-4,
  z_ = 1e-4;
function cM(r) {
  const e = r.length;
  if (e < 6) return 1;
  let t = 0;
  for (let s = 0, n = r[e - 2], i = r[e - 1]; s < e; s += 2) {
    const l = r[s],
      c = r[s + 1];
    (t += (l - n) * (c + i)), (n = l), (i = c);
  }
  return t < 0 ? -1 : 1;
}
function G_(r, e, t, s, n, i, l, c) {
  const d = r - t * n,
    f = e - s * n,
    m = r + t * i,
    h = e + s * i;
  let g, x;
  l ? ((g = s), (x = -t)) : ((g = -s), (x = t));
  const v = d + g,
    w = f + x,
    _ = m + g,
    S = h + x;
  return c.push(v, w), c.push(_, S), 2;
}
function fi(r, e, t, s, n, i, l, c) {
  const d = t - r,
    f = s - e;
  let m = Math.atan2(d, f),
    h = Math.atan2(n - r, i - e);
  c && m < h ? (m += Math.PI * 2) : !c && m > h && (h += Math.PI * 2);
  let g = m;
  const x = h - m,
    v = Math.abs(x),
    w = Math.sqrt(d * d + f * f),
    _ = (((15 * v * Math.sqrt(w)) / Math.PI) >> 0) + 1,
    S = x / _;
  if (((g += S), c)) {
    l.push(r, e), l.push(t, s);
    for (let T = 1, j = g; T < _; T++, j += S)
      l.push(r, e), l.push(r + Math.sin(j) * w, e + Math.cos(j) * w);
    l.push(r, e), l.push(n, i);
  } else {
    l.push(t, s), l.push(r, e);
    for (let T = 1, j = g; T < _; T++, j += S)
      l.push(r + Math.sin(j) * w, e + Math.cos(j) * w), l.push(r, e);
    l.push(n, i), l.push(r, e);
  }
  return _ * 2;
}
function uM(r, e, t, s, n, i) {
  const l = Gw;
  if (r.length === 0) return;
  const c = e;
  let d = c.alignment;
  if (e.alignment !== 0.5) {
    let re = cM(r);
    d = (d - 0.5) * re + 0.5;
  }
  const f = new yt(r[0], r[1]),
    m = new yt(r[r.length - 2], r[r.length - 1]),
    h = s,
    g = Math.abs(f.x - m.x) < l && Math.abs(f.y - m.y) < l;
  if (h) {
    (r = r.slice()),
      g && (r.pop(), r.pop(), m.set(r[r.length - 2], r[r.length - 1]));
    const re = (f.x + m.x) * 0.5,
      J = (m.y + f.y) * 0.5;
    r.unshift(re, J), r.push(re, J);
  }
  const x = n,
    v = r.length / 2;
  let w = r.length;
  const _ = x.length / 2,
    S = c.width / 2,
    T = S * S,
    j = c.miterLimit * c.miterLimit;
  let E = r[0],
    A = r[1],
    M = r[2],
    N = r[3],
    R = 0,
    O = 0,
    U = -(A - N),
    q = E - M,
    Q = 0,
    z = 0,
    Z = Math.sqrt(U * U + q * q);
  (U /= Z), (q /= Z), (U *= S), (q *= S);
  const pe = d,
    se = (1 - pe) * 2,
    ie = pe * 2;
  h ||
    (c.cap === "round"
      ? (w +=
          fi(
            E - U * (se - ie) * 0.5,
            A - q * (se - ie) * 0.5,
            E - U * se,
            A - q * se,
            E + U * ie,
            A + q * ie,
            x,
            !0
          ) + 2)
      : c.cap === "square" && (w += G_(E, A, U, q, se, ie, !0, x))),
    x.push(E - U * se, A - q * se),
    x.push(E + U * ie, A + q * ie);
  for (let re = 1; re < v - 1; ++re) {
    (E = r[(re - 1) * 2]),
      (A = r[(re - 1) * 2 + 1]),
      (M = r[re * 2]),
      (N = r[re * 2 + 1]),
      (R = r[(re + 1) * 2]),
      (O = r[(re + 1) * 2 + 1]),
      (U = -(A - N)),
      (q = E - M),
      (Z = Math.sqrt(U * U + q * q)),
      (U /= Z),
      (q /= Z),
      (U *= S),
      (q *= S),
      (Q = -(N - O)),
      (z = M - R),
      (Z = Math.sqrt(Q * Q + z * z)),
      (Q /= Z),
      (z /= Z),
      (Q *= S),
      (z *= S);
    const J = M - E,
      F = A - N,
      W = M - R,
      te = O - N,
      de = J * W + F * te,
      ne = F * W - te * J,
      ue = ne < 0;
    if (Math.abs(ne) < 0.001 * Math.abs(de)) {
      x.push(M - U * se, N - q * se),
        x.push(M + U * ie, N + q * ie),
        de >= 0 &&
          (c.join === "round"
            ? (w +=
                fi(
                  M,
                  N,
                  M - U * se,
                  N - q * se,
                  M - Q * se,
                  N - z * se,
                  x,
                  !1
                ) + 4)
            : (w += 2),
          x.push(M - Q * ie, N - z * ie),
          x.push(M + Q * se, N + z * se));
      continue;
    }
    const ae = (-U + E) * (-q + N) - (-U + M) * (-q + A),
      me = (-Q + R) * (-z + N) - (-Q + M) * (-z + O),
      oe = (J * me - W * ae) / ne,
      ve = (te * ae - F * me) / ne,
      Te = (oe - M) * (oe - M) + (ve - N) * (ve - N),
      Ue = M + (oe - M) * se,
      xe = N + (ve - N) * se,
      Ee = M - (oe - M) * ie,
      He = N - (ve - N) * ie,
      vt = Math.min(J * J + F * F, W * W + te * te),
      _t = ue ? se : ie,
      Ft = vt + _t * _t * T;
    Te <= Ft
      ? c.join === "bevel" || Te / T > j
        ? (ue
            ? (x.push(Ue, xe),
              x.push(M + U * ie, N + q * ie),
              x.push(Ue, xe),
              x.push(M + Q * ie, N + z * ie))
            : (x.push(M - U * se, N - q * se),
              x.push(Ee, He),
              x.push(M - Q * se, N - z * se),
              x.push(Ee, He)),
          (w += 2))
        : c.join === "round"
        ? ue
          ? (x.push(Ue, xe),
            x.push(M + U * ie, N + q * ie),
            (w +=
              fi(M, N, M + U * ie, N + q * ie, M + Q * ie, N + z * ie, x, !0) +
              4),
            x.push(Ue, xe),
            x.push(M + Q * ie, N + z * ie))
          : (x.push(M - U * se, N - q * se),
            x.push(Ee, He),
            (w +=
              fi(M, N, M - U * se, N - q * se, M - Q * se, N - z * se, x, !1) +
              4),
            x.push(M - Q * se, N - z * se),
            x.push(Ee, He))
        : (x.push(Ue, xe), x.push(Ee, He))
      : (x.push(M - U * se, N - q * se),
        x.push(M + U * ie, N + q * ie),
        c.join === "round"
          ? ue
            ? (w +=
                fi(
                  M,
                  N,
                  M + U * ie,
                  N + q * ie,
                  M + Q * ie,
                  N + z * ie,
                  x,
                  !0
                ) + 2)
            : (w +=
                fi(
                  M,
                  N,
                  M - U * se,
                  N - q * se,
                  M - Q * se,
                  N - z * se,
                  x,
                  !1
                ) + 2)
          : c.join === "miter" &&
            Te / T <= j &&
            (ue
              ? (x.push(Ee, He), x.push(Ee, He))
              : (x.push(Ue, xe), x.push(Ue, xe)),
            (w += 2)),
        x.push(M - Q * se, N - z * se),
        x.push(M + Q * ie, N + z * ie),
        (w += 2));
  }
  (E = r[(v - 2) * 2]),
    (A = r[(v - 2) * 2 + 1]),
    (M = r[(v - 1) * 2]),
    (N = r[(v - 1) * 2 + 1]),
    (U = -(A - N)),
    (q = E - M),
    (Z = Math.sqrt(U * U + q * q)),
    (U /= Z),
    (q /= Z),
    (U *= S),
    (q *= S),
    x.push(M - U * se, N - q * se),
    x.push(M + U * ie, N + q * ie),
    h ||
      (c.cap === "round"
        ? (w +=
            fi(
              M - U * (se - ie) * 0.5,
              N - q * (se - ie) * 0.5,
              M - U * se,
              N - q * se,
              M + U * ie,
              N + q * ie,
              x,
              !1
            ) + 2)
        : c.cap === "square" && (w += G_(M, N, U, q, se, ie, !1, x)));
  const Y = z_ * z_;
  for (let re = _; re < w + _ - 2; ++re)
    (E = x[re * 2]),
      (A = x[re * 2 + 1]),
      (M = x[(re + 1) * 2]),
      (N = x[(re + 1) * 2 + 1]),
      (R = x[(re + 2) * 2]),
      (O = x[(re + 2) * 2 + 1]),
      !(Math.abs(E * (N - O) + M * (O - A) + R * (A - N)) < Y) &&
        i.push(re, re + 1, re + 2);
}
function dM(r, e, t, s) {
  const n = Gw;
  if (r.length === 0) return;
  const i = r[0],
    l = r[1],
    c = r[r.length - 2],
    d = r[r.length - 1],
    f = e || (Math.abs(i - c) < n && Math.abs(l - d) < n),
    m = t,
    h = r.length / 2,
    g = m.length / 2;
  for (let x = 0; x < h; x++) m.push(r[x * 2]), m.push(r[x * 2 + 1]);
  for (let x = 0; x < h - 1; x++) s.push(g + x, g + x + 1);
  f && s.push(g + h - 1, g);
}
function $w(r, e, t, s, n, i, l) {
  const c = f5(r, e, 2);
  if (!c) return;
  for (let f = 0; f < c.length; f += 3)
    (i[l++] = c[f] + n), (i[l++] = c[f + 1] + n), (i[l++] = c[f + 2] + n);
  let d = n * s;
  for (let f = 0; f < r.length; f += 2)
    (t[d] = r[f]), (t[d + 1] = r[f + 1]), (d += s);
}
const hM = [],
  fM = {
    extension: { type: D.ShapeBuilder, name: "polygon" },
    build(r, e) {
      for (let t = 0; t < r.points.length; t++) e[t] = r.points[t];
      return !0;
    },
    triangulate(r, e, t, s, n, i) {
      $w(r, hM, e, t, s, n, i);
    },
  },
  pM = {
    extension: { type: D.ShapeBuilder, name: "rectangle" },
    build(r, e) {
      const t = r,
        s = t.x,
        n = t.y,
        i = t.width,
        l = t.height;
      return i > 0 && l > 0
        ? ((e[0] = s),
          (e[1] = n),
          (e[2] = s + i),
          (e[3] = n),
          (e[4] = s + i),
          (e[5] = n + l),
          (e[6] = s),
          (e[7] = n + l),
          !0)
        : !1;
    },
    triangulate(r, e, t, s, n, i) {
      let l = 0;
      (s *= t),
        (e[s + l] = r[0]),
        (e[s + l + 1] = r[1]),
        (l += t),
        (e[s + l] = r[2]),
        (e[s + l + 1] = r[3]),
        (l += t),
        (e[s + l] = r[6]),
        (e[s + l + 1] = r[7]),
        (l += t),
        (e[s + l] = r[4]),
        (e[s + l + 1] = r[5]),
        (l += t);
      const c = s / t;
      (n[i++] = c),
        (n[i++] = c + 1),
        (n[i++] = c + 2),
        (n[i++] = c + 1),
        (n[i++] = c + 3),
        (n[i++] = c + 2);
    },
  },
  mM = {
    extension: { type: D.ShapeBuilder, name: "triangle" },
    build(r, e) {
      return (
        (e[0] = r.x),
        (e[1] = r.y),
        (e[2] = r.x2),
        (e[3] = r.y2),
        (e[4] = r.x3),
        (e[5] = r.y3),
        !0
      );
    },
    triangulate(r, e, t, s, n, i) {
      let l = 0;
      (s *= t),
        (e[s + l] = r[0]),
        (e[s + l + 1] = r[1]),
        (l += t),
        (e[s + l] = r[2]),
        (e[s + l + 1] = r[3]),
        (l += t),
        (e[s + l] = r[4]),
        (e[s + l + 1] = r[5]);
      const c = s / t;
      (n[i++] = c), (n[i++] = c + 1), (n[i++] = c + 2);
    },
  },
  gM = new ke(),
  xM = new ct();
function yM(r, e, t, s) {
  const n = e.matrix ? r.copyFrom(e.matrix).invert() : r.identity();
  if (e.textureSpace === "local") {
    const l = t.getBounds(xM);
    e.width && l.pad(e.width);
    const { x: c, y: d } = l,
      f = 1 / l.width,
      m = 1 / l.height,
      h = -c * f,
      g = -d * m,
      x = n.a,
      v = n.b,
      w = n.c,
      _ = n.d;
    (n.a *= f),
      (n.b *= f),
      (n.c *= m),
      (n.d *= m),
      (n.tx = h * x + g * w + n.tx),
      (n.ty = h * v + g * _ + n.ty);
  } else
    n.translate(e.texture.frame.x, e.texture.frame.y),
      n.scale(1 / e.texture.source.width, 1 / e.texture.source.height);
  const i = e.texture.source.style;
  return (
    !(e.fill instanceof hn) &&
      i.addressMode === "clamp-to-edge" &&
      ((i.addressMode = "repeat"), i.update()),
    s && n.append(gM.copyFrom(s).invert()),
    n
  );
}
const $u = {};
Ie.handleByMap(D.ShapeBuilder, $u);
Ie.add(pM, fM, mM, il, oM, lM);
const vM = new ct(),
  _M = new ke();
function bM(r, e) {
  const { geometryData: t, batches: s } = e;
  (s.length = 0),
    (t.indices.length = 0),
    (t.vertices.length = 0),
    (t.uvs.length = 0);
  for (let n = 0; n < r.instructions.length; n++) {
    const i = r.instructions[n];
    if (i.action === "texture") wM(i.data, s, t);
    else if (i.action === "fill" || i.action === "stroke") {
      const l = i.action === "stroke",
        c = i.data.path.shapePath,
        d = i.data.style,
        f = i.data.hole;
      l && f && $_(f.shapePath, d, !0, s, t),
        f &&
          (c.shapePrimitives[c.shapePrimitives.length - 1].holes =
            f.shapePath.shapePrimitives),
        $_(c, d, l, s, t);
    }
  }
}
function wM(r, e, t) {
  const s = [],
    n = $u.rectangle,
    i = vM;
  (i.x = r.dx), (i.y = r.dy), (i.width = r.dw), (i.height = r.dh);
  const l = r.transform;
  if (!n.build(i, s)) return;
  const { vertices: c, uvs: d, indices: f } = t,
    m = f.length,
    h = c.length / 2;
  l && zw(s, l), n.triangulate(s, c, 2, h, f, m);
  const g = r.image,
    x = g.uvs;
  d.push(x.x0, x.y0, x.x1, x.y1, x.x3, x.y3, x.x2, x.y2);
  const v = ur.get(_g);
  (v.indexOffset = m),
    (v.indexSize = f.length - m),
    (v.attributeOffset = h),
    (v.attributeSize = c.length / 2 - h),
    (v.baseColor = r.style),
    (v.alpha = r.alpha),
    (v.texture = g),
    (v.geometryData = t),
    e.push(v);
}
function $_(r, e, t, s, n) {
  const { vertices: i, uvs: l, indices: c } = n;
  r.shapePrimitives.forEach(({ shape: d, transform: f, holes: m }) => {
    const h = [],
      g = $u[d.type];
    if (!g.build(d, h)) return;
    const x = c.length,
      v = i.length / 2;
    let w = "triangle-list";
    if ((f && zw(h, f), t)) {
      const j = d.closePath ?? !0,
        E = e;
      E.pixelLine ? (dM(h, j, i, c), (w = "line-list")) : uM(h, E, !1, j, i, c);
    } else if (m) {
      const j = [],
        E = h.slice();
      SM(m).forEach((M) => {
        j.push(E.length / 2), E.push(...M);
      }),
        $w(E, j, i, 2, v, c, x);
    } else g.triangulate(h, i, 2, v, c, x);
    const _ = l.length / 2,
      S = e.texture;
    if (S !== Se.WHITE) {
      const j = yM(_M, e, d, f);
      nM(i, 2, v, l, _, 2, i.length / 2 - v, j);
    } else iM(l, _, 2, i.length / 2 - v);
    const T = ur.get(_g);
    (T.indexOffset = x),
      (T.indexSize = c.length - x),
      (T.attributeOffset = v),
      (T.attributeSize = i.length / 2 - v),
      (T.baseColor = e.color),
      (T.alpha = e.alpha),
      (T.texture = S),
      (T.geometryData = n),
      (T.topology = w),
      s.push(T);
  });
}
function SM(r) {
  const e = [];
  for (let t = 0; t < r.length; t++) {
    const s = r[t].shape,
      n = [];
    $u[s.type].build(s, n) && e.push(n);
  }
  return e;
}
class CM {
  constructor() {
    (this.batches = []),
      (this.geometryData = { vertices: [], uvs: [], indices: [] });
  }
}
class TM {
  constructor() {
    this.instructions = new q2();
  }
  init(e) {
    (this.batcher = new vg({ maxTextures: e })), this.instructions.reset();
  }
  get geometry() {
    return (
      De(
        RP,
        "GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."
      ),
      this.batcher.geometry
    );
  }
}
const bg = class Tm {
  constructor(e) {
    (this._gpuContextHash = {}),
      (this._graphicsDataContextHash = Object.create(null)),
      (this._renderer = e),
      e.renderableGC.addManagedHash(this, "_gpuContextHash"),
      e.renderableGC.addManagedHash(this, "_graphicsDataContextHash");
  }
  init(e) {
    Tm.defaultOptions.bezierSmoothness =
      e?.bezierSmoothness ?? Tm.defaultOptions.bezierSmoothness;
  }
  getContextRenderData(e) {
    return (
      this._graphicsDataContextHash[e.uid] || this._initContextRenderData(e)
    );
  }
  updateGpuContext(e) {
    let t = this._gpuContextHash[e.uid] || this._initContext(e);
    if (e.dirty) {
      t ? this._cleanGraphicsContextData(e) : (t = this._initContext(e)),
        bM(e, t);
      const s = e.batchMode;
      e.customShader || s === "no-batch"
        ? (t.isBatchable = !1)
        : s === "auto"
        ? (t.isBatchable = t.geometryData.vertices.length < 400)
        : (t.isBatchable = !0),
        (e.dirty = !1);
    }
    return t;
  }
  getGpuContext(e) {
    return this._gpuContextHash[e.uid] || this._initContext(e);
  }
  _initContextRenderData(e) {
    const t = ur.get(TM, {
        maxTextures: this._renderer.limits.maxBatchableTextures,
      }),
      { batches: s, geometryData: n } = this._gpuContextHash[e.uid],
      i = n.vertices.length,
      l = n.indices.length;
    for (let m = 0; m < s.length; m++) s[m].applyTransform = !1;
    const c = t.batcher;
    c.ensureAttributeBuffer(i), c.ensureIndexBuffer(l), c.begin();
    for (let m = 0; m < s.length; m++) {
      const h = s[m];
      c.add(h);
    }
    c.finish(t.instructions);
    const d = c.geometry;
    d.indexBuffer.setDataWithSize(c.indexBuffer, c.indexSize, !0),
      d.buffers[0].setDataWithSize(
        c.attributeBuffer.float32View,
        c.attributeSize,
        !0
      );
    const f = c.batches;
    for (let m = 0; m < f.length; m++) {
      const h = f[m];
      h.bindGroup = fg(
        h.textures.textures,
        h.textures.count,
        this._renderer.limits.maxBatchableTextures
      );
    }
    return (this._graphicsDataContextHash[e.uid] = t), t;
  }
  _initContext(e) {
    const t = new CM();
    return (
      (t.context = e),
      (this._gpuContextHash[e.uid] = t),
      e.on("destroy", this.onGraphicsContextDestroy, this),
      this._gpuContextHash[e.uid]
    );
  }
  onGraphicsContextDestroy(e) {
    this._cleanGraphicsContextData(e),
      e.off("destroy", this.onGraphicsContextDestroy, this),
      (this._gpuContextHash[e.uid] = null);
  }
  _cleanGraphicsContextData(e) {
    const t = this._gpuContextHash[e.uid];
    t.isBatchable ||
      (this._graphicsDataContextHash[e.uid] &&
        (ur.return(this.getContextRenderData(e)),
        (this._graphicsDataContextHash[e.uid] = null))),
      t.batches &&
        t.batches.forEach((s) => {
          ur.return(s);
        });
  }
  destroy() {
    for (const e in this._gpuContextHash)
      this._gpuContextHash[e] &&
        this.onGraphicsContextDestroy(this._gpuContextHash[e].context);
  }
};
bg.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "graphicsContext",
};
bg.defaultOptions = { bezierSmoothness: 0.5 };
let wg = bg;
const EM = 8,
  Wc = 11920929e-14,
  jM = 1;
function Hw(r, e, t, s, n, i, l, c, d, f) {
  const h = Math.min(
    0.99,
    Math.max(0, f ?? wg.defaultOptions.bezierSmoothness)
  );
  let g = (jM - h) / 1;
  return (g *= g), kM(e, t, s, n, i, l, c, d, r, g), r;
}
function kM(r, e, t, s, n, i, l, c, d, f) {
  Em(r, e, t, s, n, i, l, c, d, f, 0), d.push(l, c);
}
function Em(r, e, t, s, n, i, l, c, d, f, m) {
  if (m > EM) return;
  const h = (r + t) / 2,
    g = (e + s) / 2,
    x = (t + n) / 2,
    v = (s + i) / 2,
    w = (n + l) / 2,
    _ = (i + c) / 2,
    S = (h + x) / 2,
    T = (g + v) / 2,
    j = (x + w) / 2,
    E = (v + _) / 2,
    A = (S + j) / 2,
    M = (T + E) / 2;
  if (m > 0) {
    let N = l - r,
      R = c - e;
    const O = Math.abs((t - l) * R - (s - c) * N),
      U = Math.abs((n - l) * R - (i - c) * N);
    if (O > Wc && U > Wc) {
      if ((O + U) * (O + U) <= f * (N * N + R * R)) {
        d.push(A, M);
        return;
      }
    } else if (O > Wc) {
      if (O * O <= f * (N * N + R * R)) {
        d.push(A, M);
        return;
      }
    } else if (U > Wc) {
      if (U * U <= f * (N * N + R * R)) {
        d.push(A, M);
        return;
      }
    } else if (
      ((N = A - (r + l) / 2), (R = M - (e + c) / 2), N * N + R * R <= f)
    ) {
      d.push(A, M);
      return;
    }
  }
  Em(r, e, h, g, S, T, A, M, d, f, m + 1),
    Em(A, M, j, E, w, _, l, c, d, f, m + 1);
}
const PM = 8,
  AM = 11920929e-14,
  MM = 1;
function NM(r, e, t, s, n, i, l, c) {
  const f = Math.min(
    0.99,
    Math.max(0, c ?? wg.defaultOptions.bezierSmoothness)
  );
  let m = (MM - f) / 1;
  return (m *= m), RM(e, t, s, n, i, l, r, m), r;
}
function RM(r, e, t, s, n, i, l, c) {
  jm(l, r, e, t, s, n, i, c, 0), l.push(n, i);
}
function jm(r, e, t, s, n, i, l, c, d) {
  if (d > PM) return;
  const f = (e + s) / 2,
    m = (t + n) / 2,
    h = (s + i) / 2,
    g = (n + l) / 2,
    x = (f + h) / 2,
    v = (m + g) / 2;
  let w = i - e,
    _ = l - t;
  const S = Math.abs((s - i) * _ - (n - l) * w);
  if (S > AM) {
    if (S * S <= c * (w * w + _ * _)) {
      r.push(x, v);
      return;
    }
  } else if (
    ((w = x - (e + i) / 2), (_ = v - (t + l) / 2), w * w + _ * _ <= c)
  ) {
    r.push(x, v);
    return;
  }
  jm(r, e, t, f, m, x, v, c, d + 1), jm(r, x, v, h, g, i, l, c, d + 1);
}
function Ww(r, e, t, s, n, i, l, c) {
  let d = Math.abs(n - i);
  ((!l && n > i) || (l && i > n)) && (d = 2 * Math.PI - d),
    c || (c = Math.max(6, Math.floor(6 * Math.pow(s, 1 / 3) * (d / Math.PI)))),
    (c = Math.max(c, 3));
  let f = d / c,
    m = n;
  f *= l ? -1 : 1;
  for (let h = 0; h < c + 1; h++) {
    const g = Math.cos(m),
      x = Math.sin(m),
      v = e + g * s,
      w = t + x * s;
    r.push(v, w), (m += f);
  }
}
function BM(r, e, t, s, n, i) {
  const l = r[r.length - 2],
    d = r[r.length - 1] - t,
    f = l - e,
    m = n - t,
    h = s - e,
    g = Math.abs(d * h - f * m);
  if (g < 1e-8 || i === 0) {
    (r[r.length - 2] !== e || r[r.length - 1] !== t) && r.push(e, t);
    return;
  }
  const x = d * d + f * f,
    v = m * m + h * h,
    w = d * m + f * h,
    _ = (i * Math.sqrt(x)) / g,
    S = (i * Math.sqrt(v)) / g,
    T = (_ * w) / x,
    j = (S * w) / v,
    E = _ * h + S * f,
    A = _ * m + S * d,
    M = f * (S + T),
    N = d * (S + T),
    R = h * (_ + j),
    O = m * (_ + j),
    U = Math.atan2(N - A, M - E),
    q = Math.atan2(O - A, R - E);
  Ww(r, E + e, A + t, i, U, q, f * m > h * d);
}
const Vo = Math.PI * 2,
  hp = { centerX: 0, centerY: 0, ang1: 0, ang2: 0 },
  fp = ({ x: r, y: e }, t, s, n, i, l, c, d) => {
    (r *= t), (e *= s);
    const f = n * r - i * e,
      m = i * r + n * e;
    return (d.x = f + l), (d.y = m + c), d;
  };
function FM(r, e) {
  const t =
      e === -1.5707963267948966
        ? -0.551915024494
        : 1.3333333333333333 * Math.tan(e / 4),
    s = e === 1.5707963267948966 ? 0.551915024494 : t,
    n = Math.cos(r),
    i = Math.sin(r),
    l = Math.cos(r + e),
    c = Math.sin(r + e);
  return [
    { x: n - i * s, y: i + n * s },
    { x: l + c * s, y: c - l * s },
    { x: l, y: c },
  ];
}
const H_ = (r, e, t, s) => {
    const n = r * s - e * t < 0 ? -1 : 1;
    let i = r * t + e * s;
    return i > 1 && (i = 1), i < -1 && (i = -1), n * Math.acos(i);
  },
  IM = (r, e, t, s, n, i, l, c, d, f, m, h, g) => {
    const x = Math.pow(n, 2),
      v = Math.pow(i, 2),
      w = Math.pow(m, 2),
      _ = Math.pow(h, 2);
    let S = x * v - x * _ - v * w;
    S < 0 && (S = 0),
      (S /= x * _ + v * w),
      (S = Math.sqrt(S) * (l === c ? -1 : 1));
    const T = ((S * n) / i) * h,
      j = ((S * -i) / n) * m,
      E = f * T - d * j + (r + t) / 2,
      A = d * T + f * j + (e + s) / 2,
      M = (m - T) / n,
      N = (h - j) / i,
      R = (-m - T) / n,
      O = (-h - j) / i,
      U = H_(1, 0, M, N);
    let q = H_(M, N, R, O);
    c === 0 && q > 0 && (q -= Vo),
      c === 1 && q < 0 && (q += Vo),
      (g.centerX = E),
      (g.centerY = A),
      (g.ang1 = U),
      (g.ang2 = q);
  };
function OM(r, e, t, s, n, i, l, c = 0, d = 0, f = 0) {
  if (i === 0 || l === 0) return;
  const m = Math.sin((c * Vo) / 360),
    h = Math.cos((c * Vo) / 360),
    g = (h * (e - s)) / 2 + (m * (t - n)) / 2,
    x = (-m * (e - s)) / 2 + (h * (t - n)) / 2;
  if (g === 0 && x === 0) return;
  (i = Math.abs(i)), (l = Math.abs(l));
  const v = Math.pow(g, 2) / Math.pow(i, 2) + Math.pow(x, 2) / Math.pow(l, 2);
  v > 1 && ((i *= Math.sqrt(v)), (l *= Math.sqrt(v))),
    IM(e, t, s, n, i, l, d, f, m, h, g, x, hp);
  let { ang1: w, ang2: _ } = hp;
  const { centerX: S, centerY: T } = hp;
  let j = Math.abs(_) / (Vo / 4);
  Math.abs(1 - j) < 1e-7 && (j = 1);
  const E = Math.max(Math.ceil(j), 1);
  _ /= E;
  let A = r[r.length - 2],
    M = r[r.length - 1];
  const N = { x: 0, y: 0 };
  for (let R = 0; R < E; R++) {
    const O = FM(w, _),
      { x: U, y: q } = fp(O[0], i, l, h, m, S, T, N),
      { x: Q, y: z } = fp(O[1], i, l, h, m, S, T, N),
      { x: Z, y: pe } = fp(O[2], i, l, h, m, S, T, N);
    Hw(r, A, M, U, q, Q, z, Z, pe), (A = Z), (M = pe), (w += _);
  }
}
function LM(r, e, t) {
  const s = (l, c) => {
      const d = c.x - l.x,
        f = c.y - l.y,
        m = Math.sqrt(d * d + f * f),
        h = d / m,
        g = f / m;
      return { len: m, nx: h, ny: g };
    },
    n = (l, c) => {
      l === 0 ? r.moveTo(c.x, c.y) : r.lineTo(c.x, c.y);
    };
  let i = e[e.length - 1];
  for (let l = 0; l < e.length; l++) {
    const c = e[l % e.length],
      d = c.radius ?? t;
    if (d <= 0) {
      n(l, c), (i = c);
      continue;
    }
    const f = e[(l + 1) % e.length],
      m = s(c, i),
      h = s(c, f);
    if (m.len < 1e-4 || h.len < 1e-4) {
      n(l, c), (i = c);
      continue;
    }
    let g = Math.asin(m.nx * h.ny - m.ny * h.nx),
      x = 1,
      v = !1;
    m.nx * h.nx - m.ny * -h.ny < 0
      ? g < 0
        ? (g = Math.PI + g)
        : ((g = Math.PI - g), (x = -1), (v = !0))
      : g > 0 && ((x = -1), (v = !0));
    const w = g / 2;
    let _,
      S = Math.abs((Math.cos(w) * d) / Math.sin(w));
    S > Math.min(m.len / 2, h.len / 2)
      ? ((S = Math.min(m.len / 2, h.len / 2)),
        (_ = Math.abs((S * Math.sin(w)) / Math.cos(w))))
      : (_ = d);
    const T = c.x + h.nx * S + -h.ny * _ * x,
      j = c.y + h.ny * S + h.nx * _ * x,
      E = Math.atan2(m.ny, m.nx) + (Math.PI / 2) * x,
      A = Math.atan2(h.ny, h.nx) - (Math.PI / 2) * x;
    l === 0 && r.moveTo(T + Math.cos(E) * _, j + Math.sin(E) * _),
      r.arc(T, j, _, E, A, v),
      (i = c);
  }
}
function DM(r, e, t, s) {
  const n = (c, d) => Math.sqrt((c.x - d.x) ** 2 + (c.y - d.y) ** 2),
    i = (c, d, f) => ({ x: c.x + (d.x - c.x) * f, y: c.y + (d.y - c.y) * f }),
    l = e.length;
  for (let c = 0; c < l; c++) {
    const d = e[(c + 1) % l],
      f = d.radius ?? t;
    if (f <= 0) {
      c === 0 ? r.moveTo(d.x, d.y) : r.lineTo(d.x, d.y);
      continue;
    }
    const m = e[c],
      h = e[(c + 2) % l],
      g = n(m, d);
    let x;
    if (g < 1e-4) x = d;
    else {
      const _ = Math.min(g / 2, f);
      x = i(d, m, _ / g);
    }
    const v = n(h, d);
    let w;
    if (v < 1e-4) w = d;
    else {
      const _ = Math.min(v / 2, f);
      w = i(d, h, _ / v);
    }
    c === 0 ? r.moveTo(x.x, x.y) : r.lineTo(x.x, x.y),
      r.quadraticCurveTo(d.x, d.y, w.x, w.y, s);
  }
}
const UM = new ct();
class zM {
  constructor(e) {
    (this.shapePrimitives = []),
      (this._currentPoly = null),
      (this._bounds = new wr()),
      (this._graphicsPath2D = e),
      (this.signed = e.checkForHoles);
  }
  moveTo(e, t) {
    return this.startPoly(e, t), this;
  }
  lineTo(e, t) {
    this._ensurePoly();
    const s = this._currentPoly.points,
      n = s[s.length - 2],
      i = s[s.length - 1];
    return (n !== e || i !== t) && s.push(e, t), this;
  }
  arc(e, t, s, n, i, l) {
    this._ensurePoly(!1);
    const c = this._currentPoly.points;
    return Ww(c, e, t, s, n, i, l), this;
  }
  arcTo(e, t, s, n, i) {
    this._ensurePoly();
    const l = this._currentPoly.points;
    return BM(l, e, t, s, n, i), this;
  }
  arcToSvg(e, t, s, n, i, l, c) {
    const d = this._currentPoly.points;
    return (
      OM(
        d,
        this._currentPoly.lastX,
        this._currentPoly.lastY,
        l,
        c,
        e,
        t,
        s,
        n,
        i
      ),
      this
    );
  }
  bezierCurveTo(e, t, s, n, i, l, c) {
    this._ensurePoly();
    const d = this._currentPoly;
    return (
      Hw(this._currentPoly.points, d.lastX, d.lastY, e, t, s, n, i, l, c), this
    );
  }
  quadraticCurveTo(e, t, s, n, i) {
    this._ensurePoly();
    const l = this._currentPoly;
    return NM(this._currentPoly.points, l.lastX, l.lastY, e, t, s, n, i), this;
  }
  closePath() {
    return this.endPoly(!0), this;
  }
  addPath(e, t) {
    this.endPoly(), t && !t.isIdentity() && ((e = e.clone(!0)), e.transform(t));
    const s = this.shapePrimitives,
      n = s.length;
    for (let i = 0; i < e.instructions.length; i++) {
      const l = e.instructions[i];
      this[l.action](...l.data);
    }
    if (e.checkForHoles && s.length - n > 1) {
      let i = null;
      for (let l = n; l < s.length; l++) {
        const c = s[l];
        if (c.shape.type === "polygon") {
          const d = c.shape,
            f = i?.shape;
          f && f.containsPolygon(d)
            ? (i.holes || (i.holes = []),
              i.holes.push(c),
              s.copyWithin(l, l + 1),
              s.length--,
              l--)
            : (i = c);
        }
      }
    }
    return this;
  }
  finish(e = !1) {
    this.endPoly(e);
  }
  rect(e, t, s, n, i) {
    return this.drawShape(new ct(e, t, s, n), i), this;
  }
  circle(e, t, s, n) {
    return this.drawShape(new ug(e, t, s), n), this;
  }
  poly(e, t, s) {
    const n = new Wo(e);
    return (n.closePath = t), this.drawShape(n, s), this;
  }
  regularPoly(e, t, s, n, i = 0, l) {
    n = Math.max(n | 0, 3);
    const c = (-1 * Math.PI) / 2 + i,
      d = (Math.PI * 2) / n,
      f = [];
    for (let m = 0; m < n; m++) {
      const h = c - m * d;
      f.push(e + s * Math.cos(h), t + s * Math.sin(h));
    }
    return this.poly(f, !0, l), this;
  }
  roundPoly(e, t, s, n, i, l = 0, c) {
    if (((n = Math.max(n | 0, 3)), i <= 0))
      return this.regularPoly(e, t, s, n, l);
    const d = s * Math.sin(Math.PI / n) - 0.001;
    i = Math.min(i, d);
    const f = (-1 * Math.PI) / 2 + l,
      m = (Math.PI * 2) / n,
      h = ((n - 2) * Math.PI) / n / 2;
    for (let g = 0; g < n; g++) {
      const x = g * m + f,
        v = e + s * Math.cos(x),
        w = t + s * Math.sin(x),
        _ = x + Math.PI + h,
        S = x - Math.PI - h,
        T = v + i * Math.cos(_),
        j = w + i * Math.sin(_),
        E = v + i * Math.cos(S),
        A = w + i * Math.sin(S);
      g === 0 ? this.moveTo(T, j) : this.lineTo(T, j),
        this.quadraticCurveTo(v, w, E, A, c);
    }
    return this.closePath();
  }
  roundShape(e, t, s = !1, n) {
    return e.length < 3
      ? this
      : (s ? DM(this, e, t, n) : LM(this, e, t), this.closePath());
  }
  filletRect(e, t, s, n, i) {
    if (i === 0) return this.rect(e, t, s, n);
    const l = Math.min(s, n) / 2,
      c = Math.min(l, Math.max(-l, i)),
      d = e + s,
      f = t + n,
      m = c < 0 ? -c : 0,
      h = Math.abs(c);
    return this.moveTo(e, t + h)
      .arcTo(e + m, t + m, e + h, t, h)
      .lineTo(d - h, t)
      .arcTo(d - m, t + m, d, t + h, h)
      .lineTo(d, f - h)
      .arcTo(d - m, f - m, e + s - h, f, h)
      .lineTo(e + h, f)
      .arcTo(e + m, f - m, e, f - h, h)
      .closePath();
  }
  chamferRect(e, t, s, n, i, l) {
    if (i <= 0) return this.rect(e, t, s, n);
    const c = Math.min(i, Math.min(s, n) / 2),
      d = e + s,
      f = t + n,
      m = [
        e + c,
        t,
        d - c,
        t,
        d,
        t + c,
        d,
        f - c,
        d - c,
        f,
        e + c,
        f,
        e,
        f - c,
        e,
        t + c,
      ];
    for (let h = m.length - 1; h >= 2; h -= 2)
      m[h] === m[h - 2] && m[h - 1] === m[h - 3] && m.splice(h - 1, 2);
    return this.poly(m, !0, l);
  }
  ellipse(e, t, s, n, i) {
    return this.drawShape(new dg(e, t, s, n), i), this;
  }
  roundRect(e, t, s, n, i, l) {
    return this.drawShape(new hg(e, t, s, n, i), l), this;
  }
  drawShape(e, t) {
    return (
      this.endPoly(),
      this.shapePrimitives.push({ shape: e, transform: t }),
      this
    );
  }
  startPoly(e, t) {
    let s = this._currentPoly;
    return (
      s && this.endPoly(),
      (s = new Wo()),
      s.points.push(e, t),
      (this._currentPoly = s),
      this
    );
  }
  endPoly(e = !1) {
    const t = this._currentPoly;
    return (
      t &&
        t.points.length > 2 &&
        ((t.closePath = e), this.shapePrimitives.push({ shape: t })),
      (this._currentPoly = null),
      this
    );
  }
  _ensurePoly(e = !0) {
    if (!this._currentPoly && ((this._currentPoly = new Wo()), e)) {
      const t = this.shapePrimitives[this.shapePrimitives.length - 1];
      if (t) {
        let s = t.shape.x,
          n = t.shape.y;
        if (t.transform && !t.transform.isIdentity()) {
          const i = t.transform,
            l = s;
          (s = i.a * s + i.c * n + i.tx), (n = i.b * l + i.d * n + i.ty);
        }
        this._currentPoly.points.push(s, n);
      } else this._currentPoly.points.push(0, 0);
    }
  }
  buildPath() {
    const e = this._graphicsPath2D;
    (this.shapePrimitives.length = 0), (this._currentPoly = null);
    for (let t = 0; t < e.instructions.length; t++) {
      const s = e.instructions[t];
      this[s.action](...s.data);
    }
    this.finish();
  }
  get bounds() {
    const e = this._bounds;
    e.clear();
    const t = this.shapePrimitives;
    for (let s = 0; s < t.length; s++) {
      const n = t[s],
        i = n.shape.getBounds(UM);
      n.transform ? e.addRect(i, n.transform) : e.addRect(i);
    }
    return e;
  }
}
class Ca {
  constructor(e, t = !1) {
    (this.instructions = []),
      (this.uid = St("graphicsPath")),
      (this._dirty = !0),
      (this.checkForHoles = t),
      typeof e == "string"
        ? S5(e, this)
        : (this.instructions = e?.slice() ?? []);
  }
  get shapePath() {
    return (
      this._shapePath || (this._shapePath = new zM(this)),
      this._dirty && ((this._dirty = !1), this._shapePath.buildPath()),
      this._shapePath
    );
  }
  addPath(e, t) {
    return (
      (e = e.clone()),
      this.instructions.push({ action: "addPath", data: [e, t] }),
      (this._dirty = !0),
      this
    );
  }
  arc(...e) {
    return (
      this.instructions.push({ action: "arc", data: e }),
      (this._dirty = !0),
      this
    );
  }
  arcTo(...e) {
    return (
      this.instructions.push({ action: "arcTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  arcToSvg(...e) {
    return (
      this.instructions.push({ action: "arcToSvg", data: e }),
      (this._dirty = !0),
      this
    );
  }
  bezierCurveTo(...e) {
    return (
      this.instructions.push({ action: "bezierCurveTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  bezierCurveToShort(e, t, s, n, i) {
    const l = this.instructions[this.instructions.length - 1],
      c = this.getLastPoint(yt.shared);
    let d = 0,
      f = 0;
    if (!l || l.action !== "bezierCurveTo") (d = c.x), (f = c.y);
    else {
      (d = l.data[2]), (f = l.data[3]);
      const m = c.x,
        h = c.y;
      (d = m + (m - d)), (f = h + (h - f));
    }
    return (
      this.instructions.push({
        action: "bezierCurveTo",
        data: [d, f, e, t, s, n, i],
      }),
      (this._dirty = !0),
      this
    );
  }
  closePath() {
    return (
      this.instructions.push({ action: "closePath", data: [] }),
      (this._dirty = !0),
      this
    );
  }
  ellipse(...e) {
    return (
      this.instructions.push({ action: "ellipse", data: e }),
      (this._dirty = !0),
      this
    );
  }
  lineTo(...e) {
    return (
      this.instructions.push({ action: "lineTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  moveTo(...e) {
    return this.instructions.push({ action: "moveTo", data: e }), this;
  }
  quadraticCurveTo(...e) {
    return (
      this.instructions.push({ action: "quadraticCurveTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  quadraticCurveToShort(e, t, s) {
    const n = this.instructions[this.instructions.length - 1],
      i = this.getLastPoint(yt.shared);
    let l = 0,
      c = 0;
    if (!n || n.action !== "quadraticCurveTo") (l = i.x), (c = i.y);
    else {
      (l = n.data[0]), (c = n.data[1]);
      const d = i.x,
        f = i.y;
      (l = d + (d - l)), (c = f + (f - c));
    }
    return (
      this.instructions.push({
        action: "quadraticCurveTo",
        data: [l, c, e, t, s],
      }),
      (this._dirty = !0),
      this
    );
  }
  rect(e, t, s, n, i) {
    return (
      this.instructions.push({ action: "rect", data: [e, t, s, n, i] }),
      (this._dirty = !0),
      this
    );
  }
  circle(e, t, s, n) {
    return (
      this.instructions.push({ action: "circle", data: [e, t, s, n] }),
      (this._dirty = !0),
      this
    );
  }
  roundRect(...e) {
    return (
      this.instructions.push({ action: "roundRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  poly(...e) {
    return (
      this.instructions.push({ action: "poly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  regularPoly(...e) {
    return (
      this.instructions.push({ action: "regularPoly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  roundPoly(...e) {
    return (
      this.instructions.push({ action: "roundPoly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  roundShape(...e) {
    return (
      this.instructions.push({ action: "roundShape", data: e }),
      (this._dirty = !0),
      this
    );
  }
  filletRect(...e) {
    return (
      this.instructions.push({ action: "filletRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  chamferRect(...e) {
    return (
      this.instructions.push({ action: "chamferRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  star(e, t, s, n, i, l, c) {
    i || (i = n / 2);
    const d = (-1 * Math.PI) / 2 + l,
      f = s * 2,
      m = (Math.PI * 2) / f,
      h = [];
    for (let g = 0; g < f; g++) {
      const x = g % 2 ? i : n,
        v = g * m + d;
      h.push(e + x * Math.cos(v), t + x * Math.sin(v));
    }
    return this.poly(h, !0, c), this;
  }
  clone(e = !1) {
    const t = new Ca();
    if (((t.checkForHoles = this.checkForHoles), !e))
      t.instructions = this.instructions.slice();
    else
      for (let s = 0; s < this.instructions.length; s++) {
        const n = this.instructions[s];
        t.instructions.push({ action: n.action, data: n.data.slice() });
      }
    return t;
  }
  clear() {
    return (this.instructions.length = 0), (this._dirty = !0), this;
  }
  transform(e) {
    if (e.isIdentity()) return this;
    const t = e.a,
      s = e.b,
      n = e.c,
      i = e.d,
      l = e.tx,
      c = e.ty;
    let d = 0,
      f = 0,
      m = 0,
      h = 0,
      g = 0,
      x = 0,
      v = 0,
      w = 0;
    for (let _ = 0; _ < this.instructions.length; _++) {
      const S = this.instructions[_],
        T = S.data;
      switch (S.action) {
        case "moveTo":
        case "lineTo":
          (d = T[0]),
            (f = T[1]),
            (T[0] = t * d + n * f + l),
            (T[1] = s * d + i * f + c);
          break;
        case "bezierCurveTo":
          (m = T[0]),
            (h = T[1]),
            (g = T[2]),
            (x = T[3]),
            (d = T[4]),
            (f = T[5]),
            (T[0] = t * m + n * h + l),
            (T[1] = s * m + i * h + c),
            (T[2] = t * g + n * x + l),
            (T[3] = s * g + i * x + c),
            (T[4] = t * d + n * f + l),
            (T[5] = s * d + i * f + c);
          break;
        case "quadraticCurveTo":
          (m = T[0]),
            (h = T[1]),
            (d = T[2]),
            (f = T[3]),
            (T[0] = t * m + n * h + l),
            (T[1] = s * m + i * h + c),
            (T[2] = t * d + n * f + l),
            (T[3] = s * d + i * f + c);
          break;
        case "arcToSvg":
          (d = T[5]),
            (f = T[6]),
            (v = T[0]),
            (w = T[1]),
            (T[0] = t * v + n * w),
            (T[1] = s * v + i * w),
            (T[5] = t * d + n * f + l),
            (T[6] = s * d + i * f + c);
          break;
        case "circle":
          T[4] = jo(T[3], e);
          break;
        case "rect":
          T[4] = jo(T[4], e);
          break;
        case "ellipse":
          T[8] = jo(T[8], e);
          break;
        case "roundRect":
          T[5] = jo(T[5], e);
          break;
        case "addPath":
          T[0].transform(e);
          break;
        case "poly":
          T[2] = jo(T[2], e);
          break;
        default:
          Re("unknown transform action", S.action);
          break;
      }
    }
    return (this._dirty = !0), this;
  }
  get bounds() {
    return this.shapePath.bounds;
  }
  getLastPoint(e) {
    let t = this.instructions.length - 1,
      s = this.instructions[t];
    if (!s) return (e.x = 0), (e.y = 0), e;
    for (; s.action === "closePath"; ) {
      if ((t--, t < 0)) return (e.x = 0), (e.y = 0), e;
      s = this.instructions[t];
    }
    switch (s.action) {
      case "moveTo":
      case "lineTo":
        (e.x = s.data[0]), (e.y = s.data[1]);
        break;
      case "quadraticCurveTo":
        (e.x = s.data[2]), (e.y = s.data[3]);
        break;
      case "bezierCurveTo":
        (e.x = s.data[4]), (e.y = s.data[5]);
        break;
      case "arc":
      case "arcToSvg":
        (e.x = s.data[5]), (e.y = s.data[6]);
        break;
      case "addPath":
        s.data[0].getLastPoint(e);
        break;
    }
    return e;
  }
}
function jo(r, e) {
  return r ? r.prepend(e) : e.clone();
}
function Bt(r, e, t) {
  const s = r.getAttribute(e);
  return s ? Number(s) : t;
}
function GM(r, e) {
  const t = r.querySelectorAll("defs");
  for (let s = 0; s < t.length; s++) {
    const n = t[s];
    for (let i = 0; i < n.children.length; i++) {
      const l = n.children[i];
      switch (l.nodeName.toLowerCase()) {
        case "lineargradient":
          e.defs[l.id] = $M(l);
          break;
        case "radialgradient":
          e.defs[l.id] = HM();
          break;
      }
    }
  }
}
function $M(r) {
  const e = Bt(r, "x1", 0),
    t = Bt(r, "y1", 0),
    s = Bt(r, "x2", 1),
    n = Bt(r, "y2", 0),
    i = r.getAttribute("gradientUnits") || "objectBoundingBox",
    l = new hn(e, t, s, n, i === "objectBoundingBox" ? "local" : "global");
  for (let c = 0; c < r.children.length; c++) {
    const d = r.children[c],
      f = Bt(d, "offset", 0),
      m = Ct.shared.setValue(d.getAttribute("stop-color")).toNumber();
    l.addColorStop(f, m);
  }
  return l;
}
function HM(r) {
  return (
    Re("[SVG Parser] Radial gradients are not yet supported"),
    new hn(0, 0, 1, 0)
  );
}
function W_(r) {
  const e = r.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);
  return e ? e[1] : "";
}
const V_ = {
  fill: { type: "paint", default: 0 },
  "fill-opacity": { type: "number", default: 1 },
  stroke: { type: "paint", default: 0 },
  "stroke-width": { type: "number", default: 1 },
  "stroke-opacity": { type: "number", default: 1 },
  "stroke-linecap": { type: "string", default: "butt" },
  "stroke-linejoin": { type: "string", default: "miter" },
  "stroke-miterlimit": { type: "number", default: 10 },
  "stroke-dasharray": { type: "string", default: "none" },
  "stroke-dashoffset": { type: "number", default: 0 },
  opacity: { type: "number", default: 1 },
};
function Vw(r, e) {
  const t = r.getAttribute("style"),
    s = {},
    n = {},
    i = { strokeStyle: s, fillStyle: n, useFill: !1, useStroke: !1 };
  for (const l in V_) {
    const c = r.getAttribute(l);
    c && q_(e, i, l, c.trim());
  }
  if (t) {
    const l = t.split(";");
    for (let c = 0; c < l.length; c++) {
      const d = l[c].trim(),
        [f, m] = d.split(":");
      V_[f] && q_(e, i, f, m.trim());
    }
  }
  return {
    strokeStyle: i.useStroke ? s : null,
    fillStyle: i.useFill ? n : null,
    useFill: i.useFill,
    useStroke: i.useStroke,
  };
}
function q_(r, e, t, s) {
  switch (t) {
    case "stroke":
      if (s !== "none") {
        if (s.startsWith("url(")) {
          const n = W_(s);
          e.strokeStyle.fill = r.defs[n];
        } else e.strokeStyle.color = Ct.shared.setValue(s).toNumber();
        e.useStroke = !0;
      }
      break;
    case "stroke-width":
      e.strokeStyle.width = Number(s);
      break;
    case "fill":
      if (s !== "none") {
        if (s.startsWith("url(")) {
          const n = W_(s);
          e.fillStyle.fill = r.defs[n];
        } else e.fillStyle.color = Ct.shared.setValue(s).toNumber();
        e.useFill = !0;
      }
      break;
    case "fill-opacity":
      e.fillStyle.alpha = Number(s);
      break;
    case "stroke-opacity":
      e.strokeStyle.alpha = Number(s);
      break;
    case "opacity":
      (e.fillStyle.alpha = Number(s)), (e.strokeStyle.alpha = Number(s));
      break;
  }
}
function WM(r, e) {
  if (typeof r == "string") {
    const l = document.createElement("div");
    (l.innerHTML = r.trim()), (r = l.querySelector("svg"));
  }
  const t = { context: e, defs: {}, path: new Ca() };
  GM(r, t);
  const s = r.children,
    { fillStyle: n, strokeStyle: i } = Vw(r, t);
  for (let l = 0; l < s.length; l++) {
    const c = s[l];
    c.nodeName.toLowerCase() !== "defs" && qw(c, t, n, i);
  }
  return e;
}
function qw(r, e, t, s) {
  const n = r.children,
    { fillStyle: i, strokeStyle: l } = Vw(r, e);
  i && t ? (t = { ...t, ...i }) : i && (t = i),
    l && s ? (s = { ...s, ...l }) : l && (s = l);
  const c = !t && !s;
  c && (t = { color: 0 });
  let d, f, m, h, g, x, v, w, _, S, T, j, E, A, M, N, R;
  switch (r.nodeName.toLowerCase()) {
    case "path":
      (A = r.getAttribute("d")),
        r.getAttribute("fill-rule") === "evenodd" &&
          Re(
            "SVG Evenodd fill rule not supported, your svg may render incorrectly"
          ),
        (M = new Ca(A, !0)),
        e.context.path(M),
        t && e.context.fill(t),
        s && e.context.stroke(s);
      break;
    case "circle":
      (v = Bt(r, "cx", 0)),
        (w = Bt(r, "cy", 0)),
        (_ = Bt(r, "r", 0)),
        e.context.ellipse(v, w, _, _),
        t && e.context.fill(t),
        s && e.context.stroke(s);
      break;
    case "rect":
      (d = Bt(r, "x", 0)),
        (f = Bt(r, "y", 0)),
        (N = Bt(r, "width", 0)),
        (R = Bt(r, "height", 0)),
        (S = Bt(r, "rx", 0)),
        (T = Bt(r, "ry", 0)),
        S || T
          ? e.context.roundRect(d, f, N, R, S || T)
          : e.context.rect(d, f, N, R),
        t && e.context.fill(t),
        s && e.context.stroke(s);
      break;
    case "ellipse":
      (v = Bt(r, "cx", 0)),
        (w = Bt(r, "cy", 0)),
        (S = Bt(r, "rx", 0)),
        (T = Bt(r, "ry", 0)),
        e.context.beginPath(),
        e.context.ellipse(v, w, S, T),
        t && e.context.fill(t),
        s && e.context.stroke(s);
      break;
    case "line":
      (m = Bt(r, "x1", 0)),
        (h = Bt(r, "y1", 0)),
        (g = Bt(r, "x2", 0)),
        (x = Bt(r, "y2", 0)),
        e.context.beginPath(),
        e.context.moveTo(m, h),
        e.context.lineTo(g, x),
        s && e.context.stroke(s);
      break;
    case "polygon":
      (E = r.getAttribute("points")),
        (j = E.match(/\d+/g).map((O) => parseInt(O, 10))),
        e.context.poly(j, !0),
        t && e.context.fill(t),
        s && e.context.stroke(s);
      break;
    case "polyline":
      (E = r.getAttribute("points")),
        (j = E.match(/\d+/g).map((O) => parseInt(O, 10))),
        e.context.poly(j, !1),
        s && e.context.stroke(s);
      break;
    case "g":
    case "svg":
      break;
    default: {
      Re(`[SVG parser] <${r.nodeName}> elements unsupported`);
      break;
    }
  }
  c && (t = null);
  for (let O = 0; O < n.length; O++) qw(n[O], e, t, s);
}
function VM(r) {
  return Ct.isColorLike(r);
}
function X_(r) {
  return r instanceof Gu;
}
function Y_(r) {
  return r instanceof hn;
}
function qM(r) {
  return r instanceof Se;
}
function XM(r, e, t) {
  const s = Ct.shared.setValue(e ?? 0);
  return (
    (r.color = s.toNumber()),
    (r.alpha = s.alpha === 1 ? t.alpha : s.alpha),
    (r.texture = Se.WHITE),
    { ...t, ...r }
  );
}
function YM(r, e, t) {
  return (r.texture = e), { ...t, ...r };
}
function K_(r, e, t) {
  return (
    (r.fill = e),
    (r.color = 16777215),
    (r.texture = e.texture),
    (r.matrix = e.transform),
    { ...t, ...r }
  );
}
function Q_(r, e, t) {
  return (
    e.buildGradient(),
    (r.fill = e),
    (r.color = 16777215),
    (r.texture = e.texture),
    (r.matrix = e.transform),
    (r.textureSpace = e.textureSpace),
    { ...t, ...r }
  );
}
function KM(r, e) {
  const t = { ...e, ...r },
    s = Ct.shared.setValue(t.color);
  return (t.alpha *= s.alpha), (t.color = s.toNumber()), t;
}
function Ei(r, e) {
  if (r == null) return null;
  const t = {},
    s = r;
  return VM(r)
    ? XM(t, r, e)
    : qM(r)
    ? YM(t, r, e)
    : X_(r)
    ? K_(t, r, e)
    : Y_(r)
    ? Q_(t, r, e)
    : s.fill && X_(s.fill)
    ? K_(s, s.fill, e)
    : s.fill && Y_(s.fill)
    ? Q_(s, s.fill, e)
    : KM(s, e);
}
function _u(r, e) {
  const {
      width: t,
      alignment: s,
      miterLimit: n,
      cap: i,
      join: l,
      pixelLine: c,
      ...d
    } = e,
    f = Ei(r, d);
  return f
    ? {
        width: t,
        alignment: s,
        miterLimit: n,
        cap: i,
        join: l,
        pixelLine: c,
        ...f,
      }
    : null;
}
const QM = new yt(),
  Z_ = new ke(),
  Sg = class Us extends nr {
    constructor() {
      super(...arguments),
        (this.uid = St("graphicsContext")),
        (this.dirty = !0),
        (this.batchMode = "auto"),
        (this.instructions = []),
        (this._activePath = new Ca()),
        (this._transform = new ke()),
        (this._fillStyle = { ...Us.defaultFillStyle }),
        (this._strokeStyle = { ...Us.defaultStrokeStyle }),
        (this._stateStack = []),
        (this._tick = 0),
        (this._bounds = new wr()),
        (this._boundsDirty = !0);
    }
    clone() {
      const e = new Us();
      return (
        (e.batchMode = this.batchMode),
        (e.instructions = this.instructions.slice()),
        (e._activePath = this._activePath.clone()),
        (e._transform = this._transform.clone()),
        (e._fillStyle = { ...this._fillStyle }),
        (e._strokeStyle = { ...this._strokeStyle }),
        (e._stateStack = this._stateStack.slice()),
        (e._bounds = this._bounds.clone()),
        (e._boundsDirty = !0),
        e
      );
    }
    get fillStyle() {
      return this._fillStyle;
    }
    set fillStyle(e) {
      this._fillStyle = Ei(e, Us.defaultFillStyle);
    }
    get strokeStyle() {
      return this._strokeStyle;
    }
    set strokeStyle(e) {
      this._strokeStyle = _u(e, Us.defaultStrokeStyle);
    }
    setFillStyle(e) {
      return (this._fillStyle = Ei(e, Us.defaultFillStyle)), this;
    }
    setStrokeStyle(e) {
      return (this._strokeStyle = Ei(e, Us.defaultStrokeStyle)), this;
    }
    texture(e, t, s, n, i, l) {
      return (
        this.instructions.push({
          action: "texture",
          data: {
            image: e,
            dx: s || 0,
            dy: n || 0,
            dw: i || e.frame.width,
            dh: l || e.frame.height,
            transform: this._transform.clone(),
            alpha: this._fillStyle.alpha,
            style: t ? Ct.shared.setValue(t).toNumber() : 16777215,
          },
        }),
        this.onUpdate(),
        this
      );
    }
    beginPath() {
      return (this._activePath = new Ca()), this;
    }
    fill(e, t) {
      let s;
      const n = this.instructions[this.instructions.length - 1];
      return (
        this._tick === 0 && n && n.action === "stroke"
          ? (s = n.data.path)
          : (s = this._activePath.clone()),
        s
          ? (e != null &&
              (t !== void 0 &&
                typeof e == "number" &&
                (De(
                  st,
                  "GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"
                ),
                (e = { color: e, alpha: t })),
              (this._fillStyle = Ei(e, Us.defaultFillStyle))),
            this.instructions.push({
              action: "fill",
              data: { style: this.fillStyle, path: s },
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            (this._tick = 0),
            this)
          : this
      );
    }
    _initNextPathLocation() {
      const { x: e, y: t } = this._activePath.getLastPoint(yt.shared);
      this._activePath.clear(), this._activePath.moveTo(e, t);
    }
    stroke(e) {
      let t;
      const s = this.instructions[this.instructions.length - 1];
      return (
        this._tick === 0 && s && s.action === "fill"
          ? (t = s.data.path)
          : (t = this._activePath.clone()),
        t
          ? (e != null && (this._strokeStyle = _u(e, Us.defaultStrokeStyle)),
            this.instructions.push({
              action: "stroke",
              data: { style: this.strokeStyle, path: t },
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            (this._tick = 0),
            this)
          : this
      );
    }
    cut() {
      for (let e = 0; e < 2; e++) {
        const t = this.instructions[this.instructions.length - 1 - e],
          s = this._activePath.clone();
        if (t && (t.action === "stroke" || t.action === "fill"))
          if (t.data.hole) t.data.hole.addPath(s);
          else {
            t.data.hole = s;
            break;
          }
      }
      return this._initNextPathLocation(), this;
    }
    arc(e, t, s, n, i, l) {
      this._tick++;
      const c = this._transform;
      return (
        this._activePath.arc(
          c.a * e + c.c * t + c.tx,
          c.b * e + c.d * t + c.ty,
          s,
          n,
          i,
          l
        ),
        this
      );
    }
    arcTo(e, t, s, n, i) {
      this._tick++;
      const l = this._transform;
      return (
        this._activePath.arcTo(
          l.a * e + l.c * t + l.tx,
          l.b * e + l.d * t + l.ty,
          l.a * s + l.c * n + l.tx,
          l.b * s + l.d * n + l.ty,
          i
        ),
        this
      );
    }
    arcToSvg(e, t, s, n, i, l, c) {
      this._tick++;
      const d = this._transform;
      return (
        this._activePath.arcToSvg(
          e,
          t,
          s,
          n,
          i,
          d.a * l + d.c * c + d.tx,
          d.b * l + d.d * c + d.ty
        ),
        this
      );
    }
    bezierCurveTo(e, t, s, n, i, l, c) {
      this._tick++;
      const d = this._transform;
      return (
        this._activePath.bezierCurveTo(
          d.a * e + d.c * t + d.tx,
          d.b * e + d.d * t + d.ty,
          d.a * s + d.c * n + d.tx,
          d.b * s + d.d * n + d.ty,
          d.a * i + d.c * l + d.tx,
          d.b * i + d.d * l + d.ty,
          c
        ),
        this
      );
    }
    closePath() {
      return this._tick++, this._activePath?.closePath(), this;
    }
    ellipse(e, t, s, n) {
      return (
        this._tick++,
        this._activePath.ellipse(e, t, s, n, this._transform.clone()),
        this
      );
    }
    circle(e, t, s) {
      return (
        this._tick++,
        this._activePath.circle(e, t, s, this._transform.clone()),
        this
      );
    }
    path(e) {
      return (
        this._tick++, this._activePath.addPath(e, this._transform.clone()), this
      );
    }
    lineTo(e, t) {
      this._tick++;
      const s = this._transform;
      return (
        this._activePath.lineTo(
          s.a * e + s.c * t + s.tx,
          s.b * e + s.d * t + s.ty
        ),
        this
      );
    }
    moveTo(e, t) {
      this._tick++;
      const s = this._transform,
        n = this._activePath.instructions,
        i = s.a * e + s.c * t + s.tx,
        l = s.b * e + s.d * t + s.ty;
      return n.length === 1 && n[0].action === "moveTo"
        ? ((n[0].data[0] = i), (n[0].data[1] = l), this)
        : (this._activePath.moveTo(i, l), this);
    }
    quadraticCurveTo(e, t, s, n, i) {
      this._tick++;
      const l = this._transform;
      return (
        this._activePath.quadraticCurveTo(
          l.a * e + l.c * t + l.tx,
          l.b * e + l.d * t + l.ty,
          l.a * s + l.c * n + l.tx,
          l.b * s + l.d * n + l.ty,
          i
        ),
        this
      );
    }
    rect(e, t, s, n) {
      return (
        this._tick++,
        this._activePath.rect(e, t, s, n, this._transform.clone()),
        this
      );
    }
    roundRect(e, t, s, n, i) {
      return (
        this._tick++,
        this._activePath.roundRect(e, t, s, n, i, this._transform.clone()),
        this
      );
    }
    poly(e, t) {
      return (
        this._tick++, this._activePath.poly(e, t, this._transform.clone()), this
      );
    }
    regularPoly(e, t, s, n, i = 0, l) {
      return this._tick++, this._activePath.regularPoly(e, t, s, n, i, l), this;
    }
    roundPoly(e, t, s, n, i, l) {
      return this._tick++, this._activePath.roundPoly(e, t, s, n, i, l), this;
    }
    roundShape(e, t, s, n) {
      return this._tick++, this._activePath.roundShape(e, t, s, n), this;
    }
    filletRect(e, t, s, n, i) {
      return this._tick++, this._activePath.filletRect(e, t, s, n, i), this;
    }
    chamferRect(e, t, s, n, i, l) {
      return this._tick++, this._activePath.chamferRect(e, t, s, n, i, l), this;
    }
    star(e, t, s, n, i = 0, l = 0) {
      return (
        this._tick++,
        this._activePath.star(e, t, s, n, i, l, this._transform.clone()),
        this
      );
    }
    svg(e) {
      return this._tick++, WM(e, this), this;
    }
    restore() {
      const e = this._stateStack.pop();
      return (
        e &&
          ((this._transform = e.transform),
          (this._fillStyle = e.fillStyle),
          (this._strokeStyle = e.strokeStyle)),
        this
      );
    }
    save() {
      return (
        this._stateStack.push({
          transform: this._transform.clone(),
          fillStyle: { ...this._fillStyle },
          strokeStyle: { ...this._strokeStyle },
        }),
        this
      );
    }
    getTransform() {
      return this._transform;
    }
    resetTransform() {
      return this._transform.identity(), this;
    }
    rotate(e) {
      return this._transform.rotate(e), this;
    }
    scale(e, t = e) {
      return this._transform.scale(e, t), this;
    }
    setTransform(e, t, s, n, i, l) {
      return e instanceof ke
        ? (this._transform.set(e.a, e.b, e.c, e.d, e.tx, e.ty), this)
        : (this._transform.set(e, t, s, n, i, l), this);
    }
    transform(e, t, s, n, i, l) {
      return e instanceof ke
        ? (this._transform.append(e), this)
        : (Z_.set(e, t, s, n, i, l), this._transform.append(Z_), this);
    }
    translate(e, t = e) {
      return this._transform.translate(e, t), this;
    }
    clear() {
      return (
        this._activePath.clear(),
        (this.instructions.length = 0),
        this.resetTransform(),
        this.onUpdate(),
        this
      );
    }
    onUpdate() {
      this.dirty ||
        (this.emit("update", this, 16),
        (this.dirty = !0),
        (this._boundsDirty = !0));
    }
    get bounds() {
      if (!this._boundsDirty) return this._bounds;
      const e = this._bounds;
      e.clear();
      for (let t = 0; t < this.instructions.length; t++) {
        const s = this.instructions[t],
          n = s.action;
        if (n === "fill") {
          const i = s.data;
          e.addBounds(i.path.bounds);
        } else if (n === "texture") {
          const i = s.data;
          e.addFrame(i.dx, i.dy, i.dx + i.dw, i.dy + i.dh, i.transform);
        }
        if (n === "stroke") {
          const i = s.data,
            l = i.style.alignment,
            c = i.style.width * (1 - l),
            d = i.path.bounds;
          e.addFrame(d.minX - c, d.minY - c, d.maxX + c, d.maxY + c);
        }
      }
      return e;
    }
    containsPoint(e) {
      if (!this.bounds.containsPoint(e.x, e.y)) return !1;
      const t = this.instructions;
      let s = !1;
      for (let n = 0; n < t.length; n++) {
        const i = t[n],
          l = i.data,
          c = l.path;
        if (!i.action || !c) continue;
        const d = l.style,
          f = c.shapePath.shapePrimitives;
        for (let m = 0; m < f.length; m++) {
          const h = f[m].shape;
          if (!d || !h) continue;
          const g = f[m].transform,
            x = g ? g.applyInverse(e, QM) : e;
          if (i.action === "fill") s = h.contains(x.x, x.y);
          else {
            const w = d;
            s = h.strokeContains(x.x, x.y, w.width, w.alignment);
          }
          const v = l.hole;
          if (v) {
            const w = v.shapePath?.shapePrimitives;
            if (w)
              for (let _ = 0; _ < w.length; _++)
                w[_].shape.contains(x.x, x.y) && (s = !1);
          }
          if (s) return !0;
        }
      }
      return s;
    }
    destroy(e = !1) {
      if (
        ((this._stateStack.length = 0),
        (this._transform = null),
        this.emit("destroy", this),
        this.removeAllListeners(),
        typeof e == "boolean" ? e : e?.texture)
      ) {
        const s = typeof e == "boolean" ? e : e?.textureSource;
        this._fillStyle.texture &&
          (this._fillStyle.fill && "uid" in this._fillStyle.fill
            ? this._fillStyle.fill.destroy()
            : this._fillStyle.texture.destroy(s)),
          this._strokeStyle.texture &&
            (this._strokeStyle.fill && "uid" in this._strokeStyle.fill
              ? this._strokeStyle.fill.destroy()
              : this._strokeStyle.texture.destroy(s));
      }
      (this._fillStyle = null),
        (this._strokeStyle = null),
        (this.instructions = null),
        (this._activePath = null),
        (this._bounds = null),
        (this._stateStack = null),
        (this.customShader = null),
        (this._transform = null);
    }
  };
Sg.defaultFillStyle = {
  color: 16777215,
  alpha: 1,
  texture: Se.WHITE,
  matrix: null,
  fill: null,
  textureSpace: "local",
};
Sg.defaultStrokeStyle = {
  width: 1,
  color: 16777215,
  alpha: 1,
  alignment: 0.5,
  miterLimit: 10,
  cap: "butt",
  join: "miter",
  texture: Se.WHITE,
  matrix: null,
  fill: null,
  textureSpace: "local",
  pixelLine: !1,
};
let ss = Sg;
const J_ = [
  "align",
  "breakWords",
  "cssOverrides",
  "fontVariant",
  "fontWeight",
  "leading",
  "letterSpacing",
  "lineHeight",
  "padding",
  "textBaseline",
  "trim",
  "whiteSpace",
  "wordWrap",
  "wordWrapWidth",
  "fontFamily",
  "fontStyle",
  "fontSize",
];
function ZM(r) {
  const e = [];
  let t = 0;
  for (let s = 0; s < J_.length; s++) {
    const n = `_${J_[s]}`;
    e[t++] = r[n];
  }
  return (
    (t = Xw(r._fill, e, t)),
    (t = eN(r._stroke, e, t)),
    (t = tN(r.dropShadow, e, t)),
    (t = JM(r.filters, e, t)),
    e.join("-")
  );
}
function JM(r, e, t) {
  if (!r) return t;
  for (const s of r) e[t++] = s.uid;
  return t;
}
function Xw(r, e, t) {
  return (
    r && ((e[t++] = r.color), (e[t++] = r.alpha), (e[t++] = r.fill?.styleKey)),
    t
  );
}
function eN(r, e, t) {
  return (
    r &&
      ((t = Xw(r, e, t)),
      (e[t++] = r.width),
      (e[t++] = r.alignment),
      (e[t++] = r.cap),
      (e[t++] = r.join),
      (e[t++] = r.miterLimit)),
    t
  );
}
function tN(r, e, t) {
  return (
    r &&
      ((e[t++] = r.alpha),
      (e[t++] = r.angle),
      (e[t++] = r.blur),
      (e[t++] = r.distance),
      (e[t++] = Ct.shared.setValue(r.color).toNumber())),
    t
  );
}
const Cg = class ha extends nr {
  constructor(e = {}) {
    super(), rN(e);
    const t = { ...ha.defaultTextStyle, ...e };
    for (const s in t) {
      const n = s;
      this[n] = t[s];
    }
    this.update();
  }
  get align() {
    return this._align;
  }
  set align(e) {
    (this._align = e), this.update();
  }
  get breakWords() {
    return this._breakWords;
  }
  set breakWords(e) {
    (this._breakWords = e), this.update();
  }
  get dropShadow() {
    return this._dropShadow;
  }
  set dropShadow(e) {
    e !== null && typeof e == "object"
      ? (this._dropShadow = this._createProxy({
          ...ha.defaultDropShadow,
          ...e,
        }))
      : (this._dropShadow = e
          ? this._createProxy({ ...ha.defaultDropShadow })
          : null),
      this.update();
  }
  get fontFamily() {
    return this._fontFamily;
  }
  set fontFamily(e) {
    (this._fontFamily = e), this.update();
  }
  get fontSize() {
    return this._fontSize;
  }
  set fontSize(e) {
    typeof e == "string"
      ? (this._fontSize = parseInt(e, 10))
      : (this._fontSize = e),
      this.update();
  }
  get fontStyle() {
    return this._fontStyle;
  }
  set fontStyle(e) {
    (this._fontStyle = e.toLowerCase()), this.update();
  }
  get fontVariant() {
    return this._fontVariant;
  }
  set fontVariant(e) {
    (this._fontVariant = e), this.update();
  }
  get fontWeight() {
    return this._fontWeight;
  }
  set fontWeight(e) {
    (this._fontWeight = e), this.update();
  }
  get leading() {
    return this._leading;
  }
  set leading(e) {
    (this._leading = e), this.update();
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(e) {
    (this._letterSpacing = e), this.update();
  }
  get lineHeight() {
    return this._lineHeight;
  }
  set lineHeight(e) {
    (this._lineHeight = e), this.update();
  }
  get padding() {
    return this._padding;
  }
  set padding(e) {
    (this._padding = e), this.update();
  }
  get filters() {
    return this._filters;
  }
  set filters(e) {
    (this._filters = e), this.update();
  }
  get trim() {
    return this._trim;
  }
  set trim(e) {
    (this._trim = e), this.update();
  }
  get textBaseline() {
    return this._textBaseline;
  }
  set textBaseline(e) {
    (this._textBaseline = e), this.update();
  }
  get whiteSpace() {
    return this._whiteSpace;
  }
  set whiteSpace(e) {
    (this._whiteSpace = e), this.update();
  }
  get wordWrap() {
    return this._wordWrap;
  }
  set wordWrap(e) {
    (this._wordWrap = e), this.update();
  }
  get wordWrapWidth() {
    return this._wordWrapWidth;
  }
  set wordWrapWidth(e) {
    (this._wordWrapWidth = e), this.update();
  }
  get fill() {
    return this._originalFill;
  }
  set fill(e) {
    e !== this._originalFill &&
      ((this._originalFill = e),
      this._isFillStyle(e) &&
        (this._originalFill = this._createProxy(
          { ...ss.defaultFillStyle, ...e },
          () => {
            this._fill = Ei({ ...this._originalFill }, ss.defaultFillStyle);
          }
        )),
      (this._fill = Ei(e === 0 ? "black" : e, ss.defaultFillStyle)),
      this.update());
  }
  get stroke() {
    return this._originalStroke;
  }
  set stroke(e) {
    e !== this._originalStroke &&
      ((this._originalStroke = e),
      this._isFillStyle(e) &&
        (this._originalStroke = this._createProxy(
          { ...ss.defaultStrokeStyle, ...e },
          () => {
            this._stroke = _u(
              { ...this._originalStroke },
              ss.defaultStrokeStyle
            );
          }
        )),
      (this._stroke = _u(e, ss.defaultStrokeStyle)),
      this.update());
  }
  _generateKey() {
    return (this._styleKey = ZM(this)), this._styleKey;
  }
  update() {
    (this._styleKey = null), this.emit("update", this);
  }
  reset() {
    const e = ha.defaultTextStyle;
    for (const t in e) this[t] = e[t];
  }
  get styleKey() {
    return this._styleKey || this._generateKey();
  }
  clone() {
    return new ha({
      align: this.align,
      breakWords: this.breakWords,
      dropShadow: this._dropShadow ? { ...this._dropShadow } : null,
      fill: this._fill,
      fontFamily: this.fontFamily,
      fontSize: this.fontSize,
      fontStyle: this.fontStyle,
      fontVariant: this.fontVariant,
      fontWeight: this.fontWeight,
      leading: this.leading,
      letterSpacing: this.letterSpacing,
      lineHeight: this.lineHeight,
      padding: this.padding,
      stroke: this._stroke,
      textBaseline: this.textBaseline,
      whiteSpace: this.whiteSpace,
      wordWrap: this.wordWrap,
      wordWrapWidth: this.wordWrapWidth,
      filters: this._filters ? [...this._filters] : void 0,
    });
  }
  _getFinalPadding() {
    let e = 0;
    if (this._filters)
      for (let t = 0; t < this._filters.length; t++)
        e += this._filters[t].padding;
    return Math.max(this._padding, e);
  }
  destroy(e = !1) {
    if ((this.removeAllListeners(), typeof e == "boolean" ? e : e?.texture)) {
      const s = typeof e == "boolean" ? e : e?.textureSource;
      this._fill?.texture && this._fill.texture.destroy(s),
        this._originalFill?.texture && this._originalFill.texture.destroy(s),
        this._stroke?.texture && this._stroke.texture.destroy(s),
        this._originalStroke?.texture &&
          this._originalStroke.texture.destroy(s);
    }
    (this._fill = null),
      (this._stroke = null),
      (this.dropShadow = null),
      (this._originalStroke = null),
      (this._originalFill = null);
  }
  _createProxy(e, t) {
    return new Proxy(e, {
      set: (s, n, i) => ((s[n] = i), t?.(n, i), this.update(), !0),
    });
  }
  _isFillStyle(e) {
    return (
      (e ?? null) !== null &&
      !(Ct.isColorLike(e) || e instanceof hn || e instanceof Gu)
    );
  }
};
Cg.defaultDropShadow = {
  alpha: 1,
  angle: Math.PI / 6,
  blur: 0,
  color: "black",
  distance: 5,
};
Cg.defaultTextStyle = {
  align: "left",
  breakWords: !1,
  dropShadow: null,
  fill: "black",
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  leading: 0,
  letterSpacing: 0,
  lineHeight: 0,
  padding: 0,
  stroke: null,
  textBaseline: "alphabetic",
  trim: !1,
  whiteSpace: "pre",
  wordWrap: !1,
  wordWrapWidth: 100,
};
let Yn = Cg;
function rN(r) {
  const e = r;
  if (typeof e.dropShadow == "boolean" && e.dropShadow) {
    const t = Yn.defaultDropShadow;
    r.dropShadow = {
      alpha: e.dropShadowAlpha ?? t.alpha,
      angle: e.dropShadowAngle ?? t.angle,
      blur: e.dropShadowBlur ?? t.blur,
      color: e.dropShadowColor ?? t.color,
      distance: e.dropShadowDistance ?? t.distance,
    };
  }
  if (e.strokeThickness !== void 0) {
    De(st, "strokeThickness is now a part of stroke");
    const t = e.stroke;
    let s = {};
    if (Ct.isColorLike(t)) s.color = t;
    else if (t instanceof hn || t instanceof Gu) s.fill = t;
    else if (
      Object.hasOwnProperty.call(t, "color") ||
      Object.hasOwnProperty.call(t, "fill")
    )
      s = t;
    else throw new Error("Invalid stroke value.");
    r.stroke = { ...s, width: e.strokeThickness };
  }
  if (Array.isArray(e.fillGradientStops)) {
    if (
      (De(st, "gradient fill is now a fill pattern: `new FillGradient(...)`"),
      !Array.isArray(e.fill) || e.fill.length === 0)
    )
      throw new Error(
        "Invalid fill value. Expected an array of colors for gradient fill."
      );
    e.fill.length !== e.fillGradientStops.length &&
      Re(
        "The number of fill colors must match the number of fill gradient stops."
      );
    const t = new hn({
        start: { x: 0, y: 0 },
        end: { x: 0, y: 1 },
        textureSpace: "local",
      }),
      s = e.fillGradientStops.slice(),
      n = e.fill.map((i) => Ct.shared.setValue(i).toNumber());
    s.forEach((i, l) => {
      t.addColorStop(i, n[l]);
    }),
      (r.fill = { fill: t });
  }
}
class sN {
  constructor(e) {
    (this._canvasPool = Object.create(null)),
      (this.canvasOptions = e || {}),
      (this.enableFullScreen = !1);
  }
  _createCanvasAndContext(e, t) {
    const s = Ke.get().createCanvas();
    (s.width = e), (s.height = t);
    const n = s.getContext("2d");
    return { canvas: s, context: n };
  }
  getOptimalCanvasAndContext(e, t, s = 1) {
    (e = Math.ceil(e * s - 1e-6)),
      (t = Math.ceil(t * s - 1e-6)),
      (e = _a(e)),
      (t = _a(t));
    const n = (e << 17) + (t << 1);
    this._canvasPool[n] || (this._canvasPool[n] = []);
    let i = this._canvasPool[n].pop();
    return i || (i = this._createCanvasAndContext(e, t)), i;
  }
  returnCanvasAndContext(e) {
    const t = e.canvas,
      { width: s, height: n } = t,
      i = (s << 17) + (n << 1);
    e.context.resetTransform(),
      e.context.clearRect(0, 0, s, n),
      this._canvasPool[i].push(e);
  }
  clear() {
    this._canvasPool = {};
  }
}
const Kn = new sN(),
  eb = 1e5;
function bu(r, e, t, s = 0) {
  if (r.texture === Se.WHITE && !r.fill)
    return Ct.shared
      .setValue(r.color)
      .setAlpha(r.alpha ?? 1)
      .toHexa();
  if (r.fill) {
    if (r.fill instanceof Gu) {
      const n = r.fill,
        i = e.createPattern(n.texture.source.resource, "repeat"),
        l = n.transform.copyTo(ke.shared);
      return (
        l.scale(n.texture.frame.width, n.texture.frame.height),
        i.setTransform(l),
        i
      );
    } else if (r.fill instanceof hn) {
      const n = r.fill,
        i = n.type === "linear",
        l = n.textureSpace === "local";
      let c = 1,
        d = 1;
      l && t && ((c = t.width + s), (d = t.height + s));
      let f,
        m = !1;
      if (i) {
        const { start: h, end: g } = n;
        (f = e.createLinearGradient(h.x * c, h.y * d, g.x * c, g.y * d)),
          (m = Math.abs(g.x - h.x) < Math.abs((g.y - h.y) * 0.1));
      } else {
        const { center: h, innerRadius: g, outerCenter: x, outerRadius: v } = n;
        f = e.createRadialGradient(
          h.x * c,
          h.y * d,
          g * c,
          x.x * c,
          x.y * d,
          v * c
        );
      }
      if (m && l && t) {
        const h = t.lineHeight / d;
        for (let g = 0; g < t.lines.length; g++) {
          const x = (g * t.lineHeight + s / 2) / d;
          n.colorStops.forEach((v) => {
            const w = x + v.offset * h;
            f.addColorStop(
              Math.floor(w * eb) / eb,
              Ct.shared.setValue(v.color).toHex()
            );
          });
        }
      } else
        n.colorStops.forEach((h) => {
          f.addColorStop(h.offset, Ct.shared.setValue(h.color).toHex());
        });
      return f;
    }
  } else {
    const n = e.createPattern(r.texture.source.resource, "repeat"),
      i = r.matrix.copyTo(ke.shared);
    return (
      i.scale(r.texture.frame.width, r.texture.frame.height),
      n.setTransform(i),
      n
    );
  }
  return Re("FillStyle not recognised", r), "red";
}
const Yw = class Kw extends Aw {
  constructor(e) {
    super(),
      (this.resolution = 1),
      (this.pages = []),
      (this._padding = 0),
      (this._measureCache = Object.create(null)),
      (this._currentChars = []),
      (this._currentX = 0),
      (this._currentY = 0),
      (this._currentMaxCharHeight = 0),
      (this._currentPageIndex = -1),
      (this._skipKerning = !1);
    const t = { ...Kw.defaultOptions, ...e };
    (this._textureSize = t.textureSize), (this._mipmap = t.mipmap);
    const s = t.style.clone();
    t.overrideFill &&
      ((s._fill.color = 16777215),
      (s._fill.alpha = 1),
      (s._fill.texture = Se.WHITE),
      (s._fill.fill = null)),
      (this.applyFillAsTint = t.overrideFill);
    const n = s.fontSize;
    s.fontSize = this.baseMeasurementFontSize;
    const i = vu(s);
    t.overrideSize
      ? s._stroke && (s._stroke.width *= this.baseRenderedFontSize / n)
      : (s.fontSize = this.baseRenderedFontSize = n),
      (this._style = s),
      (this._skipKerning = t.skipKerning ?? !1),
      (this.resolution = t.resolution ?? 1),
      (this._padding = t.padding ?? 4),
      t.textureStyle &&
        (this._textureStyle =
          t.textureStyle instanceof $s
            ? t.textureStyle
            : new $s(t.textureStyle)),
      (this.fontMetrics = Es.measureFont(i)),
      (this.lineHeight =
        s.lineHeight || this.fontMetrics.fontSize || s.fontSize);
  }
  ensureCharacters(e) {
    const t = Es.graphemeSegmenter(e)
      .filter((_) => !this._currentChars.includes(_))
      .filter((_, S, T) => T.indexOf(_) === S);
    if (!t.length) return;
    this._currentChars = [...this._currentChars, ...t];
    let s;
    this._currentPageIndex === -1
      ? (s = this._nextPage())
      : (s = this.pages[this._currentPageIndex]);
    let { canvas: n, context: i } = s.canvasAndContext,
      l = s.texture.source;
    const c = this._style;
    let d = this._currentX,
      f = this._currentY,
      m = this._currentMaxCharHeight;
    const h = this.baseRenderedFontSize / this.baseMeasurementFontSize,
      g = this._padding * h;
    let x = !1;
    const v = n.width / this.resolution,
      w = n.height / this.resolution;
    for (let _ = 0; _ < t.length; _++) {
      const S = t[_],
        T = Es.measureText(S, c, n, !1);
      T.lineHeight = T.height;
      const j = T.width * h,
        E = Math.ceil((c.fontStyle === "italic" ? 2 : 1) * j),
        A = T.height * h,
        M = E + g * 2,
        N = A + g * 2;
      if (
        ((x = !1),
        S !==
          `
` &&
          S !== "\r" &&
          S !== "	" &&
          S !== " " &&
          ((x = !0), (m = Math.ceil(Math.max(N, m)))),
        d + M > v && ((f += m), (m = N), (d = 0), f + m > w))
      ) {
        l.update();
        const O = this._nextPage();
        (n = O.canvasAndContext.canvas),
          (i = O.canvasAndContext.context),
          (l = O.texture.source),
          (d = 0),
          (f = 0),
          (m = 0);
      }
      const R = j / h - (c.dropShadow?.distance ?? 0) - (c._stroke?.width ?? 0);
      if (
        ((this.chars[S] = {
          id: S.codePointAt(0),
          xOffset: -this._padding,
          yOffset: -this._padding,
          xAdvance: R,
          kerning: {},
        }),
        x)
      ) {
        this._drawGlyph(i, T, d + g, f + g, h, c);
        const O = l.width * h,
          U = l.height * h,
          q = new ct(
            (d / O) * l.width,
            (f / U) * l.height,
            (M / O) * l.width,
            (N / U) * l.height
          );
        (this.chars[S].texture = new Se({ source: l, frame: q })),
          (d += Math.ceil(M));
      }
    }
    l.update(),
      (this._currentX = d),
      (this._currentY = f),
      (this._currentMaxCharHeight = m),
      this._skipKerning && this._applyKerning(t, i);
  }
  get pageTextures() {
    return (
      De(
        st,
        "BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."
      ),
      this.pages
    );
  }
  _applyKerning(e, t) {
    const s = this._measureCache;
    for (let n = 0; n < e.length; n++) {
      const i = e[n];
      for (let l = 0; l < this._currentChars.length; l++) {
        const c = this._currentChars[l];
        let d = s[i];
        d || (d = s[i] = t.measureText(i).width);
        let f = s[c];
        f || (f = s[c] = t.measureText(c).width);
        let m = t.measureText(i + c).width,
          h = m - (d + f);
        h && (this.chars[i].kerning[c] = h),
          (m = t.measureText(i + c).width),
          (h = m - (d + f)),
          h && (this.chars[c].kerning[i] = h);
      }
    }
  }
  _nextPage() {
    this._currentPageIndex++;
    const e = this.resolution,
      t = Kn.getOptimalCanvasAndContext(
        this._textureSize,
        this._textureSize,
        e
      );
    this._setupContext(t.context, this._style, e);
    const s = e * (this.baseRenderedFontSize / this.baseMeasurementFontSize),
      n = new Se({
        source: new Mi({
          resource: t.canvas,
          resolution: s,
          alphaMode: "premultiply-alpha-on-upload",
          autoGenerateMipmaps: this._mipmap,
        }),
      });
    this._textureStyle && (n.source.style = this._textureStyle);
    const i = { canvasAndContext: t, texture: n };
    return (this.pages[this._currentPageIndex] = i), i;
  }
  _setupContext(e, t, s) {
    (t.fontSize = this.baseRenderedFontSize),
      e.scale(s, s),
      (e.font = vu(t)),
      (t.fontSize = this.baseMeasurementFontSize),
      (e.textBaseline = t.textBaseline);
    const n = t._stroke,
      i = n?.width ?? 0;
    if (
      (n &&
        ((e.lineWidth = i),
        (e.lineJoin = n.join),
        (e.miterLimit = n.miterLimit),
        (e.strokeStyle = bu(n, e))),
      t._fill && (e.fillStyle = bu(t._fill, e)),
      t.dropShadow)
    ) {
      const l = t.dropShadow,
        c = Ct.shared.setValue(l.color).toArray(),
        d = l.blur * s,
        f = l.distance * s;
      (e.shadowColor = `rgba(${c[0] * 255},${c[1] * 255},${c[2] * 255},${
        l.alpha
      })`),
        (e.shadowBlur = d),
        (e.shadowOffsetX = Math.cos(l.angle) * f),
        (e.shadowOffsetY = Math.sin(l.angle) * f);
    } else
      (e.shadowColor = "black"),
        (e.shadowBlur = 0),
        (e.shadowOffsetX = 0),
        (e.shadowOffsetY = 0);
  }
  _drawGlyph(e, t, s, n, i, l) {
    const c = t.text,
      d = t.fontProperties,
      m = (l._stroke?.width ?? 0) * i,
      h = s + m / 2,
      g = n - m / 2,
      x = d.descent * i,
      v = t.lineHeight * i;
    let w = !1;
    l.stroke && m && ((w = !0), e.strokeText(c, h, g + v - x));
    const { shadowBlur: _, shadowOffsetX: S, shadowOffsetY: T } = e;
    l._fill &&
      (w && ((e.shadowBlur = 0), (e.shadowOffsetX = 0), (e.shadowOffsetY = 0)),
      e.fillText(c, h, g + v - x)),
      w && ((e.shadowBlur = _), (e.shadowOffsetX = S), (e.shadowOffsetY = T));
  }
  destroy() {
    super.destroy();
    for (let e = 0; e < this.pages.length; e++) {
      const { canvasAndContext: t, texture: s } = this.pages[e];
      Kn.returnCanvasAndContext(t), s.destroy(!0);
    }
    this.pages = null;
  }
};
Yw.defaultOptions = { textureSize: 512, style: new Yn(), mipmap: !0 };
let tb = Yw;
function Qw(r, e, t, s) {
  const n = {
    width: 0,
    height: 0,
    offsetY: 0,
    scale: e.fontSize / t.baseMeasurementFontSize,
    lines: [
      {
        width: 0,
        charPositions: [],
        spaceWidth: 0,
        spacesIndex: [],
        chars: [],
      },
    ],
  };
  n.offsetY = t.baseLineOffset;
  let i = n.lines[0],
    l = null,
    c = !0;
  const d = { width: 0, start: 0, index: 0, positions: [], chars: [] },
    f = t.baseMeasurementFontSize / e.fontSize,
    m = e.letterSpacing * f,
    h = e.wordWrapWidth * f,
    g = e.lineHeight ? e.lineHeight * f : t.lineHeight,
    x = e.wordWrap && e.breakWords,
    v = (S) => {
      const T = i.width;
      for (let j = 0; j < d.index; j++) {
        const E = S.positions[j];
        i.chars.push(S.chars[j]), i.charPositions.push(E + T);
      }
      (i.width += S.width),
        (c = !1),
        (d.width = 0),
        (d.index = 0),
        (d.chars.length = 0);
    },
    w = () => {
      let S = i.chars.length - 1;
      if (s) {
        let T = i.chars[S];
        for (; T === " "; )
          (i.width -= t.chars[T].xAdvance), (T = i.chars[--S]);
      }
      (n.width = Math.max(n.width, i.width)),
        (i = {
          width: 0,
          charPositions: [],
          chars: [],
          spaceWidth: 0,
          spacesIndex: [],
        }),
        (c = !0),
        n.lines.push(i),
        (n.height += g);
    },
    _ = (S) => S - m > h;
  for (let S = 0; S < r.length + 1; S++) {
    let T;
    const j = S === r.length;
    j || (T = r[S]);
    const E = t.chars[T] || t.chars[" "];
    if (
      /(?:\s)/.test(T) ||
      T === "\r" ||
      T ===
        `
` ||
      j
    ) {
      if (
        (!c && e.wordWrap && _(i.width + d.width)
          ? (w(), v(d), j || i.charPositions.push(0))
          : ((d.start = i.width), v(d), j || i.charPositions.push(0)),
        T === "\r" ||
          T ===
            `
`)
      )
        i.width !== 0 && w();
      else if (!j) {
        const R = E.xAdvance + (E.kerning[l] || 0) + m;
        (i.width += R),
          (i.spaceWidth = R),
          i.spacesIndex.push(i.charPositions.length),
          i.chars.push(T);
      }
    } else {
      const N = E.kerning[l] || 0,
        R = E.xAdvance + N + m;
      x && _(i.width + d.width + R) && (v(d), w()),
        (d.positions[d.index++] = d.width + N),
        d.chars.push(T),
        (d.width += R);
    }
    l = T;
  }
  return (
    w(),
    e.align === "center"
      ? nN(n)
      : e.align === "right"
      ? iN(n)
      : e.align === "justify" && aN(n),
    n
  );
}
function nN(r) {
  for (let e = 0; e < r.lines.length; e++) {
    const t = r.lines[e],
      s = r.width / 2 - t.width / 2;
    for (let n = 0; n < t.charPositions.length; n++) t.charPositions[n] += s;
  }
}
function iN(r) {
  for (let e = 0; e < r.lines.length; e++) {
    const t = r.lines[e],
      s = r.width - t.width;
    for (let n = 0; n < t.charPositions.length; n++) t.charPositions[n] += s;
  }
}
function aN(r) {
  const e = r.width;
  for (let t = 0; t < r.lines.length; t++) {
    const s = r.lines[t];
    let n = 0,
      i = s.spacesIndex[n++],
      l = 0;
    const c = s.spacesIndex.length,
      f = (e - s.width) / c;
    for (let m = 0; m < s.charPositions.length; m++)
      m === i && ((i = s.spacesIndex[n++]), (l += f)),
        (s.charPositions[m] += l);
  }
}
function oN(r) {
  if (r === "") return [];
  typeof r == "string" && (r = [r]);
  const e = [];
  for (let t = 0, s = r.length; t < s; t++) {
    const n = r[t];
    if (Array.isArray(n)) {
      if (n.length !== 2)
        throw new Error(
          `[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`
        );
      if (n[0].length === 0 || n[1].length === 0)
        throw new Error("[BitmapFont]: Invalid character delimiter.");
      const i = n[0].charCodeAt(0),
        l = n[1].charCodeAt(0);
      if (l < i) throw new Error("[BitmapFont]: Invalid character range.");
      for (let c = i, d = l; c <= d; c++) e.push(String.fromCharCode(c));
    } else e.push(...Array.from(n));
  }
  if (e.length === 0)
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  return e;
}
let Vc = 0;
class lN {
  constructor() {
    (this.ALPHA = [["a", "z"], ["A", "Z"], " "]),
      (this.NUMERIC = [["0", "9"]]),
      (this.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "]),
      (this.ASCII = [[" ", "~"]]),
      (this.defaultOptions = {
        chars: this.ALPHANUMERIC,
        resolution: 1,
        padding: 4,
        skipKerning: !1,
        textureStyle: null,
      });
  }
  getFont(e, t) {
    let s = `${t.fontFamily}-bitmap`,
      n = !0;
    if (t._fill.fill && !t._stroke) (s += t._fill.fill.styleKey), (n = !1);
    else if (t._stroke || t.dropShadow) {
      let l = t.styleKey;
      (l = l.substring(0, l.lastIndexOf("-"))), (s = `${l}-bitmap`), (n = !1);
    }
    if (!mt.has(s)) {
      const l = Object.create(t);
      l.lineHeight = 0;
      const c = new tb({
        style: l,
        overrideFill: n,
        overrideSize: !0,
        ...this.defaultOptions,
      });
      Vc++,
        Vc > 50 &&
          Re(
            "BitmapText",
            `You have dynamically created ${Vc} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``
          ),
        c.once("destroy", () => {
          Vc--, mt.remove(s);
        }),
        mt.set(s, c);
    }
    const i = mt.get(s);
    return i.ensureCharacters?.(e), i;
  }
  getLayout(e, t, s = !0) {
    const n = this.getFont(e, t),
      i = Es.graphemeSegmenter(e);
    return Qw(i, t, n, s);
  }
  measureText(e, t, s = !0) {
    return this.getLayout(e, t, s);
  }
  install(...e) {
    let t = e[0];
    typeof t == "string" &&
      ((t = {
        name: t,
        style: e[1],
        chars: e[2]?.chars,
        resolution: e[2]?.resolution,
        padding: e[2]?.padding,
        skipKerning: e[2]?.skipKerning,
      }),
      De(
        st,
        "BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"
      ));
    const s = t?.name;
    if (!s) throw new Error("[BitmapFontManager] Property `name` is required.");
    t = { ...this.defaultOptions, ...t };
    const n = t.style,
      i = n instanceof Yn ? n : new Yn(n),
      l = t.dynamicFill ?? this._canUseTintForStyle(i),
      c = new tb({
        style: i,
        overrideFill: l,
        skipKerning: t.skipKerning,
        padding: t.padding,
        resolution: t.resolution,
        overrideSize: !1,
        textureStyle: t.textureStyle,
      }),
      d = oN(t.chars);
    return (
      c.ensureCharacters(d.join("")),
      mt.set(`${s}-bitmap`, c),
      c.once("destroy", () => mt.remove(`${s}-bitmap`)),
      c
    );
  }
  uninstall(e) {
    const t = `${e}-bitmap`,
      s = mt.get(t);
    s && s.destroy();
  }
  _canUseTintForStyle(e) {
    return (
      !e._stroke &&
      (!e.dropShadow || e.dropShadow.color === 0) &&
      !e._fill.fill &&
      e._fill.color === 16777215
    );
  }
}
const wu = new lN();
class Zw extends Aw {
  constructor(e, t) {
    super();
    const { textures: s, data: n } = e;
    Object.keys(n.pages).forEach((i) => {
      const l = n.pages[parseInt(i, 10)],
        c = s[l.id];
      this.pages.push({ texture: c });
    }),
      Object.keys(n.chars).forEach((i) => {
        const l = n.chars[i],
          { frame: c, source: d, rotate: f } = s[l.page],
          m = pt.transformRectCoords(l, c, f, new ct()),
          h = new Se({
            frame: m,
            orig: new ct(0, 0, l.width, l.height),
            source: d,
            rotate: f,
          });
        this.chars[i] = {
          id: i.codePointAt(0),
          xOffset: l.xOffset,
          yOffset: l.yOffset,
          xAdvance: l.xAdvance,
          kerning: l.kerning ?? {},
          texture: h,
        };
      }),
      (this.baseRenderedFontSize = n.fontSize),
      (this.baseMeasurementFontSize = n.fontSize),
      (this.fontMetrics = { ascent: 0, descent: 0, fontSize: n.fontSize }),
      (this.baseLineOffset = n.baseLineOffset),
      (this.lineHeight = n.lineHeight),
      (this.fontFamily = n.fontFamily),
      (this.distanceField = n.distanceField ?? { type: "none", range: 0 }),
      (this.url = t);
  }
  destroy() {
    super.destroy();
    for (let e = 0; e < this.pages.length; e++) {
      const { texture: t } = this.pages[e];
      t.destroy(!0);
    }
    this.pages = null;
  }
  static install(e) {
    wu.install(e);
  }
  static uninstall(e) {
    wu.uninstall(e);
  }
}
const pp = {
    test(r) {
      return typeof r == "string" && r.startsWith("info face=");
    },
    parse(r) {
      const e = r.match(/^[a-z]+\s+.+$/gm),
        t = {
          info: [],
          common: [],
          page: [],
          char: [],
          chars: [],
          kerning: [],
          kernings: [],
          distanceField: [],
        };
      for (const h in e) {
        const g = e[h].match(/^[a-z]+/gm)[0],
          x = e[h].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),
          v = {};
        for (const w in x) {
          const _ = x[w].split("="),
            S = _[0],
            T = _[1].replace(/"/gm, ""),
            j = parseFloat(T),
            E = isNaN(j) ? T : j;
          v[S] = E;
        }
        t[g].push(v);
      }
      const s = {
          chars: {},
          pages: [],
          lineHeight: 0,
          fontSize: 0,
          fontFamily: "",
          distanceField: null,
          baseLineOffset: 0,
        },
        [n] = t.info,
        [i] = t.common,
        [l] = t.distanceField ?? [];
      l &&
        (s.distanceField = {
          range: parseInt(l.distanceRange, 10),
          type: l.fieldType,
        }),
        (s.fontSize = parseInt(n.size, 10)),
        (s.fontFamily = n.face),
        (s.lineHeight = parseInt(i.lineHeight, 10));
      const c = t.page;
      for (let h = 0; h < c.length; h++)
        s.pages.push({ id: parseInt(c[h].id, 10) || 0, file: c[h].file });
      const d = {};
      s.baseLineOffset = s.lineHeight - parseInt(i.base, 10);
      const f = t.char;
      for (let h = 0; h < f.length; h++) {
        const g = f[h],
          x = parseInt(g.id, 10);
        let v = g.letter ?? g.char ?? String.fromCharCode(x);
        v === "space" && (v = " "),
          (d[x] = v),
          (s.chars[v] = {
            id: x,
            page: parseInt(g.page, 10) || 0,
            x: parseInt(g.x, 10),
            y: parseInt(g.y, 10),
            width: parseInt(g.width, 10),
            height: parseInt(g.height, 10),
            xOffset: parseInt(g.xoffset, 10),
            yOffset: parseInt(g.yoffset, 10),
            xAdvance: parseInt(g.xadvance, 10),
            kerning: {},
          });
      }
      const m = t.kerning || [];
      for (let h = 0; h < m.length; h++) {
        const g = parseInt(m[h].first, 10),
          x = parseInt(m[h].second, 10),
          v = parseInt(m[h].amount, 10);
        s.chars[d[x]].kerning[d[g]] = v;
      }
      return s;
    },
  },
  rb = {
    test(r) {
      const e = r;
      return (
        typeof e != "string" &&
        "getElementsByTagName" in e &&
        e.getElementsByTagName("page").length &&
        e.getElementsByTagName("info")[0].getAttribute("face") !== null
      );
    },
    parse(r) {
      const e = {
          chars: {},
          pages: [],
          lineHeight: 0,
          fontSize: 0,
          fontFamily: "",
          distanceField: null,
          baseLineOffset: 0,
        },
        t = r.getElementsByTagName("info")[0],
        s = r.getElementsByTagName("common")[0],
        n = r.getElementsByTagName("distanceField")[0];
      n &&
        (e.distanceField = {
          type: n.getAttribute("fieldType"),
          range: parseInt(n.getAttribute("distanceRange"), 10),
        });
      const i = r.getElementsByTagName("page"),
        l = r.getElementsByTagName("char"),
        c = r.getElementsByTagName("kerning");
      (e.fontSize = parseInt(t.getAttribute("size"), 10)),
        (e.fontFamily = t.getAttribute("face")),
        (e.lineHeight = parseInt(s.getAttribute("lineHeight"), 10));
      for (let f = 0; f < i.length; f++)
        e.pages.push({
          id: parseInt(i[f].getAttribute("id"), 10) || 0,
          file: i[f].getAttribute("file"),
        });
      const d = {};
      e.baseLineOffset = e.lineHeight - parseInt(s.getAttribute("base"), 10);
      for (let f = 0; f < l.length; f++) {
        const m = l[f],
          h = parseInt(m.getAttribute("id"), 10);
        let g =
          m.getAttribute("letter") ??
          m.getAttribute("char") ??
          String.fromCharCode(h);
        g === "space" && (g = " "),
          (d[h] = g),
          (e.chars[g] = {
            id: h,
            page: parseInt(m.getAttribute("page"), 10) || 0,
            x: parseInt(m.getAttribute("x"), 10),
            y: parseInt(m.getAttribute("y"), 10),
            width: parseInt(m.getAttribute("width"), 10),
            height: parseInt(m.getAttribute("height"), 10),
            xOffset: parseInt(m.getAttribute("xoffset"), 10),
            yOffset: parseInt(m.getAttribute("yoffset"), 10),
            xAdvance: parseInt(m.getAttribute("xadvance"), 10),
            kerning: {},
          });
      }
      for (let f = 0; f < c.length; f++) {
        const m = parseInt(c[f].getAttribute("first"), 10),
          h = parseInt(c[f].getAttribute("second"), 10),
          g = parseInt(c[f].getAttribute("amount"), 10);
        e.chars[d[h]].kerning[d[m]] = g;
      }
      return e;
    },
  },
  sb = {
    test(r) {
      return typeof r == "string" && r.includes("<font>")
        ? rb.test(Ke.get().parseXML(r))
        : !1;
    },
    parse(r) {
      return rb.parse(Ke.get().parseXML(r));
    },
  },
  cN = [".xml", ".fnt"],
  uN = {
    extension: { type: D.CacheParser, name: "cacheBitmapFont" },
    test: (r) => r instanceof Zw,
    getCacheableAssets(r, e) {
      const t = {};
      return (
        r.forEach((s) => {
          (t[s] = e), (t[`${s}-bitmap`] = e);
        }),
        (t[`${e.fontFamily}-bitmap`] = e),
        t
      );
    },
  },
  dN = {
    extension: { type: D.LoadParser, priority: pn.Normal },
    name: "loadBitmapFont",
    id: "bitmap-font",
    test(r) {
      return cN.includes(dr.extname(r).toLowerCase());
    },
    async testParse(r) {
      return pp.test(r) || sb.test(r);
    },
    async parse(r, e, t) {
      const s = pp.test(r) ? pp.parse(r) : sb.parse(r),
        { src: n } = e,
        { pages: i } = s,
        l = [],
        c = s.distanceField
          ? {
              scaleMode: "linear",
              alphaMode: "premultiply-alpha-on-upload",
              autoGenerateMipmaps: !1,
              resolution: 1,
            }
          : {};
      for (let h = 0; h < i.length; ++h) {
        const g = i[h].file;
        let x = dr.join(dr.dirname(n), g);
        (x = pm(x, n)), l.push({ src: x, data: c });
      }
      const d = await t.load(l),
        f = l.map((h) => d[h.src]);
      return new Zw({ data: s, textures: f }, n);
    },
    async load(r, e) {
      return await (await Ke.get().fetch(r)).text();
    },
    async unload(r, e, t) {
      await Promise.all(
        r.pages.map((s) => t.unload(s.texture.source._sourceOrigin))
      ),
        r.destroy();
    },
  };
class hN {
  constructor(e, t = !1) {
    (this._loader = e),
      (this._assetList = []),
      (this._isLoading = !1),
      (this._maxConcurrent = 1),
      (this.verbose = t);
  }
  add(e) {
    e.forEach((t) => {
      this._assetList.push(t);
    }),
      this.verbose &&
        console.log("[BackgroundLoader] assets: ", this._assetList),
      this._isActive && !this._isLoading && this._next();
  }
  async _next() {
    if (this._assetList.length && this._isActive) {
      this._isLoading = !0;
      const e = [],
        t = Math.min(this._assetList.length, this._maxConcurrent);
      for (let s = 0; s < t; s++) e.push(this._assetList.pop());
      await this._loader.load(e), (this._isLoading = !1), this._next();
    }
  }
  get active() {
    return this._isActive;
  }
  set active(e) {
    this._isActive !== e &&
      ((this._isActive = e), e && !this._isLoading && this._next());
  }
}
const fN = {
  extension: { type: D.CacheParser, name: "cacheTextureArray" },
  test: (r) => Array.isArray(r) && r.every((e) => e instanceof Se),
  getCacheableAssets: (r, e) => {
    const t = {};
    return (
      r.forEach((s) => {
        e.forEach((n, i) => {
          t[s + (i === 0 ? "" : i + 1)] = n;
        });
      }),
      t
    );
  },
};
async function Jw(r) {
  if ("Image" in globalThis)
    return new Promise((e) => {
      const t = new Image();
      (t.onload = () => {
        e(!0);
      }),
        (t.onerror = () => {
          e(!1);
        }),
        (t.src = r);
    });
  if ("createImageBitmap" in globalThis && "fetch" in globalThis) {
    try {
      const e = await (await fetch(r)).blob();
      await createImageBitmap(e);
    } catch {
      return !1;
    }
    return !0;
  }
  return !1;
}
const pN = {
    extension: { type: D.DetectionParser, priority: 1 },
    test: async () =>
      Jw(
        "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="
      ),
    add: async (r) => [...r, "avif"],
    remove: async (r) => r.filter((e) => e !== "avif"),
  },
  nb = ["png", "jpg", "jpeg"],
  mN = {
    extension: { type: D.DetectionParser, priority: -1 },
    test: () => Promise.resolve(!0),
    add: async (r) => [...r, ...nb],
    remove: async (r) => r.filter((e) => !nb.includes(e)),
  },
  gN =
    "WorkerGlobalScope" in globalThis &&
    globalThis instanceof globalThis.WorkerGlobalScope;
function Hu(r) {
  return gN ? !1 : document.createElement("video").canPlayType(r) !== "";
}
const xN = {
    extension: { type: D.DetectionParser, priority: 0 },
    test: async () => Hu("video/mp4"),
    add: async (r) => [...r, "mp4", "m4v"],
    remove: async (r) => r.filter((e) => e !== "mp4" && e !== "m4v"),
  },
  yN = {
    extension: { type: D.DetectionParser, priority: 0 },
    test: async () => Hu("video/ogg"),
    add: async (r) => [...r, "ogv"],
    remove: async (r) => r.filter((e) => e !== "ogv"),
  },
  vN = {
    extension: { type: D.DetectionParser, priority: 0 },
    test: async () => Hu("video/webm"),
    add: async (r) => [...r, "webm"],
    remove: async (r) => r.filter((e) => e !== "webm"),
  },
  _N = {
    extension: { type: D.DetectionParser, priority: 0 },
    test: async () =>
      Jw(
        "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="
      ),
    add: async (r) => [...r, "webp"],
    remove: async (r) => r.filter((e) => e !== "webp"),
  };
class bN {
  constructor() {
    (this._parsers = []),
      (this._parsersValidated = !1),
      (this.parsers = new Proxy(this._parsers, {
        set: (e, t, s) => ((this._parsersValidated = !1), (e[t] = s), !0),
      })),
      (this.promiseCache = {});
  }
  reset() {
    (this._parsersValidated = !1), (this.promiseCache = {});
  }
  _getLoadPromiseAndParser(e, t) {
    const s = { promise: null, parser: null };
    return (
      (s.promise = (async () => {
        let n = null,
          i = null;
        if (
          ((t.parser || t.loadParser) &&
            ((i = this._parserHash[t.parser || t.loadParser]),
            t.loadParser &&
              Re(
                `[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`
              ),
            i ||
              Re(
                `[Assets] specified load parser "${
                  t.parser || t.loadParser
                }" not found while loading ${e}`
              )),
          !i)
        ) {
          for (let l = 0; l < this.parsers.length; l++) {
            const c = this.parsers[l];
            if (c.load && c.test?.(e, t, this)) {
              i = c;
              break;
            }
          }
          if (!i)
            return (
              Re(
                `[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`
              ),
              null
            );
        }
        (n = await i.load(e, t, this)), (s.parser = i);
        for (let l = 0; l < this.parsers.length; l++) {
          const c = this.parsers[l];
          c.parse &&
            c.parse &&
            (await c.testParse?.(n, t, this)) &&
            ((n = (await c.parse(n, t, this)) || n), (s.parser = c));
        }
        return n;
      })()),
      s
    );
  }
  async load(e, t) {
    this._parsersValidated || this._validateParsers();
    let s = 0;
    const n = {},
      i = xu(e),
      l = Ts(e, (f) => ({ alias: [f], src: f, data: {} })),
      c = l.length,
      d = l.map(async (f) => {
        const m = dr.toAbsolute(f.src);
        if (!n[f.src])
          try {
            this.promiseCache[m] ||
              (this.promiseCache[m] = this._getLoadPromiseAndParser(m, f)),
              (n[f.src] = await this.promiseCache[m].promise),
              t && t(++s / c);
          } catch (h) {
            throw (
              (delete this.promiseCache[m],
              delete n[f.src],
              new Error(`[Loader.load] Failed to load ${m}.
${h}`))
            );
          }
      });
    return await Promise.all(d), i ? n[l[0].src] : n;
  }
  async unload(e) {
    const s = Ts(e, (n) => ({ alias: [n], src: n })).map(async (n) => {
      const i = dr.toAbsolute(n.src),
        l = this.promiseCache[i];
      if (l) {
        const c = await l.promise;
        delete this.promiseCache[i], await l.parser?.unload?.(c, n, this);
      }
    });
    await Promise.all(s);
  }
  _validateParsers() {
    (this._parsersValidated = !0),
      (this._parserHash = this._parsers
        .filter((e) => e.name || e.id)
        .reduce(
          (e, t) => (
            !t.name && !t.id
              ? Re("[Assets] parser should have an id")
              : (e[t.name] || e[t.id]) &&
                Re(`[Assets] parser id conflict "${t.id}"`),
            (e[t.name] = t),
            t.id && (e[t.id] = t),
            e
          ),
          {}
        ));
  }
}
function Ma(r, e) {
  if (Array.isArray(e)) {
    for (const t of e) if (r.startsWith(`data:${t}`)) return !0;
    return !1;
  }
  return r.startsWith(`data:${e}`);
}
function Na(r, e) {
  const t = r.split("?")[0],
    s = dr.extname(t).toLowerCase();
  return Array.isArray(e) ? e.includes(s) : s === e;
}
const wN = ".json",
  SN = "application/json",
  CN = {
    extension: { type: D.LoadParser, priority: pn.Low },
    name: "loadJson",
    id: "json",
    test(r) {
      return Ma(r, SN) || Na(r, wN);
    },
    async load(r) {
      return await (await Ke.get().fetch(r)).json();
    },
  },
  TN = ".txt",
  EN = "text/plain",
  jN = {
    name: "loadTxt",
    id: "text",
    extension: { type: D.LoadParser, priority: pn.Low, name: "loadTxt" },
    test(r) {
      return Ma(r, EN) || Na(r, TN);
    },
    async load(r) {
      return await (await Ke.get().fetch(r)).text();
    },
  },
  kN = [
    "normal",
    "bold",
    "100",
    "200",
    "300",
    "400",
    "500",
    "600",
    "700",
    "800",
    "900",
  ],
  PN = [".ttf", ".otf", ".woff", ".woff2"],
  AN = ["font/ttf", "font/otf", "font/woff", "font/woff2"],
  MN = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
function NN(r) {
  const e = dr.extname(r),
    n = dr
      .basename(r, e)
      .replace(/(-|_)/g, " ")
      .toLowerCase()
      .split(" ")
      .map((c) => c.charAt(0).toUpperCase() + c.slice(1));
  let i = n.length > 0;
  for (const c of n)
    if (!c.match(MN)) {
      i = !1;
      break;
    }
  let l = n.join(" ");
  return i || (l = `"${l.replace(/[\\"]/g, "\\$&")}"`), l;
}
const RN = /^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;
function BN(r) {
  return RN.test(r) ? r : encodeURI(r);
}
const FN = {
  extension: { type: D.LoadParser, priority: pn.Low },
  name: "loadWebFont",
  id: "web-font",
  test(r) {
    return Ma(r, AN) || Na(r, PN);
  },
  async load(r, e) {
    const t = Ke.get().getFontFaceSet();
    if (t) {
      const s = [],
        n = e.data?.family ?? NN(r),
        i = e.data?.weights?.filter((c) => kN.includes(c)) ?? ["normal"],
        l = e.data ?? {};
      for (let c = 0; c < i.length; c++) {
        const d = i[c],
          f = new FontFace(n, `url(${BN(r)})`, { ...l, weight: d });
        await f.load(), t.add(f), s.push(f);
      }
      return (
        mt.has(`${n}-and-url`)
          ? mt.get(`${n}-and-url`).entries.push({ url: r, faces: s })
          : mt.set(`${n}-and-url`, { entries: [{ url: r, faces: s }] }),
        s.length === 1 ? s[0] : s
      );
    }
    return (
      Re("[loadWebFont] FontFace API is not supported. Skipping loading font"),
      null
    );
  },
  unload(r) {
    const e = Array.isArray(r) ? r : [r],
      t = e[0].family,
      s = mt.get(`${t}-and-url`),
      n = s.entries.find((i) => i.faces.some((l) => e.indexOf(l) !== -1));
    (n.faces = n.faces.filter((i) => e.indexOf(i) === -1)),
      n.faces.length === 0 && (s.entries = s.entries.filter((i) => i !== n)),
      e.forEach((i) => {
        Ke.get().getFontFaceSet().delete(i);
      }),
      s.entries.length === 0 && mt.remove(`${t}-and-url`);
  },
};
function Tg(r, e = 1) {
  const t = Aa.RETINA_PREFIX?.exec(r);
  return t ? parseFloat(t[1]) : e;
}
function Eg(r, e, t) {
  (r.label = t), (r._sourceOrigin = t);
  const s = new Se({ source: r, label: t }),
    n = () => {
      delete e.promiseCache[t], mt.has(t) && mt.remove(t);
    };
  return (
    s.source.once("destroy", () => {
      e.promiseCache[t] &&
        (Re(
          "[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."
        ),
        n());
    }),
    s.once("destroy", () => {
      r.destroyed ||
        (Re(
          "[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."
        ),
        n());
    }),
    s
  );
}
const IN = ".svg",
  ON = "image/svg+xml",
  LN = {
    extension: { type: D.LoadParser, priority: pn.Low, name: "loadSVG" },
    name: "loadSVG",
    id: "svg",
    config: { crossOrigin: "anonymous", parseAsGraphicsContext: !1 },
    test(r) {
      return Ma(r, ON) || Na(r, IN);
    },
    async load(r, e, t) {
      return e.data?.parseAsGraphicsContext ??
        this.config.parseAsGraphicsContext
        ? UN(r)
        : DN(r, e, t, this.config.crossOrigin);
    },
    unload(r) {
      r.destroy(!0);
    },
  };
async function DN(r, e, t, s) {
  const i = await (await Ke.get().fetch(r)).blob(),
    l = URL.createObjectURL(i),
    c = Ke.get().createImage();
  (c.src = l), (c.crossOrigin = s), await c.decode(), URL.revokeObjectURL(l);
  const d = e.data?.width ?? c.width,
    f = e.data?.height ?? c.height,
    m = e.data?.resolution || Tg(r),
    h = Ke.get().createCanvas(d * m, f * m);
  h.getContext("2d").drawImage(c, 0, 0, d * m, f * m);
  const { parseAsGraphicsContext: x, ...v } = e.data ?? {},
    w = new Mi({
      resource: h,
      alphaMode: "premultiply-alpha-on-upload",
      resolution: m,
      ...v,
    });
  return Eg(w, t, r);
}
async function UN(r) {
  const t = await (await Ke.get().fetch(r)).text(),
    s = new ss();
  return s.svg(t), s;
}
const zN = `(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;
let ga = null,
  km = class {
    constructor() {
      ga ||
        (ga = URL.createObjectURL(
          new Blob([zN], { type: "application/javascript" })
        )),
        (this.worker = new Worker(ga));
    }
  };
km.revokeObjectURL = function () {
  ga && (URL.revokeObjectURL(ga), (ga = null));
};
const GN = `(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;
let xa = null;
class eS {
  constructor() {
    xa ||
      (xa = URL.createObjectURL(
        new Blob([GN], { type: "application/javascript" })
      )),
      (this.worker = new Worker(xa));
  }
}
eS.revokeObjectURL = function () {
  xa && (URL.revokeObjectURL(xa), (xa = null));
};
let ib = 0,
  mp;
class $N {
  constructor() {
    (this._initialized = !1),
      (this._createdWorkers = 0),
      (this._workerPool = []),
      (this._queue = []),
      (this._resolveHash = {});
  }
  isImageBitmapSupported() {
    return this._isImageBitmapSupported !== void 0
      ? this._isImageBitmapSupported
      : ((this._isImageBitmapSupported = new Promise((e) => {
          const { worker: t } = new km();
          t.addEventListener("message", (s) => {
            t.terminate(), km.revokeObjectURL(), e(s.data);
          });
        })),
        this._isImageBitmapSupported);
  }
  loadImageBitmap(e, t) {
    return this._run("loadImageBitmap", [e, t?.data?.alphaMode]);
  }
  async _initWorkers() {
    this._initialized || (this._initialized = !0);
  }
  _getWorker() {
    mp === void 0 && (mp = navigator.hardwareConcurrency || 4);
    let e = this._workerPool.pop();
    return (
      !e &&
        this._createdWorkers < mp &&
        (this._createdWorkers++,
        (e = new eS().worker),
        e.addEventListener("message", (t) => {
          this._complete(t.data), this._returnWorker(t.target), this._next();
        })),
      e
    );
  }
  _returnWorker(e) {
    this._workerPool.push(e);
  }
  _complete(e) {
    e.error !== void 0
      ? this._resolveHash[e.uuid].reject(e.error)
      : this._resolveHash[e.uuid].resolve(e.data),
      (this._resolveHash[e.uuid] = null);
  }
  async _run(e, t) {
    await this._initWorkers();
    const s = new Promise((n, i) => {
      this._queue.push({ id: e, arguments: t, resolve: n, reject: i });
    });
    return this._next(), s;
  }
  _next() {
    if (!this._queue.length) return;
    const e = this._getWorker();
    if (!e) return;
    const t = this._queue.pop(),
      s = t.id;
    (this._resolveHash[ib] = { resolve: t.resolve, reject: t.reject }),
      e.postMessage({ data: t.arguments, uuid: ib++, id: s });
  }
  reset() {
    this._workerPool.forEach((e) => e.terminate()),
      (this._workerPool.length = 0),
      Object.values(this._resolveHash).forEach(({ reject: e }) => {
        e?.(new Error("WorkerManager destroyed"));
      }),
      (this._resolveHash = {}),
      (this._queue.length = 0),
      (this._initialized = !1),
      (this._createdWorkers = 0);
  }
}
const ab = new $N(),
  HN = [".jpeg", ".jpg", ".png", ".webp", ".avif"],
  WN = ["image/jpeg", "image/png", "image/webp", "image/avif"];
async function VN(r, e) {
  const t = await Ke.get().fetch(r);
  if (!t.ok)
    throw new Error(
      `[loadImageBitmap] Failed to fetch ${r}: ${t.status} ${t.statusText}`
    );
  const s = await t.blob();
  return e?.data?.alphaMode === "premultiplied-alpha"
    ? createImageBitmap(s, { premultiplyAlpha: "none" })
    : createImageBitmap(s);
}
const tS = {
    name: "loadTextures",
    id: "texture",
    extension: { type: D.LoadParser, priority: pn.High, name: "loadTextures" },
    config: {
      preferWorkers: !0,
      preferCreateImageBitmap: !0,
      crossOrigin: "anonymous",
    },
    test(r) {
      return Ma(r, WN) || Na(r, HN);
    },
    async load(r, e, t) {
      let s = null;
      globalThis.createImageBitmap && this.config.preferCreateImageBitmap
        ? this.config.preferWorkers && (await ab.isImageBitmapSupported())
          ? (s = await ab.loadImageBitmap(r, e))
          : (s = await VN(r, e))
        : (s = await new Promise((i, l) => {
            (s = Ke.get().createImage()),
              (s.crossOrigin = this.config.crossOrigin),
              (s.src = r),
              s.complete
                ? i(s)
                : ((s.onload = () => {
                    i(s);
                  }),
                  (s.onerror = l));
          }));
      const n = new Mi({
        resource: s,
        alphaMode: "premultiply-alpha-on-upload",
        resolution: e.data?.resolution || Tg(r),
        ...e.data,
      });
      return Eg(n, t, r);
    },
    unload(r) {
      r.destroy(!0);
    },
  },
  qN = [".mp4", ".m4v", ".webm", ".ogg", ".ogv", ".h264", ".avi", ".mov"];
let gp, xp;
function XN(r, e, t) {
  t === void 0 && !e.startsWith("data:")
    ? (r.crossOrigin = KN(e))
    : t !== !1 && (r.crossOrigin = typeof t == "string" ? t : "anonymous");
}
function YN(r) {
  return new Promise((e, t) => {
    r.addEventListener("canplaythrough", s),
      r.addEventListener("error", n),
      r.load();
    function s() {
      i(), e();
    }
    function n(l) {
      i(), t(l);
    }
    function i() {
      r.removeEventListener("canplaythrough", s),
        r.removeEventListener("error", n);
    }
  });
}
function KN(r, e = globalThis.location) {
  if (r.startsWith("data:")) return "";
  e || (e = globalThis.location);
  const t = new URL(r, document.baseURI);
  return t.hostname !== e.hostname ||
    t.port !== e.port ||
    t.protocol !== e.protocol
    ? "anonymous"
    : "";
}
function QN() {
  const r = [],
    e = [];
  for (const t of qN) {
    const s = Ho.MIME_TYPES[t.substring(1)] || `video/${t.substring(1)}`;
    Hu(s) && (r.push(t), e.includes(s) || e.push(s));
  }
  return { validVideoExtensions: r, validVideoMime: e };
}
const ZN = {
    name: "loadVideo",
    id: "video",
    extension: { type: D.LoadParser, name: "loadVideo" },
    test(r) {
      if (!gp || !xp) {
        const { validVideoExtensions: s, validVideoMime: n } = QN();
        (gp = s), (xp = n);
      }
      const e = Ma(r, xp),
        t = Na(r, gp);
      return e || t;
    },
    async load(r, e, t) {
      const s = {
          ...Ho.defaultOptions,
          resolution: e.data?.resolution || Tg(r),
          alphaMode: e.data?.alphaMode || (await tw()),
          ...e.data,
        },
        n = document.createElement("video"),
        i = {
          preload: s.autoLoad !== !1 ? "auto" : void 0,
          "webkit-playsinline": s.playsinline !== !1 ? "" : void 0,
          playsinline: s.playsinline !== !1 ? "" : void 0,
          muted: s.muted === !0 ? "" : void 0,
          loop: s.loop === !0 ? "" : void 0,
          autoplay: s.autoPlay !== !1 ? "" : void 0,
        };
      Object.keys(i).forEach((d) => {
        const f = i[d];
        f !== void 0 && n.setAttribute(d, f);
      }),
        s.muted === !0 && (n.muted = !0),
        XN(n, r, s.crossorigin);
      const l = document.createElement("source");
      let c;
      if (s.mime) c = s.mime;
      else if (r.startsWith("data:")) c = r.slice(5, r.indexOf(";"));
      else if (!r.startsWith("blob:")) {
        const d = r
          .split("?")[0]
          .slice(r.lastIndexOf(".") + 1)
          .toLowerCase();
        c = Ho.MIME_TYPES[d] || `video/${d}`;
      }
      return (
        (l.src = r),
        c && (l.type = c),
        new Promise((d) => {
          const f = async () => {
            const m = new Ho({ ...s, resource: n });
            n.removeEventListener("canplay", f),
              e.data.preload && (await YN(n)),
              d(Eg(m, t, r));
          };
          s.preload && !s.autoPlay && n.load(),
            n.addEventListener("canplay", f),
            n.appendChild(l);
        })
      );
    },
    unload(r) {
      r.destroy(!0);
    },
  },
  rS = {
    extension: { type: D.ResolveParser, name: "resolveTexture" },
    test: tS.test,
    parse: (r) => ({
      resolution: parseFloat(Aa.RETINA_PREFIX.exec(r)?.[1] ?? "1"),
      format: r.split(".").pop(),
      src: r,
    }),
  },
  JN = {
    extension: { type: D.ResolveParser, priority: -2, name: "resolveJson" },
    test: (r) => Aa.RETINA_PREFIX.test(r) && r.endsWith(".json"),
    parse: rS.parse,
  };
class e6 {
  constructor() {
    (this._detections = []),
      (this._initialized = !1),
      (this.resolver = new Aa()),
      (this.loader = new bN()),
      (this.cache = mt),
      (this._backgroundLoader = new hN(this.loader)),
      (this._backgroundLoader.active = !0),
      this.reset();
  }
  async init(e = {}) {
    if (this._initialized) {
      Re(
        "[Assets]AssetManager already initialized, did you load before calling this Assets.init()?"
      );
      return;
    }
    if (
      ((this._initialized = !0),
      e.defaultSearchParams &&
        this.resolver.setDefaultSearchParams(e.defaultSearchParams),
      e.basePath && (this.resolver.basePath = e.basePath),
      e.bundleIdentifier &&
        this.resolver.setBundleIdentifier(e.bundleIdentifier),
      e.manifest)
    ) {
      let i = e.manifest;
      typeof i == "string" && (i = await this.load(i)),
        this.resolver.addManifest(i);
    }
    const t = e.texturePreference?.resolution ?? 1,
      s = typeof t == "number" ? [t] : t,
      n = await this._detectFormats({
        preferredFormats: e.texturePreference?.format,
        skipDetections: e.skipDetections,
        detections: this._detections,
      });
    this.resolver.prefer({ params: { format: n, resolution: s } }),
      e.preferences && this.setPreferences(e.preferences);
  }
  add(e) {
    this.resolver.add(e);
  }
  async load(e, t) {
    this._initialized || (await this.init());
    const s = xu(e),
      n = Ts(e).map((c) => {
        if (typeof c != "string") {
          const d = this.resolver.getAlias(c);
          return (
            d.some((f) => !this.resolver.hasKey(f)) && this.add(c),
            Array.isArray(d) ? d[0] : d
          );
        }
        return this.resolver.hasKey(c) || this.add({ alias: c, src: c }), c;
      }),
      i = this.resolver.resolve(n),
      l = await this._mapLoadToResolve(i, t);
    return s ? l[n[0]] : l;
  }
  addBundle(e, t) {
    this.resolver.addBundle(e, t);
  }
  async loadBundle(e, t) {
    this._initialized || (await this.init());
    let s = !1;
    typeof e == "string" && ((s = !0), (e = [e]));
    const n = this.resolver.resolveBundle(e),
      i = {},
      l = Object.keys(n);
    let c = 0,
      d = 0;
    const f = () => {
        t?.(++c / d);
      },
      m = l.map((h) => {
        const g = n[h],
          x = Object.values(g),
          v = [...new Set(x.flat())];
        return (
          (d += v.length),
          this._mapLoadToResolve(g, f).then((w) => {
            i[h] = w;
          })
        );
      });
    return await Promise.all(m), s ? i[e[0]] : i;
  }
  async backgroundLoad(e) {
    this._initialized || (await this.init()), typeof e == "string" && (e = [e]);
    const t = this.resolver.resolve(e);
    this._backgroundLoader.add(Object.values(t));
  }
  async backgroundLoadBundle(e) {
    this._initialized || (await this.init()), typeof e == "string" && (e = [e]);
    const t = this.resolver.resolveBundle(e);
    Object.values(t).forEach((s) => {
      this._backgroundLoader.add(Object.values(s));
    });
  }
  reset() {
    this.resolver.reset(),
      this.loader.reset(),
      this.cache.reset(),
      (this._initialized = !1);
  }
  get(e) {
    if (typeof e == "string") return mt.get(e);
    const t = {};
    for (let s = 0; s < e.length; s++) t[s] = mt.get(e[s]);
    return t;
  }
  async _mapLoadToResolve(e, t) {
    const s = [...new Set(Object.values(e))];
    this._backgroundLoader.active = !1;
    const n = await this.loader.load(s, t);
    this._backgroundLoader.active = !0;
    const i = {};
    return (
      s.forEach((l) => {
        const c = n[l.src],
          d = [l.src];
        l.alias && d.push(...l.alias),
          d.forEach((f) => {
            i[f] = c;
          }),
          mt.set(d, c);
      }),
      i
    );
  }
  async unload(e) {
    this._initialized || (await this.init());
    const t = Ts(e).map((n) => (typeof n != "string" ? n.src : n)),
      s = this.resolver.resolve(t);
    await this._unloadFromResolved(s);
  }
  async unloadBundle(e) {
    this._initialized || (await this.init()), (e = Ts(e));
    const t = this.resolver.resolveBundle(e),
      s = Object.keys(t).map((n) => this._unloadFromResolved(t[n]));
    await Promise.all(s);
  }
  async _unloadFromResolved(e) {
    const t = Object.values(e);
    t.forEach((s) => {
      mt.remove(s.src);
    }),
      await this.loader.unload(t);
  }
  async _detectFormats(e) {
    let t = [];
    e.preferredFormats &&
      (t = Array.isArray(e.preferredFormats)
        ? e.preferredFormats
        : [e.preferredFormats]);
    for (const s of e.detections)
      e.skipDetections || (await s.test())
        ? (t = await s.add(t))
        : e.skipDetections || (t = await s.remove(t));
    return (t = t.filter((s, n) => t.indexOf(s) === n)), t;
  }
  get detections() {
    return this._detections;
  }
  setPreferences(e) {
    this.loader.parsers.forEach((t) => {
      t.config &&
        Object.keys(t.config)
          .filter((s) => s in e)
          .forEach((s) => {
            t.config[s] = e[s];
          });
    });
  }
}
const je = new e6();
Ie.handleByList(D.LoadParser, je.loader.parsers)
  .handleByList(D.ResolveParser, je.resolver.parsers)
  .handleByList(D.CacheParser, je.cache.parsers)
  .handleByList(D.DetectionParser, je.detections);
Ie.add(fN, mN, pN, _N, xN, yN, vN, CN, jN, FN, LN, tS, ZN, dN, uN, rS, JN);
const ob = {
  loader: D.LoadParser,
  resolver: D.ResolveParser,
  cache: D.CacheParser,
  detection: D.DetectionParser,
};
Ie.handle(
  D.Asset,
  (r) => {
    const e = r.ref;
    Object.entries(ob)
      .filter(([t]) => !!e[t])
      .forEach(([t, s]) =>
        Ie.add(Object.assign(e[t], { extension: e[t].extension ?? s }))
      );
  },
  (r) => {
    const e = r.ref;
    Object.keys(ob)
      .filter((t) => !!e[t])
      .forEach((t) => Ie.remove(e[t]));
  }
);
class sS {
  constructor(e) {
    (this._attachedDomElements = []),
      (this._renderer = e),
      this._renderer.runners.postrender.add(this),
      this._renderer.runners.init.add(this),
      (this._domElement = document.createElement("div")),
      (this._domElement.style.position = "absolute"),
      (this._domElement.style.top = "0"),
      (this._domElement.style.left = "0"),
      (this._domElement.style.pointerEvents = "none"),
      (this._domElement.style.zIndex = "1000");
  }
  init() {
    this._canvasObserver = new ow({
      domElement: this._domElement,
      renderer: this._renderer,
    });
  }
  addRenderable(e, t) {
    this._attachedDomElements.includes(e) || this._attachedDomElements.push(e);
  }
  updateRenderable(e) {}
  validateRenderable(e) {
    return !0;
  }
  postrender() {
    const e = this._attachedDomElements;
    if (e.length === 0) {
      this._domElement.remove();
      return;
    }
    this._canvasObserver.ensureAttached();
    for (let t = 0; t < e.length; t++) {
      const s = e[t],
        n = s.element;
      if (!s.parent || s.globalDisplayStatus < 7)
        n?.remove(), e.splice(t, 1), t--;
      else {
        this._domElement.contains(n) ||
          ((n.style.position = "absolute"),
          (n.style.pointerEvents = "auto"),
          this._domElement.appendChild(n));
        const i = s.worldTransform,
          l = s._anchor,
          c = s.width * l.x,
          d = s.height * l.y;
        (n.style.transformOrigin = `${c}px ${d}px`),
          (n.style.transform = `matrix(${i.a}, ${i.b}, ${i.c}, ${i.d}, ${
            i.tx - c
          }, ${i.ty - d})`),
          (n.style.opacity = s.groupAlpha.toString());
      }
    }
  }
  destroy() {
    this._renderer.runners.postrender.remove(this);
    for (let e = 0; e < this._attachedDomElements.length; e++)
      this._attachedDomElements[e].element?.remove();
    (this._attachedDomElements.length = 0),
      this._domElement.remove(),
      this._canvasObserver.destroy(),
      (this._renderer = null);
  }
}
sS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "dom",
};
class t6 {
  constructor() {
    (this.interactionFrequency = 10),
      (this._deltaTime = 0),
      (this._didMove = !1),
      (this._tickerAdded = !1),
      (this._pauseUpdate = !0);
  }
  init(e) {
    this.removeTickerListener(),
      (this.events = e),
      (this.interactionFrequency = 10),
      (this._deltaTime = 0),
      (this._didMove = !1),
      (this._tickerAdded = !1),
      (this._pauseUpdate = !0);
  }
  get pauseUpdate() {
    return this._pauseUpdate;
  }
  set pauseUpdate(e) {
    this._pauseUpdate = e;
  }
  addTickerListener() {
    this._tickerAdded ||
      !this.domElement ||
      (cr.system.add(this._tickerUpdate, this, wa.INTERACTION),
      (this._tickerAdded = !0));
  }
  removeTickerListener() {
    this._tickerAdded &&
      (cr.system.remove(this._tickerUpdate, this), (this._tickerAdded = !1));
  }
  pointerMoved() {
    this._didMove = !0;
  }
  _update() {
    if (!this.domElement || this._pauseUpdate) return;
    if (this._didMove) {
      this._didMove = !1;
      return;
    }
    const e = this.events._rootPointerEvent;
    (this.events.supportsTouchEvents && e.pointerType === "touch") ||
      globalThis.document.dispatchEvent(
        this.events.supportsPointerEvents
          ? new PointerEvent("pointermove", {
              clientX: e.clientX,
              clientY: e.clientY,
              pointerType: e.pointerType,
              pointerId: e.pointerId,
            })
          : new MouseEvent("mousemove", {
              clientX: e.clientX,
              clientY: e.clientY,
            })
      );
  }
  _tickerUpdate(e) {
    (this._deltaTime += e.deltaTime),
      !(this._deltaTime < this.interactionFrequency) &&
        ((this._deltaTime = 0), this._update());
  }
}
const Un = new t6();
class Su extends fl {
  constructor() {
    super(...arguments),
      (this.client = new yt()),
      (this.movement = new yt()),
      (this.offset = new yt()),
      (this.global = new yt()),
      (this.screen = new yt());
  }
  get clientX() {
    return this.client.x;
  }
  get clientY() {
    return this.client.y;
  }
  get x() {
    return this.clientX;
  }
  get y() {
    return this.clientY;
  }
  get movementX() {
    return this.movement.x;
  }
  get movementY() {
    return this.movement.y;
  }
  get offsetX() {
    return this.offset.x;
  }
  get offsetY() {
    return this.offset.y;
  }
  get globalX() {
    return this.global.x;
  }
  get globalY() {
    return this.global.y;
  }
  get screenX() {
    return this.screen.x;
  }
  get screenY() {
    return this.screen.y;
  }
  getLocalPosition(e, t, s) {
    return e.worldTransform.applyInverse(s || this.global, t);
  }
  getModifierState(e) {
    return (
      "getModifierState" in this.nativeEvent &&
      this.nativeEvent.getModifierState(e)
    );
  }
  initMouseEvent(e, t, s, n, i, l, c, d, f, m, h, g, x, v, w) {
    throw new Error("Method not implemented.");
  }
}
class Ss extends Su {
  constructor() {
    super(...arguments),
      (this.width = 0),
      (this.height = 0),
      (this.isPrimary = !1);
  }
  getCoalescedEvents() {
    return this.type === "pointermove" ||
      this.type === "mousemove" ||
      this.type === "touchmove"
      ? [this]
      : [];
  }
  getPredictedEvents() {
    throw new Error("getPredictedEvents is not supported!");
  }
}
class Ta extends Su {
  constructor() {
    super(...arguments),
      (this.DOM_DELTA_PIXEL = 0),
      (this.DOM_DELTA_LINE = 1),
      (this.DOM_DELTA_PAGE = 2);
  }
}
Ta.DOM_DELTA_PIXEL = 0;
Ta.DOM_DELTA_LINE = 1;
Ta.DOM_DELTA_PAGE = 2;
const r6 = 2048,
  s6 = new yt(),
  ko = new yt();
class n6 {
  constructor(e) {
    (this.dispatch = new nr()),
      (this.moveOnAll = !1),
      (this.enableGlobalMoveEvents = !0),
      (this.mappingState = { trackingData: {} }),
      (this.eventPool = new Map()),
      (this._allInteractiveElements = []),
      (this._hitElements = []),
      (this._isPointerMoveEvent = !1),
      (this.rootTarget = e),
      (this.hitPruneFn = this.hitPruneFn.bind(this)),
      (this.hitTestFn = this.hitTestFn.bind(this)),
      (this.mapPointerDown = this.mapPointerDown.bind(this)),
      (this.mapPointerMove = this.mapPointerMove.bind(this)),
      (this.mapPointerOut = this.mapPointerOut.bind(this)),
      (this.mapPointerOver = this.mapPointerOver.bind(this)),
      (this.mapPointerUp = this.mapPointerUp.bind(this)),
      (this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this)),
      (this.mapWheel = this.mapWheel.bind(this)),
      (this.mappingTable = {}),
      this.addEventMapping("pointerdown", this.mapPointerDown),
      this.addEventMapping("pointermove", this.mapPointerMove),
      this.addEventMapping("pointerout", this.mapPointerOut),
      this.addEventMapping("pointerleave", this.mapPointerOut),
      this.addEventMapping("pointerover", this.mapPointerOver),
      this.addEventMapping("pointerup", this.mapPointerUp),
      this.addEventMapping("pointerupoutside", this.mapPointerUpOutside),
      this.addEventMapping("wheel", this.mapWheel);
  }
  addEventMapping(e, t) {
    this.mappingTable[e] || (this.mappingTable[e] = []),
      this.mappingTable[e].push({ fn: t, priority: 0 }),
      this.mappingTable[e].sort((s, n) => s.priority - n.priority);
  }
  dispatchEvent(e, t) {
    (e.propagationStopped = !1),
      (e.propagationImmediatelyStopped = !1),
      this.propagate(e, t),
      this.dispatch.emit(t || e.type, e);
  }
  mapEvent(e) {
    if (!this.rootTarget) return;
    const t = this.mappingTable[e.type];
    if (t) for (let s = 0, n = t.length; s < n; s++) t[s].fn(e);
    else Re(`[EventBoundary]: Event mapping not defined for ${e.type}`);
  }
  hitTest(e, t) {
    Un.pauseUpdate = !0;
    const n =
        this._isPointerMoveEvent && this.enableGlobalMoveEvents
          ? "hitTestMoveRecursive"
          : "hitTestRecursive",
      i = this[n](
        this.rootTarget,
        this.rootTarget.eventMode,
        s6.set(e, t),
        this.hitTestFn,
        this.hitPruneFn
      );
    return i && i[0];
  }
  propagate(e, t) {
    if (!e.target) return;
    const s = e.composedPath();
    e.eventPhase = e.CAPTURING_PHASE;
    for (let n = 0, i = s.length - 1; n < i; n++)
      if (
        ((e.currentTarget = s[n]),
        this.notifyTarget(e, t),
        e.propagationStopped || e.propagationImmediatelyStopped)
      )
        return;
    if (
      ((e.eventPhase = e.AT_TARGET),
      (e.currentTarget = e.target),
      this.notifyTarget(e, t),
      !(e.propagationStopped || e.propagationImmediatelyStopped))
    ) {
      e.eventPhase = e.BUBBLING_PHASE;
      for (let n = s.length - 2; n >= 0; n--)
        if (
          ((e.currentTarget = s[n]),
          this.notifyTarget(e, t),
          e.propagationStopped || e.propagationImmediatelyStopped)
        )
          return;
    }
  }
  all(e, t, s = this._allInteractiveElements) {
    if (s.length === 0) return;
    e.eventPhase = e.BUBBLING_PHASE;
    const n = Array.isArray(t) ? t : [t];
    for (let i = s.length - 1; i >= 0; i--)
      n.forEach((l) => {
        (e.currentTarget = s[i]), this.notifyTarget(e, l);
      });
  }
  propagationPath(e) {
    const t = [e];
    for (let s = 0; s < r6 && e !== this.rootTarget && e.parent; s++) {
      if (!e.parent)
        throw new Error("Cannot find propagation path to disconnected target");
      t.push(e.parent), (e = e.parent);
    }
    return t.reverse(), t;
  }
  hitTestMoveRecursive(e, t, s, n, i, l = !1) {
    let c = !1;
    if (this._interactivePrune(e)) return null;
    if (
      ((e.eventMode === "dynamic" || t === "dynamic") && (Un.pauseUpdate = !1),
      e.interactiveChildren && e.children)
    ) {
      const m = e.children;
      for (let h = m.length - 1; h >= 0; h--) {
        const g = m[h],
          x = this.hitTestMoveRecursive(
            g,
            this._isInteractive(t) ? t : g.eventMode,
            s,
            n,
            i,
            l || i(e, s)
          );
        if (x) {
          if (x.length > 0 && !x[x.length - 1].parent) continue;
          const v = e.isInteractive();
          (x.length > 0 || v) &&
            (v && this._allInteractiveElements.push(e), x.push(e)),
            this._hitElements.length === 0 && (this._hitElements = x),
            (c = !0);
        }
      }
    }
    const d = this._isInteractive(t),
      f = e.isInteractive();
    return (
      f && f && this._allInteractiveElements.push(e),
      l || this._hitElements.length > 0
        ? null
        : c
        ? this._hitElements
        : d && !i(e, s) && n(e, s)
        ? f
          ? [e]
          : []
        : null
    );
  }
  hitTestRecursive(e, t, s, n, i) {
    if (this._interactivePrune(e) || i(e, s)) return null;
    if (
      ((e.eventMode === "dynamic" || t === "dynamic") && (Un.pauseUpdate = !1),
      e.interactiveChildren && e.children)
    ) {
      const d = e.children,
        f = s;
      for (let m = d.length - 1; m >= 0; m--) {
        const h = d[m],
          g = this.hitTestRecursive(
            h,
            this._isInteractive(t) ? t : h.eventMode,
            f,
            n,
            i
          );
        if (g) {
          if (g.length > 0 && !g[g.length - 1].parent) continue;
          const x = e.isInteractive();
          return (g.length > 0 || x) && g.push(e), g;
        }
      }
    }
    const l = this._isInteractive(t),
      c = e.isInteractive();
    return l && n(e, s) ? (c ? [e] : []) : null;
  }
  _isInteractive(e) {
    return e === "static" || e === "dynamic";
  }
  _interactivePrune(e) {
    return (
      !e ||
      !e.visible ||
      !e.renderable ||
      !e.measurable ||
      e.eventMode === "none" ||
      (e.eventMode === "passive" && !e.interactiveChildren)
    );
  }
  hitPruneFn(e, t) {
    if (
      e.hitArea &&
      (e.worldTransform.applyInverse(t, ko), !e.hitArea.contains(ko.x, ko.y))
    )
      return !0;
    if (e.effects && e.effects.length)
      for (let s = 0; s < e.effects.length; s++) {
        const n = e.effects[s];
        if (n.containsPoint && !n.containsPoint(t, this.hitTestFn)) return !0;
      }
    return !1;
  }
  hitTestFn(e, t) {
    return e.hitArea
      ? !0
      : e?.containsPoint
      ? (e.worldTransform.applyInverse(t, ko), e.containsPoint(ko))
      : !1;
  }
  notifyTarget(e, t) {
    if (!e.currentTarget.isInteractive()) return;
    t ?? (t = e.type);
    const s = `on${t}`;
    e.currentTarget[s]?.(e);
    const n =
      e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET
        ? `${t}capture`
        : t;
    this._notifyListeners(e, n),
      e.eventPhase === e.AT_TARGET && this._notifyListeners(e, t);
  }
  mapPointerDown(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.createPointerEvent(e);
    if ((this.dispatchEvent(t, "pointerdown"), t.pointerType === "touch"))
      this.dispatchEvent(t, "touchstart");
    else if (t.pointerType === "mouse" || t.pointerType === "pen") {
      const n = t.button === 2;
      this.dispatchEvent(t, n ? "rightdown" : "mousedown");
    }
    const s = this.trackingData(e.pointerId);
    (s.pressTargetsByButton[e.button] = t.composedPath()), this.freeEvent(t);
  }
  mapPointerMove(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    (this._allInteractiveElements.length = 0),
      (this._hitElements.length = 0),
      (this._isPointerMoveEvent = !0);
    const t = this.createPointerEvent(e);
    this._isPointerMoveEvent = !1;
    const s = t.pointerType === "mouse" || t.pointerType === "pen",
      n = this.trackingData(e.pointerId),
      i = this.findMountedTarget(n.overTargets);
    if (n.overTargets?.length > 0 && i !== t.target) {
      const d = e.type === "mousemove" ? "mouseout" : "pointerout",
        f = this.createPointerEvent(e, d, i);
      if (
        (this.dispatchEvent(f, "pointerout"),
        s && this.dispatchEvent(f, "mouseout"),
        !t.composedPath().includes(i))
      ) {
        const m = this.createPointerEvent(e, "pointerleave", i);
        for (
          m.eventPhase = m.AT_TARGET;
          m.target && !t.composedPath().includes(m.target);

        )
          (m.currentTarget = m.target),
            this.notifyTarget(m),
            s && this.notifyTarget(m, "mouseleave"),
            (m.target = m.target.parent);
        this.freeEvent(m);
      }
      this.freeEvent(f);
    }
    if (i !== t.target) {
      const d = e.type === "mousemove" ? "mouseover" : "pointerover",
        f = this.clonePointerEvent(t, d);
      this.dispatchEvent(f, "pointerover"),
        s && this.dispatchEvent(f, "mouseover");
      let m = i?.parent;
      for (; m && m !== this.rootTarget.parent && m !== t.target; )
        m = m.parent;
      if (!m || m === this.rootTarget.parent) {
        const g = this.clonePointerEvent(t, "pointerenter");
        for (
          g.eventPhase = g.AT_TARGET;
          g.target && g.target !== i && g.target !== this.rootTarget.parent;

        )
          (g.currentTarget = g.target),
            this.notifyTarget(g),
            s && this.notifyTarget(g, "mouseenter"),
            (g.target = g.target.parent);
        this.freeEvent(g);
      }
      this.freeEvent(f);
    }
    const l = [],
      c = this.enableGlobalMoveEvents ?? !0;
    this.moveOnAll
      ? l.push("pointermove")
      : this.dispatchEvent(t, "pointermove"),
      c && l.push("globalpointermove"),
      t.pointerType === "touch" &&
        (this.moveOnAll
          ? l.splice(1, 0, "touchmove")
          : this.dispatchEvent(t, "touchmove"),
        c && l.push("globaltouchmove")),
      s &&
        (this.moveOnAll
          ? l.splice(1, 0, "mousemove")
          : this.dispatchEvent(t, "mousemove"),
        c && l.push("globalmousemove"),
        (this.cursor = t.target?.cursor)),
      l.length > 0 && this.all(t, l),
      (this._allInteractiveElements.length = 0),
      (this._hitElements.length = 0),
      (n.overTargets = t.composedPath()),
      this.freeEvent(t);
  }
  mapPointerOver(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.trackingData(e.pointerId),
      s = this.createPointerEvent(e),
      n = s.pointerType === "mouse" || s.pointerType === "pen";
    this.dispatchEvent(s, "pointerover"),
      n && this.dispatchEvent(s, "mouseover"),
      s.pointerType === "mouse" && (this.cursor = s.target?.cursor);
    const i = this.clonePointerEvent(s, "pointerenter");
    for (
      i.eventPhase = i.AT_TARGET;
      i.target && i.target !== this.rootTarget.parent;

    )
      (i.currentTarget = i.target),
        this.notifyTarget(i),
        n && this.notifyTarget(i, "mouseenter"),
        (i.target = i.target.parent);
    (t.overTargets = s.composedPath()), this.freeEvent(s), this.freeEvent(i);
  }
  mapPointerOut(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.trackingData(e.pointerId);
    if (t.overTargets) {
      const s = e.pointerType === "mouse" || e.pointerType === "pen",
        n = this.findMountedTarget(t.overTargets),
        i = this.createPointerEvent(e, "pointerout", n);
      this.dispatchEvent(i), s && this.dispatchEvent(i, "mouseout");
      const l = this.createPointerEvent(e, "pointerleave", n);
      for (
        l.eventPhase = l.AT_TARGET;
        l.target && l.target !== this.rootTarget.parent;

      )
        (l.currentTarget = l.target),
          this.notifyTarget(l),
          s && this.notifyTarget(l, "mouseleave"),
          (l.target = l.target.parent);
      (t.overTargets = null), this.freeEvent(i), this.freeEvent(l);
    }
    this.cursor = null;
  }
  mapPointerUp(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = performance.now(),
      s = this.createPointerEvent(e);
    if ((this.dispatchEvent(s, "pointerup"), s.pointerType === "touch"))
      this.dispatchEvent(s, "touchend");
    else if (s.pointerType === "mouse" || s.pointerType === "pen") {
      const c = s.button === 2;
      this.dispatchEvent(s, c ? "rightup" : "mouseup");
    }
    const n = this.trackingData(e.pointerId),
      i = this.findMountedTarget(n.pressTargetsByButton[e.button]);
    let l = i;
    if (i && !s.composedPath().includes(i)) {
      let c = i;
      for (; c && !s.composedPath().includes(c); ) {
        if (
          ((s.currentTarget = c),
          this.notifyTarget(s, "pointerupoutside"),
          s.pointerType === "touch")
        )
          this.notifyTarget(s, "touchendoutside");
        else if (s.pointerType === "mouse" || s.pointerType === "pen") {
          const d = s.button === 2;
          this.notifyTarget(s, d ? "rightupoutside" : "mouseupoutside");
        }
        c = c.parent;
      }
      delete n.pressTargetsByButton[e.button], (l = c);
    }
    if (l) {
      const c = this.clonePointerEvent(s, "click");
      (c.target = l),
        (c.path = null),
        n.clicksByButton[e.button] ||
          (n.clicksByButton[e.button] = {
            clickCount: 0,
            target: c.target,
            timeStamp: t,
          });
      const d = n.clicksByButton[e.button];
      if (
        (d.target === c.target && t - d.timeStamp < 200
          ? ++d.clickCount
          : (d.clickCount = 1),
        (d.target = c.target),
        (d.timeStamp = t),
        (c.detail = d.clickCount),
        c.pointerType === "mouse")
      ) {
        const f = c.button === 2;
        this.dispatchEvent(c, f ? "rightclick" : "click");
      } else c.pointerType === "touch" && this.dispatchEvent(c, "tap");
      this.dispatchEvent(c, "pointertap"), this.freeEvent(c);
    }
    this.freeEvent(s);
  }
  mapPointerUpOutside(e) {
    if (!(e instanceof Ss)) {
      Re("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.trackingData(e.pointerId),
      s = this.findMountedTarget(t.pressTargetsByButton[e.button]),
      n = this.createPointerEvent(e);
    if (s) {
      let i = s;
      for (; i; )
        (n.currentTarget = i),
          this.notifyTarget(n, "pointerupoutside"),
          n.pointerType === "touch"
            ? this.notifyTarget(n, "touchendoutside")
            : (n.pointerType === "mouse" || n.pointerType === "pen") &&
              this.notifyTarget(
                n,
                n.button === 2 ? "rightupoutside" : "mouseupoutside"
              ),
          (i = i.parent);
      delete t.pressTargetsByButton[e.button];
    }
    this.freeEvent(n);
  }
  mapWheel(e) {
    if (!(e instanceof Ta)) {
      Re("EventBoundary cannot map a non-wheel event as a wheel event");
      return;
    }
    const t = this.createWheelEvent(e);
    this.dispatchEvent(t), this.freeEvent(t);
  }
  findMountedTarget(e) {
    if (!e) return null;
    let t = e[0];
    for (let s = 1; s < e.length && e[s].parent === t; s++) t = e[s];
    return t;
  }
  createPointerEvent(e, t, s) {
    const n = this.allocateEvent(Ss);
    return (
      this.copyPointerData(e, n),
      this.copyMouseData(e, n),
      this.copyData(e, n),
      (n.nativeEvent = e.nativeEvent),
      (n.originalEvent = e),
      (n.target =
        s ?? this.hitTest(n.global.x, n.global.y) ?? this._hitElements[0]),
      typeof t == "string" && (n.type = t),
      n
    );
  }
  createWheelEvent(e) {
    const t = this.allocateEvent(Ta);
    return (
      this.copyWheelData(e, t),
      this.copyMouseData(e, t),
      this.copyData(e, t),
      (t.nativeEvent = e.nativeEvent),
      (t.originalEvent = e),
      (t.target = this.hitTest(t.global.x, t.global.y)),
      t
    );
  }
  clonePointerEvent(e, t) {
    const s = this.allocateEvent(Ss);
    return (
      (s.nativeEvent = e.nativeEvent),
      (s.originalEvent = e.originalEvent),
      this.copyPointerData(e, s),
      this.copyMouseData(e, s),
      this.copyData(e, s),
      (s.target = e.target),
      (s.path = e.composedPath().slice()),
      (s.type = t ?? s.type),
      s
    );
  }
  copyWheelData(e, t) {
    (t.deltaMode = e.deltaMode),
      (t.deltaX = e.deltaX),
      (t.deltaY = e.deltaY),
      (t.deltaZ = e.deltaZ);
  }
  copyPointerData(e, t) {
    e instanceof Ss &&
      t instanceof Ss &&
      ((t.pointerId = e.pointerId),
      (t.width = e.width),
      (t.height = e.height),
      (t.isPrimary = e.isPrimary),
      (t.pointerType = e.pointerType),
      (t.pressure = e.pressure),
      (t.tangentialPressure = e.tangentialPressure),
      (t.tiltX = e.tiltX),
      (t.tiltY = e.tiltY),
      (t.twist = e.twist));
  }
  copyMouseData(e, t) {
    e instanceof Su &&
      t instanceof Su &&
      ((t.altKey = e.altKey),
      (t.button = e.button),
      (t.buttons = e.buttons),
      t.client.copyFrom(e.client),
      (t.ctrlKey = e.ctrlKey),
      (t.metaKey = e.metaKey),
      t.movement.copyFrom(e.movement),
      t.screen.copyFrom(e.screen),
      (t.shiftKey = e.shiftKey),
      t.global.copyFrom(e.global));
  }
  copyData(e, t) {
    (t.isTrusted = e.isTrusted),
      (t.srcElement = e.srcElement),
      (t.timeStamp = performance.now()),
      (t.type = e.type),
      (t.detail = e.detail),
      (t.view = e.view),
      (t.which = e.which),
      t.layer.copyFrom(e.layer),
      t.page.copyFrom(e.page);
  }
  trackingData(e) {
    return (
      this.mappingState.trackingData[e] ||
        (this.mappingState.trackingData[e] = {
          pressTargetsByButton: {},
          clicksByButton: {},
          overTarget: null,
        }),
      this.mappingState.trackingData[e]
    );
  }
  allocateEvent(e) {
    this.eventPool.has(e) || this.eventPool.set(e, []);
    const t = this.eventPool.get(e).pop() || new e(this);
    return (
      (t.eventPhase = t.NONE),
      (t.currentTarget = null),
      (t.defaultPrevented = !1),
      (t.path = null),
      (t.target = null),
      t
    );
  }
  freeEvent(e) {
    if (e.manager !== this)
      throw new Error(
        "It is illegal to free an event not managed by this EventBoundary!"
      );
    const t = e.constructor;
    this.eventPool.has(t) || this.eventPool.set(t, []),
      this.eventPool.get(t).push(e);
  }
  _notifyListeners(e, t) {
    const s = e.currentTarget._events[t];
    if (s)
      if ("fn" in s)
        s.once && e.currentTarget.removeListener(t, s.fn, void 0, !0),
          s.fn.call(s.context, e);
      else
        for (
          let n = 0, i = s.length;
          n < i && !e.propagationImmediatelyStopped;
          n++
        )
          s[n].once && e.currentTarget.removeListener(t, s[n].fn, void 0, !0),
            s[n].fn.call(s[n].context, e);
  }
}
const i6 = 1,
  a6 = {
    touchstart: "pointerdown",
    touchend: "pointerup",
    touchendoutside: "pointerupoutside",
    touchmove: "pointermove",
    touchcancel: "pointercancel",
  },
  jg = class Pm {
    constructor(e) {
      (this.supportsTouchEvents = "ontouchstart" in globalThis),
        (this.supportsPointerEvents = !!globalThis.PointerEvent),
        (this.domElement = null),
        (this.resolution = 1),
        (this.renderer = e),
        (this.rootBoundary = new n6(null)),
        Un.init(this),
        (this.autoPreventDefault = !0),
        (this._eventsAdded = !1),
        (this._rootPointerEvent = new Ss(null)),
        (this._rootWheelEvent = new Ta(null)),
        (this.cursorStyles = { default: "inherit", pointer: "pointer" }),
        (this.features = new Proxy(
          { ...Pm.defaultEventFeatures },
          {
            set: (t, s, n) => (
              s === "globalMove" &&
                (this.rootBoundary.enableGlobalMoveEvents = n),
              (t[s] = n),
              !0
            ),
          }
        )),
        (this._onPointerDown = this._onPointerDown.bind(this)),
        (this._onPointerMove = this._onPointerMove.bind(this)),
        (this._onPointerUp = this._onPointerUp.bind(this)),
        (this._onPointerOverOut = this._onPointerOverOut.bind(this)),
        (this.onWheel = this.onWheel.bind(this));
    }
    static get defaultEventMode() {
      return this._defaultEventMode;
    }
    init(e) {
      const { canvas: t, resolution: s } = this.renderer;
      this.setTargetElement(t),
        (this.resolution = s),
        (Pm._defaultEventMode = e.eventMode ?? "passive"),
        Object.assign(this.features, e.eventFeatures ?? {}),
        (this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove);
    }
    resolutionChange(e) {
      this.resolution = e;
    }
    destroy() {
      this.setTargetElement(null),
        (this.renderer = null),
        (this._currentCursor = null);
    }
    setCursor(e) {
      e || (e = "default");
      let t = !0;
      if (
        (globalThis.OffscreenCanvas &&
          this.domElement instanceof OffscreenCanvas &&
          (t = !1),
        this._currentCursor === e)
      )
        return;
      this._currentCursor = e;
      const s = this.cursorStyles[e];
      if (s)
        switch (typeof s) {
          case "string":
            t && (this.domElement.style.cursor = s);
            break;
          case "function":
            s(e);
            break;
          case "object":
            t && Object.assign(this.domElement.style, s);
            break;
        }
      else
        t &&
          typeof e == "string" &&
          !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) &&
          (this.domElement.style.cursor = e);
    }
    get pointer() {
      return this._rootPointerEvent;
    }
    _onPointerDown(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      const t = this._normalizeToPointerData(e);
      this.autoPreventDefault &&
        t[0].isNormalized &&
        (e.cancelable || !("cancelable" in e)) &&
        e.preventDefault();
      for (let s = 0, n = t.length; s < n; s++) {
        const i = t[s],
          l = this._bootstrapEvent(this._rootPointerEvent, i);
        this.rootBoundary.mapEvent(l);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerMove(e) {
      if (!this.features.move) return;
      (this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
        Un.pointerMoved();
      const t = this._normalizeToPointerData(e);
      for (let s = 0, n = t.length; s < n; s++) {
        const i = this._bootstrapEvent(this._rootPointerEvent, t[s]);
        this.rootBoundary.mapEvent(i);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerUp(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      let t = e.target;
      e.composedPath &&
        e.composedPath().length > 0 &&
        (t = e.composedPath()[0]);
      const s = t !== this.domElement ? "outside" : "",
        n = this._normalizeToPointerData(e);
      for (let i = 0, l = n.length; i < l; i++) {
        const c = this._bootstrapEvent(this._rootPointerEvent, n[i]);
        (c.type += s), this.rootBoundary.mapEvent(c);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerOverOut(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      const t = this._normalizeToPointerData(e);
      for (let s = 0, n = t.length; s < n; s++) {
        const i = this._bootstrapEvent(this._rootPointerEvent, t[s]);
        this.rootBoundary.mapEvent(i);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    onWheel(e) {
      if (!this.features.wheel) return;
      const t = this.normalizeWheelEvent(e);
      (this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
        this.rootBoundary.mapEvent(t);
    }
    setTargetElement(e) {
      this._removeEvents(),
        (this.domElement = e),
        (Un.domElement = e),
        this._addEvents();
    }
    _addEvents() {
      if (this._eventsAdded || !this.domElement) return;
      Un.addTickerListener();
      const e = this.domElement.style;
      e &&
        (globalThis.navigator.msPointerEnabled
          ? ((e.msContentZooming = "none"), (e.msTouchAction = "none"))
          : this.supportsPointerEvents && (e.touchAction = "none")),
        this.supportsPointerEvents
          ? (globalThis.document.addEventListener(
              "pointermove",
              this._onPointerMove,
              !0
            ),
            this.domElement.addEventListener(
              "pointerdown",
              this._onPointerDown,
              !0
            ),
            this.domElement.addEventListener(
              "pointerleave",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.addEventListener(
              "pointerover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.addEventListener("pointerup", this._onPointerUp, !0))
          : (globalThis.document.addEventListener(
              "mousemove",
              this._onPointerMove,
              !0
            ),
            this.domElement.addEventListener(
              "mousedown",
              this._onPointerDown,
              !0
            ),
            this.domElement.addEventListener(
              "mouseout",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.addEventListener(
              "mouseover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.addEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents &&
              (this.domElement.addEventListener(
                "touchstart",
                this._onPointerDown,
                !0
              ),
              this.domElement.addEventListener(
                "touchend",
                this._onPointerUp,
                !0
              ),
              this.domElement.addEventListener(
                "touchmove",
                this._onPointerMove,
                !0
              ))),
        this.domElement.addEventListener("wheel", this.onWheel, {
          passive: !0,
          capture: !0,
        }),
        (this._eventsAdded = !0);
    }
    _removeEvents() {
      if (!this._eventsAdded || !this.domElement) return;
      Un.removeTickerListener();
      const e = this.domElement.style;
      e &&
        (globalThis.navigator.msPointerEnabled
          ? ((e.msContentZooming = ""), (e.msTouchAction = ""))
          : this.supportsPointerEvents && (e.touchAction = "")),
        this.supportsPointerEvents
          ? (globalThis.document.removeEventListener(
              "pointermove",
              this._onPointerMove,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerdown",
              this._onPointerDown,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerleave",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.removeEventListener("pointerup", this._onPointerUp, !0))
          : (globalThis.document.removeEventListener(
              "mousemove",
              this._onPointerMove,
              !0
            ),
            this.domElement.removeEventListener(
              "mousedown",
              this._onPointerDown,
              !0
            ),
            this.domElement.removeEventListener(
              "mouseout",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.removeEventListener(
              "mouseover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.removeEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents &&
              (this.domElement.removeEventListener(
                "touchstart",
                this._onPointerDown,
                !0
              ),
              this.domElement.removeEventListener(
                "touchend",
                this._onPointerUp,
                !0
              ),
              this.domElement.removeEventListener(
                "touchmove",
                this._onPointerMove,
                !0
              ))),
        this.domElement.removeEventListener("wheel", this.onWheel, !0),
        (this.domElement = null),
        (this._eventsAdded = !1);
    }
    mapPositionToPoint(e, t, s) {
      const n = this.domElement.isConnected
          ? this.domElement.getBoundingClientRect()
          : {
              width: this.domElement.width,
              height: this.domElement.height,
              left: 0,
              top: 0,
            },
        i = 1 / this.resolution;
      (e.x = (t - n.left) * (this.domElement.width / n.width) * i),
        (e.y = (s - n.top) * (this.domElement.height / n.height) * i);
    }
    _normalizeToPointerData(e) {
      const t = [];
      if (this.supportsTouchEvents && e instanceof TouchEvent)
        for (let s = 0, n = e.changedTouches.length; s < n; s++) {
          const i = e.changedTouches[s];
          typeof i.button > "u" && (i.button = 0),
            typeof i.buttons > "u" && (i.buttons = 1),
            typeof i.isPrimary > "u" &&
              (i.isPrimary = e.touches.length === 1 && e.type === "touchstart"),
            typeof i.width > "u" && (i.width = i.radiusX || 1),
            typeof i.height > "u" && (i.height = i.radiusY || 1),
            typeof i.tiltX > "u" && (i.tiltX = 0),
            typeof i.tiltY > "u" && (i.tiltY = 0),
            typeof i.pointerType > "u" && (i.pointerType = "touch"),
            typeof i.pointerId > "u" && (i.pointerId = i.identifier || 0),
            typeof i.pressure > "u" && (i.pressure = i.force || 0.5),
            typeof i.twist > "u" && (i.twist = 0),
            typeof i.tangentialPressure > "u" && (i.tangentialPressure = 0),
            typeof i.layerX > "u" && (i.layerX = i.offsetX = i.clientX),
            typeof i.layerY > "u" && (i.layerY = i.offsetY = i.clientY),
            (i.isNormalized = !0),
            (i.type = e.type),
            t.push(i);
        }
      else if (
        !globalThis.MouseEvent ||
        (e instanceof MouseEvent &&
          (!this.supportsPointerEvents ||
            !(e instanceof globalThis.PointerEvent)))
      ) {
        const s = e;
        typeof s.isPrimary > "u" && (s.isPrimary = !0),
          typeof s.width > "u" && (s.width = 1),
          typeof s.height > "u" && (s.height = 1),
          typeof s.tiltX > "u" && (s.tiltX = 0),
          typeof s.tiltY > "u" && (s.tiltY = 0),
          typeof s.pointerType > "u" && (s.pointerType = "mouse"),
          typeof s.pointerId > "u" && (s.pointerId = i6),
          typeof s.pressure > "u" && (s.pressure = 0.5),
          typeof s.twist > "u" && (s.twist = 0),
          typeof s.tangentialPressure > "u" && (s.tangentialPressure = 0),
          (s.isNormalized = !0),
          t.push(s);
      } else t.push(e);
      return t;
    }
    normalizeWheelEvent(e) {
      const t = this._rootWheelEvent;
      return (
        this._transferMouseData(t, e),
        (t.deltaX = e.deltaX),
        (t.deltaY = e.deltaY),
        (t.deltaZ = e.deltaZ),
        (t.deltaMode = e.deltaMode),
        this.mapPositionToPoint(t.screen, e.clientX, e.clientY),
        t.global.copyFrom(t.screen),
        t.offset.copyFrom(t.screen),
        (t.nativeEvent = e),
        (t.type = e.type),
        t
      );
    }
    _bootstrapEvent(e, t) {
      return (
        (e.originalEvent = null),
        (e.nativeEvent = t),
        (e.pointerId = t.pointerId),
        (e.width = t.width),
        (e.height = t.height),
        (e.isPrimary = t.isPrimary),
        (e.pointerType = t.pointerType),
        (e.pressure = t.pressure),
        (e.tangentialPressure = t.tangentialPressure),
        (e.tiltX = t.tiltX),
        (e.tiltY = t.tiltY),
        (e.twist = t.twist),
        this._transferMouseData(e, t),
        this.mapPositionToPoint(e.screen, t.clientX, t.clientY),
        e.global.copyFrom(e.screen),
        e.offset.copyFrom(e.screen),
        (e.isTrusted = t.isTrusted),
        e.type === "pointerleave" && (e.type = "pointerout"),
        e.type.startsWith("mouse") &&
          (e.type = e.type.replace("mouse", "pointer")),
        e.type.startsWith("touch") && (e.type = a6[e.type] || e.type),
        e
      );
    }
    _transferMouseData(e, t) {
      (e.isTrusted = t.isTrusted),
        (e.srcElement = t.srcElement),
        (e.timeStamp = performance.now()),
        (e.type = t.type),
        (e.altKey = t.altKey),
        (e.button = t.button),
        (e.buttons = t.buttons),
        (e.client.x = t.clientX),
        (e.client.y = t.clientY),
        (e.ctrlKey = t.ctrlKey),
        (e.metaKey = t.metaKey),
        (e.movement.x = t.movementX),
        (e.movement.y = t.movementY),
        (e.page.x = t.pageX),
        (e.page.y = t.pageY),
        (e.relatedTarget = null),
        (e.shiftKey = t.shiftKey);
    }
  };
jg.extension = {
  name: "events",
  type: [D.WebGLSystem, D.CanvasSystem, D.WebGPUSystem],
  priority: -1,
};
jg.defaultEventFeatures = { move: !0, globalMove: !0, click: !0, wheel: !0 };
let nS = jg;
const o6 = {
    onclick: null,
    onmousedown: null,
    onmouseenter: null,
    onmouseleave: null,
    onmousemove: null,
    onglobalmousemove: null,
    onmouseout: null,
    onmouseover: null,
    onmouseup: null,
    onmouseupoutside: null,
    onpointercancel: null,
    onpointerdown: null,
    onpointerenter: null,
    onpointerleave: null,
    onpointermove: null,
    onglobalpointermove: null,
    onpointerout: null,
    onpointerover: null,
    onpointertap: null,
    onpointerup: null,
    onpointerupoutside: null,
    onrightclick: null,
    onrightdown: null,
    onrightup: null,
    onrightupoutside: null,
    ontap: null,
    ontouchcancel: null,
    ontouchend: null,
    ontouchendoutside: null,
    ontouchmove: null,
    onglobaltouchmove: null,
    ontouchstart: null,
    onwheel: null,
    get interactive() {
      return this.eventMode === "dynamic" || this.eventMode === "static";
    },
    set interactive(r) {
      this.eventMode = r ? "static" : "passive";
    },
    _internalEventMode: void 0,
    get eventMode() {
      return this._internalEventMode ?? nS.defaultEventMode;
    },
    set eventMode(r) {
      this._internalEventMode = r;
    },
    isInteractive() {
      return this.eventMode === "static" || this.eventMode === "dynamic";
    },
    interactiveChildren: !0,
    hitArea: null,
    addEventListener(r, e, t) {
      const s =
          (typeof t == "boolean" && t) || (typeof t == "object" && t.capture),
        n = typeof t == "object" ? t.signal : void 0,
        i = typeof t == "object" ? t.once === !0 : !1,
        l = typeof e == "function" ? void 0 : e;
      r = s ? `${r}capture` : r;
      const c = typeof e == "function" ? e : e.handleEvent,
        d = this;
      n &&
        n.addEventListener("abort", () => {
          d.off(r, c, l);
        }),
        i ? d.once(r, c, l) : d.on(r, c, l);
    },
    removeEventListener(r, e, t) {
      const s =
          (typeof t == "boolean" && t) || (typeof t == "object" && t.capture),
        n = typeof e == "function" ? void 0 : e;
      (r = s ? `${r}capture` : r),
        (e = typeof e == "function" ? e : e.handleEvent),
        this.off(r, e, n);
    },
    dispatchEvent(r) {
      if (!(r instanceof fl))
        throw new Error(
          "Container cannot propagate events outside of the Federated Events API"
        );
      return (
        (r.defaultPrevented = !1),
        (r.path = null),
        (r.target = this),
        r.manager.dispatchEvent(r),
        !r.defaultPrevented
      );
    },
  },
  iS = {
    5: [0.153388, 0.221461, 0.250301],
    7: [0.071303, 0.131514, 0.189879, 0.214607],
    9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
    11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
    13: [0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
    15: [
      489e-6, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697,
      0.197448,
    ],
  },
  l6 = [
    "in vec2 vBlurTexCoords[%size%];",
    "uniform sampler2D uTexture;",
    "out vec4 finalColor;",
    "void main(void)",
    "{",
    "    finalColor = vec4(0.0);",
    "    %blur%",
    "}",
  ].join(`
`);
function c6(r) {
  const e = iS[r],
    t = e.length;
  let s = l6,
    n = "";
  const i =
    "finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";
  let l;
  for (let c = 0; c < r; c++) {
    let d = i.replace("%index%", c.toString());
    (l = c),
      c >= t && (l = r - c - 1),
      (d = d.replace("%value%", e[l].toString())),
      (n += d),
      (n += `
`);
  }
  return (
    (s = s.replace("%blur%", n)), (s = s.replace("%size%", r.toString())), s
  );
}
const u6 = `
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function d6(r, e) {
  const t = Math.ceil(r / 2);
  let s = u6,
    n = "",
    i;
  e
    ? (i =
        "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);")
    : (i =
        "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);");
  for (let l = 0; l < r; l++) {
    let c = i.replace("%index%", l.toString());
    (c = c.replace("%sampleIndex%", `${l - (t - 1)}.0`)),
      (n += c),
      (n += `
`);
  }
  return (
    (s = s.replace("%blur%", n)),
    (s = s.replace("%size%", r.toString())),
    (s = s.replace("%dimension%", e ? "z" : "w")),
    s
  );
}
function h6(r, e) {
  const t = d6(e, r),
    s = c6(e);
  return Bi.from({
    vertex: t,
    fragment: s,
    name: `blur-${r ? "horizontal" : "vertical"}-pass-filter`,
  });
}
var f6 = `

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;
function p6(r, e) {
  const t = iS[e],
    s = t.length,
    n = [],
    i = [],
    l = [];
  for (let h = 0; h < e; h++) {
    (n[h] = `@location(${h}) offset${h}: vec2<f32>,`),
      r
        ? (i[h] = `filteredCord + vec2(${h - s + 1} * pixelStrength, 0.0),`)
        : (i[h] = `filteredCord + vec2(0.0, ${h - s + 1} * pixelStrength),`);
    const g = h < s ? h : e - h - 1,
      x = t[g].toString();
    l[
      h
    ] = `finalColor += textureSample(uTexture, uSampler, offset${h}) * ${x};`;
  }
  const c = n.join(`
`),
    d = i.join(`
`),
    f = l.join(`
`),
    m = f6
      .replace("%blur-struct%", c)
      .replace("%blur-vertex-out%", d)
      .replace("%blur-fragment-in%", c)
      .replace("%blur-sampling%", f)
      .replace("%dimension%", r ? "z" : "w");
  return Qn.from({
    vertex: { source: m, entryPoint: "mainVertex" },
    fragment: { source: m, entryPoint: "mainFragment" },
  });
}
const aS = class oS extends lg {
  constructor(e) {
    e = { ...oS.defaultOptions, ...e };
    const t = h6(e.horizontal, e.kernelSize),
      s = p6(e.horizontal, e.kernelSize);
    super({
      glProgram: t,
      gpuProgram: s,
      resources: { blurUniforms: { uStrength: { value: 0, type: "f32" } } },
      ...e,
    }),
      (this.horizontal = e.horizontal),
      (this._quality = 0),
      (this.quality = e.quality),
      (this.blur = e.strength),
      (this._uniforms = this.resources.blurUniforms.uniforms);
  }
  apply(e, t, s, n) {
    if (
      ((this._uniforms.uStrength = this.strength / this.passes),
      this.passes === 1)
    )
      e.applyFilter(this, t, s, n);
    else {
      const i = Gt.getSameSizeTexture(t);
      let l = t,
        c = i;
      this._state.blend = !1;
      const d = e.renderer.type === Xr.WEBGPU;
      for (let f = 0; f < this.passes - 1; f++) {
        e.applyFilter(this, l, c, f === 0 ? !0 : d);
        const m = c;
        (c = l), (l = m);
      }
      (this._state.blend = !0),
        e.applyFilter(this, l, s, n),
        Gt.returnTexture(i);
    }
  }
  get blur() {
    return this.strength;
  }
  set blur(e) {
    (this.padding = 1 + Math.abs(e) * 2), (this.strength = e);
  }
  get quality() {
    return this._quality;
  }
  set quality(e) {
    (this._quality = e), (this.passes = e);
  }
};
aS.defaultOptions = { strength: 8, quality: 4, kernelSize: 5 };
let yp = aS;
class Am extends lg {
  constructor(...e) {
    let t = e[0] ?? {};
    typeof t == "number" &&
      (De(
        st,
        "BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"
      ),
      (t = { strength: t }),
      e[1] !== void 0 && (t.quality = e[1]),
      e[2] !== void 0 && (t.resolution = e[2] || "inherit"),
      e[3] !== void 0 && (t.kernelSize = e[3])),
      (t = { ...yp.defaultOptions, ...t });
    const { strength: s, strengthX: n, strengthY: i, quality: l, ...c } = t;
    super({ ...c, compatibleRenderers: Xr.BOTH, resources: {} }),
      (this._repeatEdgePixels = !1),
      (this.blurXFilter = new yp({ horizontal: !0, ...t })),
      (this.blurYFilter = new yp({ horizontal: !1, ...t })),
      (this.quality = l),
      (this.strengthX = n ?? s),
      (this.strengthY = i ?? s),
      (this.repeatEdgePixels = !1);
  }
  apply(e, t, s, n) {
    const i = Math.abs(this.blurXFilter.strength),
      l = Math.abs(this.blurYFilter.strength);
    if (i && l) {
      const c = Gt.getSameSizeTexture(t);
      (this.blurXFilter.blendMode = "normal"),
        this.blurXFilter.apply(e, t, c, !0),
        (this.blurYFilter.blendMode = this.blendMode),
        this.blurYFilter.apply(e, c, s, n),
        Gt.returnTexture(c);
    } else
      l
        ? ((this.blurYFilter.blendMode = this.blendMode),
          this.blurYFilter.apply(e, t, s, n))
        : ((this.blurXFilter.blendMode = this.blendMode),
          this.blurXFilter.apply(e, t, s, n));
  }
  updatePadding() {
    this._repeatEdgePixels
      ? (this.padding = 0)
      : (this.padding =
          Math.max(
            Math.abs(this.blurXFilter.blur),
            Math.abs(this.blurYFilter.blur)
          ) * 2);
  }
  get strength() {
    if (this.strengthX !== this.strengthY)
      throw new Error("BlurFilter's strengthX and strengthY are different");
    return this.strengthX;
  }
  set strength(e) {
    (this.blurXFilter.blur = this.blurYFilter.blur = e), this.updatePadding();
  }
  get quality() {
    return this.blurXFilter.quality;
  }
  set quality(e) {
    this.blurXFilter.quality = this.blurYFilter.quality = e;
  }
  get strengthX() {
    return this.blurXFilter.blur;
  }
  set strengthX(e) {
    (this.blurXFilter.blur = e), this.updatePadding();
  }
  get strengthY() {
    return this.blurYFilter.blur;
  }
  set strengthY(e) {
    (this.blurYFilter.blur = e), this.updatePadding();
  }
  get blur() {
    return (
      De(
        "8.3.0",
        "BlurFilter.blur is deprecated, please use BlurFilter.strength instead."
      ),
      this.strength
    );
  }
  set blur(e) {
    De(
      "8.3.0",
      "BlurFilter.blur is deprecated, please use BlurFilter.strength instead."
    ),
      (this.strength = e);
  }
  get blurX() {
    return (
      De(
        "8.3.0",
        "BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."
      ),
      this.strengthX
    );
  }
  set blurX(e) {
    De(
      "8.3.0",
      "BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."
    ),
      (this.strengthX = e);
  }
  get blurY() {
    return (
      De(
        "8.3.0",
        "BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."
      ),
      this.strengthY
    );
  }
  set blurY(e) {
    De(
      "8.3.0",
      "BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."
    ),
      (this.strengthY = e);
  }
  get repeatEdgePixels() {
    return this._repeatEdgePixels;
  }
  set repeatEdgePixels(e) {
    (this._repeatEdgePixels = e), this.updatePadding();
  }
}
Am.defaultOptions = { strength: 8, quality: 4, kernelSize: 5 };
class lS {
  constructor(e) {
    this._renderer = e;
  }
  push(e, t, s) {
    this._renderer.renderPipes.batch.break(s),
      s.add({
        renderPipeId: "filter",
        canBundle: !1,
        action: "pushFilter",
        container: t,
        filterEffect: e,
      });
  }
  pop(e, t, s) {
    this._renderer.renderPipes.batch.break(s),
      s.add({ renderPipeId: "filter", action: "popFilter", canBundle: !1 });
  }
  execute(e) {
    e.action === "pushFilter"
      ? this._renderer.filter.push(e)
      : e.action === "popFilter" && this._renderer.filter.pop();
  }
  destroy() {
    this._renderer = null;
  }
}
lS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "filter",
};
function m6(r, e) {
  e.clear();
  const t = e.matrix;
  for (let s = 0; s < r.length; s++) {
    const n = r[s];
    n.globalDisplayStatus < 7 ||
      ((e.matrix = n.worldTransform), e.addBounds(n.bounds));
  }
  return (e.matrix = t), e;
}
const g6 = new pl({
  attributes: {
    aPosition: {
      buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      format: "float32x2",
      stride: 8,
      offset: 0,
    },
  },
  indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3]),
});
class x6 {
  constructor() {
    (this.skip = !1),
      (this.inputTexture = null),
      (this.backTexture = null),
      (this.filters = null),
      (this.bounds = new wr()),
      (this.container = null),
      (this.blendRequired = !1),
      (this.outputRenderSurface = null),
      (this.globalFrame = { x: 0, y: 0, width: 0, height: 0 });
  }
}
class cS {
  constructor(e) {
    (this._filterStackIndex = 0),
      (this._filterStack = []),
      (this._filterGlobalUniforms = new kr({
        uInputSize: { value: new Float32Array(4), type: "vec4<f32>" },
        uInputPixel: { value: new Float32Array(4), type: "vec4<f32>" },
        uInputClamp: { value: new Float32Array(4), type: "vec4<f32>" },
        uOutputFrame: { value: new Float32Array(4), type: "vec4<f32>" },
        uGlobalFrame: { value: new Float32Array(4), type: "vec4<f32>" },
        uOutputTexture: { value: new Float32Array(4), type: "vec4<f32>" },
      })),
      (this._globalFilterBindGroup = new un({})),
      (this.renderer = e);
  }
  get activeBackTexture() {
    return this._activeFilterData?.backTexture;
  }
  push(e) {
    const t = this.renderer,
      s = e.filterEffect.filters,
      n = this._pushFilterData();
    (n.skip = !1),
      (n.filters = s),
      (n.container = e.container),
      (n.outputRenderSurface = t.renderTarget.renderSurface);
    const i = t.renderTarget.renderTarget.colorTexture.source,
      l = i.resolution,
      c = i.antialias;
    if (s.length === 0) {
      n.skip = !0;
      return;
    }
    const d = n.bounds;
    if (
      (this._calculateFilterArea(e, d),
      this._calculateFilterBounds(n, t.renderTarget.rootViewPort, c, l, 1),
      n.skip)
    )
      return;
    const f = this._getPreviousFilterData(),
      m = this._findFilterResolution(l);
    let h = 0,
      g = 0;
    f && ((h = f.bounds.minX), (g = f.bounds.minY)),
      this._calculateGlobalFrame(n, h, g, m, i.width, i.height),
      this._setupFilterTextures(n, d, t, f);
  }
  generateFilteredTexture({ texture: e, filters: t }) {
    const s = this._pushFilterData();
    (this._activeFilterData = s), (s.skip = !1), (s.filters = t);
    const n = e.source,
      i = n.resolution,
      l = n.antialias;
    if (t.length === 0) return (s.skip = !0), e;
    const c = s.bounds;
    if (
      (c.addRect(e.frame),
      this._calculateFilterBounds(s, c.rectangle, l, i, 0),
      s.skip)
    )
      return e;
    const d = i;
    this._calculateGlobalFrame(s, 0, 0, d, n.width, n.height),
      (s.outputRenderSurface = Gt.getOptimalTexture(
        c.width,
        c.height,
        s.resolution,
        s.antialias
      )),
      (s.backTexture = Se.EMPTY),
      (s.inputTexture = e),
      this.renderer.renderTarget.finishRenderPass(),
      this._applyFiltersToTexture(s, !0);
    const g = s.outputRenderSurface;
    return (g.source.alphaMode = "premultiplied-alpha"), g;
  }
  pop() {
    const e = this.renderer,
      t = this._popFilterData();
    t.skip ||
      (e.globalUniforms.pop(),
      e.renderTarget.finishRenderPass(),
      (this._activeFilterData = t),
      this._applyFiltersToTexture(t, !1),
      t.blendRequired && Gt.returnTexture(t.backTexture),
      Gt.returnTexture(t.inputTexture));
  }
  getBackTexture(e, t, s) {
    const n = e.colorTexture.source._resolution,
      i = Gt.getOptimalTexture(t.width, t.height, n, !1);
    let l = t.minX,
      c = t.minY;
    s && ((l -= s.minX), (c -= s.minY)),
      (l = Math.floor(l * n)),
      (c = Math.floor(c * n));
    const d = Math.ceil(t.width * n),
      f = Math.ceil(t.height * n);
    return (
      this.renderer.renderTarget.copyToTexture(
        e,
        i,
        { x: l, y: c },
        { width: d, height: f },
        { x: 0, y: 0 }
      ),
      i
    );
  }
  applyFilter(e, t, s, n) {
    const i = this.renderer,
      l = this._activeFilterData,
      d = l.outputRenderSurface === s,
      f = i.renderTarget.rootRenderTarget.colorTexture.source._resolution,
      m = this._findFilterResolution(f);
    let h = 0,
      g = 0;
    if (d) {
      const x = this._findPreviousFilterOffset();
      (h = x.x), (g = x.y);
    }
    this._updateFilterUniforms(t, s, l, h, g, m, d, n),
      this._setupBindGroupsAndRender(e, t, i);
  }
  calculateSpriteMatrix(e, t) {
    const s = this._activeFilterData,
      n = e.set(
        s.inputTexture._source.width,
        0,
        0,
        s.inputTexture._source.height,
        s.bounds.minX,
        s.bounds.minY
      ),
      i = t.worldTransform.copyTo(ke.shared),
      l = t.renderGroup || t.parentRenderGroup;
    return (
      l && l.cacheToLocalTransform && i.prepend(l.cacheToLocalTransform),
      i.invert(),
      n.prepend(i),
      n.scale(1 / t.texture.orig.width, 1 / t.texture.orig.height),
      n.translate(t.anchor.x, t.anchor.y),
      n
    );
  }
  destroy() {}
  _setupBindGroupsAndRender(e, t, s) {
    if (s.renderPipes.uniformBatch) {
      const n = s.renderPipes.uniformBatch.getUboResource(
        this._filterGlobalUniforms
      );
      this._globalFilterBindGroup.setResource(n, 0);
    } else
      this._globalFilterBindGroup.setResource(this._filterGlobalUniforms, 0);
    this._globalFilterBindGroup.setResource(t.source, 1),
      this._globalFilterBindGroup.setResource(t.source.style, 2),
      (e.groups[0] = this._globalFilterBindGroup),
      s.encoder.draw({
        geometry: g6,
        shader: e,
        state: e._state,
        topology: "triangle-list",
      }),
      s.type === Xr.WEBGL && s.renderTarget.finishRenderPass();
  }
  _setupFilterTextures(e, t, s, n) {
    if (((e.backTexture = Se.EMPTY), e.blendRequired)) {
      s.renderTarget.finishRenderPass();
      const i = s.renderTarget.getRenderTarget(e.outputRenderSurface);
      e.backTexture = this.getBackTexture(i, t, n?.bounds);
    }
    (e.inputTexture = Gt.getOptimalTexture(
      t.width,
      t.height,
      e.resolution,
      e.antialias
    )),
      s.renderTarget.bind(e.inputTexture, !0),
      s.globalUniforms.push({ offset: t });
  }
  _calculateGlobalFrame(e, t, s, n, i, l) {
    const c = e.globalFrame;
    (c.x = t * n), (c.y = s * n), (c.width = i * n), (c.height = l * n);
  }
  _updateFilterUniforms(e, t, s, n, i, l, c, d) {
    const f = this._filterGlobalUniforms.uniforms,
      m = f.uOutputFrame,
      h = f.uInputSize,
      g = f.uInputPixel,
      x = f.uInputClamp,
      v = f.uGlobalFrame,
      w = f.uOutputTexture;
    c
      ? ((m[0] = s.bounds.minX - n), (m[1] = s.bounds.minY - i))
      : ((m[0] = 0), (m[1] = 0)),
      (m[2] = e.frame.width),
      (m[3] = e.frame.height),
      (h[0] = e.source.width),
      (h[1] = e.source.height),
      (h[2] = 1 / h[0]),
      (h[3] = 1 / h[1]),
      (g[0] = e.source.pixelWidth),
      (g[1] = e.source.pixelHeight),
      (g[2] = 1 / g[0]),
      (g[3] = 1 / g[1]),
      (x[0] = 0.5 * g[2]),
      (x[1] = 0.5 * g[3]),
      (x[2] = e.frame.width * h[2] - 0.5 * g[2]),
      (x[3] = e.frame.height * h[3] - 0.5 * g[3]);
    const _ = this.renderer.renderTarget.rootRenderTarget.colorTexture;
    (v[0] = n * l),
      (v[1] = i * l),
      (v[2] = _.source.width * l),
      (v[3] = _.source.height * l),
      t instanceof Se && (t.source.resource = null);
    const S = this.renderer.renderTarget.getRenderTarget(t);
    this.renderer.renderTarget.bind(t, !!d),
      t instanceof Se
        ? ((w[0] = t.frame.width), (w[1] = t.frame.height))
        : ((w[0] = S.width), (w[1] = S.height)),
      (w[2] = S.isRoot ? -1 : 1),
      this._filterGlobalUniforms.update();
  }
  _findFilterResolution(e) {
    let t = this._filterStackIndex - 1;
    for (; t > 0 && this._filterStack[t].skip; ) --t;
    return t > 0 && this._filterStack[t].inputTexture
      ? this._filterStack[t].inputTexture.source._resolution
      : e;
  }
  _findPreviousFilterOffset() {
    let e = 0,
      t = 0,
      s = this._filterStackIndex;
    for (; s > 0; ) {
      s--;
      const n = this._filterStack[s];
      if (!n.skip) {
        (e = n.bounds.minX), (t = n.bounds.minY);
        break;
      }
    }
    return { x: e, y: t };
  }
  _calculateFilterArea(e, t) {
    if (
      (e.renderables
        ? m6(e.renderables, t)
        : e.filterEffect.filterArea
        ? (t.clear(),
          t.addRect(e.filterEffect.filterArea),
          t.applyMatrix(e.container.worldTransform))
        : e.container.getFastGlobalBounds(!0, t),
      e.container)
    ) {
      const n = (e.container.renderGroup || e.container.parentRenderGroup)
        .cacheToLocalTransform;
      n && t.applyMatrix(n);
    }
  }
  _applyFiltersToTexture(e, t) {
    const s = e.inputTexture,
      n = e.bounds,
      i = e.filters;
    if (
      (this._globalFilterBindGroup.setResource(s.source.style, 2),
      this._globalFilterBindGroup.setResource(e.backTexture.source, 3),
      i.length === 1)
    )
      i[0].apply(this, s, e.outputRenderSurface, t);
    else {
      let l = e.inputTexture;
      const c = Gt.getOptimalTexture(
        n.width,
        n.height,
        l.source._resolution,
        !1
      );
      let d = c,
        f = 0;
      for (f = 0; f < i.length - 1; ++f) {
        i[f].apply(this, l, d, !0);
        const h = l;
        (l = d), (d = h);
      }
      i[f].apply(this, l, e.outputRenderSurface, t), Gt.returnTexture(c);
    }
  }
  _calculateFilterBounds(e, t, s, n, i) {
    const l = this.renderer,
      c = e.bounds,
      d = e.filters;
    let f = 1 / 0,
      m = 0,
      h = !0,
      g = !1,
      x = !1,
      v = !0;
    for (let w = 0; w < d.length; w++) {
      const _ = d[w];
      if (
        ((f = Math.min(f, _.resolution === "inherit" ? n : _.resolution)),
        (m += _.padding),
        _.antialias === "off"
          ? (h = !1)
          : _.antialias === "inherit" && h && (h = s),
        _.clipToViewport || (v = !1),
        !!!(_.compatibleRenderers & l.type))
      ) {
        x = !1;
        break;
      }
      if (_.blendRequired && !(l.backBuffer?.useBackBuffer ?? !0)) {
        Re(
          "Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."
        ),
          (x = !1);
        break;
      }
      (x = _.enabled || x), g || (g = _.blendRequired);
    }
    if (!x) {
      e.skip = !0;
      return;
    }
    if (
      (v && c.fitBounds(0, t.width / n, 0, t.height / n),
      c
        .scale(f)
        .ceil()
        .scale(1 / f)
        .pad((m | 0) * i),
      !c.isPositive)
    ) {
      e.skip = !0;
      return;
    }
    (e.antialias = h), (e.resolution = f), (e.blendRequired = g);
  }
  _popFilterData() {
    return this._filterStackIndex--, this._filterStack[this._filterStackIndex];
  }
  _getPreviousFilterData() {
    let e,
      t = this._filterStackIndex - 1;
    for (; t > 1 && (t--, (e = this._filterStack[t]), !!e.skip); );
    return e;
  }
  _pushFilterData() {
    let e = this._filterStack[this._filterStackIndex];
    return (
      e || (e = this._filterStack[this._filterStackIndex] = new x6()),
      this._filterStackIndex++,
      e
    );
  }
}
cS.extension = { type: [D.WebGLSystem, D.WebGPUSystem], name: "filter" };
var y6 = `in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,
  v6 = `in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,
  lb = `struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;
class _6 extends lg {
  constructor(e) {
    const { sprite: t, ...s } = e,
      n = new O2(t.texture),
      i = new kr({
        uFilterMatrix: { value: new ke(), type: "mat3x3<f32>" },
        uMaskClamp: { value: n.uClampFrame, type: "vec4<f32>" },
        uAlpha: { value: 1, type: "f32" },
        uInverse: { value: e.inverse ? 1 : 0, type: "f32" },
      }),
      l = Qn.from({
        vertex: { source: lb, entryPoint: "mainVertex" },
        fragment: { source: lb, entryPoint: "mainFragment" },
      }),
      c = Bi.from({ vertex: v6, fragment: y6, name: "mask-filter" });
    super({
      ...s,
      gpuProgram: l,
      glProgram: c,
      clipToViewport: !1,
      resources: { filterUniforms: i, uMaskTexture: t.texture.source },
    }),
      (this.sprite = t),
      (this._textureMatrix = n);
  }
  set inverse(e) {
    this.resources.filterUniforms.uniforms.uInverse = e ? 1 : 0;
  }
  get inverse() {
    return this.resources.filterUniforms.uniforms.uInverse === 1;
  }
  apply(e, t, s, n) {
    (this._textureMatrix.texture = this.sprite.texture),
      e
        .calculateSpriteMatrix(
          this.resources.filterUniforms.uniforms.uFilterMatrix,
          this.sprite
        )
        .prepend(this._textureMatrix.mapCoord),
      (this.resources.uMaskTexture = this.sprite.texture.source),
      e.applyFilter(this, t, s, n);
  }
}
class Be extends ag {
  constructor(e) {
    e instanceof ss && (e = { context: e });
    const { context: t, roundPixels: s, ...n } = e || {};
    super({ label: "Graphics", ...n }),
      (this.renderPipeId = "graphics"),
      t ? (this._context = t) : (this._context = this._ownedContext = new ss()),
      this._context.on("update", this.onViewUpdate, this),
      (this.didViewUpdate = !0),
      (this.allowChildren = !1),
      (this.roundPixels = s ?? !1);
  }
  set context(e) {
    e !== this._context &&
      (this._context.off("update", this.onViewUpdate, this),
      (this._context = e),
      this._context.on("update", this.onViewUpdate, this),
      this.onViewUpdate());
  }
  get context() {
    return this._context;
  }
  get bounds() {
    return this._context.bounds;
  }
  updateBounds() {}
  containsPoint(e) {
    return this._context.containsPoint(e);
  }
  destroy(e) {
    this._ownedContext && !e
      ? this._ownedContext.destroy(e)
      : (e === !0 || e?.context === !0) && this._context.destroy(e),
      (this._ownedContext = null),
      (this._context = null),
      super.destroy(e);
  }
  _callContextMethod(e, t) {
    return this.context[e](...t), this;
  }
  setFillStyle(...e) {
    return this._callContextMethod("setFillStyle", e);
  }
  setStrokeStyle(...e) {
    return this._callContextMethod("setStrokeStyle", e);
  }
  fill(...e) {
    return this._callContextMethod("fill", e);
  }
  stroke(...e) {
    return this._callContextMethod("stroke", e);
  }
  texture(...e) {
    return this._callContextMethod("texture", e);
  }
  beginPath() {
    return this._callContextMethod("beginPath", []);
  }
  cut() {
    return this._callContextMethod("cut", []);
  }
  arc(...e) {
    return this._callContextMethod("arc", e);
  }
  arcTo(...e) {
    return this._callContextMethod("arcTo", e);
  }
  arcToSvg(...e) {
    return this._callContextMethod("arcToSvg", e);
  }
  bezierCurveTo(...e) {
    return this._callContextMethod("bezierCurveTo", e);
  }
  closePath() {
    return this._callContextMethod("closePath", []);
  }
  ellipse(...e) {
    return this._callContextMethod("ellipse", e);
  }
  circle(...e) {
    return this._callContextMethod("circle", e);
  }
  path(...e) {
    return this._callContextMethod("path", e);
  }
  lineTo(...e) {
    return this._callContextMethod("lineTo", e);
  }
  moveTo(...e) {
    return this._callContextMethod("moveTo", e);
  }
  quadraticCurveTo(...e) {
    return this._callContextMethod("quadraticCurveTo", e);
  }
  rect(...e) {
    return this._callContextMethod("rect", e);
  }
  roundRect(...e) {
    return this._callContextMethod("roundRect", e);
  }
  poly(...e) {
    return this._callContextMethod("poly", e);
  }
  regularPoly(...e) {
    return this._callContextMethod("regularPoly", e);
  }
  roundPoly(...e) {
    return this._callContextMethod("roundPoly", e);
  }
  roundShape(...e) {
    return this._callContextMethod("roundShape", e);
  }
  filletRect(...e) {
    return this._callContextMethod("filletRect", e);
  }
  chamferRect(...e) {
    return this._callContextMethod("chamferRect", e);
  }
  star(...e) {
    return this._callContextMethod("star", e);
  }
  svg(...e) {
    return this._callContextMethod("svg", e);
  }
  restore(...e) {
    return this._callContextMethod("restore", e);
  }
  save() {
    return this._callContextMethod("save", []);
  }
  getTransform() {
    return this.context.getTransform();
  }
  resetTransform() {
    return this._callContextMethod("resetTransform", []);
  }
  rotateTransform(...e) {
    return this._callContextMethod("rotate", e);
  }
  scaleTransform(...e) {
    return this._callContextMethod("scale", e);
  }
  setTransform(...e) {
    return this._callContextMethod("setTransform", e);
  }
  transform(...e) {
    return this._callContextMethod("transform", e);
  }
  translateTransform(...e) {
    return this._callContextMethod("translate", e);
  }
  clear() {
    return this._callContextMethod("clear", []);
  }
  get fillStyle() {
    return this._context.fillStyle;
  }
  set fillStyle(e) {
    this._context.fillStyle = e;
  }
  get strokeStyle() {
    return this._context.strokeStyle;
  }
  set strokeStyle(e) {
    this._context.strokeStyle = e;
  }
  clone(e = !1) {
    return e
      ? new Be(this._context.clone())
      : ((this._ownedContext = null), new Be(this._context));
  }
  lineStyle(e, t, s) {
    De(
      st,
      "Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style."
    );
    const n = {};
    return (
      e && (n.width = e),
      t && (n.color = t),
      s && (n.alpha = s),
      (this.context.strokeStyle = n),
      this
    );
  }
  beginFill(e, t) {
    De(
      st,
      "Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."
    );
    const s = {};
    return (
      e !== void 0 && (s.color = e),
      t !== void 0 && (s.alpha = t),
      (this.context.fillStyle = s),
      this
    );
  }
  endFill() {
    De(
      st,
      "Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."
    ),
      this.context.fill();
    const e = this.context.strokeStyle;
    return (
      (e.width !== ss.defaultStrokeStyle.width ||
        e.color !== ss.defaultStrokeStyle.color ||
        e.alpha !== ss.defaultStrokeStyle.alpha) &&
        this.context.stroke(),
      this
    );
  }
  drawCircle(...e) {
    return (
      De(st, "Graphics#drawCircle has been renamed to Graphics#circle"),
      this._callContextMethod("circle", e)
    );
  }
  drawEllipse(...e) {
    return (
      De(st, "Graphics#drawEllipse has been renamed to Graphics#ellipse"),
      this._callContextMethod("ellipse", e)
    );
  }
  drawPolygon(...e) {
    return (
      De(st, "Graphics#drawPolygon has been renamed to Graphics#poly"),
      this._callContextMethod("poly", e)
    );
  }
  drawRect(...e) {
    return (
      De(st, "Graphics#drawRect has been renamed to Graphics#rect"),
      this._callContextMethod("rect", e)
    );
  }
  drawRoundedRect(...e) {
    return (
      De(st, "Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),
      this._callContextMethod("roundRect", e)
    );
  }
  drawStar(...e) {
    return (
      De(st, "Graphics#drawStar has been renamed to Graphics#star"),
      this._callContextMethod("star", e)
    );
  }
}
const uS = class dS extends pl {
  constructor(...e) {
    let t = e[0] ?? {};
    t instanceof Float32Array &&
      (De(st, "use new MeshGeometry({ positions, uvs, indices }) instead"),
      (t = { positions: t, uvs: e[1], indices: e[2] })),
      (t = { ...dS.defaultOptions, ...t });
    const s = t.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);
    let n = t.uvs;
    n ||
      (t.positions
        ? (n = new Float32Array(s.length))
        : (n = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])));
    const i = t.indices || new Uint32Array([0, 1, 2, 0, 2, 3]),
      l = t.shrinkBuffersToFit,
      c = new Vr({
        data: s,
        label: "attribute-mesh-positions",
        shrinkToFit: l,
        usage: tt.VERTEX | tt.COPY_DST,
      }),
      d = new Vr({
        data: n,
        label: "attribute-mesh-uvs",
        shrinkToFit: l,
        usage: tt.VERTEX | tt.COPY_DST,
      }),
      f = new Vr({
        data: i,
        label: "index-mesh-buffer",
        shrinkToFit: l,
        usage: tt.INDEX | tt.COPY_DST,
      });
    super({
      attributes: {
        aPosition: { buffer: c, format: "float32x2", stride: 8, offset: 0 },
        aUV: { buffer: d, format: "float32x2", stride: 8, offset: 0 },
      },
      indexBuffer: f,
      topology: t.topology,
    }),
      (this.batchMode = "auto");
  }
  get positions() {
    return this.attributes.aPosition.buffer.data;
  }
  set positions(e) {
    this.attributes.aPosition.buffer.data = e;
  }
  get uvs() {
    return this.attributes.aUV.buffer.data;
  }
  set uvs(e) {
    this.attributes.aUV.buffer.data = e;
  }
  get indices() {
    return this.indexBuffer.data;
  }
  set indices(e) {
    this.indexBuffer.data = e;
  }
};
uS.defaultOptions = { topology: "triangle-list", shrinkBuffersToFit: !1 };
let kg = uS;
class hS extends ag {
  constructor(e, t) {
    const {
      text: s,
      resolution: n,
      style: i,
      anchor: l,
      width: c,
      height: d,
      roundPixels: f,
      ...m
    } = e;
    super({ ...m }),
      (this.batched = !0),
      (this._resolution = null),
      (this._autoResolution = !0),
      (this._didTextUpdate = !0),
      (this._styleClass = t),
      (this.text = s ?? ""),
      (this.style = i),
      (this.resolution = n ?? null),
      (this.allowChildren = !1),
      (this._anchor = new lr({
        _onUpdate: () => {
          this.onViewUpdate();
        },
      })),
      l && (this.anchor = l),
      (this.roundPixels = f ?? !1),
      c !== void 0 && (this.width = c),
      d !== void 0 && (this.height = d);
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(e) {
    typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e);
  }
  set text(e) {
    (e = e.toString()),
      this._text !== e && ((this._text = e), this.onViewUpdate());
  }
  get text() {
    return this._text;
  }
  set resolution(e) {
    (this._autoResolution = e === null),
      (this._resolution = e),
      this.onViewUpdate();
  }
  get resolution() {
    return this._resolution;
  }
  get style() {
    return this._style;
  }
  set style(e) {
    e || (e = {}),
      this._style?.off("update", this.onViewUpdate, this),
      e instanceof this._styleClass
        ? (this._style = e)
        : (this._style = new this._styleClass(e)),
      this._style.on("update", this.onViewUpdate, this),
      this.onViewUpdate();
  }
  get width() {
    return Math.abs(this.scale.x) * this.bounds.width;
  }
  set width(e) {
    this._setWidth(e, this.bounds.width);
  }
  get height() {
    return Math.abs(this.scale.y) * this.bounds.height;
  }
  set height(e) {
    this._setHeight(e, this.bounds.height);
  }
  getSize(e) {
    return (
      e || (e = {}),
      (e.width = Math.abs(this.scale.x) * this.bounds.width),
      (e.height = Math.abs(this.scale.y) * this.bounds.height),
      e
    );
  }
  setSize(e, t) {
    typeof e == "object"
      ? ((t = e.height ?? e.width), (e = e.width))
      : t ?? (t = e),
      e !== void 0 && this._setWidth(e, this.bounds.width),
      t !== void 0 && this._setHeight(t, this.bounds.height);
  }
  containsPoint(e) {
    const t = this.bounds.width,
      s = this.bounds.height,
      n = -t * this.anchor.x;
    let i = 0;
    return (
      e.x >= n &&
      e.x <= n + t &&
      ((i = -s * this.anchor.y), e.y >= i && e.y <= i + s)
    );
  }
  onViewUpdate() {
    this.didViewUpdate || (this._didTextUpdate = !0), super.onViewUpdate();
  }
  destroy(e = !1) {
    super.destroy(e),
      (this.owner = null),
      (this._bounds = null),
      (this._anchor = null),
      (typeof e == "boolean" ? e : e?.style) && this._style.destroy(e),
      (this._style = null),
      (this._text = null);
  }
}
function fS(r, e) {
  let t = r[0] ?? {};
  return (
    (typeof t == "string" || r[1]) &&
      (De(st, `use new ${e}({ text: "hi!", style }) instead`),
      (t = { text: t, style: r[1] })),
    t
  );
}
let pi = null,
  an = null;
function b6(r, e) {
  pi ||
    ((pi = Ke.get().createCanvas(256, 128)),
    (an = pi.getContext("2d", { willReadFrequently: !0 })),
    (an.globalCompositeOperation = "copy"),
    (an.globalAlpha = 1)),
    (pi.width < r || pi.height < e) &&
      ((pi.width = _a(r)), (pi.height = _a(e)));
}
function cb(r, e, t) {
  for (let s = 0, n = 4 * t * e; s < e; ++s, n += 4)
    if (r[n + 3] !== 0) return !1;
  return !0;
}
function ub(r, e, t, s, n) {
  const i = 4 * e;
  for (let l = s, c = s * i + 4 * t; l <= n; ++l, c += i)
    if (r[c + 3] !== 0) return !1;
  return !0;
}
function w6(...r) {
  let e = r[0];
  e.canvas || (e = { canvas: r[0], resolution: r[1] });
  const { canvas: t } = e,
    s = Math.min(e.resolution ?? 1, 1),
    n = e.width ?? t.width,
    i = e.height ?? t.height;
  let l = e.output;
  if ((b6(n, i), !an)) throw new TypeError("Failed to get canvas 2D context");
  an.drawImage(t, 0, 0, n, i, 0, 0, n * s, i * s);
  const d = an.getImageData(0, 0, n, i).data;
  let f = 0,
    m = 0,
    h = n - 1,
    g = i - 1;
  for (; m < i && cb(d, n, m); ) ++m;
  if (m === i) return ct.EMPTY;
  for (; cb(d, n, g); ) --g;
  for (; ub(d, n, f, m, g); ) ++f;
  for (; ub(d, n, h, m, g); ) --h;
  return (
    ++h,
    ++g,
    (an.globalCompositeOperation = "source-over"),
    an.strokeRect(f, m, h - f, g - m),
    (an.globalCompositeOperation = "copy"),
    l ?? (l = new ct()),
    l.set(f / s, m / s, (h - f) / s, (g - m) / s),
    l
  );
}
const db = new ct();
class S6 {
  getCanvasAndContext(e) {
    const { text: t, style: s, resolution: n = 1 } = e,
      i = s._getFinalPadding(),
      l = Es.measureText(t || " ", s),
      c = Math.ceil(Math.ceil(Math.max(1, l.width) + i * 2) * n),
      d = Math.ceil(Math.ceil(Math.max(1, l.height) + i * 2) * n),
      f = Kn.getOptimalCanvasAndContext(c, d);
    this._renderTextToCanvas(t, s, i, n, f);
    const m = s.trim
      ? w6({ canvas: f.canvas, width: c, height: d, resolution: 1, output: db })
      : db.set(0, 0, c, d);
    return { canvasAndContext: f, frame: m };
  }
  returnCanvasAndContext(e) {
    Kn.returnCanvasAndContext(e);
  }
  _renderTextToCanvas(e, t, s, n, i) {
    const { canvas: l, context: c } = i,
      d = vu(t),
      f = Es.measureText(e || " ", t),
      m = f.lines,
      h = f.lineHeight,
      g = f.lineWidths,
      x = f.maxLineWidth,
      v = f.fontProperties,
      w = l.height;
    if (
      (c.resetTransform(),
      c.scale(n, n),
      (c.textBaseline = t.textBaseline),
      t._stroke?.width)
    ) {
      const j = t._stroke;
      (c.lineWidth = j.width),
        (c.miterLimit = j.miterLimit),
        (c.lineJoin = j.join),
        (c.lineCap = j.cap);
    }
    c.font = d;
    let _, S;
    const T = t.dropShadow ? 2 : 1;
    for (let j = 0; j < T; ++j) {
      const E = t.dropShadow && j === 0,
        A = E ? Math.ceil(Math.max(1, w) + s * 2) : 0,
        M = A * n;
      if (E) {
        (c.fillStyle = "black"), (c.strokeStyle = "black");
        const O = t.dropShadow,
          U = O.color,
          q = O.alpha;
        c.shadowColor = Ct.shared.setValue(U).setAlpha(q).toRgbaString();
        const Q = O.blur * n,
          z = O.distance * n;
        (c.shadowBlur = Q),
          (c.shadowOffsetX = Math.cos(O.angle) * z),
          (c.shadowOffsetY = Math.sin(O.angle) * z + M);
      } else {
        if (
          ((c.fillStyle = t._fill ? bu(t._fill, c, f, s * 2) : null),
          t._stroke?.width)
        ) {
          const O = t._stroke.width * 0.5 + s * 2;
          c.strokeStyle = bu(t._stroke, c, f, O);
        }
        c.shadowColor = "black";
      }
      let N = (h - v.fontSize) / 2;
      h - v.fontSize < 0 && (N = 0);
      const R = t._stroke?.width ?? 0;
      for (let O = 0; O < m.length; O++)
        (_ = R / 2),
          (S = R / 2 + O * h + v.ascent + N),
          t.align === "right"
            ? (_ += x - g[O])
            : t.align === "center" && (_ += (x - g[O]) / 2),
          t._stroke?.width &&
            this._drawLetterSpacing(m[O], t, i, _ + s, S + s - A, !0),
          t._fill !== void 0 &&
            this._drawLetterSpacing(m[O], t, i, _ + s, S + s - A);
    }
  }
  _drawLetterSpacing(e, t, s, n, i, l = !1) {
    const { context: c } = s,
      d = t.letterSpacing;
    let f = !1;
    if (
      (Es.experimentalLetterSpacingSupported &&
        (Es.experimentalLetterSpacing
          ? ((c.letterSpacing = `${d}px`),
            (c.textLetterSpacing = `${d}px`),
            (f = !0))
          : ((c.letterSpacing = "0px"), (c.textLetterSpacing = "0px"))),
      d === 0 || f)
    ) {
      l ? c.strokeText(e, n, i) : c.fillText(e, n, i);
      return;
    }
    let m = n;
    const h = Es.graphemeSegmenter(e);
    let g = c.measureText(e).width,
      x = 0;
    for (let v = 0; v < h.length; ++v) {
      const w = h[v];
      l ? c.strokeText(w, m, i) : c.fillText(w, m, i);
      let _ = "";
      for (let S = v + 1; S < h.length; ++S) _ += h[S];
      (x = c.measureText(_).width), (m += g - x + d), (g = x);
    }
  }
}
const qo = new S6();
class Fr extends hS {
  constructor(...e) {
    const t = fS(e, "Text");
    super(t, Yn),
      (this.renderPipeId = "text"),
      t.textureStyle &&
        (this.textureStyle =
          t.textureStyle instanceof $s
            ? t.textureStyle
            : new $s(t.textureStyle));
  }
  updateBounds() {
    const e = this._bounds,
      t = this._anchor;
    let s = 0,
      n = 0;
    if (this._style.trim) {
      const { frame: i, canvasAndContext: l } = qo.getCanvasAndContext({
        text: this.text,
        style: this._style,
        resolution: 1,
      });
      qo.returnCanvasAndContext(l), (s = i.width), (n = i.height);
    } else {
      const i = Es.measureText(this._text, this._style);
      (s = i.width), (n = i.height);
    }
    (e.minX = -t._x * s),
      (e.maxX = e.minX + s),
      (e.minY = -t._y * n),
      (e.maxY = e.minY + n);
  }
}
class Mm extends hS {
  constructor(...e) {
    var t;
    const s = fS(e, "BitmapText");
    s.style ?? (s.style = s.style || {}),
      (t = s.style).fill ?? (t.fill = 16777215),
      super(s, Yn),
      (this.renderPipeId = "bitmapText");
  }
  updateBounds() {
    const e = this._bounds,
      t = this._anchor,
      s = wu.measureText(this.text, this._style),
      n = s.scale,
      i = s.offsetY * n;
    let l = s.width * n,
      c = s.height * n;
    const d = this._style._stroke;
    d && ((l += d.width), (c += d.width)),
      (e.minX = -t._x * l),
      (e.maxX = e.minX + l),
      (e.minY = -t._y * (c + i)),
      (e.maxY = e.minY + c);
  }
  set resolution(e) {
    e !== null &&
      Re(
        "[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont."
      );
  }
  get resolution() {
    return this._resolution;
  }
}
const hb = "http://www.w3.org/2000/svg",
  fb = "http://www.w3.org/1999/xhtml";
class pS {
  constructor() {
    (this.svgRoot = document.createElementNS(hb, "svg")),
      (this.foreignObject = document.createElementNS(hb, "foreignObject")),
      (this.domElement = document.createElementNS(fb, "div")),
      (this.styleElement = document.createElementNS(fb, "style"));
    const {
      foreignObject: e,
      svgRoot: t,
      styleElement: s,
      domElement: n,
    } = this;
    e.setAttribute("width", "10000"),
      e.setAttribute("height", "10000"),
      (e.style.overflow = "hidden"),
      t.appendChild(e),
      e.appendChild(s),
      e.appendChild(n),
      (this.image = Ke.get().createImage());
  }
}
let pb;
function C6(r, e, t, s) {
  s || (s = pb || (pb = new pS()));
  const { domElement: n, styleElement: i, svgRoot: l } = s;
  (n.innerHTML = `<style>${e.cssStyle};</style><div style='padding:0'>${r}</div>`),
    n.setAttribute(
      "style",
      "transform-origin: top left; display: inline-block"
    ),
    t && (i.textContent = t),
    document.body.appendChild(l);
  const c = n.getBoundingClientRect();
  l.remove();
  const d = e.padding * 2;
  return { width: c.width - d, height: c.height - d };
}
class mS {
  constructor() {
    (this._tempState = ks.for2d()), (this._didUploadHash = {});
  }
  init(e) {
    e.renderer.runners.contextChange.add(this);
  }
  contextChange() {
    this._didUploadHash = {};
  }
  start(e, t, s) {
    const n = e.renderer,
      i = this._didUploadHash[s.uid];
    n.shader.bind(s, i),
      i || (this._didUploadHash[s.uid] = !0),
      n.shader.updateUniformGroup(n.globalUniforms.uniformGroup),
      n.geometry.bind(t, s.glProgram);
  }
  execute(e, t) {
    const s = e.renderer;
    (this._tempState.blendMode = t.blendMode), s.state.set(this._tempState);
    const n = t.textures.textures;
    for (let i = 0; i < t.textures.count; i++) s.texture.bind(n[i], i);
    s.geometry.draw(t.topology, t.size, t.start);
  }
}
mS.extension = { type: [D.WebGLPipesAdaptor], name: "batch" };
const qc = ks.for2d();
class gS {
  start(e, t, s) {
    const n = e.renderer,
      i = n.encoder,
      l = s.gpuProgram;
    (this._shader = s),
      (this._geometry = t),
      i.setGeometry(t, l),
      (qc.blendMode = "normal"),
      n.pipeline.getPipeline(t, l, qc);
    const c = n.globalUniforms.bindGroup;
    i.resetBindGroup(1), i.setBindGroup(0, c, l);
  }
  execute(e, t) {
    const s = this._shader.gpuProgram,
      n = e.renderer,
      i = n.encoder;
    if (!t.bindGroup) {
      const d = t.textures;
      t.bindGroup = fg(d.textures, d.count, n.limits.maxBatchableTextures);
    }
    qc.blendMode = t.blendMode;
    const l = n.bindGroup.getBindGroup(t.bindGroup, s, 1),
      c = n.pipeline.getPipeline(this._geometry, s, qc, t.topology);
    t.bindGroup._touch(n.textureGC.count),
      i.setPipeline(c),
      i.renderPassEncoder.setBindGroup(1, l),
      i.renderPassEncoder.drawIndexed(t.size, 1, t.start);
  }
}
gS.extension = { type: [D.WebGPUPipesAdaptor], name: "batch" };
const Pg = class xS {
  constructor(e, t) {
    (this.state = ks.for2d()),
      (this._batchersByInstructionSet = Object.create(null)),
      (this._activeBatches = Object.create(null)),
      (this.renderer = e),
      (this._adaptor = t),
      this._adaptor.init?.(this);
  }
  static getBatcher(e) {
    return new this._availableBatchers[e]();
  }
  buildStart(e) {
    let t = this._batchersByInstructionSet[e.uid];
    t ||
      ((t = this._batchersByInstructionSet[e.uid] = Object.create(null)),
      t.default ||
        (t.default = new vg({
          maxTextures: this.renderer.limits.maxBatchableTextures,
        }))),
      (this._activeBatches = t),
      (this._activeBatch = this._activeBatches.default);
    for (const s in this._activeBatches) this._activeBatches[s].begin();
  }
  addToBatch(e, t) {
    if (this._activeBatch.name !== e.batcherName) {
      this._activeBatch.break(t);
      let s = this._activeBatches[e.batcherName];
      s ||
        ((s = this._activeBatches[e.batcherName] =
          xS.getBatcher(e.batcherName)),
        s.begin()),
        (this._activeBatch = s);
    }
    this._activeBatch.add(e);
  }
  break(e) {
    this._activeBatch.break(e);
  }
  buildEnd(e) {
    this._activeBatch.break(e);
    const t = this._activeBatches;
    for (const s in t) {
      const n = t[s],
        i = n.geometry;
      i.indexBuffer.setDataWithSize(n.indexBuffer, n.indexSize, !0),
        i.buffers[0].setDataWithSize(
          n.attributeBuffer.float32View,
          n.attributeSize,
          !1
        );
    }
  }
  upload(e) {
    const t = this._batchersByInstructionSet[e.uid];
    for (const s in t) {
      const n = t[s],
        i = n.geometry;
      n.dirty && ((n.dirty = !1), i.buffers[0].update(n.attributeSize * 4));
    }
  }
  execute(e) {
    if (e.action === "startBatch") {
      const t = e.batcher,
        s = t.geometry,
        n = t.shader;
      this._adaptor.start(this, s, n);
    }
    this._adaptor.execute(this, e);
  }
  destroy() {
    (this.state = null), (this.renderer = null), (this._adaptor = null);
    for (const e in this._activeBatches) this._activeBatches[e].destroy();
    this._activeBatches = null;
  }
};
Pg.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "batch",
};
Pg._availableBatchers = Object.create(null);
let yS = Pg;
Ie.handleByMap(D.Batcher, yS._availableBatchers);
Ie.add(vg);
const Xo = {
    name: "local-uniform-bit",
    vertex: {
      header: `

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,
      main: `
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,
      end: `
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `,
    },
  },
  T6 = {
    ...Xo,
    vertex: {
      ...Xo.vertex,
      header: Xo.vertex.header.replace("group(1)", "group(2)"),
    },
  },
  Ag = {
    name: "local-uniform-bit",
    vertex: {
      header: `

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,
      main: `
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,
      end: `
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `,
    },
  },
  E6 = {
    name: "texture-bit",
    vertex: {
      header: `

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,
      main: `
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `,
    },
    fragment: {
      header: `
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,
      main: `
            outColor = textureSample(uTexture, uSampler, vUV);
        `,
    },
  },
  j6 = {
    name: "texture-bit",
    vertex: {
      header: `
            uniform mat3 uTextureMatrix;
        `,
      main: `
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `,
    },
    fragment: {
      header: `
        uniform sampler2D uTexture;


        `,
      main: `
            outColor = texture(uTexture, vUV);
        `,
    },
  },
  k6 = new wr();
class P6 extends pu {
  constructor() {
    super(),
      (this.filters = [
        new _6({
          sprite: new Ve(Se.EMPTY),
          inverse: !1,
          resolution: "inherit",
          antialias: "inherit",
        }),
      ]);
  }
  get sprite() {
    return this.filters[0].sprite;
  }
  set sprite(e) {
    this.filters[0].sprite = e;
  }
  get inverse() {
    return this.filters[0].inverse;
  }
  set inverse(e) {
    this.filters[0].inverse = e;
  }
}
class vS {
  constructor(e) {
    (this._activeMaskStage = []), (this._renderer = e);
  }
  push(e, t, s) {
    const n = this._renderer;
    if (
      (n.renderPipes.batch.break(s),
      s.add({
        renderPipeId: "alphaMask",
        action: "pushMaskBegin",
        mask: e,
        inverse: t._maskOptions.inverse,
        canBundle: !1,
        maskedContainer: t,
      }),
      (e.inverse = t._maskOptions.inverse),
      e.renderMaskToTexture)
    ) {
      const i = e.mask;
      (i.includeInBuild = !0),
        i.collectRenderables(s, n, null),
        (i.includeInBuild = !1);
    }
    n.renderPipes.batch.break(s),
      s.add({
        renderPipeId: "alphaMask",
        action: "pushMaskEnd",
        mask: e,
        maskedContainer: t,
        inverse: t._maskOptions.inverse,
        canBundle: !1,
      });
  }
  pop(e, t, s) {
    this._renderer.renderPipes.batch.break(s),
      s.add({
        renderPipeId: "alphaMask",
        action: "popMaskEnd",
        mask: e,
        inverse: t._maskOptions.inverse,
        canBundle: !1,
      });
  }
  execute(e) {
    const t = this._renderer,
      s = e.mask.renderMaskToTexture;
    if (e.action === "pushMaskBegin") {
      const n = ur.get(P6);
      if (((n.inverse = e.inverse), s)) {
        e.mask.mask.measurable = !0;
        const i = rg(e.mask.mask, !0, k6);
        (e.mask.mask.measurable = !1), i.ceil();
        const l = t.renderTarget.renderTarget.colorTexture.source,
          c = Gt.getOptimalTexture(
            i.width,
            i.height,
            l._resolution,
            l.antialias
          );
        t.renderTarget.push(c, !0),
          t.globalUniforms.push({ offset: i, worldColor: 4294967295 });
        const d = n.sprite;
        (d.texture = c),
          (d.worldTransform.tx = i.minX),
          (d.worldTransform.ty = i.minY),
          this._activeMaskStage.push({
            filterEffect: n,
            maskedContainer: e.maskedContainer,
            filterTexture: c,
          });
      } else
        (n.sprite = e.mask.mask),
          this._activeMaskStage.push({
            filterEffect: n,
            maskedContainer: e.maskedContainer,
          });
    } else if (e.action === "pushMaskEnd") {
      const n = this._activeMaskStage[this._activeMaskStage.length - 1];
      s &&
        (t.type === Xr.WEBGL && t.renderTarget.finishRenderPass(),
        t.renderTarget.pop(),
        t.globalUniforms.pop()),
        t.filter.push({
          renderPipeId: "filter",
          action: "pushFilter",
          container: n.maskedContainer,
          filterEffect: n.filterEffect,
          canBundle: !1,
        });
    } else if (e.action === "popMaskEnd") {
      t.filter.pop();
      const n = this._activeMaskStage.pop();
      s && Gt.returnTexture(n.filterTexture), ur.return(n.filterEffect);
    }
  }
  destroy() {
    (this._renderer = null), (this._activeMaskStage = null);
  }
}
vS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "alphaMask",
};
class _S {
  constructor(e) {
    (this._colorStack = []),
      (this._colorStackIndex = 0),
      (this._currentColor = 0),
      (this._renderer = e);
  }
  buildStart() {
    (this._colorStack[0] = 15),
      (this._colorStackIndex = 1),
      (this._currentColor = 15);
  }
  push(e, t, s) {
    this._renderer.renderPipes.batch.break(s);
    const i = this._colorStack;
    i[this._colorStackIndex] = i[this._colorStackIndex - 1] & e.mask;
    const l = this._colorStack[this._colorStackIndex];
    l !== this._currentColor &&
      ((this._currentColor = l),
      s.add({ renderPipeId: "colorMask", colorMask: l, canBundle: !1 })),
      this._colorStackIndex++;
  }
  pop(e, t, s) {
    this._renderer.renderPipes.batch.break(s);
    const i = this._colorStack;
    this._colorStackIndex--;
    const l = i[this._colorStackIndex - 1];
    l !== this._currentColor &&
      ((this._currentColor = l),
      s.add({ renderPipeId: "colorMask", colorMask: l, canBundle: !1 }));
  }
  execute(e) {
    this._renderer.colorMask.setMask(e.colorMask);
  }
  destroy() {
    this._colorStack = null;
  }
}
_S.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "colorMask",
};
class bS {
  constructor(e) {
    (this._maskStackHash = {}),
      (this._maskHash = new WeakMap()),
      (this._renderer = e);
  }
  push(e, t, s) {
    var n;
    const i = e,
      l = this._renderer;
    l.renderPipes.batch.break(s),
      l.renderPipes.blendMode.setBlendMode(i.mask, "none", s),
      s.add({
        renderPipeId: "stencilMask",
        action: "pushMaskBegin",
        mask: e,
        inverse: t._maskOptions.inverse,
        canBundle: !1,
      });
    const c = i.mask;
    (c.includeInBuild = !0),
      this._maskHash.has(i) ||
        this._maskHash.set(i, { instructionsStart: 0, instructionsLength: 0 });
    const d = this._maskHash.get(i);
    (d.instructionsStart = s.instructionSize),
      c.collectRenderables(s, l, null),
      (c.includeInBuild = !1),
      l.renderPipes.batch.break(s),
      s.add({
        renderPipeId: "stencilMask",
        action: "pushMaskEnd",
        mask: e,
        inverse: t._maskOptions.inverse,
        canBundle: !1,
      });
    const f = s.instructionSize - d.instructionsStart - 1;
    d.instructionsLength = f;
    const m = l.renderTarget.renderTarget.uid;
    (n = this._maskStackHash)[m] ?? (n[m] = 0);
  }
  pop(e, t, s) {
    const n = e,
      i = this._renderer;
    i.renderPipes.batch.break(s),
      i.renderPipes.blendMode.setBlendMode(n.mask, "none", s),
      s.add({
        renderPipeId: "stencilMask",
        action: "popMaskBegin",
        inverse: t._maskOptions.inverse,
        canBundle: !1,
      });
    const l = this._maskHash.get(e);
    for (let c = 0; c < l.instructionsLength; c++)
      s.instructions[s.instructionSize++] =
        s.instructions[l.instructionsStart++];
    s.add({ renderPipeId: "stencilMask", action: "popMaskEnd", canBundle: !1 });
  }
  execute(e) {
    var t;
    const s = this._renderer,
      n = s.renderTarget.renderTarget.uid;
    let i = (t = this._maskStackHash)[n] ?? (t[n] = 0);
    e.action === "pushMaskBegin"
      ? (s.renderTarget.ensureDepthStencil(),
        s.stencil.setStencilMode(Dt.RENDERING_MASK_ADD, i),
        i++,
        s.colorMask.setMask(0))
      : e.action === "pushMaskEnd"
      ? (e.inverse
          ? s.stencil.setStencilMode(Dt.INVERSE_MASK_ACTIVE, i)
          : s.stencil.setStencilMode(Dt.MASK_ACTIVE, i),
        s.colorMask.setMask(15))
      : e.action === "popMaskBegin"
      ? (s.colorMask.setMask(0),
        i !== 0
          ? s.stencil.setStencilMode(Dt.RENDERING_MASK_REMOVE, i)
          : (s.renderTarget.clear(null, Wr.STENCIL),
            s.stencil.setStencilMode(Dt.DISABLED, i)),
        i--)
      : e.action === "popMaskEnd" &&
        (e.inverse
          ? s.stencil.setStencilMode(Dt.INVERSE_MASK_ACTIVE, i)
          : s.stencil.setStencilMode(Dt.MASK_ACTIVE, i),
        s.colorMask.setMask(15)),
      (this._maskStackHash[n] = i);
  }
  destroy() {
    (this._renderer = null),
      (this._maskStackHash = null),
      (this._maskHash = null);
  }
}
bS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "stencilMask",
};
var au = ((r) => (
  (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
  (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
  (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER"),
  r
))(au || {});
class A6 {
  constructor(e, t) {
    (this._lastBindBaseLocation = -1),
      (this._lastBindCallId = -1),
      (this.buffer = e || null),
      (this.updateID = -1),
      (this.byteLength = -1),
      (this.type = t);
  }
}
class wS {
  constructor(e) {
    (this._gpuBuffers = Object.create(null)),
      (this._boundBufferBases = Object.create(null)),
      (this._minBaseLocation = 0),
      (this._nextBindBaseIndex = this._minBaseLocation),
      (this._bindCallId = 0),
      (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_gpuBuffers");
  }
  destroy() {
    (this._renderer = null),
      (this._gl = null),
      (this._gpuBuffers = null),
      (this._boundBufferBases = null);
  }
  contextChange() {
    (this._gl = this._renderer.gl),
      (this._gpuBuffers = Object.create(null)),
      (this._maxBindings = this._renderer.limits.maxUniformBindings);
  }
  getGlBuffer(e) {
    return this._gpuBuffers[e.uid] || this.createGLBuffer(e);
  }
  bind(e) {
    const { _gl: t } = this,
      s = this.getGlBuffer(e);
    t.bindBuffer(s.type, s.buffer);
  }
  bindBufferBase(e, t) {
    const { _gl: s } = this;
    this._boundBufferBases[t] !== e &&
      ((this._boundBufferBases[t] = e),
      (e._lastBindBaseLocation = t),
      s.bindBufferBase(s.UNIFORM_BUFFER, t, e.buffer));
  }
  nextBindBase(e) {
    this._bindCallId++,
      (this._minBaseLocation = 0),
      e &&
        ((this._boundBufferBases[0] = null),
        (this._minBaseLocation = 1),
        this._nextBindBaseIndex < 1 && (this._nextBindBaseIndex = 1));
  }
  freeLocationForBufferBase(e) {
    let t = this.getLastBindBaseLocation(e);
    if (t >= this._minBaseLocation)
      return (e._lastBindCallId = this._bindCallId), t;
    let s = 0,
      n = this._nextBindBaseIndex;
    for (; s < 2; ) {
      n >= this._maxBindings && ((n = this._minBaseLocation), s++);
      const i = this._boundBufferBases[n];
      if (i && i._lastBindCallId === this._bindCallId) {
        n++;
        continue;
      }
      break;
    }
    return (
      (t = n),
      (this._nextBindBaseIndex = n + 1),
      s >= 2
        ? -1
        : ((e._lastBindCallId = this._bindCallId),
          (this._boundBufferBases[t] = null),
          t)
    );
  }
  getLastBindBaseLocation(e) {
    const t = e._lastBindBaseLocation;
    return this._boundBufferBases[t] === e ? t : -1;
  }
  bindBufferRange(e, t, s, n) {
    const { _gl: i } = this;
    s || (s = 0),
      t || (t = 0),
      (this._boundBufferBases[t] = null),
      i.bindBufferRange(i.UNIFORM_BUFFER, t || 0, e.buffer, s * 256, n || 256);
  }
  updateBuffer(e) {
    const { _gl: t } = this,
      s = this.getGlBuffer(e);
    if (e._updateID === s.updateID) return s;
    (s.updateID = e._updateID), t.bindBuffer(s.type, s.buffer);
    const n = e.data,
      i = e.descriptor.usage & tt.STATIC ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
    return (
      n
        ? s.byteLength >= n.byteLength
          ? t.bufferSubData(
              s.type,
              0,
              n,
              0,
              e._updateSize / n.BYTES_PER_ELEMENT
            )
          : ((s.byteLength = n.byteLength), t.bufferData(s.type, n, i))
        : ((s.byteLength = e.descriptor.size),
          t.bufferData(s.type, s.byteLength, i)),
      s
    );
  }
  destroyAll() {
    const e = this._gl;
    for (const t in this._gpuBuffers)
      e.deleteBuffer(this._gpuBuffers[t].buffer);
    this._gpuBuffers = Object.create(null);
  }
  onBufferDestroy(e, t) {
    const s = this._gpuBuffers[e.uid],
      n = this._gl;
    t || n.deleteBuffer(s.buffer), (this._gpuBuffers[e.uid] = null);
  }
  createGLBuffer(e) {
    const { _gl: t } = this;
    let s = au.ARRAY_BUFFER;
    e.descriptor.usage & tt.INDEX
      ? (s = au.ELEMENT_ARRAY_BUFFER)
      : e.descriptor.usage & tt.UNIFORM && (s = au.UNIFORM_BUFFER);
    const n = new A6(t.createBuffer(), s);
    return (
      (this._gpuBuffers[e.uid] = n),
      e.on("destroy", this.onBufferDestroy, this),
      n
    );
  }
  resetState() {
    this._boundBufferBases = Object.create(null);
  }
}
wS.extension = { type: [D.WebGLSystem], name: "buffer" };
const Mg = class SS {
  constructor(e) {
    (this.supports = {
      uint32Indices: !0,
      uniformBufferObject: !0,
      vertexArrayObject: !0,
      srgbTextures: !0,
      nonPowOf2wrapping: !0,
      msaa: !0,
      nonPowOf2mipmaps: !0,
    }),
      (this._renderer = e),
      (this.extensions = Object.create(null)),
      (this.handleContextLost = this.handleContextLost.bind(this)),
      (this.handleContextRestored = this.handleContextRestored.bind(this));
  }
  get isLost() {
    return !this.gl || this.gl.isContextLost();
  }
  contextChange(e) {
    (this.gl = e), (this._renderer.gl = e);
  }
  init(e) {
    e = { ...SS.defaultOptions, ...e };
    let t = (this.multiView = e.multiView);
    if (
      (e.context &&
        t &&
        (Re(
          "Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."
        ),
        (t = !1)),
      t
        ? (this.canvas = Ke.get().createCanvas(
            this._renderer.canvas.width,
            this._renderer.canvas.height
          ))
        : (this.canvas = this._renderer.view.canvas),
      e.context)
    )
      this.initFromContext(e.context);
    else {
      const s = this._renderer.background.alpha < 1,
        n = e.premultipliedAlpha ?? !0,
        i = e.antialias && !this._renderer.backBuffer.useBackBuffer;
      this.createContext(e.preferWebGLVersion, {
        alpha: s,
        premultipliedAlpha: n,
        antialias: i,
        stencil: !0,
        preserveDrawingBuffer: e.preserveDrawingBuffer,
        powerPreference: e.powerPreference ?? "default",
      });
    }
  }
  ensureCanvasSize(e) {
    if (!this.multiView) {
      e !== this.canvas &&
        Re("multiView is disabled, but targetCanvas is not the main canvas");
      return;
    }
    const { canvas: t } = this;
    (t.width < e.width || t.height < e.height) &&
      ((t.width = Math.max(e.width, e.width)),
      (t.height = Math.max(e.height, e.height)));
  }
  initFromContext(e) {
    (this.gl = e),
      (this.webGLVersion =
        e instanceof Ke.get().getWebGLRenderingContext() ? 1 : 2),
      this.getExtensions(),
      this.validateContext(e),
      this._renderer.runners.contextChange.emit(e);
    const t = this._renderer.view.canvas;
    t.addEventListener("webglcontextlost", this.handleContextLost, !1),
      t.addEventListener(
        "webglcontextrestored",
        this.handleContextRestored,
        !1
      );
  }
  createContext(e, t) {
    let s;
    const n = this.canvas;
    if (
      (e === 2 && (s = n.getContext("webgl2", t)),
      !s && ((s = n.getContext("webgl", t)), !s))
    )
      throw new Error(
        "This browser does not support WebGL. Try using the canvas renderer"
      );
    (this.gl = s), this.initFromContext(this.gl);
  }
  getExtensions() {
    const { gl: e } = this,
      t = {
        anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
        floatTextureLinear: e.getExtension("OES_texture_float_linear"),
        s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
        s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
        etc: e.getExtension("WEBGL_compressed_texture_etc"),
        etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
        pvrtc:
          e.getExtension("WEBGL_compressed_texture_pvrtc") ||
          e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
        atc: e.getExtension("WEBGL_compressed_texture_atc"),
        astc: e.getExtension("WEBGL_compressed_texture_astc"),
        bptc: e.getExtension("EXT_texture_compression_bptc"),
        rgtc: e.getExtension("EXT_texture_compression_rgtc"),
        loseContext: e.getExtension("WEBGL_lose_context"),
      };
    if (this.webGLVersion === 1)
      this.extensions = {
        ...t,
        drawBuffers: e.getExtension("WEBGL_draw_buffers"),
        depthTexture: e.getExtension("WEBGL_depth_texture"),
        vertexArrayObject:
          e.getExtension("OES_vertex_array_object") ||
          e.getExtension("MOZ_OES_vertex_array_object") ||
          e.getExtension("WEBKIT_OES_vertex_array_object"),
        uint32ElementIndex: e.getExtension("OES_element_index_uint"),
        floatTexture: e.getExtension("OES_texture_float"),
        floatTextureLinear: e.getExtension("OES_texture_float_linear"),
        textureHalfFloat: e.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: e.getExtension("OES_texture_half_float_linear"),
        vertexAttribDivisorANGLE: e.getExtension("ANGLE_instanced_arrays"),
        srgb: e.getExtension("EXT_sRGB"),
      };
    else {
      this.extensions = {
        ...t,
        colorBufferFloat: e.getExtension("EXT_color_buffer_float"),
      };
      const s = e.getExtension("WEBGL_provoking_vertex");
      s && s.provokingVertexWEBGL(s.FIRST_VERTEX_CONVENTION_WEBGL);
    }
  }
  handleContextLost(e) {
    e.preventDefault(),
      this._contextLossForced &&
        ((this._contextLossForced = !1),
        setTimeout(() => {
          this.gl.isContextLost() &&
            this.extensions.loseContext?.restoreContext();
        }, 0));
  }
  handleContextRestored() {
    this.getExtensions(), this._renderer.runners.contextChange.emit(this.gl);
  }
  destroy() {
    const e = this._renderer.view.canvas;
    (this._renderer = null),
      e.removeEventListener("webglcontextlost", this.handleContextLost),
      e.removeEventListener("webglcontextrestored", this.handleContextRestored),
      this.gl.useProgram(null),
      this.extensions.loseContext?.loseContext();
  }
  forceContextLoss() {
    this.extensions.loseContext?.loseContext(), (this._contextLossForced = !0);
  }
  validateContext(e) {
    const t = e.getContextAttributes();
    t &&
      !t.stencil &&
      Re(
        "Provided WebGL context does not have a stencil buffer, masks may not render correctly"
      );
    const s = this.supports,
      n = this.webGLVersion === 2,
      i = this.extensions;
    (s.uint32Indices = n || !!i.uint32ElementIndex),
      (s.uniformBufferObject = n),
      (s.vertexArrayObject = n || !!i.vertexArrayObject),
      (s.srgbTextures = n || !!i.srgb),
      (s.nonPowOf2wrapping = n),
      (s.nonPowOf2mipmaps = n),
      (s.msaa = n),
      s.uint32Indices ||
        Re(
          "Provided WebGL context does not support 32 index buffer, large scenes may not render correctly"
        );
  }
};
Mg.extension = { type: [D.WebGLSystem], name: "context" };
Mg.defaultOptions = {
  context: null,
  premultipliedAlpha: !0,
  preserveDrawingBuffer: !1,
  powerPreference: void 0,
  preferWebGLVersion: 2,
  multiView: !1,
};
let M6 = Mg;
function CS(r, e) {
  for (const t in r.attributes) {
    const s = r.attributes[t],
      n = e[t];
    n
      ? (s.format ?? (s.format = n.format),
        s.offset ?? (s.offset = n.offset),
        s.instance ?? (s.instance = n.instance))
      : Re(
          `Attribute ${t} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`
        );
  }
  N6(r);
}
function N6(r) {
  const { buffers: e, attributes: t } = r,
    s = {},
    n = {};
  for (const i in e) {
    const l = e[i];
    (s[l.uid] = 0), (n[l.uid] = 0);
  }
  for (const i in t) {
    const l = t[i];
    s[l.buffer.uid] += Xn(l.format).stride;
  }
  for (const i in t) {
    const l = t[i];
    l.stride ?? (l.stride = s[l.buffer.uid]),
      l.start ?? (l.start = n[l.buffer.uid]),
      (n[l.buffer.uid] += Xn(l.format).stride);
  }
}
var Nm = ((r) => (
    (r[(r.RGBA = 6408)] = "RGBA"),
    (r[(r.RGB = 6407)] = "RGB"),
    (r[(r.RG = 33319)] = "RG"),
    (r[(r.RED = 6403)] = "RED"),
    (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
    (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
    (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
    (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
    (r[(r.ALPHA = 6406)] = "ALPHA"),
    (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
    (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
    (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
    (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL"),
    r
  ))(Nm || {}),
  TS = ((r) => (
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
    (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
    (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
      "TEXTURE_CUBE_MAP_POSITIVE_X"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_X"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
      "TEXTURE_CUBE_MAP_POSITIVE_Y"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
      "TEXTURE_CUBE_MAP_POSITIVE_Z"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_Z"),
    r
  ))(TS || {}),
  at = ((r) => (
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
    (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
    (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
    (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
    (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
    (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
    (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
      "UNSIGNED_INT_10F_11F_11F_REV"),
    (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
      "UNSIGNED_INT_2_10_10_10_REV"),
    (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
    (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
    (r[(r.BYTE = 5120)] = "BYTE"),
    (r[(r.SHORT = 5122)] = "SHORT"),
    (r[(r.INT = 5124)] = "INT"),
    (r[(r.FLOAT = 5126)] = "FLOAT"),
    (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
      "FLOAT_32_UNSIGNED_INT_24_8_REV"),
    (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT"),
    r
  ))(at || {});
const mb = {
  uint8x2: at.UNSIGNED_BYTE,
  uint8x4: at.UNSIGNED_BYTE,
  sint8x2: at.BYTE,
  sint8x4: at.BYTE,
  unorm8x2: at.UNSIGNED_BYTE,
  unorm8x4: at.UNSIGNED_BYTE,
  snorm8x2: at.BYTE,
  snorm8x4: at.BYTE,
  uint16x2: at.UNSIGNED_SHORT,
  uint16x4: at.UNSIGNED_SHORT,
  sint16x2: at.SHORT,
  sint16x4: at.SHORT,
  unorm16x2: at.UNSIGNED_SHORT,
  unorm16x4: at.UNSIGNED_SHORT,
  snorm16x2: at.SHORT,
  snorm16x4: at.SHORT,
  float16x2: at.HALF_FLOAT,
  float16x4: at.HALF_FLOAT,
  float32: at.FLOAT,
  float32x2: at.FLOAT,
  float32x3: at.FLOAT,
  float32x4: at.FLOAT,
  uint32: at.UNSIGNED_INT,
  uint32x2: at.UNSIGNED_INT,
  uint32x3: at.UNSIGNED_INT,
  uint32x4: at.UNSIGNED_INT,
  sint32: at.INT,
  sint32x2: at.INT,
  sint32x3: at.INT,
  sint32x4: at.INT,
};
function R6(r) {
  return mb[r] ?? mb.float32;
}
const B6 = {
  "point-list": 0,
  "line-list": 1,
  "line-strip": 3,
  "triangle-list": 4,
  "triangle-strip": 5,
};
class ES {
  constructor(e) {
    (this._geometryVaoHash = Object.create(null)),
      (this._renderer = e),
      (this._activeGeometry = null),
      (this._activeVao = null),
      (this.hasVao = !0),
      (this.hasInstance = !0),
      this._renderer.renderableGC.addManagedHash(this, "_geometryVaoHash");
  }
  contextChange() {
    const e = (this.gl = this._renderer.gl);
    if (!this._renderer.context.supports.vertexArrayObject)
      throw new Error(
        "[PixiJS] Vertex Array Objects are not supported on this device"
      );
    const t = this._renderer.context.extensions.vertexArrayObject;
    t &&
      ((e.createVertexArray = () => t.createVertexArrayOES()),
      (e.bindVertexArray = (n) => t.bindVertexArrayOES(n)),
      (e.deleteVertexArray = (n) => t.deleteVertexArrayOES(n)));
    const s = this._renderer.context.extensions.vertexAttribDivisorANGLE;
    s &&
      ((e.drawArraysInstanced = (n, i, l, c) => {
        s.drawArraysInstancedANGLE(n, i, l, c);
      }),
      (e.drawElementsInstanced = (n, i, l, c, d) => {
        s.drawElementsInstancedANGLE(n, i, l, c, d);
      }),
      (e.vertexAttribDivisor = (n, i) => s.vertexAttribDivisorANGLE(n, i))),
      (this._activeGeometry = null),
      (this._activeVao = null),
      (this._geometryVaoHash = Object.create(null));
  }
  bind(e, t) {
    const s = this.gl;
    this._activeGeometry = e;
    const n = this.getVao(e, t);
    this._activeVao !== n && ((this._activeVao = n), s.bindVertexArray(n)),
      this.updateBuffers();
  }
  resetState() {
    this.unbind();
  }
  updateBuffers() {
    const e = this._activeGeometry,
      t = this._renderer.buffer;
    for (let s = 0; s < e.buffers.length; s++) {
      const n = e.buffers[s];
      t.updateBuffer(n);
    }
  }
  checkCompatibility(e, t) {
    const s = e.attributes,
      n = t._attributeData;
    for (const i in n)
      if (!s[i])
        throw new Error(
          `shader and geometry incompatible, geometry missing the "${i}" attribute`
        );
  }
  getSignature(e, t) {
    const s = e.attributes,
      n = t._attributeData,
      i = ["g", e.uid];
    for (const l in s) n[l] && i.push(l, n[l].location);
    return i.join("-");
  }
  getVao(e, t) {
    return this._geometryVaoHash[e.uid]?.[t._key] || this.initGeometryVao(e, t);
  }
  initGeometryVao(e, t, s = !0) {
    const n = this._renderer.gl,
      i = this._renderer.buffer;
    this._renderer.shader._getProgramData(t), this.checkCompatibility(e, t);
    const l = this.getSignature(e, t);
    this._geometryVaoHash[e.uid] ||
      ((this._geometryVaoHash[e.uid] = Object.create(null)),
      e.on("destroy", this.onGeometryDestroy, this));
    const c = this._geometryVaoHash[e.uid];
    let d = c[l];
    if (d) return (c[t._key] = d), d;
    CS(e, t._attributeData);
    const f = e.buffers;
    (d = n.createVertexArray()), n.bindVertexArray(d);
    for (let m = 0; m < f.length; m++) {
      const h = f[m];
      i.bind(h);
    }
    return (
      this.activateVao(e, t),
      (c[t._key] = d),
      (c[l] = d),
      n.bindVertexArray(null),
      d
    );
  }
  onGeometryDestroy(e, t) {
    const s = this._geometryVaoHash[e.uid],
      n = this.gl;
    if (s) {
      if (t)
        for (const i in s)
          this._activeVao !== s[i] && this.unbind(), n.deleteVertexArray(s[i]);
      this._geometryVaoHash[e.uid] = null;
    }
  }
  destroyAll(e = !1) {
    const t = this.gl;
    for (const s in this._geometryVaoHash) {
      if (e)
        for (const n in this._geometryVaoHash[s]) {
          const i = this._geometryVaoHash[s];
          this._activeVao !== i && this.unbind(), t.deleteVertexArray(i[n]);
        }
      this._geometryVaoHash[s] = null;
    }
  }
  activateVao(e, t) {
    const s = this._renderer.gl,
      n = this._renderer.buffer,
      i = e.attributes;
    e.indexBuffer && n.bind(e.indexBuffer);
    let l = null;
    for (const c in i) {
      const d = i[c],
        f = d.buffer,
        m = n.getGlBuffer(f),
        h = t._attributeData[c];
      if (h) {
        l !== m && (n.bind(f), (l = m));
        const g = h.location;
        s.enableVertexAttribArray(g);
        const x = Xn(d.format),
          v = R6(d.format);
        if (
          (h.format?.substring(1, 4) === "int"
            ? s.vertexAttribIPointer(g, x.size, v, d.stride, d.offset)
            : s.vertexAttribPointer(
                g,
                x.size,
                v,
                x.normalised,
                d.stride,
                d.offset
              ),
          d.instance)
        )
          if (this.hasInstance) {
            const w = d.divisor ?? 1;
            s.vertexAttribDivisor(g, w);
          } else
            throw new Error(
              "geometry error, GPU Instancing is not supported on this device"
            );
      }
    }
  }
  draw(e, t, s, n) {
    const { gl: i } = this._renderer,
      l = this._activeGeometry,
      c = B6[e || l.topology];
    if ((n ?? (n = l.instanceCount), l.indexBuffer)) {
      const d = l.indexBuffer.data.BYTES_PER_ELEMENT,
        f = d === 2 ? i.UNSIGNED_SHORT : i.UNSIGNED_INT;
      n > 1
        ? i.drawElementsInstanced(
            c,
            t || l.indexBuffer.data.length,
            f,
            (s || 0) * d,
            n
          )
        : i.drawElements(c, t || l.indexBuffer.data.length, f, (s || 0) * d);
    } else
      n > 1
        ? i.drawArraysInstanced(c, s || 0, t || l.getSize(), n)
        : i.drawArrays(c, s || 0, t || l.getSize());
    return this;
  }
  unbind() {
    this.gl.bindVertexArray(null),
      (this._activeVao = null),
      (this._activeGeometry = null);
  }
  destroy() {
    (this._renderer = null),
      (this.gl = null),
      (this._activeVao = null),
      (this._activeGeometry = null);
  }
}
ES.extension = { type: [D.WebGLSystem], name: "geometry" };
const F6 = new pl({ attributes: { aPosition: [-1, -1, 3, -1, -1, 3] } }),
  Ng = class jS {
    constructor(e) {
      (this.useBackBuffer = !1),
        (this._useBackBufferThisRender = !1),
        (this._renderer = e);
    }
    init(e = {}) {
      const { useBackBuffer: t, antialias: s } = { ...jS.defaultOptions, ...e };
      (this.useBackBuffer = t),
        (this._antialias = s),
        this._renderer.context.supports.msaa ||
          (Re("antialiasing, is not supported on when using the back buffer"),
          (this._antialias = !1)),
        (this._state = ks.for2d());
      const n = new Bi({
        vertex: `
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,
        fragment: `
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,
        name: "big-triangle",
      });
      this._bigTriangleShader = new ls({
        glProgram: n,
        resources: { uTexture: Se.WHITE.source },
      });
    }
    renderStart(e) {
      const t = this._renderer.renderTarget.getRenderTarget(e.target);
      if (
        ((this._useBackBufferThisRender = this.useBackBuffer && !!t.isRoot),
        this._useBackBufferThisRender)
      ) {
        const s = this._renderer.renderTarget.getRenderTarget(e.target);
        (this._targetTexture = s.colorTexture),
          (e.target = this._getBackBufferTexture(s.colorTexture));
      }
    }
    renderEnd() {
      this._presentBackBuffer();
    }
    _presentBackBuffer() {
      const e = this._renderer;
      e.renderTarget.finishRenderPass(),
        this._useBackBufferThisRender &&
          (e.renderTarget.bind(this._targetTexture, !1),
          (this._bigTriangleShader.resources.uTexture =
            this._backBufferTexture.source),
          e.encoder.draw({
            geometry: F6,
            shader: this._bigTriangleShader,
            state: this._state,
          }));
    }
    _getBackBufferTexture(e) {
      return (
        (this._backBufferTexture =
          this._backBufferTexture ||
          new Se({
            source: new Yt({
              width: e.width,
              height: e.height,
              resolution: e._resolution,
              antialias: this._antialias,
            }),
          })),
        this._backBufferTexture.source.resize(e.width, e.height, e._resolution),
        this._backBufferTexture
      );
    }
    destroy() {
      this._backBufferTexture &&
        (this._backBufferTexture.destroy(), (this._backBufferTexture = null));
    }
  };
Ng.extension = { type: [D.WebGLSystem], name: "backBuffer", priority: 1 };
Ng.defaultOptions = { useBackBuffer: !1 };
let I6 = Ng;
class kS {
  constructor(e) {
    (this._colorMaskCache = 15), (this._renderer = e);
  }
  setMask(e) {
    this._colorMaskCache !== e &&
      ((this._colorMaskCache = e),
      this._renderer.gl.colorMask(!!(e & 8), !!(e & 4), !!(e & 2), !!(e & 1)));
  }
}
kS.extension = { type: [D.WebGLSystem], name: "colorMask" };
class PS {
  constructor(e) {
    (this.commandFinished = Promise.resolve()), (this._renderer = e);
  }
  setGeometry(e, t) {
    this._renderer.geometry.bind(e, t.glProgram);
  }
  finishRenderPass() {}
  draw(e) {
    const t = this._renderer,
      {
        geometry: s,
        shader: n,
        state: i,
        skipSync: l,
        topology: c,
        size: d,
        start: f,
        instanceCount: m,
      } = e;
    t.shader.bind(n, l),
      t.geometry.bind(s, t.shader._activeProgram),
      i && t.state.set(i),
      t.geometry.draw(c, d, f, m ?? s.instanceCount);
  }
  destroy() {
    this._renderer = null;
  }
}
PS.extension = { type: [D.WebGLSystem], name: "encoder" };
class AS {
  constructor(e) {
    this._renderer = e;
  }
  contextChange() {
    const e = this._renderer.gl;
    (this.maxTextures = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),
      (this.maxBatchableTextures = Nw(this.maxTextures, e)),
      (this.maxUniformBindings = e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS));
  }
  destroy() {}
}
AS.extension = { type: [D.WebGLSystem], name: "limits" };
class O6 {
  constructor() {
    (this.width = -1),
      (this.height = -1),
      (this.msaa = !1),
      (this.msaaRenderBuffer = []);
  }
}
const Zn = [];
Zn[Dt.NONE] = void 0;
Zn[Dt.DISABLED] = { stencilWriteMask: 0, stencilReadMask: 0 };
Zn[Dt.RENDERING_MASK_ADD] = {
  stencilFront: { compare: "equal", passOp: "increment-clamp" },
  stencilBack: { compare: "equal", passOp: "increment-clamp" },
};
Zn[Dt.RENDERING_MASK_REMOVE] = {
  stencilFront: { compare: "equal", passOp: "decrement-clamp" },
  stencilBack: { compare: "equal", passOp: "decrement-clamp" },
};
Zn[Dt.MASK_ACTIVE] = {
  stencilWriteMask: 0,
  stencilFront: { compare: "equal", passOp: "keep" },
  stencilBack: { compare: "equal", passOp: "keep" },
};
Zn[Dt.INVERSE_MASK_ACTIVE] = {
  stencilWriteMask: 0,
  stencilFront: { compare: "not-equal", passOp: "keep" },
  stencilBack: { compare: "not-equal", passOp: "keep" },
};
class MS {
  constructor(e) {
    (this._stencilCache = {
      enabled: !1,
      stencilReference: 0,
      stencilMode: Dt.NONE,
    }),
      (this._renderTargetStencilState = Object.create(null)),
      e.renderTarget.onRenderTargetChange.add(this);
  }
  contextChange(e) {
    (this._gl = e),
      (this._comparisonFuncMapping = {
        always: e.ALWAYS,
        never: e.NEVER,
        equal: e.EQUAL,
        "not-equal": e.NOTEQUAL,
        less: e.LESS,
        "less-equal": e.LEQUAL,
        greater: e.GREATER,
        "greater-equal": e.GEQUAL,
      }),
      (this._stencilOpsMapping = {
        keep: e.KEEP,
        zero: e.ZERO,
        replace: e.REPLACE,
        invert: e.INVERT,
        "increment-clamp": e.INCR,
        "decrement-clamp": e.DECR,
        "increment-wrap": e.INCR_WRAP,
        "decrement-wrap": e.DECR_WRAP,
      }),
      this.resetState();
  }
  onRenderTargetChange(e) {
    if (this._activeRenderTarget === e) return;
    this._activeRenderTarget = e;
    let t = this._renderTargetStencilState[e.uid];
    t ||
      (t = this._renderTargetStencilState[e.uid] =
        { stencilMode: Dt.DISABLED, stencilReference: 0 }),
      this.setStencilMode(t.stencilMode, t.stencilReference);
  }
  resetState() {
    (this._stencilCache.enabled = !1),
      (this._stencilCache.stencilMode = Dt.NONE),
      (this._stencilCache.stencilReference = 0);
  }
  setStencilMode(e, t) {
    const s = this._renderTargetStencilState[this._activeRenderTarget.uid],
      n = this._gl,
      i = Zn[e],
      l = this._stencilCache;
    if (((s.stencilMode = e), (s.stencilReference = t), e === Dt.DISABLED)) {
      this._stencilCache.enabled &&
        ((this._stencilCache.enabled = !1), n.disable(n.STENCIL_TEST));
      return;
    }
    this._stencilCache.enabled ||
      ((this._stencilCache.enabled = !0), n.enable(n.STENCIL_TEST)),
      (e !== l.stencilMode || l.stencilReference !== t) &&
        ((l.stencilMode = e),
        (l.stencilReference = t),
        n.stencilFunc(
          this._comparisonFuncMapping[i.stencilBack.compare],
          t,
          255
        ),
        n.stencilOp(
          n.KEEP,
          n.KEEP,
          this._stencilOpsMapping[i.stencilBack.passOp]
        ));
  }
}
MS.extension = { type: [D.WebGLSystem], name: "stencil" };
class NS {
  constructor(e) {
    (this._syncFunctionHash = Object.create(null)),
      (this._adaptor = e),
      this._systemCheck();
  }
  _systemCheck() {
    if (!gw())
      throw new Error(
        "Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support."
      );
  }
  ensureUniformGroup(e) {
    const t = this.getUniformGroupData(e);
    e.buffer ||
      (e.buffer = new Vr({
        data: new Float32Array(t.layout.size / 4),
        usage: tt.UNIFORM | tt.COPY_DST,
      }));
  }
  getUniformGroupData(e) {
    return this._syncFunctionHash[e._signature] || this._initUniformGroup(e);
  }
  _initUniformGroup(e) {
    const t = e._signature;
    let s = this._syncFunctionHash[t];
    if (!s) {
      const n = Object.keys(e.uniformStructures).map(
          (c) => e.uniformStructures[c]
        ),
        i = this._adaptor.createUboElements(n),
        l = this._generateUboSync(i.uboElements);
      s = this._syncFunctionHash[t] = { layout: i, syncFunction: l };
    }
    return this._syncFunctionHash[t];
  }
  _generateUboSync(e) {
    return this._adaptor.generateUboSync(e);
  }
  syncUniformGroup(e, t, s) {
    const n = this.getUniformGroupData(e);
    e.buffer ||
      (e.buffer = new Vr({
        data: new Float32Array(n.layout.size / 4),
        usage: tt.UNIFORM | tt.COPY_DST,
      }));
    let i = null;
    return (
      t || ((t = e.buffer.data), (i = e.buffer.dataInt32)),
      s || (s = 0),
      n.syncFunction(e.uniforms, t, i, s),
      !0
    );
  }
  updateUniformGroup(e) {
    if (e.isStatic && !e._dirtyId) return !1;
    e._dirtyId = 0;
    const t = this.syncUniformGroup(e);
    return e.buffer.update(), t;
  }
  destroy() {
    this._syncFunctionHash = null;
  }
}
const RS = {
  f32: 4,
  i32: 4,
  "vec2<f32>": 8,
  "vec3<f32>": 12,
  "vec4<f32>": 16,
  "vec2<i32>": 8,
  "vec3<i32>": 12,
  "vec4<i32>": 16,
  "mat2x2<f32>": 32,
  "mat3x3<f32>": 48,
  "mat4x4<f32>": 64,
};
function L6(r) {
  const e = r.map((i) => ({ data: i, offset: 0, size: 0 })),
    t = 16;
  let s = 0,
    n = 0;
  for (let i = 0; i < e.length; i++) {
    const l = e[i];
    if (((s = RS[l.data.type]), !s))
      throw new Error(`Unknown type ${l.data.type}`);
    l.data.size > 1 && (s = Math.max(s, t) * l.data.size);
    const c = s === 12 ? 16 : s;
    l.size = s;
    const d = n % t;
    d > 0 && t - d < c ? (n += (t - d) % 16) : (n += (s - (d % s)) % s),
      (l.offset = n),
      (n += s);
  }
  return (n = Math.ceil(n / 16) * 16), { uboElements: e, size: n };
}
const ji = [
  {
    type: "mat3x3<f32>",
    test: (r) => r.value.a !== void 0,
    ubo: `
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,
    uniform: `
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `,
  },
  {
    type: "vec4<f32>",
    test: (r) =>
      r.type === "vec4<f32>" && r.size === 1 && r.value.width !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `,
  },
  {
    type: "vec2<f32>",
    test: (r) => r.type === "vec2<f32>" && r.size === 1 && r.value.x !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `,
  },
  {
    type: "vec4<f32>",
    test: (r) =>
      r.type === "vec4<f32>" && r.size === 1 && r.value.red !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `,
  },
  {
    type: "vec3<f32>",
    test: (r) =>
      r.type === "vec3<f32>" && r.size === 1 && r.value.red !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `,
  },
];
function BS(r, e, t, s) {
  const n = [
    `
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `,
  ];
  let i = 0;
  for (let c = 0; c < r.length; c++) {
    const d = r[c],
      f = d.data.name;
    let m = !1,
      h = 0;
    for (let g = 0; g < ji.length; g++)
      if (ji[g].test(d.data)) {
        (h = d.offset / 4),
          n.push(
            `name = "${f}";`,
            `offset += ${h - i};`,
            ji[g][e] || ji[g].ubo
          ),
          (m = !0);
        break;
      }
    if (!m)
      if (d.data.size > 1) (h = d.offset / 4), n.push(t(d, h - i));
      else {
        const g = s[d.data.type];
        (h = d.offset / 4),
          n.push(`
                    v = uv.${f};
                    offset += ${h - i};
                    ${g};
                `);
      }
    i = h;
  }
  const l = n.join(`
`);
  return new Function("uv", "data", "dataInt32", "offset", l);
}
function ua(r, e) {
  return `
        for (let i = 0; i < ${r * e}; i++) {
            data[offset + (((i / ${r})|0) * 4) + (i % ${r})] = v[i];
        }
    `;
}
const FS = {
    f32: `
        data[offset] = v;`,
    i32: `
        dataInt32[offset] = v;`,
    "vec2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];`,
    "vec3<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,
    "vec4<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,
    "vec2<i32>": `
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,
    "vec3<i32>": `
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,
    "vec4<i32>": `
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,
    "mat2x2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,
    "mat3x3<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,
    "mat4x4<f32>": `
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,
    "mat3x2<f32>": ua(3, 2),
    "mat4x2<f32>": ua(4, 2),
    "mat2x3<f32>": ua(2, 3),
    "mat4x3<f32>": ua(4, 3),
    "mat2x4<f32>": ua(2, 4),
    "mat3x4<f32>": ua(3, 4),
  },
  D6 = {
    ...FS,
    "mat2x2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `,
  };
function U6(r, e) {
  const t = Math.max(RS[r.data.type] / 16, 1),
    s = r.data.value.length / r.data.size,
    n = (4 - (s % 4)) % 4,
    i = r.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
  return `
        v = uv.${r.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${r.data.size * t}; i++)
        {
            for(var j = 0; j < ${s}; j++)
            {
                ${i}[arrayOffset++] = v[t++];
            }
            ${n !== 0 ? `arrayOffset += ${n};` : ""}
        }
    `;
}
function z6(r) {
  return BS(r, "uboStd40", U6, FS);
}
class IS extends NS {
  constructor() {
    super({ createUboElements: L6, generateUboSync: z6 });
  }
}
IS.extension = { type: [D.WebGLSystem], name: "ubo" };
class G6 {
  constructor() {
    (this._clearColorCache = [0, 0, 0, 0]), (this._viewPortCache = new ct());
  }
  init(e, t) {
    (this._renderer = e),
      (this._renderTargetSystem = t),
      e.runners.contextChange.add(this);
  }
  contextChange() {
    (this._clearColorCache = [0, 0, 0, 0]), (this._viewPortCache = new ct());
  }
  copyToTexture(e, t, s, n, i) {
    const l = this._renderTargetSystem,
      c = this._renderer,
      d = l.getGpuRenderTarget(e),
      f = c.gl;
    return (
      this.finishRenderPass(e),
      f.bindFramebuffer(f.FRAMEBUFFER, d.resolveTargetFramebuffer),
      c.texture.bind(t, 0),
      f.copyTexSubImage2D(
        f.TEXTURE_2D,
        0,
        i.x,
        i.y,
        s.x,
        s.y,
        n.width,
        n.height
      ),
      t
    );
  }
  startRenderPass(e, t = !0, s, n) {
    const i = this._renderTargetSystem,
      l = e.colorTexture,
      c = i.getGpuRenderTarget(e);
    let d = n.y;
    e.isRoot && (d = l.pixelHeight - n.height),
      e.colorTextures.forEach((h) => {
        this._renderer.texture.unbind(h);
      });
    const f = this._renderer.gl;
    f.bindFramebuffer(f.FRAMEBUFFER, c.framebuffer);
    const m = this._viewPortCache;
    (m.x !== n.x ||
      m.y !== d ||
      m.width !== n.width ||
      m.height !== n.height) &&
      ((m.x = n.x),
      (m.y = d),
      (m.width = n.width),
      (m.height = n.height),
      f.viewport(n.x, d, n.width, n.height)),
      !c.depthStencilRenderBuffer &&
        (e.stencil || e.depth) &&
        this._initStencil(c),
      this.clear(e, t, s);
  }
  finishRenderPass(e) {
    const s = this._renderTargetSystem.getGpuRenderTarget(e);
    if (!s.msaa) return;
    const n = this._renderer.gl;
    n.bindFramebuffer(n.FRAMEBUFFER, s.resolveTargetFramebuffer),
      n.bindFramebuffer(n.READ_FRAMEBUFFER, s.framebuffer),
      n.blitFramebuffer(
        0,
        0,
        s.width,
        s.height,
        0,
        0,
        s.width,
        s.height,
        n.COLOR_BUFFER_BIT,
        n.NEAREST
      ),
      n.bindFramebuffer(n.FRAMEBUFFER, s.framebuffer);
  }
  initGpuRenderTarget(e) {
    const s = this._renderer.gl,
      n = new O6();
    return e.colorTexture instanceof cn
      ? (this._renderer.context.ensureCanvasSize(e.colorTexture.resource),
        (n.framebuffer = null),
        n)
      : (this._initColor(e, n), s.bindFramebuffer(s.FRAMEBUFFER, null), n);
  }
  destroyGpuRenderTarget(e) {
    const t = this._renderer.gl;
    e.framebuffer &&
      (t.deleteFramebuffer(e.framebuffer), (e.framebuffer = null)),
      e.resolveTargetFramebuffer &&
        (t.deleteFramebuffer(e.resolveTargetFramebuffer),
        (e.resolveTargetFramebuffer = null)),
      e.depthStencilRenderBuffer &&
        (t.deleteRenderbuffer(e.depthStencilRenderBuffer),
        (e.depthStencilRenderBuffer = null)),
      e.msaaRenderBuffer.forEach((s) => {
        t.deleteRenderbuffer(s);
      }),
      (e.msaaRenderBuffer = null);
  }
  clear(e, t, s) {
    if (!t) return;
    const n = this._renderTargetSystem;
    typeof t == "boolean" && (t = t ? Wr.ALL : Wr.NONE);
    const i = this._renderer.gl;
    if (t & Wr.COLOR) {
      s ?? (s = n.defaultClearColor);
      const l = this._clearColorCache,
        c = s;
      (l[0] !== c[0] || l[1] !== c[1] || l[2] !== c[2] || l[3] !== c[3]) &&
        ((l[0] = c[0]),
        (l[1] = c[1]),
        (l[2] = c[2]),
        (l[3] = c[3]),
        i.clearColor(c[0], c[1], c[2], c[3]));
    }
    i.clear(t);
  }
  resizeGpuRenderTarget(e) {
    if (e.isRoot) return;
    const s = this._renderTargetSystem.getGpuRenderTarget(e);
    this._resizeColor(e, s), (e.stencil || e.depth) && this._resizeStencil(s);
  }
  _initColor(e, t) {
    const s = this._renderer,
      n = s.gl,
      i = n.createFramebuffer();
    if (
      ((t.resolveTargetFramebuffer = i),
      n.bindFramebuffer(n.FRAMEBUFFER, i),
      (t.width = e.colorTexture.source.pixelWidth),
      (t.height = e.colorTexture.source.pixelHeight),
      e.colorTextures.forEach((l, c) => {
        const d = l.source;
        d.antialias &&
          (s.context.supports.msaa
            ? (t.msaa = !0)
            : Re(
                "[RenderTexture] Antialiasing on textures is not supported in WebGL1"
              )),
          s.texture.bindSource(d, 0);
        const m = s.texture.getGlSource(d).texture;
        n.framebufferTexture2D(
          n.FRAMEBUFFER,
          n.COLOR_ATTACHMENT0 + c,
          3553,
          m,
          0
        );
      }),
      t.msaa)
    ) {
      const l = n.createFramebuffer();
      (t.framebuffer = l),
        n.bindFramebuffer(n.FRAMEBUFFER, l),
        e.colorTextures.forEach((c, d) => {
          const f = n.createRenderbuffer();
          t.msaaRenderBuffer[d] = f;
        });
    } else t.framebuffer = i;
    this._resizeColor(e, t);
  }
  _resizeColor(e, t) {
    const s = e.colorTexture.source;
    if (
      ((t.width = s.pixelWidth),
      (t.height = s.pixelHeight),
      e.colorTextures.forEach((n, i) => {
        i !== 0 && n.source.resize(s.width, s.height, s._resolution);
      }),
      t.msaa)
    ) {
      const n = this._renderer,
        i = n.gl,
        l = t.framebuffer;
      i.bindFramebuffer(i.FRAMEBUFFER, l),
        e.colorTextures.forEach((c, d) => {
          const f = c.source;
          n.texture.bindSource(f, 0);
          const h = n.texture.getGlSource(f).internalFormat,
            g = t.msaaRenderBuffer[d];
          i.bindRenderbuffer(i.RENDERBUFFER, g),
            i.renderbufferStorageMultisample(
              i.RENDERBUFFER,
              4,
              h,
              f.pixelWidth,
              f.pixelHeight
            ),
            i.framebufferRenderbuffer(
              i.FRAMEBUFFER,
              i.COLOR_ATTACHMENT0 + d,
              i.RENDERBUFFER,
              g
            );
        });
    }
  }
  _initStencil(e) {
    if (e.framebuffer === null) return;
    const t = this._renderer.gl,
      s = t.createRenderbuffer();
    (e.depthStencilRenderBuffer = s),
      t.bindRenderbuffer(t.RENDERBUFFER, s),
      t.framebufferRenderbuffer(
        t.FRAMEBUFFER,
        t.DEPTH_STENCIL_ATTACHMENT,
        t.RENDERBUFFER,
        s
      ),
      this._resizeStencil(e);
  }
  _resizeStencil(e) {
    const t = this._renderer.gl;
    t.bindRenderbuffer(t.RENDERBUFFER, e.depthStencilRenderBuffer),
      e.msaa
        ? t.renderbufferStorageMultisample(
            t.RENDERBUFFER,
            4,
            t.DEPTH24_STENCIL8,
            e.width,
            e.height
          )
        : t.renderbufferStorage(
            t.RENDERBUFFER,
            this._renderer.context.webGLVersion === 2
              ? t.DEPTH24_STENCIL8
              : t.DEPTH_STENCIL,
            e.width,
            e.height
          );
  }
  prerender(e) {
    const t = e.colorTexture.resource;
    this._renderer.context.multiView &&
      cn.test(t) &&
      this._renderer.context.ensureCanvasSize(t);
  }
  postrender(e) {
    if (this._renderer.context.multiView && cn.test(e.colorTexture.resource)) {
      const t = this._renderer.context.canvas,
        s = e.colorTexture;
      s.context2D.drawImage(t, 0, s.pixelHeight - t.height);
    }
  }
}
function $6(r, e, t, s, n, i) {
  const l = i ? 1 : -1;
  return (
    r.identity(),
    (r.a = (1 / s) * 2),
    (r.d = l * ((1 / n) * 2)),
    (r.tx = -1 - e * r.a),
    (r.ty = -l - t * r.d),
    r
  );
}
const Po = new Map();
function OS(r, e) {
  if (!Po.has(r)) {
    const t = new Se({ source: new cn({ resource: r, ...e }) }),
      s = () => {
        Po.get(r) === t && Po.delete(r);
      };
    t.once("destroy", s), t.source.once("destroy", s), Po.set(r, t);
  }
  return Po.get(r);
}
function H6(r) {
  const e = r.colorTexture.source.resource;
  return (
    globalThis.HTMLCanvasElement &&
    e instanceof HTMLCanvasElement &&
    document.body.contains(e)
  );
}
const LS = class DS {
  constructor(e = {}) {
    if (
      ((this.uid = St("renderTarget")),
      (this.colorTextures = []),
      (this.dirtyId = 0),
      (this.isRoot = !1),
      (this._size = new Float32Array(2)),
      (this._managedColorTextures = !1),
      (e = { ...DS.defaultOptions, ...e }),
      (this.stencil = e.stencil),
      (this.depth = e.depth),
      (this.isRoot = e.isRoot),
      typeof e.colorTextures == "number")
    ) {
      this._managedColorTextures = !0;
      for (let t = 0; t < e.colorTextures; t++)
        this.colorTextures.push(
          new Yt({
            width: e.width,
            height: e.height,
            resolution: e.resolution,
            antialias: e.antialias,
          })
        );
    } else {
      this.colorTextures = [...e.colorTextures.map((s) => s.source)];
      const t = this.colorTexture.source;
      this.resize(t.width, t.height, t._resolution);
    }
    this.colorTexture.source.on("resize", this.onSourceResize, this),
      (e.depthStencilTexture || this.stencil) &&
        (e.depthStencilTexture instanceof Se ||
        e.depthStencilTexture instanceof Yt
          ? (this.depthStencilTexture = e.depthStencilTexture.source)
          : this.ensureDepthStencilTexture());
  }
  get size() {
    const e = this._size;
    return (e[0] = this.pixelWidth), (e[1] = this.pixelHeight), e;
  }
  get width() {
    return this.colorTexture.source.width;
  }
  get height() {
    return this.colorTexture.source.height;
  }
  get pixelWidth() {
    return this.colorTexture.source.pixelWidth;
  }
  get pixelHeight() {
    return this.colorTexture.source.pixelHeight;
  }
  get resolution() {
    return this.colorTexture.source._resolution;
  }
  get colorTexture() {
    return this.colorTextures[0];
  }
  onSourceResize(e) {
    this.resize(e.width, e.height, e._resolution, !0);
  }
  ensureDepthStencilTexture() {
    this.depthStencilTexture ||
      (this.depthStencilTexture = new Yt({
        width: this.width,
        height: this.height,
        resolution: this.resolution,
        format: "depth24plus-stencil8",
        autoGenerateMipmaps: !1,
        antialias: !1,
        mipLevelCount: 1,
      }));
  }
  resize(e, t, s = this.resolution, n = !1) {
    this.dirtyId++,
      this.colorTextures.forEach((i, l) => {
        (n && l === 0) || i.source.resize(e, t, s);
      }),
      this.depthStencilTexture &&
        this.depthStencilTexture.source.resize(e, t, s);
  }
  destroy() {
    this.colorTexture.source.off("resize", this.onSourceResize, this),
      this._managedColorTextures &&
        this.colorTextures.forEach((e) => {
          e.destroy();
        }),
      this.depthStencilTexture &&
        (this.depthStencilTexture.destroy(), delete this.depthStencilTexture);
  }
};
LS.defaultOptions = {
  width: 0,
  height: 0,
  resolution: 1,
  colorTextures: 1,
  stencil: !1,
  depth: !1,
  antialias: !1,
  isRoot: !1,
};
let Rm = LS;
class US {
  constructor(e) {
    (this.rootViewPort = new ct()),
      (this.viewport = new ct()),
      (this.onRenderTargetChange = new bw("onRenderTargetChange")),
      (this.projectionMatrix = new ke()),
      (this.defaultClearColor = [0, 0, 0, 0]),
      (this._renderSurfaceToRenderTargetHash = new Map()),
      (this._gpuRenderTargetHash = Object.create(null)),
      (this._renderTargetStack = []),
      (this._renderer = e),
      e.renderableGC.addManagedHash(this, "_gpuRenderTargetHash");
  }
  finishRenderPass() {
    this.adaptor.finishRenderPass(this.renderTarget);
  }
  renderStart({ target: e, clear: t, clearColor: s, frame: n }) {
    (this._renderTargetStack.length = 0),
      this.push(e, t, s, n),
      this.rootViewPort.copyFrom(this.viewport),
      (this.rootRenderTarget = this.renderTarget),
      (this.renderingToScreen = H6(this.rootRenderTarget)),
      this.adaptor.prerender?.(this.rootRenderTarget);
  }
  postrender() {
    this.adaptor.postrender?.(this.rootRenderTarget);
  }
  bind(e, t = !0, s, n) {
    const i = this.getRenderTarget(e),
      l = this.renderTarget !== i;
    (this.renderTarget = i), (this.renderSurface = e);
    const c = this.getGpuRenderTarget(i);
    (i.pixelWidth !== c.width || i.pixelHeight !== c.height) &&
      (this.adaptor.resizeGpuRenderTarget(i),
      (c.width = i.pixelWidth),
      (c.height = i.pixelHeight));
    const d = i.colorTexture,
      f = this.viewport,
      m = d.pixelWidth,
      h = d.pixelHeight;
    if ((!n && e instanceof Se && (n = e.frame), n)) {
      const g = d._resolution;
      (f.x = (n.x * g + 0.5) | 0),
        (f.y = (n.y * g + 0.5) | 0),
        (f.width = (n.width * g + 0.5) | 0),
        (f.height = (n.height * g + 0.5) | 0);
    } else (f.x = 0), (f.y = 0), (f.width = m), (f.height = h);
    return (
      $6(
        this.projectionMatrix,
        0,
        0,
        f.width / d.resolution,
        f.height / d.resolution,
        !i.isRoot
      ),
      this.adaptor.startRenderPass(i, t, s, f),
      l && this.onRenderTargetChange.emit(i),
      i
    );
  }
  clear(e, t = Wr.ALL, s) {
    t &&
      (e && (e = this.getRenderTarget(e)),
      this.adaptor.clear(e || this.renderTarget, t, s, this.viewport));
  }
  contextChange() {
    this._gpuRenderTargetHash = Object.create(null);
  }
  push(e, t = Wr.ALL, s, n) {
    const i = this.bind(e, t, s, n);
    return this._renderTargetStack.push({ renderTarget: i, frame: n }), i;
  }
  pop() {
    this._renderTargetStack.pop();
    const e = this._renderTargetStack[this._renderTargetStack.length - 1];
    this.bind(e.renderTarget, !1, null, e.frame);
  }
  getRenderTarget(e) {
    return (
      e.isTexture && (e = e.source),
      this._renderSurfaceToRenderTargetHash.get(e) ?? this._initRenderTarget(e)
    );
  }
  copyToTexture(e, t, s, n, i) {
    s.x < 0 && ((n.width += s.x), (i.x -= s.x), (s.x = 0)),
      s.y < 0 && ((n.height += s.y), (i.y -= s.y), (s.y = 0));
    const { pixelWidth: l, pixelHeight: c } = e;
    return (
      (n.width = Math.min(n.width, l - s.x)),
      (n.height = Math.min(n.height, c - s.y)),
      this.adaptor.copyToTexture(e, t, s, n, i)
    );
  }
  ensureDepthStencil() {
    this.renderTarget.stencil ||
      ((this.renderTarget.stencil = !0),
      this.adaptor.startRenderPass(this.renderTarget, !1, null, this.viewport));
  }
  destroy() {
    (this._renderer = null),
      this._renderSurfaceToRenderTargetHash.forEach((e, t) => {
        e !== t && e.destroy();
      }),
      this._renderSurfaceToRenderTargetHash.clear(),
      (this._gpuRenderTargetHash = Object.create(null));
  }
  _initRenderTarget(e) {
    let t = null;
    return (
      cn.test(e) && (e = OS(e).source),
      e instanceof Rm
        ? (t = e)
        : e instanceof Yt &&
          ((t = new Rm({ colorTextures: [e] })),
          e.source instanceof cn && (t.isRoot = !0),
          e.once("destroy", () => {
            t.destroy(), this._renderSurfaceToRenderTargetHash.delete(e);
            const s = this._gpuRenderTargetHash[t.uid];
            s &&
              ((this._gpuRenderTargetHash[t.uid] = null),
              this.adaptor.destroyGpuRenderTarget(s));
          })),
      this._renderSurfaceToRenderTargetHash.set(e, t),
      t
    );
  }
  getGpuRenderTarget(e) {
    return (
      this._gpuRenderTargetHash[e.uid] ||
      (this._gpuRenderTargetHash[e.uid] = this.adaptor.initGpuRenderTarget(e))
    );
  }
  resetState() {
    (this.renderTarget = null), (this.renderSurface = null);
  }
}
class zS extends US {
  constructor(e) {
    super(e), (this.adaptor = new G6()), this.adaptor.init(e, this);
  }
}
zS.extension = { type: [D.WebGLSystem], name: "renderTarget" };
class Rg extends nr {
  constructor({ buffer: e, offset: t, size: s }) {
    super(),
      (this.uid = St("buffer")),
      (this._resourceType = "bufferResource"),
      (this._touched = 0),
      (this._resourceId = St("resource")),
      (this._bufferResource = !0),
      (this.destroyed = !1),
      (this.buffer = e),
      (this.offset = t | 0),
      (this.size = s),
      this.buffer.on("change", this.onBufferChange, this);
  }
  onBufferChange() {
    (this._resourceId = St("resource")), this.emit("change", this);
  }
  destroy(e = !1) {
    (this.destroyed = !0),
      e && this.buffer.destroy(),
      this.emit("change", this),
      (this.buffer = null);
  }
}
function W6(r, e) {
  const t = [],
    s = [
      `
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `,
    ];
  let n = !1,
    i = 0;
  const l = e._getProgramData(r.glProgram);
  for (const d in r.groups) {
    const f = r.groups[d];
    t.push(`
            resources = g[${d}].resources;
        `);
    for (const m in f.resources) {
      const h = f.resources[m];
      if (h instanceof kr)
        if (h.ubo) {
          const g = r._uniformBindMap[d][Number(m)];
          t.push(`
                        sS.bindUniformBlock(
                            resources[${m}],
                            '${g}',
                            ${r.glProgram._uniformBlockData[g].index}
                        );
                    `);
        } else
          t.push(`
                        ugS.updateUniformGroup(resources[${m}], p, sD);
                    `);
      else if (h instanceof Rg) {
        const g = r._uniformBindMap[d][Number(m)];
        t.push(`
                    sS.bindUniformBlock(
                        resources[${m}],
                        '${g}',
                        ${r.glProgram._uniformBlockData[g].index}
                    );
                `);
      } else if (h instanceof Yt) {
        const g = r._uniformBindMap[d][m],
          x = l.uniformData[g];
        x &&
          (n ||
            ((n = !0),
            s.push(`
                        var tS = r.texture;
                        `)),
          e._gl.uniform1i(x.location, i),
          t.push(`
                        tS.bind(resources[${m}], ${i});
                    `),
          i++);
      }
    }
  }
  const c = [...s, ...t].join(`
`);
  return new Function("r", "s", "sD", c);
}
class V6 {
  constructor(e, t) {
    (this.program = e),
      (this.uniformData = t),
      (this.uniformGroups = {}),
      (this.uniformDirtyGroups = {}),
      (this.uniformBlockBindings = {});
  }
  destroy() {
    (this.uniformData = null),
      (this.uniformGroups = null),
      (this.uniformDirtyGroups = null),
      (this.uniformBlockBindings = null),
      (this.program = null);
  }
}
function gb(r, e, t) {
  const s = r.createShader(e);
  return r.shaderSource(s, t), r.compileShader(s), s;
}
function vp(r) {
  const e = new Array(r);
  for (let t = 0; t < e.length; t++) e[t] = !1;
  return e;
}
function GS(r, e) {
  switch (r) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * e);
    case "vec3":
      return new Float32Array(3 * e);
    case "vec4":
      return new Float32Array(4 * e);
    case "int":
    case "uint":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * e);
    case "ivec3":
      return new Int32Array(3 * e);
    case "ivec4":
      return new Int32Array(4 * e);
    case "uvec2":
      return new Uint32Array(2 * e);
    case "uvec3":
      return new Uint32Array(3 * e);
    case "uvec4":
      return new Uint32Array(4 * e);
    case "bool":
      return !1;
    case "bvec2":
      return vp(2 * e);
    case "bvec3":
      return vp(3 * e);
    case "bvec4":
      return vp(4 * e);
    case "mat2":
      return new Float32Array([1, 0, 0, 1]);
    case "mat3":
      return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
    case "mat4":
      return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
  }
  return null;
}
let Xc = null;
const xb = {
    FLOAT: "float",
    FLOAT_VEC2: "vec2",
    FLOAT_VEC3: "vec3",
    FLOAT_VEC4: "vec4",
    INT: "int",
    INT_VEC2: "ivec2",
    INT_VEC3: "ivec3",
    INT_VEC4: "ivec4",
    UNSIGNED_INT: "uint",
    UNSIGNED_INT_VEC2: "uvec2",
    UNSIGNED_INT_VEC3: "uvec3",
    UNSIGNED_INT_VEC4: "uvec4",
    BOOL: "bool",
    BOOL_VEC2: "bvec2",
    BOOL_VEC3: "bvec3",
    BOOL_VEC4: "bvec4",
    FLOAT_MAT2: "mat2",
    FLOAT_MAT3: "mat3",
    FLOAT_MAT4: "mat4",
    SAMPLER_2D: "sampler2D",
    INT_SAMPLER_2D: "sampler2D",
    UNSIGNED_INT_SAMPLER_2D: "sampler2D",
    SAMPLER_CUBE: "samplerCube",
    INT_SAMPLER_CUBE: "samplerCube",
    UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
    SAMPLER_2D_ARRAY: "sampler2DArray",
    INT_SAMPLER_2D_ARRAY: "sampler2DArray",
    UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  },
  q6 = {
    float: "float32",
    vec2: "float32x2",
    vec3: "float32x3",
    vec4: "float32x4",
    int: "sint32",
    ivec2: "sint32x2",
    ivec3: "sint32x3",
    ivec4: "sint32x4",
    uint: "uint32",
    uvec2: "uint32x2",
    uvec3: "uint32x3",
    uvec4: "uint32x4",
    bool: "uint32",
    bvec2: "uint32x2",
    bvec3: "uint32x3",
    bvec4: "uint32x4",
  };
function $S(r, e) {
  if (!Xc) {
    const t = Object.keys(xb);
    Xc = {};
    for (let s = 0; s < t.length; ++s) {
      const n = t[s];
      Xc[r[n]] = xb[n];
    }
  }
  return Xc[e];
}
function X6(r, e) {
  const t = $S(r, e);
  return q6[t] || "float32";
}
function Y6(r, e, t = !1) {
  const s = {},
    n = e.getProgramParameter(r, e.ACTIVE_ATTRIBUTES);
  for (let l = 0; l < n; l++) {
    const c = e.getActiveAttrib(r, l);
    if (c.name.startsWith("gl_")) continue;
    const d = X6(e, c.type);
    s[c.name] = {
      location: 0,
      format: d,
      stride: Xn(d).stride,
      offset: 0,
      instance: !1,
      start: 0,
    };
  }
  const i = Object.keys(s);
  if (t) {
    i.sort((l, c) => (l > c ? 1 : -1));
    for (let l = 0; l < i.length; l++)
      (s[i[l]].location = l), e.bindAttribLocation(r, l, i[l]);
    e.linkProgram(r);
  } else
    for (let l = 0; l < i.length; l++)
      s[i[l]].location = e.getAttribLocation(r, i[l]);
  return s;
}
function K6(r, e) {
  if (!e.ACTIVE_UNIFORM_BLOCKS) return {};
  const t = {},
    s = e.getProgramParameter(r, e.ACTIVE_UNIFORM_BLOCKS);
  for (let n = 0; n < s; n++) {
    const i = e.getActiveUniformBlockName(r, n),
      l = e.getUniformBlockIndex(r, i),
      c = e.getActiveUniformBlockParameter(r, n, e.UNIFORM_BLOCK_DATA_SIZE);
    t[i] = { name: i, index: l, size: c };
  }
  return t;
}
function Q6(r, e) {
  const t = {},
    s = e.getProgramParameter(r, e.ACTIVE_UNIFORMS);
  for (let n = 0; n < s; n++) {
    const i = e.getActiveUniform(r, n),
      l = i.name.replace(/\[.*?\]$/, ""),
      c = !!i.name.match(/\[.*?\]$/),
      d = $S(e, i.type);
    t[l] = {
      name: l,
      index: n,
      type: d,
      size: i.size,
      isArray: c,
      value: GS(d, i.size),
    };
  }
  return t;
}
function yb(r, e) {
  const t = r
      .getShaderSource(e)
      .split(
        `
`
      )
      .map((f, m) => `${m}: ${f}`),
    s = r.getShaderInfoLog(e),
    n = s.split(`
`),
    i = {},
    l = n
      .map((f) => parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1")))
      .filter((f) => (f && !i[f] ? ((i[f] = !0), !0) : !1)),
    c = [""];
  l.forEach((f) => {
    (t[f - 1] = `%c${t[f - 1]}%c`),
      c.push(
        "background: #FF0000; color:#FFFFFF; font-size: 10px",
        "font-size: 10px"
      );
  });
  const d = t.join(`
`);
  (c[0] = d),
    console.error(s),
    console.groupCollapsed("click to view full shader code"),
    console.warn(...c),
    console.groupEnd();
}
function Z6(r, e, t, s) {
  r.getProgramParameter(e, r.LINK_STATUS) ||
    (r.getShaderParameter(t, r.COMPILE_STATUS) || yb(r, t),
    r.getShaderParameter(s, r.COMPILE_STATUS) || yb(r, s),
    console.error("PixiJS Error: Could not initialize shader."),
    r.getProgramInfoLog(e) !== "" &&
      console.warn(
        "PixiJS Warning: gl.getProgramInfoLog()",
        r.getProgramInfoLog(e)
      ));
}
function J6(r, e) {
  const t = gb(r, r.VERTEX_SHADER, e.vertex),
    s = gb(r, r.FRAGMENT_SHADER, e.fragment),
    n = r.createProgram();
  r.attachShader(n, t), r.attachShader(n, s);
  const i = e.transformFeedbackVaryings;
  i &&
    (typeof r.transformFeedbackVaryings != "function"
      ? Re(
          "TransformFeedback is not supported but TransformFeedbackVaryings are given."
        )
      : r.transformFeedbackVaryings(
          n,
          i.names,
          i.bufferMode === "separate"
            ? r.SEPARATE_ATTRIBS
            : r.INTERLEAVED_ATTRIBS
        )),
    r.linkProgram(n),
    r.getProgramParameter(n, r.LINK_STATUS) || Z6(r, n, t, s),
    (e._attributeData = Y6(
      n,
      r,
      !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)
    )),
    (e._uniformData = Q6(n, r)),
    (e._uniformBlockData = K6(n, r)),
    r.deleteShader(t),
    r.deleteShader(s);
  const l = {};
  for (const d in e._uniformData) {
    const f = e._uniformData[d];
    l[d] = { location: r.getUniformLocation(n, d), value: GS(f.type, f.size) };
  }
  return new V6(n, l);
}
const Yc = { textureCount: 0, blockIndex: 0 };
class HS {
  constructor(e) {
    (this._activeProgram = null),
      (this._programDataHash = Object.create(null)),
      (this._shaderSyncFunctions = Object.create(null)),
      (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_programDataHash");
  }
  contextChange(e) {
    (this._gl = e),
      (this._programDataHash = Object.create(null)),
      (this._shaderSyncFunctions = Object.create(null)),
      (this._activeProgram = null);
  }
  bind(e, t) {
    if ((this._setProgram(e.glProgram), t)) return;
    (Yc.textureCount = 0), (Yc.blockIndex = 0);
    let s = this._shaderSyncFunctions[e.glProgram._key];
    s ||
      (s = this._shaderSyncFunctions[e.glProgram._key] =
        this._generateShaderSync(e, this)),
      this._renderer.buffer.nextBindBase(
        !!e.glProgram.transformFeedbackVaryings
      ),
      s(this._renderer, e, Yc);
  }
  updateUniformGroup(e) {
    this._renderer.uniformGroup.updateUniformGroup(e, this._activeProgram, Yc);
  }
  bindUniformBlock(e, t, s = 0) {
    const n = this._renderer.buffer,
      i = this._getProgramData(this._activeProgram),
      l = e._bufferResource;
    l || this._renderer.ubo.updateUniformGroup(e);
    const c = e.buffer,
      d = n.updateBuffer(c),
      f = n.freeLocationForBufferBase(d);
    if (l) {
      const { offset: h, size: g } = e;
      h === 0 && g === c.data.byteLength
        ? n.bindBufferBase(d, f)
        : n.bindBufferRange(d, f, h);
    } else n.getLastBindBaseLocation(d) !== f && n.bindBufferBase(d, f);
    const m = this._activeProgram._uniformBlockData[t].index;
    i.uniformBlockBindings[s] !== f &&
      ((i.uniformBlockBindings[s] = f),
      this._renderer.gl.uniformBlockBinding(i.program, m, f));
  }
  _setProgram(e) {
    if (this._activeProgram === e) return;
    this._activeProgram = e;
    const t = this._getProgramData(e);
    this._gl.useProgram(t.program);
  }
  _getProgramData(e) {
    return this._programDataHash[e._key] || this._createProgramData(e);
  }
  _createProgramData(e) {
    const t = e._key;
    return (
      (this._programDataHash[t] = J6(this._gl, e)), this._programDataHash[t]
    );
  }
  destroy() {
    for (const e of Object.keys(this._programDataHash))
      this._programDataHash[e].destroy(), (this._programDataHash[e] = null);
    this._programDataHash = null;
  }
  _generateShaderSync(e, t) {
    return W6(e, t);
  }
  resetState() {
    this._activeProgram = null;
  }
}
HS.extension = { type: [D.WebGLSystem], name: "shader" };
const eR = {
    f32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,
    "vec2<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,
    "vec3<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,
    "vec4<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,
    i32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,
    "vec2<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,
    "vec3<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,
    "vec4<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,
    u32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,
    "vec2<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,
    "vec3<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,
    "vec4<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,
    bool: `if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,
    "vec2<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,
    "vec3<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,
    "vec4<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,
    "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
    "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
    "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
  },
  tR = {
    f32: "gl.uniform1fv(location, v);",
    "vec2<f32>": "gl.uniform2fv(location, v);",
    "vec3<f32>": "gl.uniform3fv(location, v);",
    "vec4<f32>": "gl.uniform4fv(location, v);",
    "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
    "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
    "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
    i32: "gl.uniform1iv(location, v);",
    "vec2<i32>": "gl.uniform2iv(location, v);",
    "vec3<i32>": "gl.uniform3iv(location, v);",
    "vec4<i32>": "gl.uniform4iv(location, v);",
    u32: "gl.uniform1iv(location, v);",
    "vec2<u32>": "gl.uniform2iv(location, v);",
    "vec3<u32>": "gl.uniform3iv(location, v);",
    "vec4<u32>": "gl.uniform4iv(location, v);",
    bool: "gl.uniform1iv(location, v);",
    "vec2<bool>": "gl.uniform2iv(location, v);",
    "vec3<bool>": "gl.uniform3iv(location, v);",
    "vec4<bool>": "gl.uniform4iv(location, v);",
  };
function rR(r, e) {
  const t = [
    `
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `,
  ];
  for (const s in r.uniforms) {
    if (!e[s]) {
      r.uniforms[s] instanceof kr
        ? r.uniforms[s].ubo
          ? t.push(`
                        renderer.shader.bindUniformBlock(uv.${s}, "${s}");
                    `)
          : t.push(`
                        renderer.shader.updateUniformGroup(uv.${s});
                    `)
        : r.uniforms[s] instanceof Rg &&
          t.push(`
                        renderer.shader.bindBufferResource(uv.${s}, "${s}");
                    `);
      continue;
    }
    const n = r.uniformStructures[s];
    let i = !1;
    for (let l = 0; l < ji.length; l++) {
      const c = ji[l];
      if (n.type === c.type && c.test(n)) {
        t.push(`name = "${s}";`, ji[l].uniform), (i = !0);
        break;
      }
    }
    if (!i) {
      const c = (n.size === 1 ? eR : tR)[n.type].replace(
        "location",
        `ud["${s}"].location`
      );
      t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${c};`);
    }
  }
  return new Function(
    "ud",
    "uv",
    "renderer",
    "syncData",
    t.join(`
`)
  );
}
class WS {
  constructor(e) {
    (this._cache = {}),
      (this._uniformGroupSyncHash = {}),
      (this._renderer = e),
      (this.gl = null),
      (this._cache = {});
  }
  contextChange(e) {
    this.gl = e;
  }
  updateUniformGroup(e, t, s) {
    const n = this._renderer.shader._getProgramData(t);
    (!e.isStatic || e._dirtyId !== n.uniformDirtyGroups[e.uid]) &&
      ((n.uniformDirtyGroups[e.uid] = e._dirtyId),
      this._getUniformSyncFunction(e, t)(
        n.uniformData,
        e.uniforms,
        this._renderer,
        s
      ));
  }
  _getUniformSyncFunction(e, t) {
    return (
      this._uniformGroupSyncHash[e._signature]?.[t._key] ||
      this._createUniformSyncFunction(e, t)
    );
  }
  _createUniformSyncFunction(e, t) {
    const s =
        this._uniformGroupSyncHash[e._signature] ||
        (this._uniformGroupSyncHash[e._signature] = {}),
      n = this._getSignature(e, t._uniformData, "u");
    return (
      this._cache[n] ||
        (this._cache[n] = this._generateUniformsSync(e, t._uniformData)),
      (s[t._key] = this._cache[n]),
      s[t._key]
    );
  }
  _generateUniformsSync(e, t) {
    return rR(e, t);
  }
  _getSignature(e, t, s) {
    const n = e.uniforms,
      i = [`${s}-`];
    for (const l in n) i.push(l), t[l] && i.push(t[l].type);
    return i.join("-");
  }
  destroy() {
    (this._renderer = null), (this._cache = null);
  }
}
WS.extension = { type: [D.WebGLSystem], name: "uniformGroup" };
function sR(r) {
  const e = {};
  if (
    ((e.normal = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
    (e.add = [r.ONE, r.ONE]),
    (e.multiply = [
      r.DST_COLOR,
      r.ONE_MINUS_SRC_ALPHA,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e.screen = [r.ONE, r.ONE_MINUS_SRC_COLOR, r.ONE, r.ONE_MINUS_SRC_ALPHA]),
    (e.none = [0, 0]),
    (e["normal-npm"] = [
      r.SRC_ALPHA,
      r.ONE_MINUS_SRC_ALPHA,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e["add-npm"] = [r.SRC_ALPHA, r.ONE, r.ONE, r.ONE]),
    (e["screen-npm"] = [
      r.SRC_ALPHA,
      r.ONE_MINUS_SRC_COLOR,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e.erase = [r.ZERO, r.ONE_MINUS_SRC_ALPHA]),
    !(r instanceof Ke.get().getWebGLRenderingContext()))
  )
    (e.min = [r.ONE, r.ONE, r.ONE, r.ONE, r.MIN, r.MIN]),
      (e.max = [r.ONE, r.ONE, r.ONE, r.ONE, r.MAX, r.MAX]);
  else {
    const s = r.getExtension("EXT_blend_minmax");
    s &&
      ((e.min = [r.ONE, r.ONE, r.ONE, r.ONE, s.MIN_EXT, s.MIN_EXT]),
      (e.max = [r.ONE, r.ONE, r.ONE, r.ONE, s.MAX_EXT, s.MAX_EXT]));
  }
  return e;
}
const nR = 0,
  iR = 1,
  aR = 2,
  oR = 3,
  lR = 4,
  cR = 5,
  VS = class Bm {
    constructor(e) {
      (this._invertFrontFace = !1),
        (this.gl = null),
        (this.stateId = 0),
        (this.polygonOffset = 0),
        (this.blendMode = "none"),
        (this._blendEq = !1),
        (this.map = []),
        (this.map[nR] = this.setBlend),
        (this.map[iR] = this.setOffset),
        (this.map[aR] = this.setCullFace),
        (this.map[oR] = this.setDepthTest),
        (this.map[lR] = this.setFrontFace),
        (this.map[cR] = this.setDepthMask),
        (this.checks = []),
        (this.defaultState = ks.for2d()),
        e.renderTarget.onRenderTargetChange.add(this);
    }
    onRenderTargetChange(e) {
      (this._invertFrontFace = !e.isRoot),
        this._cullFace
          ? this.setFrontFace(this._frontFace)
          : (this._frontFaceDirty = !0);
    }
    contextChange(e) {
      (this.gl = e), (this.blendModesMap = sR(e)), this.resetState();
    }
    set(e) {
      if ((e || (e = this.defaultState), this.stateId !== e.data)) {
        let t = this.stateId ^ e.data,
          s = 0;
        for (; t; )
          t & 1 && this.map[s].call(this, !!(e.data & (1 << s))),
            (t >>= 1),
            s++;
        this.stateId = e.data;
      }
      for (let t = 0; t < this.checks.length; t++) this.checks[t](this, e);
    }
    forceState(e) {
      e || (e = this.defaultState);
      for (let t = 0; t < this.map.length; t++)
        this.map[t].call(this, !!(e.data & (1 << t)));
      for (let t = 0; t < this.checks.length; t++) this.checks[t](this, e);
      this.stateId = e.data;
    }
    setBlend(e) {
      this._updateCheck(Bm._checkBlendMode, e),
        this.gl[e ? "enable" : "disable"](this.gl.BLEND);
    }
    setOffset(e) {
      this._updateCheck(Bm._checkPolygonOffset, e),
        this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
    }
    setDepthTest(e) {
      this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST);
    }
    setDepthMask(e) {
      this.gl.depthMask(e);
    }
    setCullFace(e) {
      (this._cullFace = e),
        this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE),
        this._cullFace &&
          this._frontFaceDirty &&
          this.setFrontFace(this._frontFace);
    }
    setFrontFace(e) {
      (this._frontFace = e), (this._frontFaceDirty = !1);
      const t = this._invertFrontFace ? !e : e;
      this._glFrontFace !== t &&
        ((this._glFrontFace = t), this.gl.frontFace(this.gl[t ? "CW" : "CCW"]));
    }
    setBlendMode(e) {
      if ((this.blendModesMap[e] || (e = "normal"), e === this.blendMode))
        return;
      this.blendMode = e;
      const t = this.blendModesMap[e],
        s = this.gl;
      t.length === 2
        ? s.blendFunc(t[0], t[1])
        : s.blendFuncSeparate(t[0], t[1], t[2], t[3]),
        t.length === 6
          ? ((this._blendEq = !0), s.blendEquationSeparate(t[4], t[5]))
          : this._blendEq &&
            ((this._blendEq = !1),
            s.blendEquationSeparate(s.FUNC_ADD, s.FUNC_ADD));
    }
    setPolygonOffset(e, t) {
      this.gl.polygonOffset(e, t);
    }
    resetState() {
      (this._glFrontFace = !1),
        (this._frontFace = !1),
        (this._cullFace = !1),
        (this._frontFaceDirty = !1),
        (this._invertFrontFace = !1),
        this.gl.frontFace(this.gl.CCW),
        this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
        this.forceState(this.defaultState),
        (this._blendEq = !0),
        (this.blendMode = ""),
        this.setBlendMode("normal");
    }
    _updateCheck(e, t) {
      const s = this.checks.indexOf(e);
      t && s === -1
        ? this.checks.push(e)
        : !t && s !== -1 && this.checks.splice(s, 1);
    }
    static _checkBlendMode(e, t) {
      e.setBlendMode(t.blendMode);
    }
    static _checkPolygonOffset(e, t) {
      e.setPolygonOffset(1, t.polygonOffset);
    }
    destroy() {
      (this.gl = null), (this.checks.length = 0);
    }
  };
VS.extension = { type: [D.WebGLSystem], name: "state" };
let uR = VS;
class dR {
  constructor(e) {
    (this.target = TS.TEXTURE_2D),
      (this.texture = e),
      (this.width = -1),
      (this.height = -1),
      (this.type = at.UNSIGNED_BYTE),
      (this.internalFormat = Nm.RGBA),
      (this.format = Nm.RGBA),
      (this.samplerType = 0);
  }
}
const hR = {
    id: "buffer",
    upload(r, e, t) {
      e.width === r.width || e.height === r.height
        ? t.texSubImage2D(
            t.TEXTURE_2D,
            0,
            0,
            0,
            r.width,
            r.height,
            e.format,
            e.type,
            r.resource
          )
        : t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            r.width,
            r.height,
            0,
            e.format,
            e.type,
            r.resource
          ),
        (e.width = r.width),
        (e.height = r.height);
    },
  },
  fR = {
    "bc1-rgba-unorm": !0,
    "bc1-rgba-unorm-srgb": !0,
    "bc2-rgba-unorm": !0,
    "bc2-rgba-unorm-srgb": !0,
    "bc3-rgba-unorm": !0,
    "bc3-rgba-unorm-srgb": !0,
    "bc4-r-unorm": !0,
    "bc4-r-snorm": !0,
    "bc5-rg-unorm": !0,
    "bc5-rg-snorm": !0,
    "bc6h-rgb-ufloat": !0,
    "bc6h-rgb-float": !0,
    "bc7-rgba-unorm": !0,
    "bc7-rgba-unorm-srgb": !0,
    "etc2-rgb8unorm": !0,
    "etc2-rgb8unorm-srgb": !0,
    "etc2-rgb8a1unorm": !0,
    "etc2-rgb8a1unorm-srgb": !0,
    "etc2-rgba8unorm": !0,
    "etc2-rgba8unorm-srgb": !0,
    "eac-r11unorm": !0,
    "eac-r11snorm": !0,
    "eac-rg11unorm": !0,
    "eac-rg11snorm": !0,
    "astc-4x4-unorm": !0,
    "astc-4x4-unorm-srgb": !0,
    "astc-5x4-unorm": !0,
    "astc-5x4-unorm-srgb": !0,
    "astc-5x5-unorm": !0,
    "astc-5x5-unorm-srgb": !0,
    "astc-6x5-unorm": !0,
    "astc-6x5-unorm-srgb": !0,
    "astc-6x6-unorm": !0,
    "astc-6x6-unorm-srgb": !0,
    "astc-8x5-unorm": !0,
    "astc-8x5-unorm-srgb": !0,
    "astc-8x6-unorm": !0,
    "astc-8x6-unorm-srgb": !0,
    "astc-8x8-unorm": !0,
    "astc-8x8-unorm-srgb": !0,
    "astc-10x5-unorm": !0,
    "astc-10x5-unorm-srgb": !0,
    "astc-10x6-unorm": !0,
    "astc-10x6-unorm-srgb": !0,
    "astc-10x8-unorm": !0,
    "astc-10x8-unorm-srgb": !0,
    "astc-10x10-unorm": !0,
    "astc-10x10-unorm-srgb": !0,
    "astc-12x10-unorm": !0,
    "astc-12x10-unorm-srgb": !0,
    "astc-12x12-unorm": !0,
    "astc-12x12-unorm-srgb": !0,
  },
  pR = {
    id: "compressed",
    upload(r, e, t) {
      t.pixelStorei(t.UNPACK_ALIGNMENT, 4);
      let s = r.pixelWidth,
        n = r.pixelHeight;
      const i = !!fR[r.format];
      for (let l = 0; l < r.resource.length; l++) {
        const c = r.resource[l];
        i
          ? t.compressedTexImage2D(
              t.TEXTURE_2D,
              l,
              e.internalFormat,
              s,
              n,
              0,
              c
            )
          : t.texImage2D(
              t.TEXTURE_2D,
              l,
              e.internalFormat,
              s,
              n,
              0,
              e.format,
              e.type,
              c
            ),
          (s = Math.max(s >> 1, 1)),
          (n = Math.max(n >> 1, 1));
      }
    },
  },
  qS = {
    id: "image",
    upload(r, e, t, s) {
      const n = e.width,
        i = e.height,
        l = r.pixelWidth,
        c = r.pixelHeight,
        d = r.resourceWidth,
        f = r.resourceHeight;
      d < l || f < c
        ? ((n !== l || i !== c) &&
            t.texImage2D(
              e.target,
              0,
              e.internalFormat,
              l,
              c,
              0,
              e.format,
              e.type,
              null
            ),
          s === 2
            ? t.texSubImage2D(
                t.TEXTURE_2D,
                0,
                0,
                0,
                d,
                f,
                e.format,
                e.type,
                r.resource
              )
            : t.texSubImage2D(
                t.TEXTURE_2D,
                0,
                0,
                0,
                e.format,
                e.type,
                r.resource
              ))
        : n === l && i === c
        ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, r.resource)
        : s === 2
        ? t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            l,
            c,
            0,
            e.format,
            e.type,
            r.resource
          )
        : t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            e.format,
            e.type,
            r.resource
          ),
        (e.width = l),
        (e.height = c);
    },
  },
  mR = {
    id: "video",
    upload(r, e, t, s) {
      if (!r.isValid) {
        t.texImage2D(
          e.target,
          0,
          e.internalFormat,
          1,
          1,
          0,
          e.format,
          e.type,
          null
        );
        return;
      }
      qS.upload(r, e, t, s);
    },
  },
  vb = { linear: 9729, nearest: 9728 },
  gR = {
    linear: { linear: 9987, nearest: 9985 },
    nearest: { linear: 9986, nearest: 9984 },
  },
  _p = { "clamp-to-edge": 33071, repeat: 10497, "mirror-repeat": 33648 },
  xR = {
    never: 512,
    less: 513,
    equal: 514,
    "less-equal": 515,
    greater: 516,
    "not-equal": 517,
    "greater-equal": 518,
    always: 519,
  };
function _b(r, e, t, s, n, i, l, c) {
  const d = i;
  if (
    !c ||
    r.addressModeU !== "repeat" ||
    r.addressModeV !== "repeat" ||
    r.addressModeW !== "repeat"
  ) {
    const f = _p[l ? "clamp-to-edge" : r.addressModeU],
      m = _p[l ? "clamp-to-edge" : r.addressModeV],
      h = _p[l ? "clamp-to-edge" : r.addressModeW];
    e[n](d, e.TEXTURE_WRAP_S, f),
      e[n](d, e.TEXTURE_WRAP_T, m),
      e.TEXTURE_WRAP_R && e[n](d, e.TEXTURE_WRAP_R, h);
  }
  if (
    ((!c || r.magFilter !== "linear") &&
      e[n](d, e.TEXTURE_MAG_FILTER, vb[r.magFilter]),
    t)
  ) {
    if (!c || r.mipmapFilter !== "linear") {
      const f = gR[r.minFilter][r.mipmapFilter];
      e[n](d, e.TEXTURE_MIN_FILTER, f);
    }
  } else e[n](d, e.TEXTURE_MIN_FILTER, vb[r.minFilter]);
  if (s && r.maxAnisotropy > 1) {
    const f = Math.min(
      r.maxAnisotropy,
      e.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
    );
    e[n](d, s.TEXTURE_MAX_ANISOTROPY_EXT, f);
  }
  r.compare && e[n](d, e.TEXTURE_COMPARE_FUNC, xR[r.compare]);
}
function yR(r) {
  return {
    r8unorm: r.RED,
    r8snorm: r.RED,
    r8uint: r.RED,
    r8sint: r.RED,
    r16uint: r.RED,
    r16sint: r.RED,
    r16float: r.RED,
    rg8unorm: r.RG,
    rg8snorm: r.RG,
    rg8uint: r.RG,
    rg8sint: r.RG,
    r32uint: r.RED,
    r32sint: r.RED,
    r32float: r.RED,
    rg16uint: r.RG,
    rg16sint: r.RG,
    rg16float: r.RG,
    rgba8unorm: r.RGBA,
    "rgba8unorm-srgb": r.RGBA,
    rgba8snorm: r.RGBA,
    rgba8uint: r.RGBA,
    rgba8sint: r.RGBA,
    bgra8unorm: r.RGBA,
    "bgra8unorm-srgb": r.RGBA,
    rgb9e5ufloat: r.RGB,
    rgb10a2unorm: r.RGBA,
    rg11b10ufloat: r.RGB,
    rg32uint: r.RG,
    rg32sint: r.RG,
    rg32float: r.RG,
    rgba16uint: r.RGBA,
    rgba16sint: r.RGBA,
    rgba16float: r.RGBA,
    rgba32uint: r.RGBA,
    rgba32sint: r.RGBA,
    rgba32float: r.RGBA,
    stencil8: r.STENCIL_INDEX8,
    depth16unorm: r.DEPTH_COMPONENT,
    depth24plus: r.DEPTH_COMPONENT,
    "depth24plus-stencil8": r.DEPTH_STENCIL,
    depth32float: r.DEPTH_COMPONENT,
    "depth32float-stencil8": r.DEPTH_STENCIL,
  };
}
function vR(r, e) {
  let t = {},
    s = r.RGBA;
  return (
    r instanceof Ke.get().getWebGLRenderingContext()
      ? e.srgb &&
        (t = {
          "rgba8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
          "bgra8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
        })
      : ((t = {
          "rgba8unorm-srgb": r.SRGB8_ALPHA8,
          "bgra8unorm-srgb": r.SRGB8_ALPHA8,
        }),
        (s = r.RGBA8)),
    {
      r8unorm: r.R8,
      r8snorm: r.R8_SNORM,
      r8uint: r.R8UI,
      r8sint: r.R8I,
      r16uint: r.R16UI,
      r16sint: r.R16I,
      r16float: r.R16F,
      rg8unorm: r.RG8,
      rg8snorm: r.RG8_SNORM,
      rg8uint: r.RG8UI,
      rg8sint: r.RG8I,
      r32uint: r.R32UI,
      r32sint: r.R32I,
      r32float: r.R32F,
      rg16uint: r.RG16UI,
      rg16sint: r.RG16I,
      rg16float: r.RG16F,
      rgba8unorm: r.RGBA,
      ...t,
      rgba8snorm: r.RGBA8_SNORM,
      rgba8uint: r.RGBA8UI,
      rgba8sint: r.RGBA8I,
      bgra8unorm: s,
      rgb9e5ufloat: r.RGB9_E5,
      rgb10a2unorm: r.RGB10_A2,
      rg11b10ufloat: r.R11F_G11F_B10F,
      rg32uint: r.RG32UI,
      rg32sint: r.RG32I,
      rg32float: r.RG32F,
      rgba16uint: r.RGBA16UI,
      rgba16sint: r.RGBA16I,
      rgba16float: r.RGBA16F,
      rgba32uint: r.RGBA32UI,
      rgba32sint: r.RGBA32I,
      rgba32float: r.RGBA32F,
      stencil8: r.STENCIL_INDEX8,
      depth16unorm: r.DEPTH_COMPONENT16,
      depth24plus: r.DEPTH_COMPONENT24,
      "depth24plus-stencil8": r.DEPTH24_STENCIL8,
      depth32float: r.DEPTH_COMPONENT32F,
      "depth32float-stencil8": r.DEPTH32F_STENCIL8,
      ...(e.s3tc
        ? {
            "bc1-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT,
          }
        : {}),
      ...(e.s3tc_sRGB
        ? {
            "bc1-rgba-unorm-srgb":
              e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm-srgb":
              e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm-srgb":
              e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,
          }
        : {}),
      ...(e.rgtc
        ? {
            "bc4-r-unorm": e.rgtc.COMPRESSED_RED_RGTC1_EXT,
            "bc4-r-snorm": e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,
            "bc5-rg-unorm": e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,
            "bc5-rg-snorm": e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,
          }
        : {}),
      ...(e.bptc
        ? {
            "bc6h-rgb-float": e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,
            "bc6h-rgb-ufloat": e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,
            "bc7-rgba-unorm": e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,
            "bc7-rgba-unorm-srgb": e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT,
          }
        : {}),
      ...(e.etc
        ? {
            "etc2-rgb8unorm": e.etc.COMPRESSED_RGB8_ETC2,
            "etc2-rgb8unorm-srgb": e.etc.COMPRESSED_SRGB8_ETC2,
            "etc2-rgb8a1unorm": e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgb8a1unorm-srgb":
              e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgba8unorm": e.etc.COMPRESSED_RGBA8_ETC2_EAC,
            "etc2-rgba8unorm-srgb": e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,
            "eac-r11unorm": e.etc.COMPRESSED_R11_EAC,
            "eac-rg11unorm": e.etc.COMPRESSED_SIGNED_RG11_EAC,
          }
        : {}),
      ...(e.astc
        ? {
            "astc-4x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,
            "astc-4x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,
            "astc-5x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,
            "astc-5x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,
            "astc-5x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,
            "astc-5x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,
            "astc-6x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,
            "astc-6x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,
            "astc-6x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,
            "astc-6x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,
            "astc-8x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,
            "astc-8x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,
            "astc-8x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,
            "astc-8x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,
            "astc-8x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,
            "astc-8x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,
            "astc-10x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,
            "astc-10x5-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,
            "astc-10x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,
            "astc-10x6-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,
            "astc-10x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,
            "astc-10x8-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,
            "astc-10x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,
            "astc-10x10-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,
            "astc-12x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,
            "astc-12x10-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,
            "astc-12x12-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,
            "astc-12x12-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,
          }
        : {}),
    }
  );
}
function _R(r) {
  return {
    r8unorm: r.UNSIGNED_BYTE,
    r8snorm: r.BYTE,
    r8uint: r.UNSIGNED_BYTE,
    r8sint: r.BYTE,
    r16uint: r.UNSIGNED_SHORT,
    r16sint: r.SHORT,
    r16float: r.HALF_FLOAT,
    rg8unorm: r.UNSIGNED_BYTE,
    rg8snorm: r.BYTE,
    rg8uint: r.UNSIGNED_BYTE,
    rg8sint: r.BYTE,
    r32uint: r.UNSIGNED_INT,
    r32sint: r.INT,
    r32float: r.FLOAT,
    rg16uint: r.UNSIGNED_SHORT,
    rg16sint: r.SHORT,
    rg16float: r.HALF_FLOAT,
    rgba8unorm: r.UNSIGNED_BYTE,
    "rgba8unorm-srgb": r.UNSIGNED_BYTE,
    rgba8snorm: r.BYTE,
    rgba8uint: r.UNSIGNED_BYTE,
    rgba8sint: r.BYTE,
    bgra8unorm: r.UNSIGNED_BYTE,
    "bgra8unorm-srgb": r.UNSIGNED_BYTE,
    rgb9e5ufloat: r.UNSIGNED_INT_5_9_9_9_REV,
    rgb10a2unorm: r.UNSIGNED_INT_2_10_10_10_REV,
    rg11b10ufloat: r.UNSIGNED_INT_10F_11F_11F_REV,
    rg32uint: r.UNSIGNED_INT,
    rg32sint: r.INT,
    rg32float: r.FLOAT,
    rgba16uint: r.UNSIGNED_SHORT,
    rgba16sint: r.SHORT,
    rgba16float: r.HALF_FLOAT,
    rgba32uint: r.UNSIGNED_INT,
    rgba32sint: r.INT,
    rgba32float: r.FLOAT,
    stencil8: r.UNSIGNED_BYTE,
    depth16unorm: r.UNSIGNED_SHORT,
    depth24plus: r.UNSIGNED_INT,
    "depth24plus-stencil8": r.UNSIGNED_INT_24_8,
    depth32float: r.FLOAT,
    "depth32float-stencil8": r.FLOAT_32_UNSIGNED_INT_24_8_REV,
  };
}
const bR = 4;
class XS {
  constructor(e) {
    (this.managedTextures = []),
      (this._glTextures = Object.create(null)),
      (this._glSamplers = Object.create(null)),
      (this._boundTextures = []),
      (this._activeTextureLocation = -1),
      (this._boundSamplers = Object.create(null)),
      (this._uploads = { image: qS, buffer: hR, video: mR, compressed: pR }),
      (this._premultiplyAlpha = !1),
      (this._useSeparateSamplers = !1),
      (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_glTextures"),
      this._renderer.renderableGC.addManagedHash(this, "_glSamplers");
  }
  contextChange(e) {
    (this._gl = e),
      this._mapFormatToInternalFormat ||
        ((this._mapFormatToInternalFormat = vR(
          e,
          this._renderer.context.extensions
        )),
        (this._mapFormatToType = _R(e)),
        (this._mapFormatToFormat = yR(e))),
      (this._glTextures = Object.create(null)),
      (this._glSamplers = Object.create(null)),
      (this._boundSamplers = Object.create(null)),
      (this._premultiplyAlpha = !1);
    for (let t = 0; t < 16; t++) this.bind(Se.EMPTY, t);
  }
  initSource(e) {
    this.bind(e);
  }
  bind(e, t = 0) {
    const s = e.source;
    e
      ? (this.bindSource(s, t),
        this._useSeparateSamplers && this._bindSampler(s.style, t))
      : (this.bindSource(null, t),
        this._useSeparateSamplers && this._bindSampler(null, t));
  }
  bindSource(e, t = 0) {
    const s = this._gl;
    if (
      ((e._touched = this._renderer.textureGC.count),
      this._boundTextures[t] !== e)
    ) {
      (this._boundTextures[t] = e),
        this._activateLocation(t),
        e || (e = Se.EMPTY.source);
      const n = this.getGlSource(e);
      s.bindTexture(n.target, n.texture);
    }
  }
  _bindSampler(e, t = 0) {
    const s = this._gl;
    if (!e) {
      (this._boundSamplers[t] = null), s.bindSampler(t, null);
      return;
    }
    const n = this._getGlSampler(e);
    this._boundSamplers[t] !== n &&
      ((this._boundSamplers[t] = n), s.bindSampler(t, n));
  }
  unbind(e) {
    const t = e.source,
      s = this._boundTextures,
      n = this._gl;
    for (let i = 0; i < s.length; i++)
      if (s[i] === t) {
        this._activateLocation(i);
        const l = this.getGlSource(t);
        n.bindTexture(l.target, null), (s[i] = null);
      }
  }
  _activateLocation(e) {
    this._activeTextureLocation !== e &&
      ((this._activeTextureLocation = e),
      this._gl.activeTexture(this._gl.TEXTURE0 + e));
  }
  _initSource(e) {
    const t = this._gl,
      s = new dR(t.createTexture());
    if (
      ((s.type = this._mapFormatToType[e.format]),
      (s.internalFormat = this._mapFormatToInternalFormat[e.format]),
      (s.format = this._mapFormatToFormat[e.format]),
      e.autoGenerateMipmaps &&
        (this._renderer.context.supports.nonPowOf2mipmaps || e.isPowerOfTwo))
    ) {
      const n = Math.max(e.width, e.height);
      e.mipLevelCount = Math.floor(Math.log2(n)) + 1;
    }
    return (
      (this._glTextures[e.uid] = s),
      this.managedTextures.includes(e) ||
        (e.on("update", this.onSourceUpdate, this),
        e.on("resize", this.onSourceUpdate, this),
        e.on("styleChange", this.onStyleChange, this),
        e.on("destroy", this.onSourceDestroy, this),
        e.on("unload", this.onSourceUnload, this),
        e.on("updateMipmaps", this.onUpdateMipmaps, this),
        this.managedTextures.push(e)),
      this.onSourceUpdate(e),
      this.updateStyle(e, !1),
      s
    );
  }
  onStyleChange(e) {
    this.updateStyle(e, !1);
  }
  updateStyle(e, t) {
    const s = this._gl,
      n = this.getGlSource(e);
    s.bindTexture(s.TEXTURE_2D, n.texture),
      (this._boundTextures[this._activeTextureLocation] = e),
      _b(
        e.style,
        s,
        e.mipLevelCount > 1,
        this._renderer.context.extensions.anisotropicFiltering,
        "texParameteri",
        s.TEXTURE_2D,
        !this._renderer.context.supports.nonPowOf2wrapping && !e.isPowerOfTwo,
        t
      );
  }
  onSourceUnload(e) {
    const t = this._glTextures[e.uid];
    t &&
      (this.unbind(e),
      (this._glTextures[e.uid] = null),
      this._gl.deleteTexture(t.texture));
  }
  onSourceUpdate(e) {
    const t = this._gl,
      s = this.getGlSource(e);
    t.bindTexture(t.TEXTURE_2D, s.texture),
      (this._boundTextures[this._activeTextureLocation] = e);
    const n = e.alphaMode === "premultiply-alpha-on-upload";
    this._premultiplyAlpha !== n &&
      ((this._premultiplyAlpha = n),
      t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n)),
      this._uploads[e.uploadMethodId]
        ? this._uploads[e.uploadMethodId].upload(
            e,
            s,
            t,
            this._renderer.context.webGLVersion
          )
        : t.texImage2D(
            t.TEXTURE_2D,
            0,
            t.RGBA,
            e.pixelWidth,
            e.pixelHeight,
            0,
            t.RGBA,
            t.UNSIGNED_BYTE,
            null
          ),
      e.autoGenerateMipmaps &&
        e.mipLevelCount > 1 &&
        this.onUpdateMipmaps(e, !1);
  }
  onUpdateMipmaps(e, t = !0) {
    t && this.bindSource(e, 0);
    const s = this.getGlSource(e);
    this._gl.generateMipmap(s.target);
  }
  onSourceDestroy(e) {
    e.off("destroy", this.onSourceDestroy, this),
      e.off("update", this.onSourceUpdate, this),
      e.off("resize", this.onSourceUpdate, this),
      e.off("unload", this.onSourceUnload, this),
      e.off("styleChange", this.onStyleChange, this),
      e.off("updateMipmaps", this.onUpdateMipmaps, this),
      this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
      this.onSourceUnload(e);
  }
  _initSampler(e) {
    const t = this._gl,
      s = this._gl.createSampler();
    return (
      (this._glSamplers[e._resourceId] = s),
      _b(
        e,
        t,
        this._boundTextures[this._activeTextureLocation].mipLevelCount > 1,
        this._renderer.context.extensions.anisotropicFiltering,
        "samplerParameteri",
        s,
        !1,
        !0
      ),
      this._glSamplers[e._resourceId]
    );
  }
  _getGlSampler(e) {
    return this._glSamplers[e._resourceId] || this._initSampler(e);
  }
  getGlSource(e) {
    return this._glTextures[e.uid] || this._initSource(e);
  }
  generateCanvas(e) {
    const { pixels: t, width: s, height: n } = this.getPixels(e),
      i = Ke.get().createCanvas();
    (i.width = s), (i.height = n);
    const l = i.getContext("2d");
    if (l) {
      const c = l.createImageData(s, n);
      c.data.set(t), l.putImageData(c, 0, 0);
    }
    return i;
  }
  getPixels(e) {
    const t = e.source.resolution,
      s = e.frame,
      n = Math.max(Math.round(s.width * t), 1),
      i = Math.max(Math.round(s.height * t), 1),
      l = new Uint8Array(bR * n * i),
      c = this._renderer,
      d = c.renderTarget.getRenderTarget(e),
      f = c.renderTarget.getGpuRenderTarget(d),
      m = c.gl;
    return (
      m.bindFramebuffer(m.FRAMEBUFFER, f.resolveTargetFramebuffer),
      m.readPixels(
        Math.round(s.x * t),
        Math.round(s.y * t),
        n,
        i,
        m.RGBA,
        m.UNSIGNED_BYTE,
        l
      ),
      { pixels: new Uint8ClampedArray(l.buffer), width: n, height: i }
    );
  }
  destroy() {
    this.managedTextures.slice().forEach((e) => this.onSourceDestroy(e)),
      (this.managedTextures = null),
      (this._renderer = null);
  }
  resetState() {
    (this._activeTextureLocation = -1),
      this._boundTextures.fill(Se.EMPTY.source),
      (this._boundSamplers = Object.create(null));
    const e = this._gl;
    (this._premultiplyAlpha = !1),
      e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiplyAlpha);
  }
}
XS.extension = { type: [D.WebGLSystem], name: "texture" };
class YS {
  contextChange(e) {
    const t = new kr({
        uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
        uTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
        uRound: { value: 0, type: "f32" },
      }),
      s = e.limits.maxBatchableTextures,
      n = gl({ name: "graphics", bits: [mg, xg(s), Ag, yl] });
    this.shader = new ls({
      glProgram: n,
      resources: { localUniforms: t, batchSamplers: yg(s) },
    });
  }
  execute(e, t) {
    const s = t.context,
      n = s.customShader || this.shader,
      i = e.renderer,
      l = i.graphicsContext,
      { batcher: c, instructions: d } = l.getContextRenderData(s);
    (n.groups[0] = i.globalUniforms.bindGroup),
      i.state.set(e.state),
      i.shader.bind(n),
      i.geometry.bind(c.geometry, n.glProgram);
    const f = d.instructions;
    for (let m = 0; m < d.instructionSize; m++) {
      const h = f[m];
      if (h.size) {
        for (let g = 0; g < h.textures.count; g++)
          i.texture.bind(h.textures.textures[g], g);
        i.geometry.draw(h.topology, h.size, h.start);
      }
    }
  }
  destroy() {
    this.shader.destroy(!0), (this.shader = null);
  }
}
YS.extension = { type: [D.WebGLPipesAdaptor], name: "graphics" };
class KS {
  init() {
    const e = gl({ name: "mesh", bits: [Ag, j6, yl] });
    this._shader = new ls({
      glProgram: e,
      resources: {
        uTexture: Se.EMPTY.source,
        textureUniforms: {
          uTextureMatrix: { type: "mat3x3<f32>", value: new ke() },
        },
      },
    });
  }
  execute(e, t) {
    const s = e.renderer;
    let n = t._shader;
    if (n) {
      if (!n.glProgram) {
        Re("Mesh shader has no glProgram", t.shader);
        return;
      }
    } else {
      n = this._shader;
      const i = t.texture,
        l = i.source;
      (n.resources.uTexture = l),
        (n.resources.uSampler = l.style),
        (n.resources.textureUniforms.uniforms.uTextureMatrix =
          i.textureMatrix.mapCoord);
    }
    (n.groups[100] = s.globalUniforms.bindGroup),
      (n.groups[101] = e.localUniformsBindGroup),
      s.encoder.draw({ geometry: t._geometry, shader: n, state: t.state });
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
KS.extension = { type: [D.WebGLPipesAdaptor], name: "mesh" };
class QS {
  constructor(e) {
    this._renderer = e;
  }
  updateRenderable() {}
  destroyRenderable() {}
  validateRenderable() {
    return !1;
  }
  addRenderable(e, t) {
    this._renderer.renderPipes.batch.break(t), t.add(e);
  }
  execute(e) {
    e.isRenderable && e.render(this._renderer);
  }
  destroy() {
    this._renderer = null;
  }
}
QS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "customRender",
};
class Wu {
  constructor() {
    (this.batcherName = "default"),
      (this.topology = "triangle-list"),
      (this.attributeSize = 4),
      (this.indexSize = 6),
      (this.packAsQuad = !0),
      (this.roundPixels = 0),
      (this._attributeStart = 0),
      (this._batcher = null),
      (this._batch = null);
  }
  get blendMode() {
    return this.renderable.groupBlendMode;
  }
  get color() {
    return this.renderable.groupColorAlpha;
  }
  reset() {
    (this.renderable = null),
      (this.texture = null),
      (this._batcher = null),
      (this._batch = null),
      (this.bounds = null);
  }
  destroy() {}
}
function Fm(r, e) {
  const t = r.instructionSet,
    s = t.instructions;
  for (let n = 0; n < t.instructionSize; n++) {
    const i = s[n];
    e[i.renderPipeId].execute(i);
  }
}
const wR = new ke();
class ZS {
  constructor(e) {
    this._renderer = e;
  }
  addRenderGroup(e, t) {
    e.isCachedAsTexture
      ? this._addRenderableCacheAsTexture(e, t)
      : this._addRenderableDirect(e, t);
  }
  execute(e) {
    e.isRenderable &&
      (e.isCachedAsTexture
        ? this._executeCacheAsTexture(e)
        : this._executeDirect(e));
  }
  destroy() {
    this._renderer = null;
  }
  _addRenderableDirect(e, t) {
    this._renderer.renderPipes.batch.break(t),
      e._batchableRenderGroup &&
        (ur.return(e._batchableRenderGroup), (e._batchableRenderGroup = null)),
      t.add(e);
  }
  _addRenderableCacheAsTexture(e, t) {
    const s = e._batchableRenderGroup ?? (e._batchableRenderGroup = ur.get(Wu));
    (s.renderable = e.root),
      (s.transform = e.root.relativeGroupTransform),
      (s.texture = e.texture),
      (s.bounds = e._textureBounds),
      t.add(e),
      this._renderer.renderPipes.batch.addToBatch(s, t);
  }
  _executeCacheAsTexture(e) {
    if (e.textureNeedsUpdate) {
      e.textureNeedsUpdate = !1;
      const t = wR
        .identity()
        .translate(-e._textureBounds.x, -e._textureBounds.y);
      this._renderer.renderTarget.push(e.texture, !0, null, e.texture.frame),
        this._renderer.globalUniforms.push({
          worldTransformMatrix: t,
          worldColor: 4294967295,
        }),
        Fm(e, this._renderer.renderPipes),
        this._renderer.renderTarget.finishRenderPass(),
        this._renderer.renderTarget.pop(),
        this._renderer.globalUniforms.pop();
    }
    e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),
      e._batchableRenderGroup._batcher.geometry.buffers[0].update();
  }
  _executeDirect(e) {
    this._renderer.globalUniforms.push({
      worldTransformMatrix: e.inverseParentTextureTransform,
      worldColor: e.worldColorAlpha,
    }),
      Fm(e, this._renderer.renderPipes),
      this._renderer.globalUniforms.pop();
  }
}
ZS.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "renderGroup",
};
function Im(r, e) {
  e || (e = 0);
  for (let t = e; t < r.length && r[t]; t++) r[t] = null;
}
const SR = new Ye(),
  bb = $o | gu | ig;
function JS(r, e = !1) {
  CR(r);
  const t = r.childrenToUpdate,
    s = r.updateTick++;
  for (const n in t) {
    const i = Number(n),
      l = t[n],
      c = l.list,
      d = l.index;
    for (let f = 0; f < d; f++) {
      const m = c[f];
      m.parentRenderGroup === r &&
        m.relativeRenderGroupDepth === i &&
        eC(m, s, 0);
    }
    Im(c, d), (l.index = 0);
  }
  if (e)
    for (let n = 0; n < r.renderGroupChildren.length; n++)
      JS(r.renderGroupChildren[n], e);
}
function CR(r) {
  const e = r.root;
  let t;
  if (r.renderGroupParent) {
    const s = r.renderGroupParent;
    r.worldTransform.appendFrom(e.relativeGroupTransform, s.worldTransform),
      (r.worldColor = mu(e.groupColor, s.worldColor)),
      (t = e.groupAlpha * s.worldAlpha);
  } else
    r.worldTransform.copyFrom(e.localTransform),
      (r.worldColor = e.localColor),
      (t = e.localAlpha);
  (t = t < 0 ? 0 : t > 1 ? 1 : t),
    (r.worldAlpha = t),
    (r.worldColorAlpha = r.worldColor + (((t * 255) | 0) << 24));
}
function eC(r, e, t) {
  if (e === r.updateTick) return;
  (r.updateTick = e), (r.didChange = !1);
  const s = r.localTransform;
  r.updateLocalTransform();
  const n = r.parent;
  if (
    (n && !n.renderGroup
      ? ((t |= r._updateFlags),
        r.relativeGroupTransform.appendFrom(s, n.relativeGroupTransform),
        t & bb && wb(r, n, t))
      : ((t = r._updateFlags),
        r.relativeGroupTransform.copyFrom(s),
        t & bb && wb(r, SR, t)),
    !r.renderGroup)
  ) {
    const i = r.children,
      l = i.length;
    for (let f = 0; f < l; f++) eC(i[f], e, t);
    const c = r.parentRenderGroup,
      d = r;
    d.renderPipeId && !c.structureDidChange && c.updateRenderable(d);
  }
}
function wb(r, e, t) {
  if (t & gu) {
    r.groupColor = mu(r.localColor, e.groupColor);
    let s = r.localAlpha * e.groupAlpha;
    (s = s < 0 ? 0 : s > 1 ? 1 : s),
      (r.groupAlpha = s),
      (r.groupColorAlpha = r.groupColor + (((s * 255) | 0) << 24));
  }
  t & ig &&
    (r.groupBlendMode =
      r.localBlendMode === "inherit" ? e.groupBlendMode : r.localBlendMode),
    t & $o &&
      (r.globalDisplayStatus = r.localDisplayStatus & e.globalDisplayStatus),
    (r._updateFlags = 0);
}
function TR(r, e) {
  const { list: t, index: s } = r.childrenRenderablesToUpdate;
  let n = !1;
  for (let i = 0; i < s; i++) {
    const l = t[i];
    if (((n = e[l.renderPipeId].validateRenderable(l)), n)) break;
  }
  return (r.structureDidChange = n), n;
}
const ER = new ke();
class tC {
  constructor(e) {
    this._renderer = e;
  }
  render({ container: e, transform: t }) {
    const s = e.parent,
      n = e.renderGroup.renderGroupParent;
    (e.parent = null), (e.renderGroup.renderGroupParent = null);
    const i = this._renderer;
    let l = ER;
    t &&
      ((l = l.copyFrom(e.renderGroup.localTransform)),
      e.renderGroup.localTransform.copyFrom(t));
    const c = i.renderPipes;
    this._updateCachedRenderGroups(e.renderGroup, null),
      this._updateRenderGroups(e.renderGroup),
      i.globalUniforms.start({
        worldTransformMatrix: t
          ? e.renderGroup.localTransform
          : e.renderGroup.worldTransform,
        worldColor: e.renderGroup.worldColorAlpha,
      }),
      Fm(e.renderGroup, c),
      c.uniformBatch && c.uniformBatch.renderEnd(),
      t && e.renderGroup.localTransform.copyFrom(l),
      (e.parent = s),
      (e.renderGroup.renderGroupParent = n);
  }
  destroy() {
    this._renderer = null;
  }
  _updateCachedRenderGroups(e, t) {
    if (e.isCachedAsTexture) {
      if (!e.updateCacheTexture) return;
      t = e;
    }
    e._parentCacheAsTextureRenderGroup = t;
    for (let s = e.renderGroupChildren.length - 1; s >= 0; s--)
      this._updateCachedRenderGroups(e.renderGroupChildren[s], t);
    if ((e.invalidateMatrices(), e.isCachedAsTexture)) {
      if (e.textureNeedsUpdate) {
        const s = e.root.getLocalBounds();
        s.ceil();
        const n = e.texture;
        e.texture && Gt.returnTexture(e.texture, !0);
        const i = this._renderer,
          l = e.textureOptions.resolution || i.view.resolution,
          c = e.textureOptions.antialias ?? i.view.antialias,
          d = e.textureOptions.scaleMode ?? "linear",
          f = Gt.getOptimalTexture(s.width, s.height, l, c);
        (f._source.style = new $s({ scaleMode: d })),
          (e.texture = f),
          e._textureBounds || (e._textureBounds = new wr()),
          e._textureBounds.copyFrom(s),
          n !== e.texture &&
            e.renderGroupParent &&
            (e.renderGroupParent.structureDidChange = !0);
      }
    } else e.texture && (Gt.returnTexture(e.texture, !0), (e.texture = null));
  }
  _updateRenderGroups(e) {
    const t = this._renderer,
      s = t.renderPipes;
    if (
      (e.runOnRender(t),
      (e.instructionSet.renderPipes = s),
      e.structureDidChange
        ? Im(e.childrenRenderablesToUpdate.list, 0)
        : TR(e, s),
      JS(e),
      e.structureDidChange
        ? ((e.structureDidChange = !1), this._buildInstructions(e, t))
        : this._updateRenderables(e),
      (e.childrenRenderablesToUpdate.index = 0),
      t.renderPipes.batch.upload(e.instructionSet),
      !(e.isCachedAsTexture && !e.textureNeedsUpdate))
    )
      for (let n = 0; n < e.renderGroupChildren.length; n++)
        this._updateRenderGroups(e.renderGroupChildren[n]);
  }
  _updateRenderables(e) {
    const { list: t, index: s } = e.childrenRenderablesToUpdate;
    for (let n = 0; n < s; n++) {
      const i = t[n];
      i.didViewUpdate && e.updateRenderable(i);
    }
    Im(t, s);
  }
  _buildInstructions(e, t) {
    const s = e.root,
      n = e.instructionSet;
    n.reset();
    const i = t.renderPipes ? t : t.batch.renderer,
      l = i.renderPipes;
    l.batch.buildStart(n),
      l.blendMode.buildStart(),
      l.colorMask.buildStart(),
      s.sortableChildren && s.sortChildren(),
      s.collectRenderablesWithEffects(n, i, null),
      l.batch.buildEnd(n),
      l.blendMode.buildEnd(n);
  }
}
tC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "renderGroup",
};
class rC {
  constructor(e) {
    this._renderer = e;
  }
  addRenderable(e, t) {
    const s = this._getGpuSprite(e);
    e.didViewUpdate && this._updateBatchableSprite(e, s),
      this._renderer.renderPipes.batch.addToBatch(s, t);
  }
  updateRenderable(e) {
    const t = this._getGpuSprite(e);
    e.didViewUpdate && this._updateBatchableSprite(e, t),
      t._batcher.updateElement(t);
  }
  validateRenderable(e) {
    const t = this._getGpuSprite(e);
    return !t._batcher.checkAndUpdateTexture(t, e._texture);
  }
  _updateBatchableSprite(e, t) {
    (t.bounds = e.visualBounds), (t.texture = e._texture);
  }
  _getGpuSprite(e) {
    return e._gpuData[this._renderer.uid] || this._initGPUSprite(e);
  }
  _initGPUSprite(e) {
    const t = new Wu();
    return (
      (t.renderable = e),
      (t.transform = e.groupTransform),
      (t.texture = e._texture),
      (t.bounds = e.visualBounds),
      (t.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (e._gpuData[this._renderer.uid] = t),
      t
    );
  }
  destroy() {
    this._renderer = null;
  }
}
rC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "sprite",
};
const Bg = class sC {
  constructor() {
    (this.clearBeforeRender = !0),
      (this._backgroundColor = new Ct(0)),
      (this.color = this._backgroundColor),
      (this.alpha = 1);
  }
  init(e) {
    (e = { ...sC.defaultOptions, ...e }),
      (this.clearBeforeRender = e.clearBeforeRender),
      (this.color = e.background || e.backgroundColor || this._backgroundColor),
      (this.alpha = e.backgroundAlpha),
      this._backgroundColor.setAlpha(e.backgroundAlpha);
  }
  get color() {
    return this._backgroundColor;
  }
  set color(e) {
    Ct.shared.setValue(e).alpha < 1 &&
      this._backgroundColor.alpha === 1 &&
      Re(
        "Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."
      ),
      this._backgroundColor.setValue(e);
  }
  get alpha() {
    return this._backgroundColor.alpha;
  }
  set alpha(e) {
    this._backgroundColor.setAlpha(e);
  }
  get colorRgba() {
    return this._backgroundColor.toArray();
  }
  destroy() {}
};
Bg.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "background",
  priority: 0,
};
Bg.defaultOptions = {
  backgroundAlpha: 1,
  backgroundColor: 0,
  clearBeforeRender: !0,
};
let jR = Bg;
const Yo = {};
Ie.handle(
  D.BlendMode,
  (r) => {
    if (!r.name)
      throw new Error("BlendMode extension must have a name property");
    Yo[r.name] = r.ref;
  },
  (r) => {
    delete Yo[r.name];
  }
);
class nC {
  constructor(e) {
    (this._isAdvanced = !1),
      (this._filterHash = Object.create(null)),
      (this._renderer = e),
      this._renderer.runners.prerender.add(this);
  }
  prerender() {
    (this._activeBlendMode = "normal"), (this._isAdvanced = !1);
  }
  setBlendMode(e, t, s) {
    if (this._activeBlendMode === t) {
      this._isAdvanced && this._renderableList.push(e);
      return;
    }
    (this._activeBlendMode = t),
      this._isAdvanced && this._endAdvancedBlendMode(s),
      (this._isAdvanced = !!Yo[t]),
      this._isAdvanced &&
        (this._beginAdvancedBlendMode(s), this._renderableList.push(e));
  }
  _beginAdvancedBlendMode(e) {
    this._renderer.renderPipes.batch.break(e);
    const t = this._activeBlendMode;
    if (!Yo[t]) {
      Re(
        `Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`
      );
      return;
    }
    let s = this._filterHash[t];
    s || ((s = this._filterHash[t] = new pu()), (s.filters = [new Yo[t]()]));
    const n = {
      renderPipeId: "filter",
      action: "pushFilter",
      renderables: [],
      filterEffect: s,
      canBundle: !1,
    };
    (this._renderableList = n.renderables), e.add(n);
  }
  _endAdvancedBlendMode(e) {
    (this._renderableList = null),
      this._renderer.renderPipes.batch.break(e),
      e.add({ renderPipeId: "filter", action: "popFilter", canBundle: !1 });
  }
  buildStart() {
    this._isAdvanced = !1;
  }
  buildEnd(e) {
    this._isAdvanced && this._endAdvancedBlendMode(e);
  }
  destroy() {
    (this._renderer = null), (this._renderableList = null);
    for (const e in this._filterHash) this._filterHash[e].destroy();
    this._filterHash = null;
  }
}
nC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "blendMode",
};
const bp = { png: "image/png", jpg: "image/jpeg", webp: "image/webp" },
  Fg = class iC {
    constructor(e) {
      this._renderer = e;
    }
    _normalizeOptions(e, t = {}) {
      return e instanceof Ye || e instanceof Se
        ? { target: e, ...t }
        : { ...t, ...e };
    }
    async image(e) {
      const t = Ke.get().createImage();
      return (t.src = await this.base64(e)), t;
    }
    async base64(e) {
      e = this._normalizeOptions(e, iC.defaultImageOptions);
      const { format: t, quality: s } = e,
        n = this.canvas(e);
      if (n.toBlob !== void 0)
        return new Promise((i, l) => {
          n.toBlob(
            (c) => {
              if (!c) {
                l(new Error("ICanvas.toBlob failed!"));
                return;
              }
              const d = new FileReader();
              (d.onload = () => i(d.result)),
                (d.onerror = l),
                d.readAsDataURL(c);
            },
            bp[t],
            s
          );
        });
      if (n.toDataURL !== void 0) return n.toDataURL(bp[t], s);
      if (n.convertToBlob !== void 0) {
        const i = await n.convertToBlob({ type: bp[t], quality: s });
        return new Promise((l, c) => {
          const d = new FileReader();
          (d.onload = () => l(d.result)), (d.onerror = c), d.readAsDataURL(i);
        });
      }
      throw new Error(
        "Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented"
      );
    }
    canvas(e) {
      e = this._normalizeOptions(e);
      const t = e.target,
        s = this._renderer;
      if (t instanceof Se) return s.texture.generateCanvas(t);
      const n = s.textureGenerator.generateTexture(e),
        i = s.texture.generateCanvas(n);
      return n.destroy(!0), i;
    }
    pixels(e) {
      e = this._normalizeOptions(e);
      const t = e.target,
        s = this._renderer,
        n = t instanceof Se ? t : s.textureGenerator.generateTexture(e),
        i = s.texture.getPixels(n);
      return t instanceof Ye && n.destroy(!0), i;
    }
    texture(e) {
      return (
        (e = this._normalizeOptions(e)),
        e.target instanceof Se
          ? e.target
          : this._renderer.textureGenerator.generateTexture(e)
      );
    }
    download(e) {
      e = this._normalizeOptions(e);
      const t = this.canvas(e),
        s = document.createElement("a");
      (s.download = e.filename ?? "image.png"),
        (s.href = t.toDataURL("image/png")),
        document.body.appendChild(s),
        s.click(),
        document.body.removeChild(s);
    }
    log(e) {
      const t = e.width ?? 200;
      e = this._normalizeOptions(e);
      const s = this.canvas(e),
        n = s.toDataURL();
      console.log(`[Pixi Texture] ${s.width}px ${s.height}px`);
      const i = [
        "font-size: 1px;",
        `padding: ${t}px 300px;`,
        `background: url(${n}) no-repeat;`,
        "background-size: contain;",
      ].join(" ");
      console.log("%c ", i);
    }
    destroy() {
      this._renderer = null;
    }
  };
Fg.extension = { type: [D.WebGLSystem, D.WebGPUSystem], name: "extract" };
Fg.defaultImageOptions = { format: "png", quality: 1 };
let kR = Fg;
class Ig extends Se {
  static create(e) {
    return new Ig({ source: new Yt(e) });
  }
  resize(e, t, s) {
    return this.source.resize(e, t, s), this;
  }
}
const PR = new ct(),
  AR = new wr(),
  MR = [0, 0, 0, 0];
class aC {
  constructor(e) {
    this._renderer = e;
  }
  generateTexture(e) {
    e instanceof Ye &&
      (e = {
        target: e,
        frame: void 0,
        textureSourceOptions: {},
        resolution: void 0,
      });
    const t = e.resolution || this._renderer.resolution,
      s = e.antialias || this._renderer.view.antialias,
      n = e.target;
    let i = e.clearColor;
    i
      ? (i =
          Array.isArray(i) && i.length === 4
            ? i
            : Ct.shared.setValue(i).toArray())
      : (i = MR);
    const l = e.frame?.copyTo(PR) || ng(n, AR).rectangle;
    (l.width = Math.max(l.width, 1 / t) | 0),
      (l.height = Math.max(l.height, 1 / t) | 0);
    const c = Ig.create({
        ...e.textureSourceOptions,
        width: l.width,
        height: l.height,
        resolution: t,
        antialias: s,
      }),
      d = ke.shared.translate(-l.x, -l.y);
    return (
      this._renderer.render({
        container: n,
        transform: d,
        target: c,
        clearColor: i,
      }),
      c.source.updateMipmaps(),
      c
    );
  }
  destroy() {
    this._renderer = null;
  }
}
aC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem],
  name: "textureGenerator",
};
function vl(r, e, t) {
  const s = ((r >> 24) & 255) / 255;
  (e[t++] = ((r & 255) / 255) * s),
    (e[t++] = (((r >> 8) & 255) / 255) * s),
    (e[t++] = (((r >> 16) & 255) / 255) * s),
    (e[t++] = s);
}
class oC {
  constructor(e) {
    (this._stackIndex = 0),
      (this._globalUniformDataStack = []),
      (this._uniformsPool = []),
      (this._activeUniforms = []),
      (this._bindGroupPool = []),
      (this._activeBindGroups = []),
      (this._renderer = e);
  }
  reset() {
    this._stackIndex = 0;
    for (let e = 0; e < this._activeUniforms.length; e++)
      this._uniformsPool.push(this._activeUniforms[e]);
    for (let e = 0; e < this._activeBindGroups.length; e++)
      this._bindGroupPool.push(this._activeBindGroups[e]);
    (this._activeUniforms.length = 0), (this._activeBindGroups.length = 0);
  }
  start(e) {
    this.reset(), this.push(e);
  }
  bind({
    size: e,
    projectionMatrix: t,
    worldTransformMatrix: s,
    worldColor: n,
    offset: i,
  }) {
    const l = this._renderer.renderTarget.renderTarget,
      c = this._stackIndex
        ? this._globalUniformDataStack[this._stackIndex - 1]
        : {
            worldTransformMatrix: new ke(),
            worldColor: 4294967295,
            offset: new yt(),
          },
      d = {
        projectionMatrix: t || this._renderer.renderTarget.projectionMatrix,
        resolution: e || l.size,
        worldTransformMatrix: s || c.worldTransformMatrix,
        worldColor: n || c.worldColor,
        offset: i || c.offset,
        bindGroup: null,
      },
      f = this._uniformsPool.pop() || this._createUniforms();
    this._activeUniforms.push(f);
    const m = f.uniforms;
    (m.uProjectionMatrix = d.projectionMatrix),
      (m.uResolution = d.resolution),
      m.uWorldTransformMatrix.copyFrom(d.worldTransformMatrix),
      (m.uWorldTransformMatrix.tx -= d.offset.x),
      (m.uWorldTransformMatrix.ty -= d.offset.y),
      vl(d.worldColor, m.uWorldColorAlpha, 0),
      f.update();
    let h;
    this._renderer.renderPipes.uniformBatch
      ? (h = this._renderer.renderPipes.uniformBatch.getUniformBindGroup(f, !1))
      : ((h = this._bindGroupPool.pop() || new un()),
        this._activeBindGroups.push(h),
        h.setResource(f, 0)),
      (d.bindGroup = h),
      (this._currentGlobalUniformData = d);
  }
  push(e) {
    this.bind(e),
      (this._globalUniformDataStack[this._stackIndex++] =
        this._currentGlobalUniformData);
  }
  pop() {
    (this._currentGlobalUniformData =
      this._globalUniformDataStack[--this._stackIndex - 1]),
      this._renderer.type === Xr.WEBGL &&
        this._currentGlobalUniformData.bindGroup.resources[0].update();
  }
  get bindGroup() {
    return this._currentGlobalUniformData.bindGroup;
  }
  get globalUniformData() {
    return this._currentGlobalUniformData;
  }
  get uniformGroup() {
    return this._currentGlobalUniformData.bindGroup.resources[0];
  }
  _createUniforms() {
    return new kr(
      {
        uProjectionMatrix: { value: new ke(), type: "mat3x3<f32>" },
        uWorldTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
        uWorldColorAlpha: { value: new Float32Array(4), type: "vec4<f32>" },
        uResolution: { value: [0, 0], type: "vec2<f32>" },
      },
      { isStatic: !0 }
    );
  }
  destroy() {
    this._renderer = null;
  }
}
oC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "globalUniforms",
};
let NR = 1;
class lC {
  constructor() {
    (this._tasks = []), (this._offset = 0);
  }
  init() {
    cr.system.add(this._update, this);
  }
  repeat(e, t, s = !0) {
    const n = NR++;
    let i = 0;
    return (
      s && ((this._offset += 1e3), (i = this._offset)),
      this._tasks.push({
        func: e,
        duration: t,
        start: performance.now(),
        offset: i,
        last: performance.now(),
        repeat: !0,
        id: n,
      }),
      n
    );
  }
  cancel(e) {
    for (let t = 0; t < this._tasks.length; t++)
      if (this._tasks[t].id === e) {
        this._tasks.splice(t, 1);
        return;
      }
  }
  _update() {
    const e = performance.now();
    for (let t = 0; t < this._tasks.length; t++) {
      const s = this._tasks[t];
      if (e - s.offset - s.last >= s.duration) {
        const n = e - s.start;
        s.func(n), (s.last = e);
      }
    }
  }
  destroy() {
    cr.system.remove(this._update, this), (this._tasks.length = 0);
  }
}
lC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "scheduler",
  priority: 0,
};
let Sb = !1;
function RR(r) {
  if (!Sb) {
    if (
      Ke.get().getNavigator().userAgent.toLowerCase().indexOf("chrome") > -1
    ) {
      const e = [
        `%c  %c  %c  %c  %c PixiJS %c v${yu} (${r}) http://www.pixijs.com/

`,
        "background: #E72264; padding:5px 0;",
        "background: #6CA2EA; padding:5px 0;",
        "background: #B5D33D; padding:5px 0;",
        "background: #FED23F; padding:5px 0;",
        "color: #FFFFFF; background: #E72264; padding:5px 0;",
        "color: #E72264; background: #FFFFFF; padding:5px 0;",
      ];
      globalThis.console.log(...e);
    } else
      globalThis.console &&
        globalThis.console.log(`PixiJS ${yu} - ${r} - http://www.pixijs.com/`);
    Sb = !0;
  }
}
class Og {
  constructor(e) {
    this._renderer = e;
  }
  init(e) {
    if (e.hello) {
      let t = this._renderer.name;
      this._renderer.type === Xr.WEBGL &&
        (t += ` ${this._renderer.context.webGLVersion}`),
        RR(t);
    }
  }
}
Og.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "hello",
  priority: -2,
};
Og.defaultOptions = { hello: !1 };
function BR(r) {
  let e = !1;
  for (const s in r)
    if (r[s] == null) {
      e = !0;
      break;
    }
  if (!e) return r;
  const t = Object.create(null);
  for (const s in r) {
    const n = r[s];
    n && (t[s] = n);
  }
  return t;
}
function FR(r) {
  let e = 0;
  for (let t = 0; t < r.length; t++) r[t] == null ? e++ : (r[t - e] = r[t]);
  return (r.length -= e), r;
}
let IR = 0;
const Lg = class cC {
  constructor(e) {
    (this._managedRenderables = []),
      (this._managedHashes = []),
      (this._managedArrays = []),
      (this._renderer = e);
  }
  init(e) {
    (e = { ...cC.defaultOptions, ...e }),
      (this.maxUnusedTime = e.renderableGCMaxUnusedTime),
      (this._frequency = e.renderableGCFrequency),
      (this.enabled = e.renderableGCActive);
  }
  get enabled() {
    return !!this._handler;
  }
  set enabled(e) {
    this.enabled !== e &&
      (e
        ? ((this._handler = this._renderer.scheduler.repeat(
            () => this.run(),
            this._frequency,
            !1
          )),
          (this._hashHandler = this._renderer.scheduler.repeat(() => {
            for (const t of this._managedHashes)
              t.context[t.hash] = BR(t.context[t.hash]);
          }, this._frequency)),
          (this._arrayHandler = this._renderer.scheduler.repeat(() => {
            for (const t of this._managedArrays) FR(t.context[t.hash]);
          }, this._frequency)))
        : (this._renderer.scheduler.cancel(this._handler),
          this._renderer.scheduler.cancel(this._hashHandler),
          this._renderer.scheduler.cancel(this._arrayHandler)));
  }
  addManagedHash(e, t) {
    this._managedHashes.push({ context: e, hash: t });
  }
  addManagedArray(e, t) {
    this._managedArrays.push({ context: e, hash: t });
  }
  prerender({ container: e }) {
    (this._now = performance.now()),
      (e.renderGroup.gcTick = IR++),
      this._updateInstructionGCTick(e.renderGroup, e.renderGroup.gcTick);
  }
  addRenderable(e) {
    this.enabled &&
      (e._lastUsed === -1 &&
        (this._managedRenderables.push(e),
        e.once("destroyed", this._removeRenderable, this)),
      (e._lastUsed = this._now));
  }
  run() {
    const e = this._now,
      t = this._managedRenderables,
      s = this._renderer.renderPipes;
    let n = 0;
    for (let i = 0; i < t.length; i++) {
      const l = t[i];
      if (l === null) {
        n++;
        continue;
      }
      const c = l.renderGroup ?? l.parentRenderGroup,
        d = c?.instructionSet?.gcTick ?? -1;
      if (
        ((c?.gcTick ?? 0) === d && (l._lastUsed = e),
        e - l._lastUsed > this.maxUnusedTime)
      ) {
        if (!l.destroyed) {
          const f = s;
          c && (c.structureDidChange = !0),
            f[l.renderPipeId].destroyRenderable(l);
        }
        (l._lastUsed = -1),
          n++,
          l.off("destroyed", this._removeRenderable, this);
      } else t[i - n] = l;
    }
    t.length -= n;
  }
  destroy() {
    (this.enabled = !1),
      (this._renderer = null),
      (this._managedRenderables.length = 0),
      (this._managedHashes.length = 0),
      (this._managedArrays.length = 0);
  }
  _removeRenderable(e) {
    const t = this._managedRenderables.indexOf(e);
    t >= 0 &&
      (e.off("destroyed", this._removeRenderable, this),
      (this._managedRenderables[t] = null));
  }
  _updateInstructionGCTick(e, t) {
    e.instructionSet.gcTick = t;
    for (const s of e.renderGroupChildren) this._updateInstructionGCTick(s, t);
  }
};
Lg.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem],
  name: "renderableGC",
  priority: 0,
};
Lg.defaultOptions = {
  renderableGCActive: !0,
  renderableGCMaxUnusedTime: 6e4,
  renderableGCFrequency: 3e4,
};
let OR = Lg;
const Dg = class uC {
  constructor(e) {
    (this._renderer = e), (this.count = 0), (this.checkCount = 0);
  }
  init(e) {
    (e = { ...uC.defaultOptions, ...e }),
      (this.checkCountMax = e.textureGCCheckCountMax),
      (this.maxIdle = e.textureGCAMaxIdle ?? e.textureGCMaxIdle),
      (this.active = e.textureGCActive);
  }
  postrender() {
    this._renderer.renderingToScreen &&
      (this.count++,
      this.active &&
        (this.checkCount++,
        this.checkCount > this.checkCountMax &&
          ((this.checkCount = 0), this.run())));
  }
  run() {
    const e = this._renderer.texture.managedTextures;
    for (let t = 0; t < e.length; t++) {
      const s = e[t];
      s.autoGarbageCollect &&
        s.resource &&
        s._touched > -1 &&
        this.count - s._touched > this.maxIdle &&
        ((s._touched = -1), s.unload());
    }
  }
  destroy() {
    this._renderer = null;
  }
};
Dg.extension = { type: [D.WebGLSystem, D.WebGPUSystem], name: "textureGC" };
Dg.defaultOptions = {
  textureGCActive: !0,
  textureGCAMaxIdle: null,
  textureGCMaxIdle: 3600,
  textureGCCheckCountMax: 600,
};
let LR = Dg;
const Ug = class dC {
  get autoDensity() {
    return this.texture.source.autoDensity;
  }
  set autoDensity(e) {
    this.texture.source.autoDensity = e;
  }
  get resolution() {
    return this.texture.source._resolution;
  }
  set resolution(e) {
    this.texture.source.resize(
      this.texture.source.width,
      this.texture.source.height,
      e
    );
  }
  init(e) {
    (e = { ...dC.defaultOptions, ...e }),
      e.view &&
        (De(st, "ViewSystem.view has been renamed to ViewSystem.canvas"),
        (e.canvas = e.view)),
      (this.screen = new ct(0, 0, e.width, e.height)),
      (this.canvas = e.canvas || Ke.get().createCanvas()),
      (this.antialias = !!e.antialias),
      (this.texture = OS(this.canvas, e)),
      (this.renderTarget = new Rm({
        colorTextures: [this.texture],
        depth: !!e.depth,
        isRoot: !0,
      })),
      (this.texture.source.transparent = e.backgroundAlpha < 1),
      (this.resolution = e.resolution);
  }
  resize(e, t, s) {
    this.texture.source.resize(e, t, s),
      (this.screen.width = this.texture.frame.width),
      (this.screen.height = this.texture.frame.height);
  }
  destroy(e = !1) {
    (typeof e == "boolean" ? e : !!e?.removeView) &&
      this.canvas.parentNode &&
      this.canvas.parentNode.removeChild(this.canvas);
  }
};
Ug.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "view",
  priority: 0,
};
Ug.defaultOptions = { width: 800, height: 600, autoDensity: !1, antialias: !1 };
let DR = Ug;
const hC = [jR, oC, Og, DR, tC, LR, aC, kR, Tw, OR, lC],
  fC = [nC, yS, rC, ZS, vS, bS, _S, QS],
  UR = [...hC, IS, I6, M6, AS, wS, XS, zS, ES, WS, HS, PS, uR, MS, kS],
  zR = [...fC],
  GR = [mS, KS, YS],
  pC = [],
  mC = [],
  gC = [];
Ie.handleByNamedList(D.WebGLSystem, pC);
Ie.handleByNamedList(D.WebGLPipes, mC);
Ie.handleByNamedList(D.WebGLPipesAdaptor, gC);
Ie.add(...UR, ...zR, ...GR);
class $R extends zu {
  constructor() {
    const e = {
      name: "webgl",
      type: Xr.WEBGL,
      systems: pC,
      renderPipes: mC,
      renderPipeAdaptors: gC,
    };
    super(e);
  }
}
const HR = Object.freeze(
  Object.defineProperty(
    { __proto__: null, WebGLRenderer: $R },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
class xC {
  constructor(e) {
    (this._hash = Object.create(null)),
      (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_hash");
  }
  contextChange(e) {
    this._gpu = e;
  }
  getBindGroup(e, t, s) {
    return e._updateKey(), this._hash[e._key] || this._createBindGroup(e, t, s);
  }
  _createBindGroup(e, t, s) {
    const n = this._gpu.device,
      i = t.layout[s],
      l = [],
      c = this._renderer;
    for (const m in i) {
      const h = e.resources[m] ?? e.resources[i[m]];
      let g;
      if (h._resourceType === "uniformGroup") {
        const x = h;
        c.ubo.updateUniformGroup(x);
        const v = x.buffer;
        g = {
          buffer: c.buffer.getGPUBuffer(v),
          offset: 0,
          size: v.descriptor.size,
        };
      } else if (h._resourceType === "buffer") {
        const x = h;
        g = {
          buffer: c.buffer.getGPUBuffer(x),
          offset: 0,
          size: x.descriptor.size,
        };
      } else if (h._resourceType === "bufferResource") {
        const x = h;
        g = {
          buffer: c.buffer.getGPUBuffer(x.buffer),
          offset: x.offset,
          size: x.size,
        };
      } else if (h._resourceType === "textureSampler") {
        const x = h;
        g = c.texture.getGpuSampler(x);
      } else if (h._resourceType === "textureSource") {
        const x = h;
        g = c.texture.getGpuSource(x).createView({});
      }
      l.push({ binding: i[m], resource: g });
    }
    const d = c.shader.getProgramData(t).bindGroups[s],
      f = n.createBindGroup({ layout: d, entries: l });
    return (this._hash[e._key] = f), f;
  }
  destroy() {
    for (const e of Object.keys(this._hash)) this._hash[e] = null;
    (this._hash = null), (this._renderer = null);
  }
}
xC.extension = { type: [D.WebGPUSystem], name: "bindGroup" };
class yC {
  constructor(e) {
    (this._gpuBuffers = Object.create(null)),
      (this._managedBuffers = []),
      e.renderableGC.addManagedHash(this, "_gpuBuffers");
  }
  contextChange(e) {
    this._gpu = e;
  }
  getGPUBuffer(e) {
    return this._gpuBuffers[e.uid] || this.createGPUBuffer(e);
  }
  updateBuffer(e) {
    const t = this._gpuBuffers[e.uid] || this.createGPUBuffer(e),
      s = e.data;
    return (
      e._updateID &&
        s &&
        ((e._updateID = 0),
        this._gpu.device.queue.writeBuffer(
          t,
          0,
          s.buffer,
          0,
          ((e._updateSize || s.byteLength) + 3) & -4
        )),
      t
    );
  }
  destroyAll() {
    for (const e in this._gpuBuffers) this._gpuBuffers[e].destroy();
    this._gpuBuffers = {};
  }
  createGPUBuffer(e) {
    this._gpuBuffers[e.uid] ||
      (e.on("update", this.updateBuffer, this),
      e.on("change", this.onBufferChange, this),
      e.on("destroy", this.onBufferDestroy, this),
      this._managedBuffers.push(e));
    const t = this._gpu.device.createBuffer(e.descriptor);
    return (
      (e._updateID = 0),
      e.data && (Sm(e.data.buffer, t.getMappedRange()), t.unmap()),
      (this._gpuBuffers[e.uid] = t),
      t
    );
  }
  onBufferChange(e) {
    this._gpuBuffers[e.uid].destroy(),
      (e._updateID = 0),
      (this._gpuBuffers[e.uid] = this.createGPUBuffer(e));
  }
  onBufferDestroy(e) {
    this._managedBuffers.splice(this._managedBuffers.indexOf(e), 1),
      this._destroyBuffer(e);
  }
  destroy() {
    this._managedBuffers.forEach((e) => this._destroyBuffer(e)),
      (this._managedBuffers = null),
      (this._gpuBuffers = null);
  }
  _destroyBuffer(e) {
    this._gpuBuffers[e.uid].destroy(),
      e.off("update", this.updateBuffer, this),
      e.off("change", this.onBufferChange, this),
      e.off("destroy", this.onBufferDestroy, this),
      (this._gpuBuffers[e.uid] = null);
  }
}
yC.extension = { type: [D.WebGPUSystem], name: "buffer" };
class WR {
  constructor({ minUniformOffsetAlignment: e }) {
    (this._minUniformOffsetAlignment = 256),
      (this.byteIndex = 0),
      (this._minUniformOffsetAlignment = e),
      (this.data = new Float32Array(65535));
  }
  clear() {
    this.byteIndex = 0;
  }
  addEmptyGroup(e) {
    if (e > this._minUniformOffsetAlignment / 4)
      throw new Error(`UniformBufferBatch: array is too large: ${e * 4}`);
    const t = this.byteIndex;
    let s = t + e * 4;
    if (
      ((s =
        Math.ceil(s / this._minUniformOffsetAlignment) *
        this._minUniformOffsetAlignment),
      s > this.data.length * 4)
    )
      throw new Error("UniformBufferBatch: ubo batch got too big");
    return (this.byteIndex = s), t;
  }
  addGroup(e) {
    const t = this.addEmptyGroup(e.length);
    for (let s = 0; s < e.length; s++) this.data[t / 4 + s] = e[s];
    return t;
  }
  destroy() {
    this.data = null;
  }
}
class vC {
  constructor(e) {
    (this._colorMaskCache = 15), (this._renderer = e);
  }
  setMask(e) {
    this._colorMaskCache !== e &&
      ((this._colorMaskCache = e), this._renderer.pipeline.setColorMask(e));
  }
  destroy() {
    (this._renderer = null), (this._colorMaskCache = null);
  }
}
vC.extension = { type: [D.WebGPUSystem], name: "colorMask" };
class zg {
  constructor(e) {
    this._renderer = e;
  }
  async init(e) {
    return this._initPromise
      ? this._initPromise
      : ((this._initPromise = (
          e.gpu ? Promise.resolve(e.gpu) : this._createDeviceAndAdaptor(e)
        ).then((t) => {
          (this.gpu = t), this._renderer.runners.contextChange.emit(this.gpu);
        })),
        this._initPromise);
  }
  contextChange(e) {
    this._renderer.gpu = e;
  }
  async _createDeviceAndAdaptor(e) {
    const t = await Ke.get()
        .getNavigator()
        .gpu.requestAdapter({
          powerPreference: e.powerPreference,
          forceFallbackAdapter: e.forceFallbackAdapter,
        }),
      s = [
        "texture-compression-bc",
        "texture-compression-astc",
        "texture-compression-etc2",
      ].filter((i) => t.features.has(i)),
      n = await t.requestDevice({ requiredFeatures: s });
    return { adapter: t, device: n };
  }
  destroy() {
    (this.gpu = null), (this._renderer = null);
  }
}
zg.extension = { type: [D.WebGPUSystem], name: "device" };
zg.defaultOptions = { powerPreference: void 0, forceFallbackAdapter: !1 };
class _C {
  constructor(e) {
    (this._boundBindGroup = Object.create(null)),
      (this._boundVertexBuffer = Object.create(null)),
      (this._renderer = e);
  }
  renderStart() {
    (this.commandFinished = new Promise((e) => {
      this._resolveCommandFinished = e;
    })),
      (this.commandEncoder = this._renderer.gpu.device.createCommandEncoder());
  }
  beginRenderPass(e) {
    this.endRenderPass(),
      this._clearCache(),
      (this.renderPassEncoder = this.commandEncoder.beginRenderPass(
        e.descriptor
      ));
  }
  endRenderPass() {
    this.renderPassEncoder && this.renderPassEncoder.end(),
      (this.renderPassEncoder = null);
  }
  setViewport(e) {
    this.renderPassEncoder.setViewport(e.x, e.y, e.width, e.height, 0, 1);
  }
  setPipelineFromGeometryProgramAndState(e, t, s, n) {
    const i = this._renderer.pipeline.getPipeline(e, t, s, n);
    this.setPipeline(i);
  }
  setPipeline(e) {
    this._boundPipeline !== e &&
      ((this._boundPipeline = e), this.renderPassEncoder.setPipeline(e));
  }
  _setVertexBuffer(e, t) {
    this._boundVertexBuffer[e] !== t &&
      ((this._boundVertexBuffer[e] = t),
      this.renderPassEncoder.setVertexBuffer(
        e,
        this._renderer.buffer.updateBuffer(t)
      ));
  }
  _setIndexBuffer(e) {
    if (this._boundIndexBuffer === e) return;
    this._boundIndexBuffer = e;
    const t = e.data.BYTES_PER_ELEMENT === 2 ? "uint16" : "uint32";
    this.renderPassEncoder.setIndexBuffer(
      this._renderer.buffer.updateBuffer(e),
      t
    );
  }
  resetBindGroup(e) {
    this._boundBindGroup[e] = null;
  }
  setBindGroup(e, t, s) {
    if (this._boundBindGroup[e] === t) return;
    (this._boundBindGroup[e] = t), t._touch(this._renderer.textureGC.count);
    const n = this._renderer.bindGroup.getBindGroup(t, s, e);
    this.renderPassEncoder.setBindGroup(e, n);
  }
  setGeometry(e, t) {
    const s = this._renderer.pipeline.getBufferNamesToBind(e, t);
    for (const n in s) this._setVertexBuffer(n, e.attributes[s[n]].buffer);
    e.indexBuffer && this._setIndexBuffer(e.indexBuffer);
  }
  _setShaderBindGroups(e, t) {
    for (const s in e.groups) {
      const n = e.groups[s];
      t || this._syncBindGroup(n), this.setBindGroup(s, n, e.gpuProgram);
    }
  }
  _syncBindGroup(e) {
    for (const t in e.resources) {
      const s = e.resources[t];
      s.isUniformGroup && this._renderer.ubo.updateUniformGroup(s);
    }
  }
  draw(e) {
    const {
      geometry: t,
      shader: s,
      state: n,
      topology: i,
      size: l,
      start: c,
      instanceCount: d,
      skipSync: f,
    } = e;
    this.setPipelineFromGeometryProgramAndState(t, s.gpuProgram, n, i),
      this.setGeometry(t, s.gpuProgram),
      this._setShaderBindGroups(s, f),
      t.indexBuffer
        ? this.renderPassEncoder.drawIndexed(
            l || t.indexBuffer.data.length,
            d ?? t.instanceCount,
            c || 0
          )
        : this.renderPassEncoder.draw(
            l || t.getSize(),
            d ?? t.instanceCount,
            c || 0
          );
  }
  finishRenderPass() {
    this.renderPassEncoder &&
      (this.renderPassEncoder.end(), (this.renderPassEncoder = null));
  }
  postrender() {
    this.finishRenderPass(),
      this._gpu.device.queue.submit([this.commandEncoder.finish()]),
      this._resolveCommandFinished(),
      (this.commandEncoder = null);
  }
  restoreRenderPass() {
    const e = this._renderer.renderTarget.adaptor.getDescriptor(
      this._renderer.renderTarget.renderTarget,
      !1,
      [0, 0, 0, 1]
    );
    this.renderPassEncoder = this.commandEncoder.beginRenderPass(e);
    const t = this._boundPipeline,
      s = { ...this._boundVertexBuffer },
      n = this._boundIndexBuffer,
      i = { ...this._boundBindGroup };
    this._clearCache();
    const l = this._renderer.renderTarget.viewport;
    this.renderPassEncoder.setViewport(l.x, l.y, l.width, l.height, 0, 1),
      this.setPipeline(t);
    for (const c in s) this._setVertexBuffer(c, s[c]);
    for (const c in i) this.setBindGroup(c, i[c], null);
    this._setIndexBuffer(n);
  }
  _clearCache() {
    for (let e = 0; e < 16; e++)
      (this._boundBindGroup[e] = null), (this._boundVertexBuffer[e] = null);
    (this._boundIndexBuffer = null), (this._boundPipeline = null);
  }
  destroy() {
    (this._renderer = null),
      (this._gpu = null),
      (this._boundBindGroup = null),
      (this._boundVertexBuffer = null),
      (this._boundIndexBuffer = null),
      (this._boundPipeline = null);
  }
  contextChange(e) {
    this._gpu = e;
  }
}
_C.extension = { type: [D.WebGPUSystem], name: "encoder", priority: 1 };
class bC {
  constructor(e) {
    this._renderer = e;
  }
  contextChange() {
    (this.maxTextures =
      this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage),
      (this.maxBatchableTextures = this.maxTextures);
  }
  destroy() {}
}
bC.extension = { type: [D.WebGPUSystem], name: "limits" };
class wC {
  constructor(e) {
    (this._renderTargetStencilState = Object.create(null)),
      (this._renderer = e),
      e.renderTarget.onRenderTargetChange.add(this);
  }
  onRenderTargetChange(e) {
    let t = this._renderTargetStencilState[e.uid];
    t ||
      (t = this._renderTargetStencilState[e.uid] =
        { stencilMode: Dt.DISABLED, stencilReference: 0 }),
      (this._activeRenderTarget = e),
      this.setStencilMode(t.stencilMode, t.stencilReference);
  }
  setStencilMode(e, t) {
    const s = this._renderTargetStencilState[this._activeRenderTarget.uid];
    (s.stencilMode = e), (s.stencilReference = t);
    const n = this._renderer;
    n.pipeline.setStencilMode(e),
      n.encoder.renderPassEncoder.setStencilReference(t);
  }
  destroy() {
    this._renderer.renderTarget.onRenderTargetChange.remove(this),
      (this._renderer = null),
      (this._activeRenderTarget = null),
      (this._renderTargetStencilState = null);
  }
}
wC.extension = { type: [D.WebGPUSystem], name: "stencil" };
const ou = {
  i32: { align: 4, size: 4 },
  u32: { align: 4, size: 4 },
  f32: { align: 4, size: 4 },
  f16: { align: 2, size: 2 },
  "vec2<i32>": { align: 8, size: 8 },
  "vec2<u32>": { align: 8, size: 8 },
  "vec2<f32>": { align: 8, size: 8 },
  "vec2<f16>": { align: 4, size: 4 },
  "vec3<i32>": { align: 16, size: 12 },
  "vec3<u32>": { align: 16, size: 12 },
  "vec3<f32>": { align: 16, size: 12 },
  "vec3<f16>": { align: 8, size: 6 },
  "vec4<i32>": { align: 16, size: 16 },
  "vec4<u32>": { align: 16, size: 16 },
  "vec4<f32>": { align: 16, size: 16 },
  "vec4<f16>": { align: 8, size: 8 },
  "mat2x2<f32>": { align: 8, size: 16 },
  "mat2x2<f16>": { align: 4, size: 8 },
  "mat3x2<f32>": { align: 8, size: 24 },
  "mat3x2<f16>": { align: 4, size: 12 },
  "mat4x2<f32>": { align: 8, size: 32 },
  "mat4x2<f16>": { align: 4, size: 16 },
  "mat2x3<f32>": { align: 16, size: 32 },
  "mat2x3<f16>": { align: 8, size: 16 },
  "mat3x3<f32>": { align: 16, size: 48 },
  "mat3x3<f16>": { align: 8, size: 24 },
  "mat4x3<f32>": { align: 16, size: 64 },
  "mat4x3<f16>": { align: 8, size: 32 },
  "mat2x4<f32>": { align: 16, size: 32 },
  "mat2x4<f16>": { align: 8, size: 16 },
  "mat3x4<f32>": { align: 16, size: 48 },
  "mat3x4<f16>": { align: 8, size: 24 },
  "mat4x4<f32>": { align: 16, size: 64 },
  "mat4x4<f16>": { align: 8, size: 32 },
};
function VR(r) {
  const e = r.map((s) => ({ data: s, offset: 0, size: 0 }));
  let t = 0;
  for (let s = 0; s < e.length; s++) {
    const n = e[s];
    let i = ou[n.data.type].size;
    const l = ou[n.data.type].align;
    if (!ou[n.data.type])
      throw new Error(
        `[Pixi.js] WebGPU UniformBuffer: Unknown type ${n.data.type}`
      );
    n.data.size > 1 && (i = Math.max(i, l) * n.data.size),
      (t = Math.ceil(t / l) * l),
      (n.size = i),
      (n.offset = t),
      (t += i);
  }
  return (t = Math.ceil(t / 16) * 16), { uboElements: e, size: t };
}
function qR(r, e) {
  const { size: t, align: s } = ou[r.data.type],
    n = (s - t) / 4,
    i = r.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
  return `
         v = uv.${r.data.name};
         ${e !== 0 ? `offset += ${e};` : ""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${r.data.size * (t / 4)}; i++)
         {
             for(var j = 0; j < ${t / 4}; j++)
             {
                 ${i}[arrayOffset++] = v[t++];
             }
             ${n !== 0 ? `arrayOffset += ${n};` : ""}
         }
     `;
}
function XR(r) {
  return BS(r, "uboWgsl", qR, D6);
}
class SC extends NS {
  constructor() {
    super({ createUboElements: VR, generateUboSync: XR });
  }
}
SC.extension = { type: [D.WebGPUSystem], name: "ubo" };
const Dn = 128;
class CC {
  constructor(e) {
    (this._bindGroupHash = Object.create(null)),
      (this._buffers = []),
      (this._bindGroups = []),
      (this._bufferResources = []),
      (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_bindGroupHash"),
      (this._batchBuffer = new WR({ minUniformOffsetAlignment: Dn }));
    const t = 256 / Dn;
    for (let s = 0; s < t; s++) {
      let n = tt.UNIFORM | tt.COPY_DST;
      s === 0 && (n |= tt.COPY_SRC),
        this._buffers.push(new Vr({ data: this._batchBuffer.data, usage: n }));
    }
  }
  renderEnd() {
    this._uploadBindGroups(), this._resetBindGroups();
  }
  _resetBindGroups() {
    for (const e in this._bindGroupHash) this._bindGroupHash[e] = null;
    this._batchBuffer.clear();
  }
  getUniformBindGroup(e, t) {
    if (!t && this._bindGroupHash[e.uid]) return this._bindGroupHash[e.uid];
    this._renderer.ubo.ensureUniformGroup(e);
    const s = e.buffer.data,
      n = this._batchBuffer.addEmptyGroup(s.length);
    return (
      this._renderer.ubo.syncUniformGroup(e, this._batchBuffer.data, n / 4),
      (this._bindGroupHash[e.uid] = this._getBindGroup(n / Dn)),
      this._bindGroupHash[e.uid]
    );
  }
  getUboResource(e) {
    this._renderer.ubo.updateUniformGroup(e);
    const t = e.buffer.data,
      s = this._batchBuffer.addGroup(t);
    return this._getBufferResource(s / Dn);
  }
  getArrayBindGroup(e) {
    const t = this._batchBuffer.addGroup(e);
    return this._getBindGroup(t / Dn);
  }
  getArrayBufferResource(e) {
    const s = this._batchBuffer.addGroup(e) / Dn;
    return this._getBufferResource(s);
  }
  _getBufferResource(e) {
    if (!this._bufferResources[e]) {
      const t = this._buffers[e % 2];
      this._bufferResources[e] = new Rg({
        buffer: t,
        offset: ((e / 2) | 0) * 256,
        size: Dn,
      });
    }
    return this._bufferResources[e];
  }
  _getBindGroup(e) {
    if (!this._bindGroups[e]) {
      const t = new un({ 0: this._getBufferResource(e) });
      this._bindGroups[e] = t;
    }
    return this._bindGroups[e];
  }
  _uploadBindGroups() {
    const e = this._renderer.buffer,
      t = this._buffers[0];
    t.update(this._batchBuffer.byteIndex), e.updateBuffer(t);
    const s = this._renderer.gpu.device.createCommandEncoder();
    for (let n = 1; n < this._buffers.length; n++) {
      const i = this._buffers[n];
      s.copyBufferToBuffer(
        e.getGPUBuffer(t),
        Dn,
        e.getGPUBuffer(i),
        0,
        this._batchBuffer.byteIndex
      );
    }
    this._renderer.gpu.device.queue.submit([s.finish()]);
  }
  destroy() {
    for (let e = 0; e < this._bindGroups.length; e++)
      this._bindGroups[e].destroy();
    (this._bindGroups = null), (this._bindGroupHash = null);
    for (let e = 0; e < this._buffers.length; e++) this._buffers[e].destroy();
    this._buffers = null;
    for (let e = 0; e < this._bufferResources.length; e++)
      this._bufferResources[e].destroy();
    (this._bufferResources = null),
      this._batchBuffer.destroy(),
      (this._bindGroupHash = null),
      (this._renderer = null);
  }
}
CC.extension = { type: [D.WebGPUPipes], name: "uniformBatch" };
const YR = {
  "point-list": 0,
  "line-list": 1,
  "line-strip": 2,
  "triangle-list": 3,
  "triangle-strip": 4,
};
function KR(r, e, t, s, n) {
  return (r << 24) | (e << 16) | (t << 10) | (s << 5) | n;
}
function QR(r, e, t, s) {
  return (t << 6) | (r << 3) | (s << 1) | e;
}
class TC {
  constructor(e) {
    (this._moduleCache = Object.create(null)),
      (this._bufferLayoutsCache = Object.create(null)),
      (this._bindingNamesCache = Object.create(null)),
      (this._pipeCache = Object.create(null)),
      (this._pipeStateCaches = Object.create(null)),
      (this._colorMask = 15),
      (this._multisampleCount = 1),
      (this._renderer = e);
  }
  contextChange(e) {
    (this._gpu = e), this.setStencilMode(Dt.DISABLED), this._updatePipeHash();
  }
  setMultisampleCount(e) {
    this._multisampleCount !== e &&
      ((this._multisampleCount = e), this._updatePipeHash());
  }
  setRenderTarget(e) {
    (this._multisampleCount = e.msaaSamples),
      (this._depthStencilAttachment = e.descriptor.depthStencilAttachment
        ? 1
        : 0),
      this._updatePipeHash();
  }
  setColorMask(e) {
    this._colorMask !== e && ((this._colorMask = e), this._updatePipeHash());
  }
  setStencilMode(e) {
    this._stencilMode !== e &&
      ((this._stencilMode = e),
      (this._stencilState = Zn[e]),
      this._updatePipeHash());
  }
  setPipeline(e, t, s, n) {
    const i = this.getPipeline(e, t, s);
    n.setPipeline(i);
  }
  getPipeline(e, t, s, n) {
    e._layoutKey || (CS(e, t.attributeData), this._generateBufferKey(e)),
      n || (n = e.topology);
    const i = KR(e._layoutKey, t._layoutKey, s.data, s._blendModeId, YR[n]);
    return this._pipeCache[i]
      ? this._pipeCache[i]
      : ((this._pipeCache[i] = this._createPipeline(e, t, s, n)),
        this._pipeCache[i]);
  }
  _createPipeline(e, t, s, n) {
    const i = this._gpu.device,
      l = this._createVertexBufferLayouts(e, t),
      c = this._renderer.state.getColorTargets(s);
    c[0].writeMask =
      this._stencilMode === Dt.RENDERING_MASK_ADD ? 0 : this._colorMask;
    const d = this._renderer.shader.getProgramData(t).pipeline,
      f = {
        vertex: {
          module: this._getModule(t.vertex.source),
          entryPoint: t.vertex.entryPoint,
          buffers: l,
        },
        fragment: {
          module: this._getModule(t.fragment.source),
          entryPoint: t.fragment.entryPoint,
          targets: c,
        },
        primitive: { topology: n, cullMode: s.cullMode },
        layout: d,
        multisample: { count: this._multisampleCount },
        label: "PIXI Pipeline",
      };
    return (
      this._depthStencilAttachment &&
        (f.depthStencil = {
          ...this._stencilState,
          format: "depth24plus-stencil8",
          depthWriteEnabled: s.depthTest,
          depthCompare: s.depthTest ? "less" : "always",
        }),
      i.createRenderPipeline(f)
    );
  }
  _getModule(e) {
    return this._moduleCache[e] || this._createModule(e);
  }
  _createModule(e) {
    const t = this._gpu.device;
    return (
      (this._moduleCache[e] = t.createShaderModule({ code: e })),
      this._moduleCache[e]
    );
  }
  _generateBufferKey(e) {
    const t = [];
    let s = 0;
    const n = Object.keys(e.attributes).sort();
    for (let l = 0; l < n.length; l++) {
      const c = e.attributes[n[l]];
      (t[s++] = c.offset),
        (t[s++] = c.format),
        (t[s++] = c.stride),
        (t[s++] = c.instance);
    }
    const i = t.join("|");
    return (e._layoutKey = el(i, "geometry")), e._layoutKey;
  }
  _generateAttributeLocationsKey(e) {
    const t = [];
    let s = 0;
    const n = Object.keys(e.attributeData).sort();
    for (let l = 0; l < n.length; l++) {
      const c = e.attributeData[n[l]];
      t[s++] = c.location;
    }
    const i = t.join("|");
    return (
      (e._attributeLocationsKey = el(i, "programAttributes")),
      e._attributeLocationsKey
    );
  }
  getBufferNamesToBind(e, t) {
    const s = (e._layoutKey << 16) | t._attributeLocationsKey;
    if (this._bindingNamesCache[s]) return this._bindingNamesCache[s];
    const n = this._createVertexBufferLayouts(e, t),
      i = Object.create(null),
      l = t.attributeData;
    for (let c = 0; c < n.length; c++) {
      const f = Object.values(n[c].attributes)[0].shaderLocation;
      for (const m in l)
        if (l[m].location === f) {
          i[c] = m;
          break;
        }
    }
    return (this._bindingNamesCache[s] = i), i;
  }
  _createVertexBufferLayouts(e, t) {
    t._attributeLocationsKey || this._generateAttributeLocationsKey(t);
    const s = (e._layoutKey << 16) | t._attributeLocationsKey;
    if (this._bufferLayoutsCache[s]) return this._bufferLayoutsCache[s];
    const n = [];
    return (
      e.buffers.forEach((i) => {
        const l = { arrayStride: 0, stepMode: "vertex", attributes: [] },
          c = l.attributes;
        for (const d in t.attributeData) {
          const f = e.attributes[d];
          (f.divisor ?? 1) !== 1 &&
            Re(
              `Attribute ${d} has an invalid divisor value of '${f.divisor}'. WebGPU only supports a divisor value of 1`
            ),
            f.buffer === i &&
              ((l.arrayStride = f.stride),
              (l.stepMode = f.instance ? "instance" : "vertex"),
              c.push({
                shaderLocation: t.attributeData[d].location,
                offset: f.offset,
                format: f.format,
              }));
        }
        c.length && n.push(l);
      }),
      (this._bufferLayoutsCache[s] = n),
      n
    );
  }
  _updatePipeHash() {
    const e = QR(
      this._stencilMode,
      this._multisampleCount,
      this._colorMask,
      this._depthStencilAttachment
    );
    this._pipeStateCaches[e] ||
      (this._pipeStateCaches[e] = Object.create(null)),
      (this._pipeCache = this._pipeStateCaches[e]);
  }
  destroy() {
    (this._renderer = null), (this._bufferLayoutsCache = null);
  }
}
TC.extension = { type: [D.WebGPUSystem], name: "pipeline" };
class ZR {
  constructor() {
    (this.contexts = []), (this.msaaTextures = []), (this.msaaSamples = 1);
  }
}
class JR {
  init(e, t) {
    (this._renderer = e), (this._renderTargetSystem = t);
  }
  copyToTexture(e, t, s, n, i) {
    const l = this._renderer,
      c = this._getGpuColorTexture(e),
      d = l.texture.getGpuSource(t.source);
    return (
      l.encoder.commandEncoder.copyTextureToTexture(
        { texture: c, origin: s },
        { texture: d, origin: i },
        n
      ),
      t
    );
  }
  startRenderPass(e, t = !0, s, n) {
    const l = this._renderTargetSystem.getGpuRenderTarget(e),
      c = this.getDescriptor(e, t, s);
    (l.descriptor = c),
      this._renderer.pipeline.setRenderTarget(l),
      this._renderer.encoder.beginRenderPass(l),
      this._renderer.encoder.setViewport(n);
  }
  finishRenderPass() {
    this._renderer.encoder.endRenderPass();
  }
  _getGpuColorTexture(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    return t.contexts[0]
      ? t.contexts[0].getCurrentTexture()
      : this._renderer.texture.getGpuSource(e.colorTextures[0].source);
  }
  getDescriptor(e, t, s) {
    typeof t == "boolean" && (t = t ? Wr.ALL : Wr.NONE);
    const n = this._renderTargetSystem,
      i = n.getGpuRenderTarget(e),
      l = e.colorTextures.map((f, m) => {
        const h = i.contexts[m];
        let g, x;
        h
          ? (g = h.getCurrentTexture().createView())
          : (g = this._renderer.texture
              .getGpuSource(f)
              .createView({ mipLevelCount: 1 })),
          i.msaaTextures[m] &&
            ((x = g),
            (g = this._renderer.texture.getTextureView(i.msaaTextures[m])));
        const v = t & Wr.COLOR ? "clear" : "load";
        return (
          s ?? (s = n.defaultClearColor),
          {
            view: g,
            resolveTarget: x,
            clearValue: s,
            storeOp: "store",
            loadOp: v,
          }
        );
      });
    let c;
    if (
      ((e.stencil || e.depth) &&
        !e.depthStencilTexture &&
        (e.ensureDepthStencilTexture(),
        (e.depthStencilTexture.source.sampleCount = i.msaa ? 4 : 1)),
      e.depthStencilTexture)
    ) {
      const f = t & Wr.STENCIL ? "clear" : "load",
        m = t & Wr.DEPTH ? "clear" : "load";
      c = {
        view: this._renderer.texture
          .getGpuSource(e.depthStencilTexture.source)
          .createView(),
        stencilStoreOp: "store",
        stencilLoadOp: f,
        depthClearValue: 1,
        depthLoadOp: m,
        depthStoreOp: "store",
      };
    }
    return { colorAttachments: l, depthStencilAttachment: c };
  }
  clear(e, t = !0, s, n) {
    if (!t) return;
    const { gpu: i, encoder: l } = this._renderer,
      c = i.device;
    if (l.commandEncoder === null) {
      const f = c.createCommandEncoder(),
        m = this.getDescriptor(e, t, s),
        h = f.beginRenderPass(m);
      h.setViewport(n.x, n.y, n.width, n.height, 0, 1), h.end();
      const g = f.finish();
      c.queue.submit([g]);
    } else this.startRenderPass(e, t, s, n);
  }
  initGpuRenderTarget(e) {
    e.isRoot = !0;
    const t = new ZR();
    return (
      e.colorTextures.forEach((s, n) => {
        if (s instanceof cn) {
          const i = s.resource.getContext("webgpu"),
            l = s.transparent ? "premultiplied" : "opaque";
          try {
            i.configure({
              device: this._renderer.gpu.device,
              usage:
                GPUTextureUsage.TEXTURE_BINDING |
                GPUTextureUsage.COPY_DST |
                GPUTextureUsage.RENDER_ATTACHMENT |
                GPUTextureUsage.COPY_SRC,
              format: "bgra8unorm",
              alphaMode: l,
            });
          } catch (c) {
            console.error(c);
          }
          t.contexts[n] = i;
        }
        if (((t.msaa = s.source.antialias), s.source.antialias)) {
          const i = new Yt({ width: 0, height: 0, sampleCount: 4 });
          t.msaaTextures[n] = i;
        }
      }),
      t.msaa &&
        ((t.msaaSamples = 4),
        e.depthStencilTexture &&
          (e.depthStencilTexture.source.sampleCount = 4)),
      t
    );
  }
  destroyGpuRenderTarget(e) {
    e.contexts.forEach((t) => {
      t.unconfigure();
    }),
      e.msaaTextures.forEach((t) => {
        t.destroy();
      }),
      (e.msaaTextures.length = 0),
      (e.contexts.length = 0);
  }
  ensureDepthStencilTexture(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    e.depthStencilTexture &&
      t.msaa &&
      (e.depthStencilTexture.source.sampleCount = 4);
  }
  resizeGpuRenderTarget(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    (t.width = e.width),
      (t.height = e.height),
      t.msaa &&
        e.colorTextures.forEach((s, n) => {
          t.msaaTextures[n]?.resize(
            s.source.width,
            s.source.height,
            s.source._resolution
          );
        });
  }
}
class EC extends US {
  constructor(e) {
    super(e), (this.adaptor = new JR()), this.adaptor.init(e, this);
  }
}
EC.extension = { type: [D.WebGPUSystem], name: "renderTarget" };
class jC {
  constructor() {
    this._gpuProgramData = Object.create(null);
  }
  contextChange(e) {
    this._gpu = e;
  }
  getProgramData(e) {
    return this._gpuProgramData[e._layoutKey] || this._createGPUProgramData(e);
  }
  _createGPUProgramData(e) {
    const t = this._gpu.device,
      s = e.gpuLayout.map((i) => t.createBindGroupLayout({ entries: i })),
      n = { bindGroupLayouts: s };
    return (
      (this._gpuProgramData[e._layoutKey] = {
        bindGroups: s,
        pipeline: t.createPipelineLayout(n),
      }),
      this._gpuProgramData[e._layoutKey]
    );
  }
  destroy() {
    (this._gpu = null), (this._gpuProgramData = null);
  }
}
jC.extension = { type: [D.WebGPUSystem], name: "shader" };
const Lr = {};
Lr.normal = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Lr.add = {
  alpha: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one", operation: "add" },
};
Lr.multiply = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "dst",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Lr.screen = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one-minus-src", operation: "add" },
};
Lr.overlay = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one-minus-src", operation: "add" },
};
Lr.none = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "zero", dstFactor: "zero", operation: "add" },
};
Lr["normal-npm"] = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Lr["add-npm"] = {
  alpha: { srcFactor: "one", dstFactor: "one", operation: "add" },
  color: { srcFactor: "src-alpha", dstFactor: "one", operation: "add" },
};
Lr["screen-npm"] = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src",
    operation: "add",
  },
};
Lr.erase = {
  alpha: {
    srcFactor: "zero",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "zero", dstFactor: "one-minus-src", operation: "add" },
};
Lr.min = {
  alpha: { srcFactor: "one", dstFactor: "one", operation: "min" },
  color: { srcFactor: "one", dstFactor: "one", operation: "min" },
};
Lr.max = {
  alpha: { srcFactor: "one", dstFactor: "one", operation: "max" },
  color: { srcFactor: "one", dstFactor: "one", operation: "max" },
};
class kC {
  constructor() {
    (this.defaultState = new ks()), (this.defaultState.blend = !0);
  }
  contextChange(e) {
    this.gpu = e;
  }
  getColorTargets(e) {
    return [
      {
        format: "bgra8unorm",
        writeMask: 0,
        blend: Lr[e.blendMode] || Lr.normal,
      },
    ];
  }
  destroy() {
    this.gpu = null;
  }
}
kC.extension = { type: [D.WebGPUSystem], name: "state" };
const eB = {
    type: "image",
    upload(r, e, t) {
      const s = r.resource,
        n = (r.pixelWidth | 0) * (r.pixelHeight | 0),
        i = s.byteLength / n;
      t.device.queue.writeTexture(
        { texture: e },
        s,
        {
          offset: 0,
          rowsPerImage: r.pixelHeight,
          bytesPerRow: r.pixelHeight * i,
        },
        { width: r.pixelWidth, height: r.pixelHeight, depthOrArrayLayers: 1 }
      );
    },
  },
  PC = {
    "bc1-rgba-unorm": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },
    "bc2-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "bc3-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "bc7-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "etc1-rgb-unorm": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },
    "etc2-rgba8unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "astc-4x4-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
  },
  tB = { blockBytes: 4, blockWidth: 1, blockHeight: 1 },
  rB = {
    type: "compressed",
    upload(r, e, t) {
      let s = r.pixelWidth,
        n = r.pixelHeight;
      const i = PC[r.format] || tB;
      for (let l = 0; l < r.resource.length; l++) {
        const c = r.resource[l],
          d = Math.ceil(s / i.blockWidth) * i.blockBytes;
        t.device.queue.writeTexture(
          { texture: e, mipLevel: l },
          c,
          { offset: 0, bytesPerRow: d },
          {
            width: Math.ceil(s / i.blockWidth) * i.blockWidth,
            height: Math.ceil(n / i.blockHeight) * i.blockHeight,
            depthOrArrayLayers: 1,
          }
        ),
          (s = Math.max(s >> 1, 1)),
          (n = Math.max(n >> 1, 1));
      }
    },
  },
  AC = {
    type: "image",
    upload(r, e, t) {
      const s = r.resource;
      if (!s) return;
      if (globalThis.HTMLImageElement && s instanceof HTMLImageElement) {
        const c = Ke.get().createCanvas(s.width, s.height);
        c.getContext("2d").drawImage(s, 0, 0, s.width, s.height),
          (r.resource = c),
          Re(
            "ImageSource: Image element passed, converting to canvas and replacing resource."
          );
      }
      const n = Math.min(e.width, r.resourceWidth || r.pixelWidth),
        i = Math.min(e.height, r.resourceHeight || r.pixelHeight),
        l = r.alphaMode === "premultiply-alpha-on-upload";
      t.device.queue.copyExternalImageToTexture(
        { source: s },
        { texture: e, premultipliedAlpha: l },
        { width: n, height: i }
      );
    },
  },
  sB = {
    type: "video",
    upload(r, e, t) {
      AC.upload(r, e, t);
    },
  };
class nB {
  constructor(e) {
    (this.device = e),
      (this.sampler = e.createSampler({ minFilter: "linear" })),
      (this.pipelines = {});
  }
  _getMipmapPipeline(e) {
    let t = this.pipelines[e];
    return (
      t ||
        (this.mipmapShaderModule ||
          (this.mipmapShaderModule = this.device.createShaderModule({
            code: `
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `,
          })),
        (t = this.device.createRenderPipeline({
          layout: "auto",
          vertex: { module: this.mipmapShaderModule, entryPoint: "vertexMain" },
          fragment: {
            module: this.mipmapShaderModule,
            entryPoint: "fragmentMain",
            targets: [{ format: e }],
          },
        })),
        (this.pipelines[e] = t)),
      t
    );
  }
  generateMipmap(e) {
    const t = this._getMipmapPipeline(e.format);
    if (e.dimension === "3d" || e.dimension === "1d")
      throw new Error(
        "Generating mipmaps for non-2d textures is currently unsupported!"
      );
    let s = e;
    const n = e.depthOrArrayLayers || 1,
      i = e.usage & GPUTextureUsage.RENDER_ATTACHMENT;
    if (!i) {
      const d = {
        size: {
          width: Math.ceil(e.width / 2),
          height: Math.ceil(e.height / 2),
          depthOrArrayLayers: n,
        },
        format: e.format,
        usage:
          GPUTextureUsage.TEXTURE_BINDING |
          GPUTextureUsage.COPY_SRC |
          GPUTextureUsage.RENDER_ATTACHMENT,
        mipLevelCount: e.mipLevelCount - 1,
      };
      s = this.device.createTexture(d);
    }
    const l = this.device.createCommandEncoder({}),
      c = t.getBindGroupLayout(0);
    for (let d = 0; d < n; ++d) {
      let f = e.createView({
          baseMipLevel: 0,
          mipLevelCount: 1,
          dimension: "2d",
          baseArrayLayer: d,
          arrayLayerCount: 1,
        }),
        m = i ? 1 : 0;
      for (let h = 1; h < e.mipLevelCount; ++h) {
        const g = s.createView({
            baseMipLevel: m++,
            mipLevelCount: 1,
            dimension: "2d",
            baseArrayLayer: d,
            arrayLayerCount: 1,
          }),
          x = l.beginRenderPass({
            colorAttachments: [
              {
                view: g,
                storeOp: "store",
                loadOp: "clear",
                clearValue: { r: 0, g: 0, b: 0, a: 0 },
              },
            ],
          }),
          v = this.device.createBindGroup({
            layout: c,
            entries: [
              { binding: 0, resource: this.sampler },
              { binding: 1, resource: f },
            ],
          });
        x.setPipeline(t),
          x.setBindGroup(0, v),
          x.draw(3, 1, 0, 0),
          x.end(),
          (f = g);
      }
    }
    if (!i) {
      const d = {
        width: Math.ceil(e.width / 2),
        height: Math.ceil(e.height / 2),
        depthOrArrayLayers: n,
      };
      for (let f = 1; f < e.mipLevelCount; ++f)
        l.copyTextureToTexture(
          { texture: s, mipLevel: f - 1 },
          { texture: e, mipLevel: f },
          d
        ),
          (d.width = Math.ceil(d.width / 2)),
          (d.height = Math.ceil(d.height / 2));
    }
    return this.device.queue.submit([l.finish()]), i || s.destroy(), e;
  }
}
class MC {
  constructor(e) {
    (this.managedTextures = []),
      (this._gpuSources = Object.create(null)),
      (this._gpuSamplers = Object.create(null)),
      (this._bindGroupHash = Object.create(null)),
      (this._textureViewHash = Object.create(null)),
      (this._uploads = { image: AC, buffer: eB, video: sB, compressed: rB }),
      (this._renderer = e),
      e.renderableGC.addManagedHash(this, "_gpuSources"),
      e.renderableGC.addManagedHash(this, "_gpuSamplers"),
      e.renderableGC.addManagedHash(this, "_bindGroupHash"),
      e.renderableGC.addManagedHash(this, "_textureViewHash");
  }
  contextChange(e) {
    this._gpu = e;
  }
  initSource(e) {
    return this._gpuSources[e.uid]
      ? this._gpuSources[e.uid]
      : this._initSource(e);
  }
  _initSource(e) {
    if (e.autoGenerateMipmaps) {
      const d = Math.max(e.pixelWidth, e.pixelHeight);
      e.mipLevelCount = Math.floor(Math.log2(d)) + 1;
    }
    let t = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;
    e.uploadMethodId !== "compressed" &&
      ((t |= GPUTextureUsage.RENDER_ATTACHMENT),
      (t |= GPUTextureUsage.COPY_SRC));
    const s = PC[e.format] || { blockWidth: 1, blockHeight: 1 },
      n = Math.ceil(e.pixelWidth / s.blockWidth) * s.blockWidth,
      i = Math.ceil(e.pixelHeight / s.blockHeight) * s.blockHeight,
      l = {
        label: e.label,
        size: { width: n, height: i },
        format: e.format,
        sampleCount: e.sampleCount,
        mipLevelCount: e.mipLevelCount,
        dimension: e.dimension,
        usage: t,
      },
      c = (this._gpuSources[e.uid] = this._gpu.device.createTexture(l));
    return (
      this.managedTextures.includes(e) ||
        (e.on("update", this.onSourceUpdate, this),
        e.on("resize", this.onSourceResize, this),
        e.on("destroy", this.onSourceDestroy, this),
        e.on("unload", this.onSourceUnload, this),
        e.on("updateMipmaps", this.onUpdateMipmaps, this),
        this.managedTextures.push(e)),
      this.onSourceUpdate(e),
      c
    );
  }
  onSourceUpdate(e) {
    const t = this.getGpuSource(e);
    t &&
      (this._uploads[e.uploadMethodId] &&
        this._uploads[e.uploadMethodId].upload(e, t, this._gpu),
      e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e));
  }
  onSourceUnload(e) {
    const t = this._gpuSources[e.uid];
    t && ((this._gpuSources[e.uid] = null), t.destroy());
  }
  onUpdateMipmaps(e) {
    this._mipmapGenerator || (this._mipmapGenerator = new nB(this._gpu.device));
    const t = this.getGpuSource(e);
    this._mipmapGenerator.generateMipmap(t);
  }
  onSourceDestroy(e) {
    e.off("update", this.onSourceUpdate, this),
      e.off("unload", this.onSourceUnload, this),
      e.off("destroy", this.onSourceDestroy, this),
      e.off("resize", this.onSourceResize, this),
      e.off("updateMipmaps", this.onUpdateMipmaps, this),
      this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
      this.onSourceUnload(e);
  }
  onSourceResize(e) {
    const t = this._gpuSources[e.uid];
    t
      ? (t.width !== e.pixelWidth || t.height !== e.pixelHeight) &&
        ((this._textureViewHash[e.uid] = null),
        (this._bindGroupHash[e.uid] = null),
        this.onSourceUnload(e),
        this.initSource(e))
      : this.initSource(e);
  }
  _initSampler(e) {
    return (
      (this._gpuSamplers[e._resourceId] = this._gpu.device.createSampler(e)),
      this._gpuSamplers[e._resourceId]
    );
  }
  getGpuSampler(e) {
    return this._gpuSamplers[e._resourceId] || this._initSampler(e);
  }
  getGpuSource(e) {
    return this._gpuSources[e.uid] || this.initSource(e);
  }
  getTextureBindGroup(e) {
    return this._bindGroupHash[e.uid] ?? this._createTextureBindGroup(e);
  }
  _createTextureBindGroup(e) {
    const t = e.source;
    return (
      (this._bindGroupHash[e.uid] = new un({
        0: t,
        1: t.style,
        2: new kr({
          uTextureMatrix: {
            type: "mat3x3<f32>",
            value: e.textureMatrix.mapCoord,
          },
        }),
      })),
      this._bindGroupHash[e.uid]
    );
  }
  getTextureView(e) {
    const t = e.source;
    return this._textureViewHash[t.uid] ?? this._createTextureView(t);
  }
  _createTextureView(e) {
    return (
      (this._textureViewHash[e.uid] = this.getGpuSource(e).createView()),
      this._textureViewHash[e.uid]
    );
  }
  generateCanvas(e) {
    const t = this._renderer,
      s = t.gpu.device.createCommandEncoder(),
      n = Ke.get().createCanvas();
    (n.width = e.source.pixelWidth), (n.height = e.source.pixelHeight);
    const i = n.getContext("webgpu");
    return (
      i.configure({
        device: t.gpu.device,
        usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,
        format: Ke.get().getNavigator().gpu.getPreferredCanvasFormat(),
        alphaMode: "premultiplied",
      }),
      s.copyTextureToTexture(
        { texture: t.texture.getGpuSource(e.source), origin: { x: 0, y: 0 } },
        { texture: i.getCurrentTexture() },
        { width: n.width, height: n.height }
      ),
      t.gpu.device.queue.submit([s.finish()]),
      n
    );
  }
  getPixels(e) {
    const t = this.generateCanvas(e),
      s = Kn.getOptimalCanvasAndContext(t.width, t.height),
      n = s.context;
    n.drawImage(t, 0, 0);
    const { width: i, height: l } = t,
      c = n.getImageData(0, 0, i, l),
      d = new Uint8ClampedArray(c.data.buffer);
    return Kn.returnCanvasAndContext(s), { pixels: d, width: i, height: l };
  }
  destroy() {
    this.managedTextures.slice().forEach((e) => this.onSourceDestroy(e)),
      (this.managedTextures = null);
    for (const e of Object.keys(this._bindGroupHash)) {
      const t = Number(e);
      this._bindGroupHash[t]?.destroy(), (this._bindGroupHash[t] = null);
    }
    (this._gpu = null),
      (this._mipmapGenerator = null),
      (this._gpuSources = null),
      (this._bindGroupHash = null),
      (this._textureViewHash = null),
      (this._gpuSamplers = null);
  }
}
MC.extension = { type: [D.WebGPUSystem], name: "texture" };
class NC {
  constructor() {
    this._maxTextures = 0;
  }
  contextChange(e) {
    const t = new kr({
      uTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
      uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
      uRound: { value: 0, type: "f32" },
    });
    this._maxTextures = e.limits.maxBatchableTextures;
    const s = ml({
      name: "graphics",
      bits: [pg, gg(this._maxTextures), T6, xl],
    });
    this.shader = new ls({ gpuProgram: s, resources: { localUniforms: t } });
  }
  execute(e, t) {
    const s = t.context,
      n = s.customShader || this.shader,
      i = e.renderer,
      l = i.graphicsContext,
      { batcher: c, instructions: d } = l.getContextRenderData(s),
      f = i.encoder;
    f.setGeometry(c.geometry, n.gpuProgram);
    const m = i.globalUniforms.bindGroup;
    f.setBindGroup(0, m, n.gpuProgram);
    const h = i.renderPipes.uniformBatch.getUniformBindGroup(
      n.resources.localUniforms,
      !0
    );
    f.setBindGroup(2, h, n.gpuProgram);
    const g = d.instructions;
    let x = null;
    for (let v = 0; v < d.instructionSize; v++) {
      const w = g[v];
      if (
        (w.topology !== x &&
          ((x = w.topology),
          f.setPipelineFromGeometryProgramAndState(
            c.geometry,
            n.gpuProgram,
            e.state,
            w.topology
          )),
        (n.groups[1] = w.bindGroup),
        !w.gpuBindGroup)
      ) {
        const _ = w.textures;
        (w.bindGroup = fg(_.textures, _.count, this._maxTextures)),
          (w.gpuBindGroup = i.bindGroup.getBindGroup(
            w.bindGroup,
            n.gpuProgram,
            1
          ));
      }
      f.setBindGroup(1, w.bindGroup, n.gpuProgram),
        f.renderPassEncoder.drawIndexed(w.size, 1, w.start);
    }
  }
  destroy() {
    this.shader.destroy(!0), (this.shader = null);
  }
}
NC.extension = { type: [D.WebGPUPipesAdaptor], name: "graphics" };
class RC {
  init() {
    const e = ml({ name: "mesh", bits: [Xo, E6, xl] });
    this._shader = new ls({
      gpuProgram: e,
      resources: {
        uTexture: Se.EMPTY._source,
        uSampler: Se.EMPTY._source.style,
        textureUniforms: {
          uTextureMatrix: { type: "mat3x3<f32>", value: new ke() },
        },
      },
    });
  }
  execute(e, t) {
    const s = e.renderer;
    let n = t._shader;
    if (!n)
      (n = this._shader),
        (n.groups[2] = s.texture.getTextureBindGroup(t.texture));
    else if (!n.gpuProgram) {
      Re("Mesh shader has no gpuProgram", t.shader);
      return;
    }
    const i = n.gpuProgram;
    if (
      (i.autoAssignGlobalUniforms && (n.groups[0] = s.globalUniforms.bindGroup),
      i.autoAssignLocalUniforms)
    ) {
      const l = e.localUniforms;
      n.groups[1] = s.renderPipes.uniformBatch.getUniformBindGroup(l, !0);
    }
    s.encoder.draw({ geometry: t._geometry, shader: n, state: t.state });
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
RC.extension = { type: [D.WebGPUPipesAdaptor], name: "mesh" };
const iB = [...hC, SC, _C, zg, bC, yC, MC, EC, jC, kC, TC, vC, wC, xC],
  aB = [...fC, CC],
  oB = [gS, RC, NC],
  BC = [],
  FC = [],
  IC = [];
Ie.handleByNamedList(D.WebGPUSystem, BC);
Ie.handleByNamedList(D.WebGPUPipes, FC);
Ie.handleByNamedList(D.WebGPUPipesAdaptor, IC);
Ie.add(...iB, ...aB, ...oB);
class lB extends zu {
  constructor() {
    const e = {
      name: "webgpu",
      type: Xr.WEBGPU,
      systems: BC,
      renderPipes: FC,
      renderPipeAdaptors: IC,
    };
    super(e);
  }
}
const cB = Object.freeze(
  Object.defineProperty(
    { __proto__: null, WebGPURenderer: lB },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
class uB {
  constructor() {
    (this.batches = []), (this.batched = !1);
  }
  destroy() {
    this.batches.forEach((e) => {
      ur.return(e);
    }),
      (this.batches.length = 0);
  }
}
class OC {
  constructor(e, t) {
    (this.state = ks.for2d()),
      (this.renderer = e),
      (this._adaptor = t),
      this.renderer.runners.contextChange.add(this);
  }
  contextChange() {
    this._adaptor.contextChange(this.renderer);
  }
  validateRenderable(e) {
    const t = e.context,
      s = !!e._gpuData,
      n = this.renderer.graphicsContext.updateGpuContext(t);
    return !!(n.isBatchable || s !== n.isBatchable);
  }
  addRenderable(e, t) {
    const s = this.renderer.graphicsContext.updateGpuContext(e.context);
    e.didViewUpdate && this._rebuild(e),
      s.isBatchable
        ? this._addToBatcher(e, t)
        : (this.renderer.renderPipes.batch.break(t), t.add(e));
  }
  updateRenderable(e) {
    const s = this._getGpuDataForRenderable(e).batches;
    for (let n = 0; n < s.length; n++) {
      const i = s[n];
      i._batcher.updateElement(i);
    }
  }
  execute(e) {
    if (!e.isRenderable) return;
    const t = this.renderer,
      s = e.context;
    if (!t.graphicsContext.getGpuContext(s).batches.length) return;
    const i = s.customShader || this._adaptor.shader;
    this.state.blendMode = e.groupBlendMode;
    const l = i.resources.localUniforms.uniforms;
    (l.uTransformMatrix = e.groupTransform),
      (l.uRound = t._roundPixels | e._roundPixels),
      vl(e.groupColorAlpha, l.uColor, 0),
      this._adaptor.execute(this, e);
  }
  _rebuild(e) {
    const t = this._getGpuDataForRenderable(e),
      s = this.renderer.graphicsContext.updateGpuContext(e.context);
    t.destroy(), s.isBatchable && this._updateBatchesForRenderable(e, t);
  }
  _addToBatcher(e, t) {
    const s = this.renderer.renderPipes.batch,
      n = this._getGpuDataForRenderable(e).batches;
    for (let i = 0; i < n.length; i++) {
      const l = n[i];
      s.addToBatch(l, t);
    }
  }
  _getGpuDataForRenderable(e) {
    return e._gpuData[this.renderer.uid] || this._initGpuDataForRenderable(e);
  }
  _initGpuDataForRenderable(e) {
    const t = new uB();
    return (e._gpuData[this.renderer.uid] = t), t;
  }
  _updateBatchesForRenderable(e, t) {
    const s = e.context,
      n = this.renderer.graphicsContext.getGpuContext(s),
      i = this.renderer._roundPixels | e._roundPixels;
    t.batches = n.batches.map((l) => {
      const c = ur.get(_g);
      return l.copyTo(c), (c.renderable = e), (c.roundPixels = i), c;
    });
  }
  destroy() {
    (this.renderer = null),
      this._adaptor.destroy(),
      (this._adaptor = null),
      (this.state = null);
  }
}
OC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "graphics",
};
const LC = class DC extends kg {
  constructor(...e) {
    super({});
    let t = e[0] ?? {};
    typeof t == "number" &&
      (De(
        st,
        "PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"
      ),
      (t = { width: t, height: e[1], verticesX: e[2], verticesY: e[3] })),
      this.build(t);
  }
  build(e) {
    (e = { ...DC.defaultOptions, ...e }),
      (this.verticesX = this.verticesX ?? e.verticesX),
      (this.verticesY = this.verticesY ?? e.verticesY),
      (this.width = this.width ?? e.width),
      (this.height = this.height ?? e.height);
    const t = this.verticesX * this.verticesY,
      s = [],
      n = [],
      i = [],
      l = this.verticesX - 1,
      c = this.verticesY - 1,
      d = this.width / l,
      f = this.height / c;
    for (let h = 0; h < t; h++) {
      const g = h % this.verticesX,
        x = (h / this.verticesX) | 0;
      s.push(g * d, x * f), n.push(g / l, x / c);
    }
    const m = l * c;
    for (let h = 0; h < m; h++) {
      const g = h % l,
        x = (h / l) | 0,
        v = x * this.verticesX + g,
        w = x * this.verticesX + g + 1,
        _ = (x + 1) * this.verticesX + g,
        S = (x + 1) * this.verticesX + g + 1;
      i.push(v, w, _, w, S, _);
    }
    (this.buffers[0].data = new Float32Array(s)),
      (this.buffers[1].data = new Float32Array(n)),
      (this.indexBuffer.data = new Uint32Array(i)),
      this.buffers[0].update(),
      this.buffers[1].update(),
      this.indexBuffer.update();
  }
};
LC.defaultOptions = { width: 100, height: 100, verticesX: 10, verticesY: 10 };
let dB = LC;
class Gg {
  constructor() {
    (this.batcherName = "default"),
      (this.packAsQuad = !1),
      (this.indexOffset = 0),
      (this.attributeOffset = 0),
      (this.roundPixels = 0),
      (this._batcher = null),
      (this._batch = null),
      (this._textureMatrixUpdateId = -1),
      (this._uvUpdateId = -1);
  }
  get blendMode() {
    return this.renderable.groupBlendMode;
  }
  get topology() {
    return this._topology || this.geometry.topology;
  }
  set topology(e) {
    this._topology = e;
  }
  reset() {
    (this.renderable = null),
      (this.texture = null),
      (this._batcher = null),
      (this._batch = null),
      (this.geometry = null),
      (this._uvUpdateId = -1),
      (this._textureMatrixUpdateId = -1);
  }
  setTexture(e) {
    this.texture !== e &&
      ((this.texture = e), (this._textureMatrixUpdateId = -1));
  }
  get uvs() {
    const t = this.geometry.getBuffer("aUV"),
      s = t.data;
    let n = s;
    const i = this.texture.textureMatrix;
    return (
      i.isSimple ||
        ((n = this._transformedUvs),
        (this._textureMatrixUpdateId !== i._updateID ||
          this._uvUpdateId !== t._updateID) &&
          ((!n || n.length < s.length) &&
            (n = this._transformedUvs = new Float32Array(s.length)),
          (this._textureMatrixUpdateId = i._updateID),
          (this._uvUpdateId = t._updateID),
          i.multiplyUvs(s, n))),
      n
    );
  }
  get positions() {
    return this.geometry.positions;
  }
  get indices() {
    return this.geometry.indices;
  }
  get color() {
    return this.renderable.groupColorAlpha;
  }
  get groupTransform() {
    return this.renderable.groupTransform;
  }
  get attributeSize() {
    return this.geometry.positions.length / 2;
  }
  get indexSize() {
    return this.geometry.indices.length;
  }
}
class Cb {
  destroy() {}
}
class UC {
  constructor(e, t) {
    (this.localUniforms = new kr({
      uTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
      uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
      uRound: { value: 0, type: "f32" },
    })),
      (this.localUniformsBindGroup = new un({ 0: this.localUniforms })),
      (this.renderer = e),
      (this._adaptor = t),
      this._adaptor.init();
  }
  validateRenderable(e) {
    const t = this._getMeshData(e),
      s = t.batched,
      n = e.batched;
    if (((t.batched = n), s !== n)) return !0;
    if (n) {
      const i = e._geometry;
      if (
        i.indices.length !== t.indexSize ||
        i.positions.length !== t.vertexSize
      )
        return (
          (t.indexSize = i.indices.length),
          (t.vertexSize = i.positions.length),
          !0
        );
      const l = this._getBatchableMesh(e);
      return (
        l.texture.uid !== e._texture.uid && (l._textureMatrixUpdateId = -1),
        !l._batcher.checkAndUpdateTexture(l, e._texture)
      );
    }
    return !1;
  }
  addRenderable(e, t) {
    const s = this.renderer.renderPipes.batch,
      n = this._getMeshData(e);
    if (
      (e.didViewUpdate &&
        ((n.indexSize = e._geometry.indices?.length),
        (n.vertexSize = e._geometry.positions?.length)),
      n.batched)
    ) {
      const i = this._getBatchableMesh(e);
      i.setTexture(e._texture), (i.geometry = e._geometry), s.addToBatch(i, t);
    } else s.break(t), t.add(e);
  }
  updateRenderable(e) {
    if (e.batched) {
      const t = this._getBatchableMesh(e);
      t.setTexture(e._texture),
        (t.geometry = e._geometry),
        t._batcher.updateElement(t);
    }
  }
  execute(e) {
    if (!e.isRenderable) return;
    e.state.blendMode = nl(e.groupBlendMode, e.texture._source);
    const t = this.localUniforms;
    (t.uniforms.uTransformMatrix = e.groupTransform),
      (t.uniforms.uRound = this.renderer._roundPixels | e._roundPixels),
      t.update(),
      vl(e.groupColorAlpha, t.uniforms.uColor, 0),
      this._adaptor.execute(this, e);
  }
  _getMeshData(e) {
    var t, s;
    return (
      (t = e._gpuData)[(s = this.renderer.uid)] || (t[s] = new Cb()),
      e._gpuData[this.renderer.uid].meshData || this._initMeshData(e)
    );
  }
  _initMeshData(e) {
    return (
      (e._gpuData[this.renderer.uid].meshData = {
        batched: e.batched,
        indexSize: 0,
        vertexSize: 0,
      }),
      e._gpuData[this.renderer.uid].meshData
    );
  }
  _getBatchableMesh(e) {
    var t, s;
    return (
      (t = e._gpuData)[(s = this.renderer.uid)] || (t[s] = new Cb()),
      e._gpuData[this.renderer.uid].batchableMesh || this._initBatchableMesh(e)
    );
  }
  _initBatchableMesh(e) {
    const t = new Gg();
    return (
      (t.renderable = e),
      t.setTexture(e._texture),
      (t.transform = e.groupTransform),
      (t.roundPixels = this.renderer._roundPixels | e._roundPixels),
      (e._gpuData[this.renderer.uid].batchableMesh = t),
      t
    );
  }
  destroy() {
    (this.localUniforms = null),
      (this.localUniformsBindGroup = null),
      this._adaptor.destroy(),
      (this._adaptor = null),
      (this.renderer = null);
  }
}
UC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "mesh",
};
class hB {
  execute(e, t) {
    const s = e.state,
      n = e.renderer,
      i = t.shader || e.defaultShader;
    (i.resources.uTexture = t.texture._source),
      (i.resources.uniforms = e.localUniforms);
    const l = n.gl,
      c = e.getBuffers(t);
    n.shader.bind(i), n.state.set(s), n.geometry.bind(c.geometry, i.glProgram);
    const f =
      c.geometry.indexBuffer.data.BYTES_PER_ELEMENT === 2
        ? l.UNSIGNED_SHORT
        : l.UNSIGNED_INT;
    l.drawElements(l.TRIANGLES, t.particleChildren.length * 6, f, 0);
  }
}
class fB {
  execute(e, t) {
    const s = e.renderer,
      n = t.shader || e.defaultShader;
    (n.groups[0] = s.renderPipes.uniformBatch.getUniformBindGroup(
      e.localUniforms,
      !0
    )),
      (n.groups[1] = s.texture.getTextureBindGroup(t.texture));
    const i = e.state,
      l = e.getBuffers(t);
    s.encoder.draw({
      geometry: l.geometry,
      shader: t.shader || e.defaultShader,
      state: i,
      size: t.particleChildren.length * 6,
    });
  }
}
function Tb(r, e = null) {
  const t = r * 6;
  if (
    (t > 65535 ? e || (e = new Uint32Array(t)) : e || (e = new Uint16Array(t)),
    e.length !== t)
  )
    throw new Error(
      `Out buffer length is incorrect, got ${e.length} and expected ${t}`
    );
  for (let s = 0, n = 0; s < t; s += 6, n += 4)
    (e[s + 0] = n + 0),
      (e[s + 1] = n + 1),
      (e[s + 2] = n + 2),
      (e[s + 3] = n + 0),
      (e[s + 4] = n + 2),
      (e[s + 5] = n + 3);
  return e;
}
function pB(r) {
  return { dynamicUpdate: Eb(r, !0), staticUpdate: Eb(r, !1) };
}
function Eb(r, e) {
  const t = [];
  t.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);
  let s = 0;
  for (const i in r) {
    const l = r[i];
    if (e !== l.dynamic) continue;
    t.push(`offset = index + ${s}`), t.push(l.code);
    const c = Xn(l.format);
    s += c.stride / 4;
  }
  t.push(`
            index += stride * 4;
        }
    `),
    t.unshift(`
        var stride = ${s};
    `);
  const n = t.join(`
`);
  return new Function("ps", "f32v", "u32v", n);
}
class mB {
  constructor(e) {
    (this._size = 0), (this._generateParticleUpdateCache = {});
    const t = (this._size = e.size ?? 1e3),
      s = e.properties;
    let n = 0,
      i = 0;
    for (const m in s) {
      const h = s[m],
        g = Xn(h.format);
      h.dynamic ? (i += g.stride) : (n += g.stride);
    }
    (this._dynamicStride = i / 4),
      (this._staticStride = n / 4),
      (this.staticAttributeBuffer = new ma(t * 4 * n)),
      (this.dynamicAttributeBuffer = new ma(t * 4 * i)),
      (this.indexBuffer = Tb(t));
    const l = new pl();
    let c = 0,
      d = 0;
    (this._staticBuffer = new Vr({
      data: new Float32Array(1),
      label: "static-particle-buffer",
      shrinkToFit: !1,
      usage: tt.VERTEX | tt.COPY_DST,
    })),
      (this._dynamicBuffer = new Vr({
        data: new Float32Array(1),
        label: "dynamic-particle-buffer",
        shrinkToFit: !1,
        usage: tt.VERTEX | tt.COPY_DST,
      }));
    for (const m in s) {
      const h = s[m],
        g = Xn(h.format);
      h.dynamic
        ? (l.addAttribute(h.attributeName, {
            buffer: this._dynamicBuffer,
            stride: this._dynamicStride * 4,
            offset: c * 4,
            format: h.format,
          }),
          (c += g.size))
        : (l.addAttribute(h.attributeName, {
            buffer: this._staticBuffer,
            stride: this._staticStride * 4,
            offset: d * 4,
            format: h.format,
          }),
          (d += g.size));
    }
    l.addIndex(this.indexBuffer);
    const f = this.getParticleUpdate(s);
    (this._dynamicUpload = f.dynamicUpdate),
      (this._staticUpload = f.staticUpdate),
      (this.geometry = l);
  }
  getParticleUpdate(e) {
    const t = gB(e);
    return this._generateParticleUpdateCache[t]
      ? this._generateParticleUpdateCache[t]
      : ((this._generateParticleUpdateCache[t] =
          this.generateParticleUpdate(e)),
        this._generateParticleUpdateCache[t]);
  }
  generateParticleUpdate(e) {
    return pB(e);
  }
  update(e, t) {
    e.length > this._size &&
      ((t = !0),
      (this._size = Math.max(e.length, (this._size * 1.5) | 0)),
      (this.staticAttributeBuffer = new ma(
        this._size * this._staticStride * 4 * 4
      )),
      (this.dynamicAttributeBuffer = new ma(
        this._size * this._dynamicStride * 4 * 4
      )),
      (this.indexBuffer = Tb(this._size)),
      this.geometry.indexBuffer.setDataWithSize(
        this.indexBuffer,
        this.indexBuffer.byteLength,
        !0
      ));
    const s = this.dynamicAttributeBuffer;
    if (
      (this._dynamicUpload(e, s.float32View, s.uint32View),
      this._dynamicBuffer.setDataWithSize(
        this.dynamicAttributeBuffer.float32View,
        e.length * this._dynamicStride * 4,
        !0
      ),
      t)
    ) {
      const n = this.staticAttributeBuffer;
      this._staticUpload(e, n.float32View, n.uint32View),
        this._staticBuffer.setDataWithSize(
          n.float32View,
          e.length * this._staticStride * 4,
          !0
        );
    }
  }
  destroy() {
    this._staticBuffer.destroy(),
      this._dynamicBuffer.destroy(),
      this.geometry.destroy();
  }
}
function gB(r) {
  const e = [];
  for (const t in r) {
    const s = r[t];
    e.push(t, s.code, s.dynamic ? "d" : "s");
  }
  return e.join("_");
}
var xB = `varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,
  yB = `attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,
  jb = `
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;
class vB extends ls {
  constructor() {
    const e = Bi.from({ vertex: yB, fragment: xB }),
      t = Qn.from({
        fragment: { source: jb, entryPoint: "mainFragment" },
        vertex: { source: jb, entryPoint: "mainVertex" },
      });
    super({
      glProgram: e,
      gpuProgram: t,
      resources: {
        uTexture: Se.WHITE.source,
        uSampler: new $s({}),
        uniforms: {
          uTranslationMatrix: { value: new ke(), type: "mat3x3<f32>" },
          uColor: { value: new Ct(16777215), type: "vec4<f32>" },
          uRound: { value: 1, type: "f32" },
          uResolution: { value: [0, 0], type: "vec2<f32>" },
        },
      },
    });
  }
}
class zC {
  constructor(e, t) {
    (this.state = ks.for2d()),
      (this.localUniforms = new kr({
        uTranslationMatrix: { value: new ke(), type: "mat3x3<f32>" },
        uColor: { value: new Float32Array(4), type: "vec4<f32>" },
        uRound: { value: 1, type: "f32" },
        uResolution: { value: [0, 0], type: "vec2<f32>" },
      })),
      (this.renderer = e),
      (this.adaptor = t),
      (this.defaultShader = new vB()),
      (this.state = ks.for2d());
  }
  validateRenderable(e) {
    return !1;
  }
  addRenderable(e, t) {
    this.renderer.renderPipes.batch.break(t), t.add(e);
  }
  getBuffers(e) {
    return e._gpuData[this.renderer.uid] || this._initBuffer(e);
  }
  _initBuffer(e) {
    return (
      (e._gpuData[this.renderer.uid] = new mB({
        size: e.particleChildren.length,
        properties: e._properties,
      })),
      e._gpuData[this.renderer.uid]
    );
  }
  updateRenderable(e) {}
  execute(e) {
    const t = e.particleChildren;
    if (t.length === 0) return;
    const s = this.renderer,
      n = this.getBuffers(e);
    e.texture || (e.texture = t[0].texture);
    const i = this.state;
    n.update(t, e._childrenDirty),
      (e._childrenDirty = !1),
      (i.blendMode = nl(e.blendMode, e.texture._source));
    const l = this.localUniforms.uniforms,
      c = l.uTranslationMatrix;
    e.worldTransform.copyTo(c),
      c.prepend(s.globalUniforms.globalUniformData.projectionMatrix),
      (l.uResolution = s.globalUniforms.globalUniformData.resolution),
      (l.uRound = s._roundPixels | e._roundPixels),
      vl(e.groupColorAlpha, l.uColor, 0),
      this.adaptor.execute(this, e);
  }
  destroy() {
    this.defaultShader &&
      (this.defaultShader.destroy(), (this.defaultShader = null));
  }
}
class GC extends zC {
  constructor(e) {
    super(e, new hB());
  }
}
GC.extension = { type: [D.WebGLPipes], name: "particle" };
class $C extends zC {
  constructor(e) {
    super(e, new fB());
  }
}
$C.extension = { type: [D.WebGPUPipes], name: "particle" };
const HC = class WC extends dB {
  constructor(e = {}) {
    (e = { ...WC.defaultOptions, ...e }),
      super({ width: e.width, height: e.height, verticesX: 4, verticesY: 4 }),
      this.update(e);
  }
  update(e) {
    (this.width = e.width ?? this.width),
      (this.height = e.height ?? this.height),
      (this._originalWidth = e.originalWidth ?? this._originalWidth),
      (this._originalHeight = e.originalHeight ?? this._originalHeight),
      (this._leftWidth = e.leftWidth ?? this._leftWidth),
      (this._rightWidth = e.rightWidth ?? this._rightWidth),
      (this._topHeight = e.topHeight ?? this._topHeight),
      (this._bottomHeight = e.bottomHeight ?? this._bottomHeight),
      (this._anchorX = e.anchor?.x),
      (this._anchorY = e.anchor?.y),
      this.updateUvs(),
      this.updatePositions();
  }
  updatePositions() {
    const e = this.positions,
      {
        width: t,
        height: s,
        _leftWidth: n,
        _rightWidth: i,
        _topHeight: l,
        _bottomHeight: c,
        _anchorX: d,
        _anchorY: f,
      } = this,
      m = n + i,
      h = t > m ? 1 : t / m,
      g = l + c,
      x = s > g ? 1 : s / g,
      v = Math.min(h, x),
      w = d * t,
      _ = f * s;
    (e[0] = e[8] = e[16] = e[24] = -w),
      (e[2] = e[10] = e[18] = e[26] = n * v - w),
      (e[4] = e[12] = e[20] = e[28] = t - i * v - w),
      (e[6] = e[14] = e[22] = e[30] = t - w),
      (e[1] = e[3] = e[5] = e[7] = -_),
      (e[9] = e[11] = e[13] = e[15] = l * v - _),
      (e[17] = e[19] = e[21] = e[23] = s - c * v - _),
      (e[25] = e[27] = e[29] = e[31] = s - _),
      this.getBuffer("aPosition").update();
  }
  updateUvs() {
    const e = this.uvs;
    (e[0] = e[8] = e[16] = e[24] = 0),
      (e[1] = e[3] = e[5] = e[7] = 0),
      (e[6] = e[14] = e[22] = e[30] = 1),
      (e[25] = e[27] = e[29] = e[31] = 1);
    const t = 1 / this._originalWidth,
      s = 1 / this._originalHeight;
    (e[2] = e[10] = e[18] = e[26] = t * this._leftWidth),
      (e[9] = e[11] = e[13] = e[15] = s * this._topHeight),
      (e[4] = e[12] = e[20] = e[28] = 1 - t * this._rightWidth),
      (e[17] = e[19] = e[21] = e[23] = 1 - s * this._bottomHeight),
      this.getBuffer("aUV").update();
  }
};
HC.defaultOptions = {
  width: 100,
  height: 100,
  leftWidth: 10,
  topHeight: 10,
  rightWidth: 10,
  bottomHeight: 10,
  originalWidth: 100,
  originalHeight: 100,
};
let _B = HC;
class bB extends Gg {
  constructor() {
    super(), (this.geometry = new _B());
  }
  destroy() {
    this.geometry.destroy();
  }
}
class VC {
  constructor(e) {
    this._renderer = e;
  }
  addRenderable(e, t) {
    const s = this._getGpuSprite(e);
    e.didViewUpdate && this._updateBatchableSprite(e, s),
      this._renderer.renderPipes.batch.addToBatch(s, t);
  }
  updateRenderable(e) {
    const t = this._getGpuSprite(e);
    e.didViewUpdate && this._updateBatchableSprite(e, t),
      t._batcher.updateElement(t);
  }
  validateRenderable(e) {
    const t = this._getGpuSprite(e);
    return !t._batcher.checkAndUpdateTexture(t, e._texture);
  }
  _updateBatchableSprite(e, t) {
    t.geometry.update(e), t.setTexture(e._texture);
  }
  _getGpuSprite(e) {
    return e._gpuData[this._renderer.uid] || this._initGPUSprite(e);
  }
  _initGPUSprite(e) {
    const t = (e._gpuData[this._renderer.uid] = new bB()),
      s = t;
    return (
      (s.renderable = e),
      (s.transform = e.groupTransform),
      (s.texture = e._texture),
      (s.roundPixels = this._renderer._roundPixels | e._roundPixels),
      e.didViewUpdate || this._updateBatchableSprite(e, s),
      t
    );
  }
  destroy() {
    this._renderer = null;
  }
}
VC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "nineSliceSprite",
};
const wB = {
    name: "tiling-bit",
    vertex: {
      header: `
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,
      main: `
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `,
    },
    fragment: {
      header: `
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,
      main: `

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `,
    },
  },
  SB = {
    name: "tiling-bit",
    vertex: {
      header: `
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,
      main: `
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `,
    },
    fragment: {
      header: `
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,
      main: `

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `,
    },
  };
let wp, Sp;
class CB extends ls {
  constructor() {
    wp ?? (wp = ml({ name: "tiling-sprite-shader", bits: [Xo, wB, xl] })),
      Sp ?? (Sp = gl({ name: "tiling-sprite-shader", bits: [Ag, SB, yl] }));
    const e = new kr({
      uMapCoord: { value: new ke(), type: "mat3x3<f32>" },
      uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: "vec4<f32>" },
      uClampOffset: { value: new Float32Array([0, 0]), type: "vec2<f32>" },
      uTextureTransform: { value: new ke(), type: "mat3x3<f32>" },
      uSizeAnchor: {
        value: new Float32Array([100, 100, 0.5, 0.5]),
        type: "vec4<f32>",
      },
    });
    super({
      glProgram: Sp,
      gpuProgram: wp,
      resources: {
        localUniforms: new kr({
          uTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
          uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
          uRound: { value: 0, type: "f32" },
        }),
        tilingUniforms: e,
        uTexture: Se.EMPTY.source,
        uSampler: Se.EMPTY.source.style,
      },
    });
  }
  updateUniforms(e, t, s, n, i, l) {
    const c = this.resources.tilingUniforms,
      d = l.width,
      f = l.height,
      m = l.textureMatrix,
      h = c.uniforms.uTextureTransform;
    h.set(
      (s.a * d) / e,
      (s.b * d) / t,
      (s.c * f) / e,
      (s.d * f) / t,
      s.tx / e,
      s.ty / t
    ),
      h.invert(),
      (c.uniforms.uMapCoord = m.mapCoord),
      (c.uniforms.uClampFrame = m.uClampFrame),
      (c.uniforms.uClampOffset = m.uClampOffset),
      (c.uniforms.uTextureTransform = h),
      (c.uniforms.uSizeAnchor[0] = e),
      (c.uniforms.uSizeAnchor[1] = t),
      (c.uniforms.uSizeAnchor[2] = n),
      (c.uniforms.uSizeAnchor[3] = i),
      l &&
        ((this.resources.uTexture = l.source),
        (this.resources.uSampler = l.source.style));
  }
}
class TB extends kg {
  constructor() {
    super({
      positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      indices: new Uint32Array([0, 1, 2, 0, 2, 3]),
    });
  }
}
function EB(r, e) {
  const t = r.anchor.x,
    s = r.anchor.y;
  (e[0] = -t * r.width),
    (e[1] = -s * r.height),
    (e[2] = (1 - t) * r.width),
    (e[3] = -s * r.height),
    (e[4] = (1 - t) * r.width),
    (e[5] = (1 - s) * r.height),
    (e[6] = -t * r.width),
    (e[7] = (1 - s) * r.height);
}
function jB(r, e, t, s) {
  let n = 0;
  const i = r.length / e,
    l = s.a,
    c = s.b,
    d = s.c,
    f = s.d,
    m = s.tx,
    h = s.ty;
  for (t *= e; n < i; ) {
    const g = r[t],
      x = r[t + 1];
    (r[t] = l * g + d * x + m), (r[t + 1] = c * g + f * x + h), (t += e), n++;
  }
}
function kB(r, e) {
  const t = r.texture,
    s = t.frame.width,
    n = t.frame.height;
  let i = 0,
    l = 0;
  r.applyAnchorToTexture && ((i = r.anchor.x), (l = r.anchor.y)),
    (e[0] = e[6] = -i),
    (e[2] = e[4] = 1 - i),
    (e[1] = e[3] = -l),
    (e[5] = e[7] = 1 - l);
  const c = ke.shared;
  c.copyFrom(r._tileTransform.matrix),
    (c.tx /= r.width),
    (c.ty /= r.height),
    c.invert(),
    c.scale(r.width / s, r.height / n),
    jB(e, 2, 0, c);
}
const lu = new TB();
class PB {
  constructor() {
    (this.canBatch = !0),
      (this.geometry = new kg({
        indices: lu.indices.slice(),
        positions: lu.positions.slice(),
        uvs: lu.uvs.slice(),
      }));
  }
  destroy() {
    this.geometry.destroy(), this.shader?.destroy();
  }
}
class qC {
  constructor(e) {
    (this._state = ks.default2d), (this._renderer = e);
  }
  validateRenderable(e) {
    const t = this._getTilingSpriteData(e),
      s = t.canBatch;
    this._updateCanBatch(e);
    const n = t.canBatch;
    if (n && n === s) {
      const { batchableMesh: i } = t;
      return !i._batcher.checkAndUpdateTexture(i, e.texture);
    }
    return s !== n;
  }
  addRenderable(e, t) {
    const s = this._renderer.renderPipes.batch;
    this._updateCanBatch(e);
    const n = this._getTilingSpriteData(e),
      { geometry: i, canBatch: l } = n;
    if (l) {
      n.batchableMesh || (n.batchableMesh = new Gg());
      const c = n.batchableMesh;
      e.didViewUpdate &&
        (this._updateBatchableMesh(e),
        (c.geometry = i),
        (c.renderable = e),
        (c.transform = e.groupTransform),
        c.setTexture(e._texture)),
        (c.roundPixels = this._renderer._roundPixels | e._roundPixels),
        s.addToBatch(c, t);
    } else
      s.break(t),
        n.shader || (n.shader = new CB()),
        this.updateRenderable(e),
        t.add(e);
  }
  execute(e) {
    const { shader: t } = this._getTilingSpriteData(e);
    t.groups[0] = this._renderer.globalUniforms.bindGroup;
    const s = t.resources.localUniforms.uniforms;
    (s.uTransformMatrix = e.groupTransform),
      (s.uRound = this._renderer._roundPixels | e._roundPixels),
      vl(e.groupColorAlpha, s.uColor, 0),
      (this._state.blendMode = nl(e.groupBlendMode, e.texture._source)),
      this._renderer.encoder.draw({
        geometry: lu,
        shader: t,
        state: this._state,
      });
  }
  updateRenderable(e) {
    const t = this._getTilingSpriteData(e),
      { canBatch: s } = t;
    if (s) {
      const { batchableMesh: n } = t;
      e.didViewUpdate && this._updateBatchableMesh(e),
        n._batcher.updateElement(n);
    } else if (e.didViewUpdate) {
      const { shader: n } = t;
      n.updateUniforms(
        e.width,
        e.height,
        e._tileTransform.matrix,
        e.anchor.x,
        e.anchor.y,
        e.texture
      );
    }
  }
  _getTilingSpriteData(e) {
    return e._gpuData[this._renderer.uid] || this._initTilingSpriteData(e);
  }
  _initTilingSpriteData(e) {
    const t = new PB();
    return (t.renderable = e), (e._gpuData[this._renderer.uid] = t), t;
  }
  _updateBatchableMesh(e) {
    const t = this._getTilingSpriteData(e),
      { geometry: s } = t,
      n = e.texture.source.style;
    n.addressMode !== "repeat" && ((n.addressMode = "repeat"), n.update()),
      kB(e, s.uvs),
      EB(e, s.positions);
  }
  destroy() {
    this._renderer = null;
  }
  _updateCanBatch(e) {
    const t = this._getTilingSpriteData(e),
      s = e.texture;
    let n = !0;
    return (
      this._renderer.type === Xr.WEBGL &&
        (n = this._renderer.context.supports.nonPowOf2wrapping),
      (t.canBatch = s.textureMatrix.isSimple && (n || s.source.isPowerOfTwo)),
      t.canBatch
    );
  }
}
qC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "tilingSprite",
};
const AB = {
    name: "local-uniform-msdf-bit",
    vertex: {
      header: `
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,
      main: `
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,
      end: `
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `,
    },
    fragment: {
      header: `
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,
      main: `
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `,
    },
  },
  MB = {
    name: "local-uniform-msdf-bit",
    vertex: {
      header: `
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,
      main: `
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,
      end: `
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `,
    },
    fragment: {
      header: `
            uniform float uDistance;
         `,
      main: `
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `,
    },
  },
  NB = {
    name: "msdf-bit",
    fragment: {
      header: `
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `,
    },
  },
  RB = {
    name: "msdf-bit",
    fragment: {
      header: `
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `,
    },
  };
let Cp, Tp;
class BB extends ls {
  constructor(e) {
    const t = new kr({
      uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
      uTransformMatrix: { value: new ke(), type: "mat3x3<f32>" },
      uDistance: { value: 4, type: "f32" },
      uRound: { value: 0, type: "f32" },
    });
    Cp ?? (Cp = ml({ name: "sdf-shader", bits: [pg, gg(e), AB, NB, xl] })),
      Tp ?? (Tp = gl({ name: "sdf-shader", bits: [mg, xg(e), MB, RB, yl] })),
      super({
        glProgram: Tp,
        gpuProgram: Cp,
        resources: { localUniforms: t, batchSamplers: yg(e) },
      });
  }
}
class FB extends Be {
  destroy() {
    this.context.customShader && this.context.customShader.destroy(),
      super.destroy();
  }
}
class XC {
  constructor(e) {
    (this._renderer = e),
      this._renderer.renderableGC.addManagedHash(this, "_gpuBitmapText");
  }
  validateRenderable(e) {
    const t = this._getGpuBitmapText(e);
    return this._renderer.renderPipes.graphics.validateRenderable(t);
  }
  addRenderable(e, t) {
    const s = this._getGpuBitmapText(e);
    kb(e, s),
      e._didTextUpdate && ((e._didTextUpdate = !1), this._updateContext(e, s)),
      this._renderer.renderPipes.graphics.addRenderable(s, t),
      s.context.customShader && this._updateDistanceField(e);
  }
  updateRenderable(e) {
    const t = this._getGpuBitmapText(e);
    kb(e, t),
      this._renderer.renderPipes.graphics.updateRenderable(t),
      t.context.customShader && this._updateDistanceField(e);
  }
  _updateContext(e, t) {
    const { context: s } = t,
      n = wu.getFont(e.text, e._style);
    s.clear(),
      n.distanceField.type !== "none" &&
        (s.customShader ||
          (s.customShader = new BB(
            this._renderer.limits.maxBatchableTextures
          )));
    const i = Es.graphemeSegmenter(e.text),
      l = e._style;
    let c = n.baseLineOffset;
    const d = Qw(i, l, n, !0),
      f = l.padding,
      m = d.scale;
    let h = d.width,
      g = d.height + d.offsetY;
    l._stroke && ((h += l._stroke.width / m), (g += l._stroke.width / m)),
      s.translate(-e._anchor._x * h - f, -e._anchor._y * g - f).scale(m, m);
    const x = n.applyFillAsTint ? l._fill.color : 16777215;
    let v = n.fontMetrics.fontSize,
      w = n.lineHeight;
    l.lineHeight && ((v = l.fontSize / m), (w = l.lineHeight / m));
    let _ = (w - v) / 2;
    _ - n.baseLineOffset < 0 && (_ = 0);
    for (let S = 0; S < d.lines.length; S++) {
      const T = d.lines[S];
      for (let j = 0; j < T.charPositions.length; j++) {
        const E = T.chars[j],
          A = n.chars[E];
        if (A?.texture) {
          const M = A.texture;
          s.texture(
            M,
            x || "black",
            Math.round(T.charPositions[j] + A.xOffset),
            Math.round(c + A.yOffset + _),
            M.orig.width,
            M.orig.height
          );
        }
      }
      c += w;
    }
  }
  _getGpuBitmapText(e) {
    return e._gpuData[this._renderer.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = new FB();
    return (e._gpuData[this._renderer.uid] = t), this._updateContext(e, t), t;
  }
  _updateDistanceField(e) {
    const t = this._getGpuBitmapText(e).context,
      s = e._style.fontFamily,
      n = mt.get(`${s}-bitmap`),
      { a: i, b: l, c, d } = e.groupTransform,
      f = Math.sqrt(i * i + l * l),
      m = Math.sqrt(c * c + d * d),
      h = (Math.abs(f) + Math.abs(m)) / 2,
      g = n.baseRenderedFontSize / e._style.fontSize,
      x = h * n.distanceField.range * (1 / g);
    t.customShader.resources.localUniforms.uniforms.uDistance = x;
  }
  destroy() {
    this._renderer = null;
  }
}
XC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "bitmapText",
};
function kb(r, e) {
  (e.groupTransform = r.groupTransform),
    (e.groupColorAlpha = r.groupColorAlpha),
    (e.groupColor = r.groupColor),
    (e.groupBlendMode = r.groupBlendMode),
    (e.globalDisplayStatus = r.globalDisplayStatus),
    (e.groupTransform = r.groupTransform),
    (e.localDisplayStatus = r.localDisplayStatus),
    (e.groupAlpha = r.groupAlpha),
    (e._roundPixels = r._roundPixels);
}
class IB extends Wu {
  constructor(e) {
    super(),
      (this.generatingTexture = !1),
      (this._renderer = e),
      e.runners.resolutionChange.add(this);
  }
  resolutionChange() {
    const e = this.renderable;
    e._autoResolution && e.onViewUpdate();
  }
  destroy() {
    this._renderer.htmlText.returnTexturePromise(this.texturePromise),
      (this.texturePromise = null),
      (this._renderer = null);
  }
}
function Om(r, e) {
  const { texture: t, bounds: s } = r,
    n = e._style._getFinalPadding();
  L2(s, e._anchor, t);
  const i = e._anchor._x * n * 2,
    l = e._anchor._y * n * 2;
  (s.minX -= n - i), (s.minY -= n - l), (s.maxX -= n - i), (s.maxY -= n - l);
}
class YC {
  constructor(e) {
    this._renderer = e;
  }
  validateRenderable(e) {
    return e._didTextUpdate;
  }
  addRenderable(e, t) {
    const s = this._getGpuText(e);
    e._didTextUpdate &&
      (this._updateGpuText(e).catch((n) => {
        console.error(n);
      }),
      (e._didTextUpdate = !1),
      Om(s, e)),
      this._renderer.renderPipes.batch.addToBatch(s, t);
  }
  updateRenderable(e) {
    const t = this._getGpuText(e);
    t._batcher.updateElement(t);
  }
  async _updateGpuText(e) {
    e._didTextUpdate = !1;
    const t = this._getGpuText(e);
    if (t.generatingTexture) return;
    t.texturePromise &&
      (this._renderer.htmlText.returnTexturePromise(t.texturePromise),
      (t.texturePromise = null)),
      (t.generatingTexture = !0),
      (e._resolution = e._autoResolution
        ? this._renderer.resolution
        : e.resolution);
    const s = this._renderer.htmlText.getTexturePromise(e);
    (t.texturePromise = s), (t.texture = await s);
    const n = e.renderGroup || e.parentRenderGroup;
    n && (n.structureDidChange = !0), (t.generatingTexture = !1), Om(t, e);
  }
  _getGpuText(e) {
    return e._gpuData[this._renderer.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = new IB(this._renderer);
    return (
      (t.renderable = e),
      (t.transform = e.groupTransform),
      (t.texture = Se.EMPTY),
      (t.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (t.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (e._resolution = e._autoResolution
        ? this._renderer.resolution
        : e.resolution),
      (e._gpuData[this._renderer.uid] = t),
      t
    );
  }
  destroy() {
    this._renderer = null;
  }
}
YC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "htmlText",
};
function OB() {
  const { userAgent: r } = Ke.get().getNavigator();
  return /^((?!chrome|android).)*safari/i.test(r);
}
const LB = new wr();
function KC(r, e, t, s) {
  const n = LB;
  (n.minX = 0),
    (n.minY = 0),
    (n.maxX = (r.width / s) | 0),
    (n.maxY = (r.height / s) | 0);
  const i = Gt.getOptimalTexture(n.width, n.height, s, !1);
  return (
    (i.source.uploadMethodId = "image"),
    (i.source.resource = r),
    (i.source.alphaMode = "premultiply-alpha-on-upload"),
    (i.frame.width = e / s),
    (i.frame.height = t / s),
    i.source.emit("update", i.source),
    i.updateUvs(),
    i
  );
}
function DB(r, e) {
  const t = e.fontFamily,
    s = [],
    n = {},
    i = /font-family:([^;"\s]+)/g,
    l = r.match(i);
  function c(d) {
    n[d] || (s.push(d), (n[d] = !0));
  }
  if (Array.isArray(t)) for (let d = 0; d < t.length; d++) c(t[d]);
  else c(t);
  l &&
    l.forEach((d) => {
      const f = d.split(":")[1].trim();
      c(f);
    });
  for (const d in e.tagStyles) {
    const f = e.tagStyles[d].fontFamily;
    c(f);
  }
  return s;
}
async function UB(r) {
  const t = await (await Ke.get().fetch(r)).blob(),
    s = new FileReader();
  return await new Promise((i, l) => {
    (s.onloadend = () => i(s.result)), (s.onerror = l), s.readAsDataURL(t);
  });
}
async function zB(r, e) {
  const t = await UB(e);
  return `@font-face {
        font-family: "${r.fontFamily}";
        font-weight: ${r.fontWeight};
        font-style: ${r.fontStyle};
        src: url('${t}');
    }`;
}
const Ep = new Map();
async function GB(r) {
  const e = r
    .filter((t) => mt.has(`${t}-and-url`))
    .map((t) => {
      if (!Ep.has(t)) {
        const { entries: s } = mt.get(`${t}-and-url`),
          n = [];
        s.forEach((i) => {
          const l = i.url,
            d = i.faces.map((f) => ({ weight: f.weight, style: f.style }));
          n.push(
            ...d.map((f) =>
              zB({ fontWeight: f.weight, fontStyle: f.style, fontFamily: t }, l)
            )
          );
        }),
          Ep.set(
            t,
            Promise.all(n).then((i) =>
              i.join(`
`)
            )
          );
      }
      return Ep.get(t);
    });
  return (await Promise.all(e)).join(`
`);
}
function $B(r, e, t, s, n) {
  const { domElement: i, styleElement: l, svgRoot: c } = n;
  (i.innerHTML = `<style>${e.cssStyle}</style><div style='padding:0;'>${r}</div>`),
    i.setAttribute(
      "style",
      `transform: scale(${t});transform-origin: top left; display: inline-block`
    ),
    (l.textContent = s);
  const { width: d, height: f } = n.image;
  return (
    c.setAttribute("width", d.toString()),
    c.setAttribute("height", f.toString()),
    new XMLSerializer().serializeToString(c)
  );
}
function HB(r, e) {
  const t = Kn.getOptimalCanvasAndContext(r.width, r.height, e),
    { context: s } = t;
  return s.clearRect(0, 0, r.width, r.height), s.drawImage(r, 0, 0), t;
}
function WB(r, e, t) {
  return new Promise(async (s) => {
    t && (await new Promise((n) => setTimeout(n, 100))),
      (r.onload = () => {
        s();
      }),
      (r.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`),
      (r.crossOrigin = "anonymous");
  });
}
class QC {
  constructor(e) {
    (this._renderer = e), (this._createCanvas = e.type === Xr.WEBGPU);
  }
  getTexture(e) {
    return this.getTexturePromise(e);
  }
  getTexturePromise(e) {
    return this._buildTexturePromise(e);
  }
  async _buildTexturePromise(e) {
    const { text: t, style: s, resolution: n, textureStyle: i } = e,
      l = ur.get(pS),
      c = DB(t, s),
      d = await GB(c),
      f = C6(t, s, d, l),
      m = Math.ceil(Math.ceil(Math.max(1, f.width) + s.padding * 2) * n),
      h = Math.ceil(Math.ceil(Math.max(1, f.height) + s.padding * 2) * n),
      g = l.image,
      x = 2;
    (g.width = (m | 0) + x), (g.height = (h | 0) + x);
    const v = $B(t, s, n, d, l);
    await WB(g, v, OB() && c.length > 0);
    const w = g;
    let _;
    this._createCanvas && (_ = HB(g, n));
    const S = KC(_ ? _.canvas : w, g.width - x, g.height - x, n);
    return (
      i && (S.source.style = i),
      this._createCanvas &&
        (this._renderer.texture.initSource(S.source),
        Kn.returnCanvasAndContext(_)),
      ur.return(l),
      S
    );
  }
  returnTexturePromise(e) {
    e.then((t) => {
      this._cleanUp(t);
    }).catch(() => {
      Re("HTMLTextSystem: Failed to clean texture");
    });
  }
  _cleanUp(e) {
    Gt.returnTexture(e, !0),
      (e.source.resource = null),
      (e.source.uploadMethodId = "unknown");
  }
  destroy() {
    this._renderer = null;
  }
}
QC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "htmlText",
};
class VB extends Wu {
  constructor(e) {
    super(), (this._renderer = e), e.runners.resolutionChange.add(this);
  }
  resolutionChange() {
    const e = this.renderable;
    e._autoResolution && e.onViewUpdate();
  }
  destroy() {
    this._renderer.canvasText.returnTexture(this.texture),
      (this._renderer = null);
  }
}
class ZC {
  constructor(e) {
    this._renderer = e;
  }
  validateRenderable(e) {
    return e._didTextUpdate;
  }
  addRenderable(e, t) {
    const s = this._getGpuText(e);
    e._didTextUpdate && (this._updateGpuText(e), (e._didTextUpdate = !1)),
      this._renderer.renderPipes.batch.addToBatch(s, t);
  }
  updateRenderable(e) {
    const t = this._getGpuText(e);
    t._batcher.updateElement(t);
  }
  _updateGpuText(e) {
    const t = this._getGpuText(e);
    t.texture && this._renderer.canvasText.returnTexture(t.texture),
      (e._resolution = e._autoResolution
        ? this._renderer.resolution
        : e.resolution),
      (t.texture = this._renderer.canvasText.getTexture(e)),
      Om(t, e);
  }
  _getGpuText(e) {
    return e._gpuData[this._renderer.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = new VB(this._renderer);
    return (
      (t.renderable = e),
      (t.transform = e.groupTransform),
      (t.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (t.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (e._gpuData[this._renderer.uid] = t),
      t
    );
  }
  destroy() {
    this._renderer = null;
  }
}
ZC.extension = {
  type: [D.WebGLPipes, D.WebGPUPipes, D.CanvasPipes],
  name: "text",
};
class JC {
  constructor(e) {
    this._renderer = e;
  }
  getTexture(e, t, s, n) {
    typeof e == "string" &&
      (De(
        "8.0.0",
        "CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"
      ),
      (e = { text: e, style: s, resolution: t })),
      e.style instanceof Yn || (e.style = new Yn(e.style)),
      e.textureStyle instanceof $s || (e.textureStyle = new $s(e.textureStyle)),
      typeof e.text != "string" && (e.text = e.text.toString());
    const { text: i, style: l, textureStyle: c } = e,
      d = e.resolution ?? this._renderer.resolution,
      { frame: f, canvasAndContext: m } = qo.getCanvasAndContext({
        text: i,
        style: l,
        resolution: d,
      }),
      h = KC(m.canvas, f.width, f.height, d);
    if (
      (c && (h.source.style = c),
      l.trim &&
        (f.pad(l.padding),
        h.frame.copyFrom(f),
        h.frame.scale(1 / d),
        h.updateUvs()),
      l.filters)
    ) {
      const g = this._applyFilters(h, l.filters);
      return this.returnTexture(h), qo.returnCanvasAndContext(m), g;
    }
    return (
      this._renderer.texture.initSource(h._source),
      qo.returnCanvasAndContext(m),
      h
    );
  }
  returnTexture(e) {
    const t = e.source;
    (t.resource = null),
      (t.uploadMethodId = "unknown"),
      (t.alphaMode = "no-premultiply-alpha"),
      Gt.returnTexture(e, !0);
  }
  renderTextToCanvas() {
    De(
      "8.10.0",
      "CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead"
    );
  }
  _applyFilters(e, t) {
    const s = this._renderer.renderTarget.renderTarget,
      n = this._renderer.filter.generateFilteredTexture({
        texture: e,
        filters: t,
      });
    return this._renderer.renderTarget.bind(s, !1), n;
  }
  destroy() {
    this._renderer = null;
  }
}
JC.extension = {
  type: [D.WebGLSystem, D.WebGPUSystem, D.CanvasSystem],
  name: "canvasText",
};
Ie.add(SP, CP);
let eT;
function qB(r) {
  return (eT = r), r;
}
function al() {
  return eT;
}
class Lm {
  static setParamValue(e, t) {
    if (e.setValueAtTime) {
      const s = al().context;
      e.setValueAtTime(t, s.audioContext.currentTime);
    } else e.value = t;
    return t;
  }
}
class XB extends nr {
  constructor() {
    super(...arguments),
      (this.speed = 1),
      (this.muted = !1),
      (this.volume = 1),
      (this.paused = !1);
  }
  refresh() {
    this.emit("refresh");
  }
  refreshPaused() {
    this.emit("refreshPaused");
  }
  get filters() {
    return console.warn("HTML Audio does not support filters"), null;
  }
  set filters(e) {
    console.warn("HTML Audio does not support filters");
  }
  get audioContext() {
    return console.warn("HTML Audio does not support audioContext"), null;
  }
  toggleMute() {
    return (this.muted = !this.muted), this.refresh(), this.muted;
  }
  togglePause() {
    return (this.paused = !this.paused), this.refreshPaused(), this.paused;
  }
  destroy() {
    this.removeAllListeners();
  }
}
let YB = 0;
const Dm = class extends nr {
  constructor(r) {
    super(), (this.id = YB++), this.init(r);
  }
  set(r, e) {
    if (this[r] === void 0)
      throw new Error(`Property with name ${r} does not exist.`);
    switch (r) {
      case "speed":
        this.speed = e;
        break;
      case "volume":
        this.volume = e;
        break;
      case "paused":
        this.paused = e;
        break;
      case "loop":
        this.loop = e;
        break;
      case "muted":
        this.muted = e;
        break;
    }
    return this;
  }
  get progress() {
    const { currentTime: r } = this._source;
    return r / this._duration;
  }
  get paused() {
    return this._paused;
  }
  set paused(r) {
    (this._paused = r), this.refreshPaused();
  }
  _onPlay() {
    this._playing = !0;
  }
  _onPause() {
    this._playing = !1;
  }
  init(r) {
    (this._playing = !1), (this._duration = r.source.duration);
    const e = (this._source = r.source.cloneNode(!1));
    (e.src = r.parent.url),
      (e.onplay = this._onPlay.bind(this)),
      (e.onpause = this._onPause.bind(this)),
      r.context.on("refresh", this.refresh, this),
      r.context.on("refreshPaused", this.refreshPaused, this),
      (this._media = r);
  }
  _internalStop() {
    this._source &&
      this._playing &&
      ((this._source.onended = null), this._source.pause());
  }
  stop() {
    this._internalStop(), this._source && this.emit("stop");
  }
  get speed() {
    return this._speed;
  }
  set speed(r) {
    (this._speed = r), this.refresh();
  }
  get volume() {
    return this._volume;
  }
  set volume(r) {
    (this._volume = r), this.refresh();
  }
  get loop() {
    return this._loop;
  }
  set loop(r) {
    (this._loop = r), this.refresh();
  }
  get muted() {
    return this._muted;
  }
  set muted(r) {
    (this._muted = r), this.refresh();
  }
  get filters() {
    return console.warn("HTML Audio does not support filters"), null;
  }
  set filters(r) {
    console.warn("HTML Audio does not support filters");
  }
  refresh() {
    const r = this._media.context,
      e = this._media.parent;
    this._source.loop = this._loop || e.loop;
    const t = r.volume * (r.muted ? 0 : 1),
      s = e.volume * (e.muted ? 0 : 1),
      n = this._volume * (this._muted ? 0 : 1);
    (this._source.volume = n * t * s),
      (this._source.playbackRate = this._speed * r.speed * e.speed);
  }
  refreshPaused() {
    const r = this._media.context,
      e = this._media.parent,
      t = this._paused || e.paused || r.paused;
    t !== this._pausedReal &&
      ((this._pausedReal = t),
      t
        ? (this._internalStop(), this.emit("paused"))
        : (this.emit("resumed"),
          this.play({
            start: this._source.currentTime,
            end: this._end,
            volume: this._volume,
            speed: this._speed,
            loop: this._loop,
          })),
      this.emit("pause", t));
  }
  play(r) {
    const { start: e, end: t, speed: s, loop: n, volume: i, muted: l } = r;
    t && console.assert(t > e, "End time is before start time"),
      (this._speed = s),
      (this._volume = i),
      (this._loop = !!n),
      (this._muted = l),
      this.refresh(),
      this.loop &&
        t !== null &&
        (console.warn('Looping not support when specifying an "end" time'),
        (this.loop = !1)),
      (this._start = e),
      (this._end = t || this._duration),
      (this._start = Math.max(0, this._start - Dm.PADDING)),
      (this._end = Math.min(this._end + Dm.PADDING, this._duration)),
      (this._source.onloadedmetadata = () => {
        this._source &&
          ((this._source.currentTime = e),
          (this._source.onloadedmetadata = null),
          this.emit("progress", e / this._duration, this._duration),
          cr.shared.add(this._onUpdate, this));
      }),
      (this._source.onended = this._onComplete.bind(this)),
      this._source.play(),
      this.emit("start");
  }
  _onUpdate() {
    this.emit("progress", this.progress, this._duration),
      this._source.currentTime >= this._end &&
        !this._source.loop &&
        this._onComplete();
  }
  _onComplete() {
    cr.shared.remove(this._onUpdate, this),
      this._internalStop(),
      this.emit("progress", 1, this._duration),
      this.emit("end", this);
  }
  destroy() {
    cr.shared.remove(this._onUpdate, this), this.removeAllListeners();
    const r = this._source;
    r &&
      ((r.onended = null),
      (r.onplay = null),
      (r.onpause = null),
      this._internalStop()),
      (this._source = null),
      (this._speed = 1),
      (this._volume = 1),
      (this._loop = !1),
      (this._end = null),
      (this._start = 0),
      (this._duration = 0),
      (this._playing = !1),
      (this._pausedReal = !1),
      (this._paused = !1),
      (this._muted = !1),
      this._media &&
        (this._media.context.off("refresh", this.refresh, this),
        this._media.context.off("refreshPaused", this.refreshPaused, this),
        (this._media = null));
  }
  toString() {
    return `[HTMLAudioInstance id=${this.id}]`;
  }
};
let tT = Dm;
tT.PADDING = 0.1;
class KB extends nr {
  init(e) {
    (this.parent = e),
      (this._source = e.options.source || new Audio()),
      e.url && (this._source.src = e.url);
  }
  create() {
    return new tT(this);
  }
  get isPlayable() {
    return !!this._source && this._source.readyState === 4;
  }
  get duration() {
    return this._source.duration;
  }
  get context() {
    return this.parent.context;
  }
  get filters() {
    return null;
  }
  set filters(e) {
    console.warn("HTML Audio does not support filters");
  }
  destroy() {
    this.removeAllListeners(),
      (this.parent = null),
      this._source &&
        ((this._source.src = ""), this._source.load(), (this._source = null));
  }
  get source() {
    return this._source;
  }
  load(e) {
    const t = this._source,
      s = this.parent;
    if (t.readyState === 4) {
      s.isLoaded = !0;
      const d = s.autoPlayStart();
      e &&
        setTimeout(() => {
          e(null, s, d);
        }, 0);
      return;
    }
    if (!s.url) {
      e(new Error("sound.url or sound.source must be set"));
      return;
    }
    t.src = s.url;
    const n = () => {
        c(), (s.isLoaded = !0);
        const d = s.autoPlayStart();
        e && e(null, s, d);
      },
      i = () => {
        c(), e && e(new Error("Sound loading has been aborted"));
      },
      l = () => {
        c();
        const d = `Failed to load audio element (code: ${t.error.code})`;
        e ? e(new Error(d)) : console.error(d);
      },
      c = () => {
        t.removeEventListener("canplaythrough", n),
          t.removeEventListener("load", n),
          t.removeEventListener("abort", i),
          t.removeEventListener("error", l);
      };
    t.addEventListener("canplaythrough", n, !1),
      t.addEventListener("load", n, !1),
      t.addEventListener("abort", i, !1),
      t.addEventListener("error", l, !1),
      t.load();
  }
}
class QB {
  constructor(e, t) {
    (this.parent = e),
      Object.assign(this, t),
      (this.duration = this.end - this.start),
      console.assert(this.duration > 0, "End time must be after start time");
  }
  play(e) {
    return this.parent.play({
      complete: e,
      speed: this.speed || this.parent.speed,
      end: this.end,
      start: this.start,
      loop: this.loop,
    });
  }
  destroy() {
    this.parent = null;
  }
}
const Cu = [
    "ogg",
    "oga",
    "opus",
    "m4a",
    "mp3",
    "mpeg",
    "wav",
    "aiff",
    "wma",
    "mid",
    "caf",
  ],
  ZB = ["audio/mpeg", "audio/ogg"],
  Tu = {};
function JB(r) {
  const e = {
      m4a: "audio/mp4",
      oga: "audio/ogg",
      opus: 'audio/ogg; codecs="opus"',
      caf: 'audio/x-caf; codecs="opus"',
    },
    t = document.createElement("audio"),
    s = {},
    n = /^no$/;
  Cu.forEach((i) => {
    const l = t.canPlayType(`audio/${i}`).replace(n, ""),
      c = e[i] ? t.canPlayType(e[i]).replace(n, "") : "";
    s[i] = !!l || !!c;
  }),
    Object.assign(Tu, s);
}
JB();
let eF = 0;
class tF extends nr {
  constructor(e) {
    super(),
      (this.id = eF++),
      (this._media = null),
      (this._paused = !1),
      (this._muted = !1),
      (this._elapsed = 0),
      this.init(e);
  }
  set(e, t) {
    if (this[e] === void 0)
      throw new Error(`Property with name ${e} does not exist.`);
    switch (e) {
      case "speed":
        this.speed = t;
        break;
      case "volume":
        this.volume = t;
        break;
      case "muted":
        this.muted = t;
        break;
      case "loop":
        this.loop = t;
        break;
      case "paused":
        this.paused = t;
        break;
    }
    return this;
  }
  stop() {
    this._source && (this._internalStop(), this.emit("stop"));
  }
  get speed() {
    return this._speed;
  }
  set speed(e) {
    (this._speed = e), this.refresh(), this._update(!0);
  }
  get volume() {
    return this._volume;
  }
  set volume(e) {
    (this._volume = e), this.refresh();
  }
  get muted() {
    return this._muted;
  }
  set muted(e) {
    (this._muted = e), this.refresh();
  }
  get loop() {
    return this._loop;
  }
  set loop(e) {
    (this._loop = e), this.refresh();
  }
  get filters() {
    return this._filters;
  }
  set filters(e) {
    this._filters &&
      (this._filters?.filter((t) => t).forEach((t) => t.disconnect()),
      (this._filters = null),
      this._source.connect(this._gain)),
      (this._filters = e?.length ? e.slice(0) : null),
      this.refresh();
  }
  refresh() {
    if (!this._source) return;
    const e = this._media.context,
      t = this._media.parent;
    this._source.loop = this._loop || t.loop;
    const s = e.volume * (e.muted ? 0 : 1),
      n = t.volume * (t.muted ? 0 : 1),
      i = this._volume * (this._muted ? 0 : 1);
    Lm.setParamValue(this._gain.gain, i * n * s),
      Lm.setParamValue(
        this._source.playbackRate,
        this._speed * t.speed * e.speed
      ),
      this.applyFilters();
  }
  applyFilters() {
    if (this._filters?.length) {
      this._source.disconnect();
      let e = this._source;
      this._filters.forEach((t) => {
        e.connect(t.destination), (e = t);
      }),
        e.connect(this._gain);
    }
  }
  refreshPaused() {
    const e = this._media.context,
      t = this._media.parent,
      s = this._paused || t.paused || e.paused;
    s !== this._pausedReal &&
      ((this._pausedReal = s),
      s
        ? (this._internalStop(), this.emit("paused"))
        : (this.emit("resumed"),
          this.play({
            start: this._elapsed % this._duration,
            end: this._end,
            speed: this._speed,
            loop: this._loop,
            volume: this._volume,
          })),
      this.emit("pause", s));
  }
  play(e) {
    const {
      start: t,
      end: s,
      speed: n,
      loop: i,
      volume: l,
      muted: c,
      filters: d,
    } = e;
    s && console.assert(s > t, "End time is before start time"),
      (this._paused = !1);
    const { source: f, gain: m } = this._media.nodes.cloneBufferSource();
    (this._source = f),
      (this._gain = m),
      (this._speed = n),
      (this._volume = l),
      (this._loop = !!i),
      (this._muted = c),
      (this._filters = d),
      this.refresh();
    const h = this._source.buffer.duration;
    (this._duration = h),
      (this._end = s),
      (this._lastUpdate = this._now()),
      (this._elapsed = t),
      (this._source.onended = this._onComplete.bind(this)),
      this._loop
        ? ((this._source.loopEnd = s),
          (this._source.loopStart = t),
          this._source.start(0, t))
        : s
        ? this._source.start(0, t, s - t)
        : this._source.start(0, t),
      this.emit("start"),
      this._update(!0),
      this.enableTicker(!0);
  }
  enableTicker(e) {
    cr.shared.remove(this._updateListener, this),
      e && cr.shared.add(this._updateListener, this);
  }
  get progress() {
    return this._progress;
  }
  get paused() {
    return this._paused;
  }
  set paused(e) {
    (this._paused = e), this.refreshPaused();
  }
  destroy() {
    this.removeAllListeners(),
      this._internalStop(),
      this._gain && (this._gain.disconnect(), (this._gain = null)),
      this._media &&
        (this._media.context.events.off("refresh", this.refresh, this),
        this._media.context.events.off(
          "refreshPaused",
          this.refreshPaused,
          this
        ),
        (this._media = null)),
      this._filters?.forEach((e) => e.disconnect()),
      (this._filters = null),
      (this._end = null),
      (this._speed = 1),
      (this._volume = 1),
      (this._loop = !1),
      (this._elapsed = 0),
      (this._duration = 0),
      (this._paused = !1),
      (this._muted = !1),
      (this._pausedReal = !1);
  }
  toString() {
    return `[WebAudioInstance id=${this.id}]`;
  }
  _now() {
    return this._media.context.audioContext.currentTime;
  }
  _updateListener() {
    this._update();
  }
  _update(e = !1) {
    if (this._source) {
      const t = this._now(),
        s = t - this._lastUpdate;
      if (s > 0 || e) {
        const n = this._source.playbackRate.value;
        (this._elapsed += s * n), (this._lastUpdate = t);
        const i = this._duration;
        let l;
        if (this._source.loopStart) {
          const c = this._source.loopEnd - this._source.loopStart;
          l = (this._source.loopStart + (this._elapsed % c)) / i;
        } else l = (this._elapsed % i) / i;
        (this._progress = l), this.emit("progress", this._progress, i);
      }
    }
  }
  init(e) {
    (this._media = e),
      e.context.events.on("refresh", this.refresh, this),
      e.context.events.on("refreshPaused", this.refreshPaused, this);
  }
  _internalStop() {
    if (this._source) {
      this.enableTicker(!1),
        (this._source.onended = null),
        this._source.stop(0),
        this._source.disconnect();
      try {
        this._source.buffer = null;
      } catch (e) {
        console.warn("Failed to set AudioBufferSourceNode.buffer to null:", e);
      }
      this._source = null;
    }
  }
  _onComplete() {
    if (this._source) {
      this.enableTicker(!1),
        (this._source.onended = null),
        this._source.disconnect();
      try {
        this._source.buffer = null;
      } catch (e) {
        console.warn("Failed to set AudioBufferSourceNode.buffer to null:", e);
      }
    }
    (this._source = null),
      (this._progress = 1),
      this.emit("progress", 1, this._duration),
      this.emit("end", this);
  }
}
class rT {
  constructor(e, t) {
    (this._output = t), (this._input = e);
  }
  get destination() {
    return this._input;
  }
  get filters() {
    return this._filters;
  }
  set filters(e) {
    if (
      (this._filters &&
        (this._filters.forEach((t) => {
          t && t.disconnect();
        }),
        (this._filters = null),
        this._input.connect(this._output)),
      e && e.length)
    ) {
      (this._filters = e.slice(0)), this._input.disconnect();
      let t = null;
      e.forEach((s) => {
        t === null
          ? this._input.connect(s.destination)
          : t.connect(s.destination),
          (t = s);
      }),
        t.connect(this._output);
    }
  }
  destroy() {
    (this.filters = null), (this._input = null), (this._output = null);
  }
}
const sT = class extends rT {
  constructor(r) {
    const e = r.audioContext,
      t = e.createBufferSource(),
      s = e.createGain(),
      n = e.createAnalyser();
    t.connect(n),
      n.connect(s),
      s.connect(r.destination),
      super(n, s),
      (this.context = r),
      (this.bufferSource = t),
      (this.gain = s),
      (this.analyser = n);
  }
  get script() {
    return (
      this._script ||
        ((this._script = this.context.audioContext.createScriptProcessor(
          sT.BUFFER_SIZE
        )),
        this._script.connect(this.context.destination)),
      this._script
    );
  }
  destroy() {
    super.destroy(),
      this.bufferSource.disconnect(),
      this._script && this._script.disconnect(),
      this.gain.disconnect(),
      this.analyser.disconnect(),
      (this.bufferSource = null),
      (this._script = null),
      (this.gain = null),
      (this.analyser = null),
      (this.context = null);
  }
  cloneBufferSource() {
    const r = this.bufferSource,
      e = this.context.audioContext.createBufferSource();
    (e.buffer = r.buffer),
      Lm.setParamValue(e.playbackRate, r.playbackRate.value),
      (e.loop = r.loop);
    const t = this.context.audioContext.createGain();
    return e.connect(t), t.connect(this.destination), { source: e, gain: t };
  }
  get bufferSize() {
    return this.script.bufferSize;
  }
};
let nT = sT;
nT.BUFFER_SIZE = 0;
class rF {
  init(e) {
    (this.parent = e),
      (this._nodes = new nT(this.context)),
      (this._source = this._nodes.bufferSource),
      (this.source = e.options.source);
  }
  destroy() {
    (this.parent = null), this._nodes.destroy(), (this._nodes = null);
    try {
      this._source.buffer = null;
    } catch (e) {
      console.warn("Failed to set AudioBufferSourceNode.buffer to null:", e);
    }
    (this._source = null), (this.source = null);
  }
  create() {
    return new tF(this);
  }
  get context() {
    return this.parent.context;
  }
  get isPlayable() {
    return !!this._source && !!this._source.buffer;
  }
  get filters() {
    return this._nodes.filters;
  }
  set filters(e) {
    this._nodes.filters = e;
  }
  get duration() {
    return (
      console.assert(this.isPlayable, "Sound not yet playable, no duration"),
      this._source.buffer.duration
    );
  }
  get buffer() {
    return this._source.buffer;
  }
  set buffer(e) {
    this._source.buffer = e;
  }
  get nodes() {
    return this._nodes;
  }
  load(e) {
    this.source
      ? this._decode(this.source, e)
      : this.parent.url
      ? this._loadUrl(e)
      : e
      ? e(new Error("sound.url or sound.source must be set"))
      : console.error("sound.url or sound.source must be set");
  }
  async _loadUrl(e) {
    const t = this.parent.url,
      s = await Ke.get().fetch(t);
    this._decode(await s.arrayBuffer(), e);
  }
  _decode(e, t) {
    const s = (n, i) => {
      if (n) t && t(n);
      else {
        (this.parent.isLoaded = !0), (this.buffer = i);
        const l = this.parent.autoPlayStart();
        t && t(null, this.parent, l);
      }
    };
    e instanceof AudioBuffer ? s(null, e) : this.parent.context.decode(e, s);
  }
}
const fa = class {
  static from(r) {
    let e = {};
    typeof r == "string"
      ? (e.url = r)
      : r instanceof ArrayBuffer ||
        r instanceof AudioBuffer ||
        r instanceof HTMLAudioElement
      ? (e.source = r)
      : Array.isArray(r)
      ? (e.url = r)
      : (e = r),
      (e = {
        autoPlay: !1,
        singleInstance: !1,
        url: null,
        source: null,
        preload: !1,
        volume: 1,
        speed: 1,
        complete: null,
        loaded: null,
        loop: !1,
        ...e,
      }),
      Object.freeze(e);
    const t = al().useLegacy ? new KB() : new rF();
    return new fa(t, e);
  }
  constructor(r, e) {
    (this.media = r),
      (this.options = e),
      (this._instances = []),
      (this._sprites = {}),
      this.media.init(this);
    const t = e.complete;
    (this._autoPlayOptions = t ? { complete: t } : null),
      (this.isLoaded = !1),
      (this._preloadQueue = null),
      (this.isPlaying = !1),
      (this.autoPlay = e.autoPlay),
      (this.singleInstance = e.singleInstance),
      (this.preload = e.preload || this.autoPlay),
      (this.url = Array.isArray(e.url) ? this.preferUrl(e.url) : e.url),
      (this.speed = e.speed),
      (this.volume = e.volume),
      (this.loop = e.loop),
      e.sprites && this.addSprites(e.sprites),
      this.preload && this._preload(e.loaded);
  }
  preferUrl(r) {
    const [e] = r
      .map((t) => ({ url: t, ext: dr.extname(t).slice(1) }))
      .filter(({ ext: t }) => Tu[t])
      .sort((t, s) => Cu.indexOf(t.ext) - Cu.indexOf(s.ext));
    if (!e) throw new Error("No supported file type found");
    return e.url;
  }
  get context() {
    return al().context;
  }
  pause() {
    return (this.isPlaying = !1), (this.paused = !0), this;
  }
  resume() {
    return (
      (this.isPlaying = this._instances.length > 0), (this.paused = !1), this
    );
  }
  get paused() {
    return this._paused;
  }
  set paused(r) {
    (this._paused = r), this.refreshPaused();
  }
  get speed() {
    return this._speed;
  }
  set speed(r) {
    (this._speed = r), this.refresh();
  }
  get filters() {
    return this.media.filters;
  }
  set filters(r) {
    this.media.filters = r;
  }
  addSprites(r, e) {
    if (typeof r == "object") {
      const s = {};
      for (const n in r) s[n] = this.addSprites(n, r[n]);
      return s;
    }
    console.assert(!this._sprites[r], `Alias ${r} is already taken`);
    const t = new QB(this, e);
    return (this._sprites[r] = t), t;
  }
  destroy() {
    this._removeInstances(),
      this.removeSprites(),
      this.media.destroy(),
      (this.media = null),
      (this._sprites = null),
      (this._instances = null);
  }
  removeSprites(r) {
    if (r) {
      const e = this._sprites[r];
      e !== void 0 && (e.destroy(), delete this._sprites[r]);
    } else for (const e in this._sprites) this.removeSprites(e);
    return this;
  }
  get isPlayable() {
    return this.isLoaded && this.media && this.media.isPlayable;
  }
  stop() {
    if (!this.isPlayable)
      return (this.autoPlay = !1), (this._autoPlayOptions = null), this;
    this.isPlaying = !1;
    for (let r = this._instances.length - 1; r >= 0; r--)
      this._instances[r].stop();
    return this;
  }
  play(r, e) {
    let t;
    if (
      (typeof r == "string"
        ? (t = { sprite: r, loop: this.loop, complete: e })
        : typeof r == "function"
        ? ((t = {}), (t.complete = r))
        : (t = r),
      (t = {
        complete: null,
        loaded: null,
        sprite: null,
        end: null,
        start: 0,
        volume: 1,
        speed: 1,
        muted: !1,
        loop: !1,
        ...(t || {}),
      }),
      t.sprite)
    ) {
      const n = t.sprite;
      console.assert(!!this._sprites[n], `Alias ${n} is not available`);
      const i = this._sprites[n];
      (t.start = i.start + (t.start || 0)),
        (t.end = i.end),
        (t.speed = i.speed || 1),
        (t.loop = i.loop || t.loop),
        delete t.sprite;
    }
    if ((t.offset && (t.start = t.offset), !this.isLoaded))
      return this._preloadQueue
        ? new Promise((n) => {
            this._preloadQueue.push(() => {
              n(this.play(t));
            });
          })
        : ((this._preloadQueue = []),
          (this.autoPlay = !0),
          (this._autoPlayOptions = t),
          new Promise((n, i) => {
            this._preload((l, c, d) => {
              this._preloadQueue.forEach((f) => f()),
                (this._preloadQueue = null),
                l ? i(l) : (t.loaded && t.loaded(l, c, d), n(d));
            });
          }));
    (this.singleInstance || t.singleInstance) && this._removeInstances();
    const s = this._createInstance();
    return (
      this._instances.push(s),
      (this.isPlaying = !0),
      s.once("end", () => {
        t.complete && t.complete(this), this._onComplete(s);
      }),
      s.once("stop", () => {
        this._onComplete(s);
      }),
      s.play(t),
      s
    );
  }
  refresh() {
    const r = this._instances.length;
    for (let e = 0; e < r; e++) this._instances[e].refresh();
  }
  refreshPaused() {
    const r = this._instances.length;
    for (let e = 0; e < r; e++) this._instances[e].refreshPaused();
  }
  get volume() {
    return this._volume;
  }
  set volume(r) {
    (this._volume = r), this.refresh();
  }
  get muted() {
    return this._muted;
  }
  set muted(r) {
    (this._muted = r), this.refresh();
  }
  get loop() {
    return this._loop;
  }
  set loop(r) {
    (this._loop = r), this.refresh();
  }
  _preload(r) {
    this.media.load(r);
  }
  get instances() {
    return this._instances;
  }
  get sprites() {
    return this._sprites;
  }
  get duration() {
    return this.media.duration;
  }
  autoPlayStart() {
    let r;
    return this.autoPlay && (r = this.play(this._autoPlayOptions)), r;
  }
  _removeInstances() {
    for (let r = this._instances.length - 1; r >= 0; r--)
      this._poolInstance(this._instances[r]);
    this._instances.length = 0;
  }
  _onComplete(r) {
    if (this._instances) {
      const e = this._instances.indexOf(r);
      e > -1 && this._instances.splice(e, 1),
        (this.isPlaying = this._instances.length > 0);
    }
    this._poolInstance(r);
  }
  _createInstance() {
    if (fa._pool.length > 0) {
      const r = fa._pool.pop();
      return r.init(this.media), r;
    }
    return this.media.create();
  }
  _poolInstance(r) {
    r.destroy(), fa._pool.indexOf(r) < 0 && fa._pool.push(r);
  }
};
let Eu = fa;
Eu._pool = [];
class ol extends rT {
  constructor() {
    const e = window,
      t = new ol.AudioContext(),
      s = t.createDynamicsCompressor(),
      n = t.createAnalyser();
    n.connect(s),
      s.connect(t.destination),
      super(n, s),
      (this.autoPause = !0),
      (this._ctx = t),
      (this._offlineCtx = new ol.OfflineAudioContext(
        1,
        2,
        e.OfflineAudioContext
          ? Math.max(8e3, Math.min(96e3, t.sampleRate))
          : 44100
      )),
      (this.compressor = s),
      (this.analyser = n),
      (this.events = new nr()),
      (this.volume = 1),
      (this.speed = 1),
      (this.muted = !1),
      (this.paused = !1),
      (this._locked =
        t.state === "suspended" &&
        ("ontouchstart" in globalThis || "onclick" in globalThis)),
      this._locked &&
        (this._unlock(),
        (this._unlock = this._unlock.bind(this)),
        document.addEventListener("mousedown", this._unlock, !0),
        document.addEventListener("touchstart", this._unlock, !0),
        document.addEventListener("touchend", this._unlock, !0)),
      (this.onFocus = this.onFocus.bind(this)),
      (this.onBlur = this.onBlur.bind(this)),
      globalThis.addEventListener("focus", this.onFocus),
      globalThis.addEventListener("blur", this.onBlur);
  }
  onFocus() {
    if (!this.autoPause) return;
    const e = this._ctx.state;
    (e === "suspended" || e === "interrupted" || !this._locked) &&
      ((this.paused = this._pausedOnBlur), this.refreshPaused());
  }
  onBlur() {
    this.autoPause &&
      (this._locked ||
        ((this._pausedOnBlur = this._paused),
        (this.paused = !0),
        this.refreshPaused()));
  }
  _unlock() {
    this._locked &&
      (this.playEmptySound(),
      this._ctx.state === "running" &&
        (document.removeEventListener("mousedown", this._unlock, !0),
        document.removeEventListener("touchend", this._unlock, !0),
        document.removeEventListener("touchstart", this._unlock, !0),
        (this._locked = !1)));
  }
  playEmptySound() {
    const e = this._ctx.createBufferSource();
    (e.buffer = this._ctx.createBuffer(1, 1, 22050)),
      e.connect(this._ctx.destination),
      e.start(0, 0, 0),
      e.context.state === "suspended" && e.context.resume();
  }
  static get AudioContext() {
    const e = window;
    return e.AudioContext || e.webkitAudioContext || null;
  }
  static get OfflineAudioContext() {
    const e = window;
    return e.OfflineAudioContext || e.webkitOfflineAudioContext || null;
  }
  destroy() {
    super.destroy();
    const e = this._ctx;
    typeof e.close < "u" && e.close(),
      globalThis.removeEventListener("focus", this.onFocus),
      globalThis.removeEventListener("blur", this.onBlur),
      this.events.removeAllListeners(),
      this.analyser.disconnect(),
      this.compressor.disconnect(),
      (this.analyser = null),
      (this.compressor = null),
      (this.events = null),
      (this._offlineCtx = null),
      (this._ctx = null);
  }
  get audioContext() {
    return this._ctx;
  }
  get offlineContext() {
    return this._offlineCtx;
  }
  set paused(e) {
    e && this._ctx.state === "running"
      ? this._ctx.suspend()
      : !e && this._ctx.state === "suspended" && this._ctx.resume(),
      (this._paused = e);
  }
  get paused() {
    return this._paused;
  }
  refresh() {
    this.events.emit("refresh");
  }
  refreshPaused() {
    this.events.emit("refreshPaused");
  }
  toggleMute() {
    return (this.muted = !this.muted), this.refresh(), this.muted;
  }
  togglePause() {
    return (this.paused = !this.paused), this.refreshPaused(), this._paused;
  }
  decode(e, t) {
    const s = (i) => {
        t(new Error(i?.message || "Unable to decode file"));
      },
      n = this._offlineCtx.decodeAudioData(
        e,
        (i) => {
          t(null, i);
        },
        s
      );
    n && n.catch(s);
  }
}
class sF {
  constructor() {
    this.init();
  }
  init() {
    return (
      this.supported && (this._webAudioContext = new ol()),
      (this._htmlAudioContext = new XB()),
      (this._sounds = {}),
      (this.useLegacy = !this.supported),
      this
    );
  }
  get context() {
    return this._context;
  }
  get filtersAll() {
    return this.useLegacy ? [] : this._context.filters;
  }
  set filtersAll(e) {
    this.useLegacy || (this._context.filters = e);
  }
  get supported() {
    return ol.AudioContext !== null;
  }
  add(e, t) {
    if (typeof e == "object") {
      const i = {};
      for (const l in e) {
        const c = this._getOptions(e[l], t);
        i[l] = this.add(l, c);
      }
      return i;
    }
    if (
      (console.assert(
        !this._sounds[e],
        `Sound with alias ${e} already exists.`
      ),
      t instanceof Eu)
    )
      return (this._sounds[e] = t), t;
    const s = this._getOptions(t),
      n = Eu.from(s);
    return (this._sounds[e] = n), n;
  }
  _getOptions(e, t) {
    let s;
    return (
      typeof e == "string"
        ? (s = { url: e })
        : Array.isArray(e)
        ? (s = { url: e })
        : e instanceof ArrayBuffer ||
          e instanceof AudioBuffer ||
          e instanceof HTMLAudioElement
        ? (s = { source: e })
        : (s = e),
      (s = { ...s, ...(t || {}) }),
      s
    );
  }
  get useLegacy() {
    return this._useLegacy;
  }
  set useLegacy(e) {
    (this._useLegacy = e),
      (this._context =
        !e && this.supported ? this._webAudioContext : this._htmlAudioContext);
  }
  get disableAutoPause() {
    return !this._webAudioContext.autoPause;
  }
  set disableAutoPause(e) {
    this._webAudioContext.autoPause = !e;
  }
  remove(e) {
    return (
      this.exists(e, !0),
      this._sounds[e].destroy(),
      delete this._sounds[e],
      this
    );
  }
  get volumeAll() {
    return this._context.volume;
  }
  set volumeAll(e) {
    (this._context.volume = e), this._context.refresh();
  }
  get speedAll() {
    return this._context.speed;
  }
  set speedAll(e) {
    (this._context.speed = e), this._context.refresh();
  }
  togglePauseAll() {
    return this._context.togglePause();
  }
  pauseAll() {
    return (this._context.paused = !0), this._context.refreshPaused(), this;
  }
  resumeAll() {
    return (this._context.paused = !1), this._context.refreshPaused(), this;
  }
  toggleMuteAll() {
    return this._context.toggleMute();
  }
  muteAll() {
    return (this._context.muted = !0), this._context.refresh(), this;
  }
  unmuteAll() {
    return (this._context.muted = !1), this._context.refresh(), this;
  }
  removeAll() {
    for (const e in this._sounds)
      this._sounds[e].destroy(), delete this._sounds[e];
    return this;
  }
  stopAll() {
    for (const e in this._sounds) this._sounds[e].stop();
    return this;
  }
  exists(e, t = !1) {
    const s = !!this._sounds[e];
    return t && console.assert(s, `No sound matching alias '${e}'.`), s;
  }
  isPlaying() {
    for (const e in this._sounds) if (this._sounds[e].isPlaying) return !0;
    return !1;
  }
  find(e) {
    return this.exists(e, !0), this._sounds[e];
  }
  play(e, t) {
    return this.find(e).play(t);
  }
  stop(e) {
    return this.find(e).stop();
  }
  pause(e) {
    return this.find(e).pause();
  }
  resume(e) {
    return this.find(e).resume();
  }
  volume(e, t) {
    const s = this.find(e);
    return t !== void 0 && (s.volume = t), s.volume;
  }
  speed(e, t) {
    const s = this.find(e);
    return t !== void 0 && (s.speed = t), s.speed;
  }
  duration(e) {
    return this.find(e).duration;
  }
  close() {
    return (
      this.removeAll(),
      (this._sounds = null),
      this._webAudioContext &&
        (this._webAudioContext.destroy(), (this._webAudioContext = null)),
      this._htmlAudioContext &&
        (this._htmlAudioContext.destroy(), (this._htmlAudioContext = null)),
      (this._context = null),
      this
    );
  }
}
const Pb = (r) => {
    const e = r.src;
    let t = r?.alias?.[0];
    return (!t || r.src === t) && (t = dr.basename(e, dr.extname(e))), t;
  },
  nF = {
    extension: D.Asset,
    detection: {
      test: async () => !0,
      add: async (r) => [...r, ...Cu.filter((e) => Tu[e])],
      remove: async (r) => r.filter((e) => r.includes(e)),
    },
    loader: {
      name: "sound",
      extension: { type: [D.LoadParser], priority: pn.High },
      test(r) {
        const e = dr.extname(r).slice(1);
        return !!Tu[e] || ZB.some((t) => r.startsWith(`data:${t}`));
      },
      async load(r, e) {
        const t = await new Promise((s, n) =>
          Eu.from({
            ...e.data,
            url: r,
            preload: !0,
            loaded(i, l) {
              i ? n(i) : s(l), e.data?.loaded?.(i, l);
            },
          })
        );
        return al().add(Pb(e), t), t;
      },
      async unload(r, e) {
        al().remove(Pb(e));
      },
    },
  };
Ie.add(nF);
qB(new sF());
var Kc = {},
  jp = { exports: {} },
  Br = {},
  kp = { exports: {} },
  Pp = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Ab;
function iF() {
  return (
    Ab ||
      ((Ab = 1),
      (function (r) {
        function e(Y, re) {
          var J = Y.length;
          Y.push(re);
          e: for (; 0 < J; ) {
            var F = (J - 1) >>> 1,
              W = Y[F];
            if (0 < n(W, re)) (Y[F] = re), (Y[J] = W), (J = F);
            else break e;
          }
        }
        function t(Y) {
          return Y.length === 0 ? null : Y[0];
        }
        function s(Y) {
          if (Y.length === 0) return null;
          var re = Y[0],
            J = Y.pop();
          if (J !== re) {
            Y[0] = J;
            e: for (var F = 0, W = Y.length, te = W >>> 1; F < te; ) {
              var de = 2 * (F + 1) - 1,
                ne = Y[de],
                ue = de + 1,
                ae = Y[ue];
              if (0 > n(ne, J))
                ue < W && 0 > n(ae, ne)
                  ? ((Y[F] = ae), (Y[ue] = J), (F = ue))
                  : ((Y[F] = ne), (Y[de] = J), (F = de));
              else if (ue < W && 0 > n(ae, J))
                (Y[F] = ae), (Y[ue] = J), (F = ue);
              else break e;
            }
          }
          return re;
        }
        function n(Y, re) {
          var J = Y.sortIndex - re.sortIndex;
          return J !== 0 ? J : Y.id - re.id;
        }
        if (
          typeof performance == "object" &&
          typeof performance.now == "function"
        ) {
          var i = performance;
          r.unstable_now = function () {
            return i.now();
          };
        } else {
          var l = Date,
            c = l.now();
          r.unstable_now = function () {
            return l.now() - c;
          };
        }
        var d = [],
          f = [],
          m = 1,
          h = null,
          g = 3,
          x = !1,
          v = !1,
          w = !1,
          _ = typeof setTimeout == "function" ? setTimeout : null,
          S = typeof clearTimeout == "function" ? clearTimeout : null,
          T = typeof setImmediate < "u" ? setImmediate : null;
        typeof navigator < "u" &&
          navigator.scheduling !== void 0 &&
          navigator.scheduling.isInputPending !== void 0 &&
          navigator.scheduling.isInputPending.bind(navigator.scheduling);
        function j(Y) {
          for (var re = t(f); re !== null; ) {
            if (re.callback === null) s(f);
            else if (re.startTime <= Y)
              s(f), (re.sortIndex = re.expirationTime), e(d, re);
            else break;
            re = t(f);
          }
        }
        function E(Y) {
          if (((w = !1), j(Y), !v))
            if (t(d) !== null) (v = !0), se(A);
            else {
              var re = t(f);
              re !== null && ie(E, re.startTime - Y);
            }
        }
        function A(Y, re) {
          (v = !1), w && ((w = !1), S(R), (R = -1)), (x = !0);
          var J = g;
          try {
            for (
              j(re), h = t(d);
              h !== null && (!(h.expirationTime > re) || (Y && !q()));

            ) {
              var F = h.callback;
              if (typeof F == "function") {
                (h.callback = null), (g = h.priorityLevel);
                var W = F(h.expirationTime <= re);
                (re = r.unstable_now()),
                  typeof W == "function"
                    ? (h.callback = W)
                    : h === t(d) && s(d),
                  j(re);
              } else s(d);
              h = t(d);
            }
            if (h !== null) var te = !0;
            else {
              var de = t(f);
              de !== null && ie(E, de.startTime - re), (te = !1);
            }
            return te;
          } finally {
            (h = null), (g = J), (x = !1);
          }
        }
        var M = !1,
          N = null,
          R = -1,
          O = 5,
          U = -1;
        function q() {
          return !(r.unstable_now() - U < O);
        }
        function Q() {
          if (N !== null) {
            var Y = r.unstable_now();
            U = Y;
            var re = !0;
            try {
              re = N(!0, Y);
            } finally {
              re ? z() : ((M = !1), (N = null));
            }
          } else M = !1;
        }
        var z;
        if (typeof T == "function")
          z = function () {
            T(Q);
          };
        else if (typeof MessageChannel < "u") {
          var Z = new MessageChannel(),
            pe = Z.port2;
          (Z.port1.onmessage = Q),
            (z = function () {
              pe.postMessage(null);
            });
        } else
          z = function () {
            _(Q, 0);
          };
        function se(Y) {
          (N = Y), M || ((M = !0), z());
        }
        function ie(Y, re) {
          R = _(function () {
            Y(r.unstable_now());
          }, re);
        }
        (r.unstable_IdlePriority = 5),
          (r.unstable_ImmediatePriority = 1),
          (r.unstable_LowPriority = 4),
          (r.unstable_NormalPriority = 3),
          (r.unstable_Profiling = null),
          (r.unstable_UserBlockingPriority = 2),
          (r.unstable_cancelCallback = function (Y) {
            Y.callback = null;
          }),
          (r.unstable_continueExecution = function () {
            v || x || ((v = !0), se(A));
          }),
          (r.unstable_forceFrameRate = function (Y) {
            0 > Y || 125 < Y
              ? console.error(
                  "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
                )
              : (O = 0 < Y ? Math.floor(1e3 / Y) : 5);
          }),
          (r.unstable_getCurrentPriorityLevel = function () {
            return g;
          }),
          (r.unstable_getFirstCallbackNode = function () {
            return t(d);
          }),
          (r.unstable_next = function (Y) {
            switch (g) {
              case 1:
              case 2:
              case 3:
                var re = 3;
                break;
              default:
                re = g;
            }
            var J = g;
            g = re;
            try {
              return Y();
            } finally {
              g = J;
            }
          }),
          (r.unstable_pauseExecution = function () {}),
          (r.unstable_requestPaint = function () {}),
          (r.unstable_runWithPriority = function (Y, re) {
            switch (Y) {
              case 1:
              case 2:
              case 3:
              case 4:
              case 5:
                break;
              default:
                Y = 3;
            }
            var J = g;
            g = Y;
            try {
              return re();
            } finally {
              g = J;
            }
          }),
          (r.unstable_scheduleCallback = function (Y, re, J) {
            var F = r.unstable_now();
            switch (
              (typeof J == "object" && J !== null
                ? ((J = J.delay),
                  (J = typeof J == "number" && 0 < J ? F + J : F))
                : (J = F),
              Y)
            ) {
              case 1:
                var W = -1;
                break;
              case 2:
                W = 250;
                break;
              case 5:
                W = 1073741823;
                break;
              case 4:
                W = 1e4;
                break;
              default:
                W = 5e3;
            }
            return (
              (W = J + W),
              (Y = {
                id: m++,
                callback: re,
                priorityLevel: Y,
                startTime: J,
                expirationTime: W,
                sortIndex: -1,
              }),
              J > F
                ? ((Y.sortIndex = J),
                  e(f, Y),
                  t(d) === null &&
                    Y === t(f) &&
                    (w ? (S(R), (R = -1)) : (w = !0), ie(E, J - F)))
                : ((Y.sortIndex = W), e(d, Y), v || x || ((v = !0), se(A))),
              Y
            );
          }),
          (r.unstable_shouldYield = q),
          (r.unstable_wrapCallback = function (Y) {
            var re = g;
            return function () {
              var J = g;
              g = re;
              try {
                return Y.apply(this, arguments);
              } finally {
                g = J;
              }
            };
          });
      })(Pp)),
    Pp
  );
}
var Mb;
function aF() {
  return Mb || ((Mb = 1), (kp.exports = iF())), kp.exports;
}
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Nb;
function oF() {
  if (Nb) return Br;
  Nb = 1;
  var r = Au(),
    e = aF();
  function t(o) {
    for (
      var u = "https://reactjs.org/docs/error-decoder.html?invariant=" + o,
        p = 1;
      p < arguments.length;
      p++
    )
      u += "&args[]=" + encodeURIComponent(arguments[p]);
    return (
      "Minified React error #" +
      o +
      "; visit " +
      u +
      " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
    );
  }
  var s = new Set(),
    n = {};
  function i(o, u) {
    l(o, u), l(o + "Capture", u);
  }
  function l(o, u) {
    for (n[o] = u, o = 0; o < u.length; o++) s.add(u[o]);
  }
  var c = !(
      typeof window > "u" ||
      typeof window.document > "u" ||
      typeof window.document.createElement > "u"
    ),
    d = Object.prototype.hasOwnProperty,
    f =
      /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
    m = {},
    h = {};
  function g(o) {
    return d.call(h, o)
      ? !0
      : d.call(m, o)
      ? !1
      : f.test(o)
      ? (h[o] = !0)
      : ((m[o] = !0), !1);
  }
  function x(o, u, p, y) {
    if (p !== null && p.type === 0) return !1;
    switch (typeof u) {
      case "function":
      case "symbol":
        return !0;
      case "boolean":
        return y
          ? !1
          : p !== null
          ? !p.acceptsBooleans
          : ((o = o.toLowerCase().slice(0, 5)), o !== "data-" && o !== "aria-");
      default:
        return !1;
    }
  }
  function v(o, u, p, y) {
    if (u === null || typeof u > "u" || x(o, u, p, y)) return !0;
    if (y) return !1;
    if (p !== null)
      switch (p.type) {
        case 3:
          return !u;
        case 4:
          return u === !1;
        case 5:
          return isNaN(u);
        case 6:
          return isNaN(u) || 1 > u;
      }
    return !1;
  }
  function w(o, u, p, y, b, C, P) {
    (this.acceptsBooleans = u === 2 || u === 3 || u === 4),
      (this.attributeName = y),
      (this.attributeNamespace = b),
      (this.mustUseProperty = p),
      (this.propertyName = o),
      (this.type = u),
      (this.sanitizeURL = C),
      (this.removeEmptyString = P);
  }
  var _ = {};
  "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
    .split(" ")
    .forEach(function (o) {
      _[o] = new w(o, 0, !1, o, null, !1, !1);
    }),
    [
      ["acceptCharset", "accept-charset"],
      ["className", "class"],
      ["htmlFor", "for"],
      ["httpEquiv", "http-equiv"],
    ].forEach(function (o) {
      var u = o[0];
      _[u] = new w(u, 1, !1, o[1], null, !1, !1);
    }),
    ["contentEditable", "draggable", "spellCheck", "value"].forEach(function (
      o
    ) {
      _[o] = new w(o, 2, !1, o.toLowerCase(), null, !1, !1);
    }),
    [
      "autoReverse",
      "externalResourcesRequired",
      "focusable",
      "preserveAlpha",
    ].forEach(function (o) {
      _[o] = new w(o, 2, !1, o, null, !1, !1);
    }),
    "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
      .split(" ")
      .forEach(function (o) {
        _[o] = new w(o, 3, !1, o.toLowerCase(), null, !1, !1);
      }),
    ["checked", "multiple", "muted", "selected"].forEach(function (o) {
      _[o] = new w(o, 3, !0, o, null, !1, !1);
    }),
    ["capture", "download"].forEach(function (o) {
      _[o] = new w(o, 4, !1, o, null, !1, !1);
    }),
    ["cols", "rows", "size", "span"].forEach(function (o) {
      _[o] = new w(o, 6, !1, o, null, !1, !1);
    }),
    ["rowSpan", "start"].forEach(function (o) {
      _[o] = new w(o, 5, !1, o.toLowerCase(), null, !1, !1);
    });
  var S = /[\-:]([a-z])/g;
  function T(o) {
    return o[1].toUpperCase();
  }
  "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
    .split(" ")
    .forEach(function (o) {
      var u = o.replace(S, T);
      _[u] = new w(u, 1, !1, o, null, !1, !1);
    }),
    "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
      .split(" ")
      .forEach(function (o) {
        var u = o.replace(S, T);
        _[u] = new w(u, 1, !1, o, "http://www.w3.org/1999/xlink", !1, !1);
      }),
    ["xml:base", "xml:lang", "xml:space"].forEach(function (o) {
      var u = o.replace(S, T);
      _[u] = new w(u, 1, !1, o, "http://www.w3.org/XML/1998/namespace", !1, !1);
    }),
    ["tabIndex", "crossOrigin"].forEach(function (o) {
      _[o] = new w(o, 1, !1, o.toLowerCase(), null, !1, !1);
    }),
    (_.xlinkHref = new w(
      "xlinkHref",
      1,
      !1,
      "xlink:href",
      "http://www.w3.org/1999/xlink",
      !0,
      !1
    )),
    ["src", "href", "action", "formAction"].forEach(function (o) {
      _[o] = new w(o, 1, !1, o.toLowerCase(), null, !0, !0);
    });
  function j(o, u, p, y) {
    var b = _.hasOwnProperty(u) ? _[u] : null;
    (b !== null
      ? b.type !== 0
      : y ||
        !(2 < u.length) ||
        (u[0] !== "o" && u[0] !== "O") ||
        (u[1] !== "n" && u[1] !== "N")) &&
      (v(u, p, b, y) && (p = null),
      y || b === null
        ? g(u) &&
          (p === null ? o.removeAttribute(u) : o.setAttribute(u, "" + p))
        : b.mustUseProperty
        ? (o[b.propertyName] = p === null ? (b.type === 3 ? !1 : "") : p)
        : ((u = b.attributeName),
          (y = b.attributeNamespace),
          p === null
            ? o.removeAttribute(u)
            : ((b = b.type),
              (p = b === 3 || (b === 4 && p === !0) ? "" : "" + p),
              y ? o.setAttributeNS(y, u, p) : o.setAttribute(u, p))));
  }
  var E = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
    A = Symbol.for("react.element"),
    M = Symbol.for("react.portal"),
    N = Symbol.for("react.fragment"),
    R = Symbol.for("react.strict_mode"),
    O = Symbol.for("react.profiler"),
    U = Symbol.for("react.provider"),
    q = Symbol.for("react.context"),
    Q = Symbol.for("react.forward_ref"),
    z = Symbol.for("react.suspense"),
    Z = Symbol.for("react.suspense_list"),
    pe = Symbol.for("react.memo"),
    se = Symbol.for("react.lazy"),
    ie = Symbol.for("react.offscreen"),
    Y = Symbol.iterator;
  function re(o) {
    return o === null || typeof o != "object"
      ? null
      : ((o = (Y && o[Y]) || o["@@iterator"]),
        typeof o == "function" ? o : null);
  }
  var J = Object.assign,
    F;
  function W(o) {
    if (F === void 0)
      try {
        throw Error();
      } catch (p) {
        var u = p.stack.trim().match(/\n( *(at )?)/);
        F = (u && u[1]) || "";
      }
    return (
      `
` +
      F +
      o
    );
  }
  var te = !1;
  function de(o, u) {
    if (!o || te) return "";
    te = !0;
    var p = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
      if (u)
        if (
          ((u = function () {
            throw Error();
          }),
          Object.defineProperty(u.prototype, "props", {
            set: function () {
              throw Error();
            },
          }),
          typeof Reflect == "object" && Reflect.construct)
        ) {
          try {
            Reflect.construct(u, []);
          } catch (X) {
            var y = X;
          }
          Reflect.construct(o, [], u);
        } else {
          try {
            u.call();
          } catch (X) {
            y = X;
          }
          o.call(u.prototype);
        }
      else {
        try {
          throw Error();
        } catch (X) {
          y = X;
        }
        o();
      }
    } catch (X) {
      if (X && y && typeof X.stack == "string") {
        for (
          var b = X.stack.split(`
`),
            C = y.stack.split(`
`),
            P = b.length - 1,
            B = C.length - 1;
          1 <= P && 0 <= B && b[P] !== C[B];

        )
          B--;
        for (; 1 <= P && 0 <= B; P--, B--)
          if (b[P] !== C[B]) {
            if (P !== 1 || B !== 1)
              do
                if ((P--, B--, 0 > B || b[P] !== C[B])) {
                  var I =
                    `
` + b[P].replace(" at new ", " at ");
                  return (
                    o.displayName &&
                      I.includes("<anonymous>") &&
                      (I = I.replace("<anonymous>", o.displayName)),
                    I
                  );
                }
              while (1 <= P && 0 <= B);
            break;
          }
      }
    } finally {
      (te = !1), (Error.prepareStackTrace = p);
    }
    return (o = o ? o.displayName || o.name : "") ? W(o) : "";
  }
  function ne(o) {
    switch (o.tag) {
      case 5:
        return W(o.type);
      case 16:
        return W("Lazy");
      case 13:
        return W("Suspense");
      case 19:
        return W("SuspenseList");
      case 0:
      case 2:
      case 15:
        return (o = de(o.type, !1)), o;
      case 11:
        return (o = de(o.type.render, !1)), o;
      case 1:
        return (o = de(o.type, !0)), o;
      default:
        return "";
    }
  }
  function ue(o) {
    if (o == null) return null;
    if (typeof o == "function") return o.displayName || o.name || null;
    if (typeof o == "string") return o;
    switch (o) {
      case N:
        return "Fragment";
      case M:
        return "Portal";
      case O:
        return "Profiler";
      case R:
        return "StrictMode";
      case z:
        return "Suspense";
      case Z:
        return "SuspenseList";
    }
    if (typeof o == "object")
      switch (o.$$typeof) {
        case q:
          return (o.displayName || "Context") + ".Consumer";
        case U:
          return (o._context.displayName || "Context") + ".Provider";
        case Q:
          var u = o.render;
          return (
            (o = o.displayName),
            o ||
              ((o = u.displayName || u.name || ""),
              (o = o !== "" ? "ForwardRef(" + o + ")" : "ForwardRef")),
            o
          );
        case pe:
          return (
            (u = o.displayName || null), u !== null ? u : ue(o.type) || "Memo"
          );
        case se:
          (u = o._payload), (o = o._init);
          try {
            return ue(o(u));
          } catch {}
      }
    return null;
  }
  function ae(o) {
    var u = o.type;
    switch (o.tag) {
      case 24:
        return "Cache";
      case 9:
        return (u.displayName || "Context") + ".Consumer";
      case 10:
        return (u._context.displayName || "Context") + ".Provider";
      case 18:
        return "DehydratedFragment";
      case 11:
        return (
          (o = u.render),
          (o = o.displayName || o.name || ""),
          u.displayName || (o !== "" ? "ForwardRef(" + o + ")" : "ForwardRef")
        );
      case 7:
        return "Fragment";
      case 5:
        return u;
      case 4:
        return "Portal";
      case 3:
        return "Root";
      case 6:
        return "Text";
      case 16:
        return ue(u);
      case 8:
        return u === R ? "StrictMode" : "Mode";
      case 22:
        return "Offscreen";
      case 12:
        return "Profiler";
      case 21:
        return "Scope";
      case 13:
        return "Suspense";
      case 19:
        return "SuspenseList";
      case 25:
        return "TracingMarker";
      case 1:
      case 0:
      case 17:
      case 2:
      case 14:
      case 15:
        if (typeof u == "function") return u.displayName || u.name || null;
        if (typeof u == "string") return u;
    }
    return null;
  }
  function me(o) {
    switch (typeof o) {
      case "boolean":
      case "number":
      case "string":
      case "undefined":
        return o;
      case "object":
        return o;
      default:
        return "";
    }
  }
  function oe(o) {
    var u = o.type;
    return (
      (o = o.nodeName) &&
      o.toLowerCase() === "input" &&
      (u === "checkbox" || u === "radio")
    );
  }
  function ve(o) {
    var u = oe(o) ? "checked" : "value",
      p = Object.getOwnPropertyDescriptor(o.constructor.prototype, u),
      y = "" + o[u];
    if (
      !o.hasOwnProperty(u) &&
      typeof p < "u" &&
      typeof p.get == "function" &&
      typeof p.set == "function"
    ) {
      var b = p.get,
        C = p.set;
      return (
        Object.defineProperty(o, u, {
          configurable: !0,
          get: function () {
            return b.call(this);
          },
          set: function (P) {
            (y = "" + P), C.call(this, P);
          },
        }),
        Object.defineProperty(o, u, { enumerable: p.enumerable }),
        {
          getValue: function () {
            return y;
          },
          setValue: function (P) {
            y = "" + P;
          },
          stopTracking: function () {
            (o._valueTracker = null), delete o[u];
          },
        }
      );
    }
  }
  function Te(o) {
    o._valueTracker || (o._valueTracker = ve(o));
  }
  function Ue(o) {
    if (!o) return !1;
    var u = o._valueTracker;
    if (!u) return !0;
    var p = u.getValue(),
      y = "";
    return (
      o && (y = oe(o) ? (o.checked ? "true" : "false") : o.value),
      (o = y),
      o !== p ? (u.setValue(o), !0) : !1
    );
  }
  function xe(o) {
    if (
      ((o = o || (typeof document < "u" ? document : void 0)), typeof o > "u")
    )
      return null;
    try {
      return o.activeElement || o.body;
    } catch {
      return o.body;
    }
  }
  function Ee(o, u) {
    var p = u.checked;
    return J({}, u, {
      defaultChecked: void 0,
      defaultValue: void 0,
      value: void 0,
      checked: p ?? o._wrapperState.initialChecked,
    });
  }
  function He(o, u) {
    var p = u.defaultValue == null ? "" : u.defaultValue,
      y = u.checked != null ? u.checked : u.defaultChecked;
    (p = me(u.value != null ? u.value : p)),
      (o._wrapperState = {
        initialChecked: y,
        initialValue: p,
        controlled:
          u.type === "checkbox" || u.type === "radio"
            ? u.checked != null
            : u.value != null,
      });
  }
  function vt(o, u) {
    (u = u.checked), u != null && j(o, "checked", u, !1);
  }
  function _t(o, u) {
    vt(o, u);
    var p = me(u.value),
      y = u.type;
    if (p != null)
      y === "number"
        ? ((p === 0 && o.value === "") || o.value != p) && (o.value = "" + p)
        : o.value !== "" + p && (o.value = "" + p);
    else if (y === "submit" || y === "reset") {
      o.removeAttribute("value");
      return;
    }
    u.hasOwnProperty("value")
      ? hr(o, u.type, p)
      : u.hasOwnProperty("defaultValue") && hr(o, u.type, me(u.defaultValue)),
      u.checked == null &&
        u.defaultChecked != null &&
        (o.defaultChecked = !!u.defaultChecked);
  }
  function Ft(o, u, p) {
    if (u.hasOwnProperty("value") || u.hasOwnProperty("defaultValue")) {
      var y = u.type;
      if (
        !(
          (y !== "submit" && y !== "reset") ||
          (u.value !== void 0 && u.value !== null)
        )
      )
        return;
      (u = "" + o._wrapperState.initialValue),
        p || u === o.value || (o.value = u),
        (o.defaultValue = u);
    }
    (p = o.name),
      p !== "" && (o.name = ""),
      (o.defaultChecked = !!o._wrapperState.initialChecked),
      p !== "" && (o.name = p);
  }
  function hr(o, u, p) {
    (u !== "number" || xe(o.ownerDocument) !== o) &&
      (p == null
        ? (o.defaultValue = "" + o._wrapperState.initialValue)
        : o.defaultValue !== "" + p && (o.defaultValue = "" + p));
  }
  var Kt = Array.isArray;
  function ee(o, u, p, y) {
    if (((o = o.options), u)) {
      u = {};
      for (var b = 0; b < p.length; b++) u["$" + p[b]] = !0;
      for (p = 0; p < o.length; p++)
        (b = u.hasOwnProperty("$" + o[p].value)),
          o[p].selected !== b && (o[p].selected = b),
          b && y && (o[p].defaultSelected = !0);
    } else {
      for (p = "" + me(p), u = null, b = 0; b < o.length; b++) {
        if (o[b].value === p) {
          (o[b].selected = !0), y && (o[b].defaultSelected = !0);
          return;
        }
        u !== null || o[b].disabled || (u = o[b]);
      }
      u !== null && (u.selected = !0);
    }
  }
  function nt(o, u) {
    if (u.dangerouslySetInnerHTML != null) throw Error(t(91));
    return J({}, u, {
      value: void 0,
      defaultValue: void 0,
      children: "" + o._wrapperState.initialValue,
    });
  }
  function qe(o, u) {
    var p = u.value;
    if (p == null) {
      if (((p = u.children), (u = u.defaultValue), p != null)) {
        if (u != null) throw Error(t(92));
        if (Kt(p)) {
          if (1 < p.length) throw Error(t(93));
          p = p[0];
        }
        u = p;
      }
      u == null && (u = ""), (p = u);
    }
    o._wrapperState = { initialValue: me(p) };
  }
  function ge(o, u) {
    var p = me(u.value),
      y = me(u.defaultValue);
    p != null &&
      ((p = "" + p),
      p !== o.value && (o.value = p),
      u.defaultValue == null && o.defaultValue !== p && (o.defaultValue = p)),
      y != null && (o.defaultValue = "" + y);
  }
  function $e(o) {
    var u = o.textContent;
    u === o._wrapperState.initialValue &&
      u !== "" &&
      u !== null &&
      (o.value = u);
  }
  function ht(o) {
    switch (o) {
      case "svg":
        return "http://www.w3.org/2000/svg";
      case "math":
        return "http://www.w3.org/1998/Math/MathML";
      default:
        return "http://www.w3.org/1999/xhtml";
    }
  }
  function et(o, u) {
    return o == null || o === "http://www.w3.org/1999/xhtml"
      ? ht(u)
      : o === "http://www.w3.org/2000/svg" && u === "foreignObject"
      ? "http://www.w3.org/1999/xhtml"
      : o;
  }
  var ot,
    Tt = (function (o) {
      return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
        ? function (u, p, y, b) {
            MSApp.execUnsafeLocalFunction(function () {
              return o(u, p, y, b);
            });
          }
        : o;
    })(function (o, u) {
      if (o.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in o)
        o.innerHTML = u;
      else {
        for (
          ot = ot || document.createElement("div"),
            ot.innerHTML = "<svg>" + u.valueOf().toString() + "</svg>",
            u = ot.firstChild;
          o.firstChild;

        )
          o.removeChild(o.firstChild);
        for (; u.firstChild; ) o.appendChild(u.firstChild);
      }
    });
  function ft(o, u) {
    if (u) {
      var p = o.firstChild;
      if (p && p === o.lastChild && p.nodeType === 3) {
        p.nodeValue = u;
        return;
      }
    }
    o.textContent = u;
  }
  var It = {
      animationIterationCount: !0,
      aspectRatio: !0,
      borderImageOutset: !0,
      borderImageSlice: !0,
      borderImageWidth: !0,
      boxFlex: !0,
      boxFlexGroup: !0,
      boxOrdinalGroup: !0,
      columnCount: !0,
      columns: !0,
      flex: !0,
      flexGrow: !0,
      flexPositive: !0,
      flexShrink: !0,
      flexNegative: !0,
      flexOrder: !0,
      gridArea: !0,
      gridRow: !0,
      gridRowEnd: !0,
      gridRowSpan: !0,
      gridRowStart: !0,
      gridColumn: !0,
      gridColumnEnd: !0,
      gridColumnSpan: !0,
      gridColumnStart: !0,
      fontWeight: !0,
      lineClamp: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      tabSize: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0,
      fillOpacity: !0,
      floodOpacity: !0,
      stopOpacity: !0,
      strokeDasharray: !0,
      strokeDashoffset: !0,
      strokeMiterlimit: !0,
      strokeOpacity: !0,
      strokeWidth: !0,
    },
    Ut = ["Webkit", "ms", "Moz", "O"];
  Object.keys(It).forEach(function (o) {
    Ut.forEach(function (u) {
      (u = u + o.charAt(0).toUpperCase() + o.substring(1)), (It[u] = It[o]);
    });
  });
  function kt(o, u, p) {
    return u == null || typeof u == "boolean" || u === ""
      ? ""
      : p || typeof u != "number" || u === 0 || (It.hasOwnProperty(o) && It[o])
      ? ("" + u).trim()
      : u + "px";
  }
  function Et(o, u) {
    o = o.style;
    for (var p in u)
      if (u.hasOwnProperty(p)) {
        var y = p.indexOf("--") === 0,
          b = kt(p, u[p], y);
        p === "float" && (p = "cssFloat"), y ? o.setProperty(p, b) : (o[p] = b);
      }
  }
  var $t = J(
    { menuitem: !0 },
    {
      area: !0,
      base: !0,
      br: !0,
      col: !0,
      embed: !0,
      hr: !0,
      img: !0,
      input: !0,
      keygen: !0,
      link: !0,
      meta: !0,
      param: !0,
      source: !0,
      track: !0,
      wbr: !0,
    }
  );
  function G(o, u) {
    if (u) {
      if ($t[o] && (u.children != null || u.dangerouslySetInnerHTML != null))
        throw Error(t(137, o));
      if (u.dangerouslySetInnerHTML != null) {
        if (u.children != null) throw Error(t(60));
        if (
          typeof u.dangerouslySetInnerHTML != "object" ||
          !("__html" in u.dangerouslySetInnerHTML)
        )
          throw Error(t(61));
      }
      if (u.style != null && typeof u.style != "object") throw Error(t(62));
    }
  }
  function H(o, u) {
    if (o.indexOf("-") === -1) return typeof u.is == "string";
    switch (o) {
      case "annotation-xml":
      case "color-profile":
      case "font-face":
      case "font-face-src":
      case "font-face-uri":
      case "font-face-format":
      case "font-face-name":
      case "missing-glyph":
        return !1;
      default:
        return !0;
    }
  }
  var Oe = null;
  function We(o) {
    return (
      (o = o.target || o.srcElement || window),
      o.correspondingUseElement && (o = o.correspondingUseElement),
      o.nodeType === 3 ? o.parentNode : o
    );
  }
  var Qe = null,
    Ae = null,
    ir = null;
  function Yr(o) {
    if ((o = no(o))) {
      if (typeof Qe != "function") throw Error(t(280));
      var u = o.stateNode;
      u && ((u = Vl(u)), Qe(o.stateNode, o.type, u));
    }
  }
  function fr(o) {
    Ae ? (ir ? ir.push(o) : (ir = [o])) : (Ae = o);
  }
  function us() {
    if (Ae) {
      var o = Ae,
        u = ir;
      if (((ir = Ae = null), Yr(o), u)) for (o = 0; o < u.length; o++) Yr(u[o]);
    }
  }
  function Oi(o, u) {
    return o(u);
  }
  function Vs() {}
  var Sr = !1;
  function Ba(o, u, p) {
    if (Sr) return o(u, p);
    Sr = !0;
    try {
      return Oi(o, u, p);
    } finally {
      (Sr = !1), (Ae !== null || ir !== null) && (Vs(), us());
    }
  }
  function xn(o, u) {
    var p = o.stateNode;
    if (p === null) return null;
    var y = Vl(p);
    if (y === null) return null;
    p = y[u];
    e: switch (u) {
      case "onClick":
      case "onClickCapture":
      case "onDoubleClick":
      case "onDoubleClickCapture":
      case "onMouseDown":
      case "onMouseDownCapture":
      case "onMouseMove":
      case "onMouseMoveCapture":
      case "onMouseUp":
      case "onMouseUpCapture":
      case "onMouseEnter":
        (y = !y.disabled) ||
          ((o = o.type),
          (y = !(
            o === "button" ||
            o === "input" ||
            o === "select" ||
            o === "textarea"
          ))),
          (o = !y);
        break e;
      default:
        o = !1;
    }
    if (o) return null;
    if (p && typeof p != "function") throw Error(t(231, u, typeof p));
    return p;
  }
  var Li = !1;
  if (c)
    try {
      var ds = {};
      Object.defineProperty(ds, "passive", {
        get: function () {
          Li = !0;
        },
      }),
        window.addEventListener("test", ds, ds),
        window.removeEventListener("test", ds, ds);
    } catch {
      Li = !1;
    }
  function Fa(o, u, p, y, b, C, P, B, I) {
    var X = Array.prototype.slice.call(arguments, 3);
    try {
      u.apply(p, X);
    } catch (ce) {
      this.onError(ce);
    }
  }
  var Ms = !1,
    yn = null,
    vn = !1,
    Di = null,
    wl = {
      onError: function (o) {
        (Ms = !0), (yn = o);
      },
    };
  function Ia(o, u, p, y, b, C, P, B, I) {
    (Ms = !1), (yn = null), Fa.apply(wl, arguments);
  }
  function Sl(o, u, p, y, b, C, P, B, I) {
    if ((Ia.apply(this, arguments), Ms)) {
      if (Ms) {
        var X = yn;
        (Ms = !1), (yn = null);
      } else throw Error(t(198));
      vn || ((vn = !0), (Di = X));
    }
  }
  function hs(o) {
    var u = o,
      p = o;
    if (o.alternate) for (; u.return; ) u = u.return;
    else {
      o = u;
      do (u = o), (u.flags & 4098) !== 0 && (p = u.return), (o = u.return);
      while (o);
    }
    return u.tag === 3 ? p : null;
  }
  function Oa(o) {
    if (o.tag === 13) {
      var u = o.memoizedState;
      if (
        (u === null && ((o = o.alternate), o !== null && (u = o.memoizedState)),
        u !== null)
      )
        return u.dehydrated;
    }
    return null;
  }
  function Cl(o) {
    if (hs(o) !== o) throw Error(t(188));
  }
  function La(o) {
    var u = o.alternate;
    if (!u) {
      if (((u = hs(o)), u === null)) throw Error(t(188));
      return u !== o ? null : o;
    }
    for (var p = o, y = u; ; ) {
      var b = p.return;
      if (b === null) break;
      var C = b.alternate;
      if (C === null) {
        if (((y = b.return), y !== null)) {
          p = y;
          continue;
        }
        break;
      }
      if (b.child === C.child) {
        for (C = b.child; C; ) {
          if (C === p) return Cl(b), o;
          if (C === y) return Cl(b), u;
          C = C.sibling;
        }
        throw Error(t(188));
      }
      if (p.return !== y.return) (p = b), (y = C);
      else {
        for (var P = !1, B = b.child; B; ) {
          if (B === p) {
            (P = !0), (p = b), (y = C);
            break;
          }
          if (B === y) {
            (P = !0), (y = b), (p = C);
            break;
          }
          B = B.sibling;
        }
        if (!P) {
          for (B = C.child; B; ) {
            if (B === p) {
              (P = !0), (p = C), (y = b);
              break;
            }
            if (B === y) {
              (P = !0), (y = C), (p = b);
              break;
            }
            B = B.sibling;
          }
          if (!P) throw Error(t(189));
        }
      }
      if (p.alternate !== y) throw Error(t(190));
    }
    if (p.tag !== 3) throw Error(t(188));
    return p.stateNode.current === p ? o : u;
  }
  function qs(o) {
    return (o = La(o)), o !== null ? Jn(o) : null;
  }
  function Jn(o) {
    if (o.tag === 5 || o.tag === 6) return o;
    for (o = o.child; o !== null; ) {
      var u = Jn(o);
      if (u !== null) return u;
      o = o.sibling;
    }
    return null;
  }
  var Tl = e.unstable_scheduleCallback,
    Da = e.unstable_cancelCallback,
    ZT = e.unstable_shouldYield,
    JT = e.unstable_requestPaint,
    Ot = e.unstable_now,
    e4 = e.unstable_getCurrentPriorityLevel,
    rd = e.unstable_ImmediatePriority,
    Kg = e.unstable_UserBlockingPriority,
    El = e.unstable_NormalPriority,
    t4 = e.unstable_LowPriority,
    Qg = e.unstable_IdlePriority,
    jl = null,
    Ns = null;
  function r4(o) {
    if (Ns && typeof Ns.onCommitFiberRoot == "function")
      try {
        Ns.onCommitFiberRoot(jl, o, void 0, (o.current.flags & 128) === 128);
      } catch {}
  }
  var fs = Math.clz32 ? Math.clz32 : i4,
    s4 = Math.log,
    n4 = Math.LN2;
  function i4(o) {
    return (o >>>= 0), o === 0 ? 32 : (31 - ((s4(o) / n4) | 0)) | 0;
  }
  var kl = 64,
    Pl = 4194304;
  function Ua(o) {
    switch (o & -o) {
      case 1:
        return 1;
      case 2:
        return 2;
      case 4:
        return 4;
      case 8:
        return 8;
      case 16:
        return 16;
      case 32:
        return 32;
      case 64:
      case 128:
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return o & 4194240;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
      case 67108864:
        return o & 130023424;
      case 134217728:
        return 134217728;
      case 268435456:
        return 268435456;
      case 536870912:
        return 536870912;
      case 1073741824:
        return 1073741824;
      default:
        return o;
    }
  }
  function Al(o, u) {
    var p = o.pendingLanes;
    if (p === 0) return 0;
    var y = 0,
      b = o.suspendedLanes,
      C = o.pingedLanes,
      P = p & 268435455;
    if (P !== 0) {
      var B = P & ~b;
      B !== 0 ? (y = Ua(B)) : ((C &= P), C !== 0 && (y = Ua(C)));
    } else (P = p & ~b), P !== 0 ? (y = Ua(P)) : C !== 0 && (y = Ua(C));
    if (y === 0) return 0;
    if (
      u !== 0 &&
      u !== y &&
      (u & b) === 0 &&
      ((b = y & -y), (C = u & -u), b >= C || (b === 16 && (C & 4194240) !== 0))
    )
      return u;
    if (((y & 4) !== 0 && (y |= p & 16), (u = o.entangledLanes), u !== 0))
      for (o = o.entanglements, u &= y; 0 < u; )
        (p = 31 - fs(u)), (b = 1 << p), (y |= o[p]), (u &= ~b);
    return y;
  }
  function a4(o, u) {
    switch (o) {
      case 1:
      case 2:
      case 4:
        return u + 250;
      case 8:
      case 16:
      case 32:
      case 64:
      case 128:
      case 256:
      case 512:
      case 1024:
      case 2048:
      case 4096:
      case 8192:
      case 16384:
      case 32768:
      case 65536:
      case 131072:
      case 262144:
      case 524288:
      case 1048576:
      case 2097152:
        return u + 5e3;
      case 4194304:
      case 8388608:
      case 16777216:
      case 33554432:
      case 67108864:
        return -1;
      case 134217728:
      case 268435456:
      case 536870912:
      case 1073741824:
        return -1;
      default:
        return -1;
    }
  }
  function o4(o, u) {
    for (
      var p = o.suspendedLanes,
        y = o.pingedLanes,
        b = o.expirationTimes,
        C = o.pendingLanes;
      0 < C;

    ) {
      var P = 31 - fs(C),
        B = 1 << P,
        I = b[P];
      I === -1
        ? ((B & p) === 0 || (B & y) !== 0) && (b[P] = a4(B, u))
        : I <= u && (o.expiredLanes |= B),
        (C &= ~B);
    }
  }
  function sd(o) {
    return (
      (o = o.pendingLanes & -1073741825),
      o !== 0 ? o : o & 1073741824 ? 1073741824 : 0
    );
  }
  function Zg() {
    var o = kl;
    return (kl <<= 1), (kl & 4194240) === 0 && (kl = 64), o;
  }
  function nd(o) {
    for (var u = [], p = 0; 31 > p; p++) u.push(o);
    return u;
  }
  function za(o, u, p) {
    (o.pendingLanes |= u),
      u !== 536870912 && ((o.suspendedLanes = 0), (o.pingedLanes = 0)),
      (o = o.eventTimes),
      (u = 31 - fs(u)),
      (o[u] = p);
  }
  function l4(o, u) {
    var p = o.pendingLanes & ~u;
    (o.pendingLanes = u),
      (o.suspendedLanes = 0),
      (o.pingedLanes = 0),
      (o.expiredLanes &= u),
      (o.mutableReadLanes &= u),
      (o.entangledLanes &= u),
      (u = o.entanglements);
    var y = o.eventTimes;
    for (o = o.expirationTimes; 0 < p; ) {
      var b = 31 - fs(p),
        C = 1 << b;
      (u[b] = 0), (y[b] = -1), (o[b] = -1), (p &= ~C);
    }
  }
  function id(o, u) {
    var p = (o.entangledLanes |= u);
    for (o = o.entanglements; p; ) {
      var y = 31 - fs(p),
        b = 1 << y;
      (b & u) | (o[y] & u) && (o[y] |= u), (p &= ~b);
    }
  }
  var ut = 0;
  function Jg(o) {
    return (
      (o &= -o),
      1 < o ? (4 < o ? ((o & 268435455) !== 0 ? 16 : 536870912) : 4) : 1
    );
  }
  var e0,
    ad,
    t0,
    r0,
    s0,
    od = !1,
    Ml = [],
    _n = null,
    bn = null,
    wn = null,
    Ga = new Map(),
    $a = new Map(),
    Sn = [],
    c4 =
      "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
        " "
      );
  function n0(o, u) {
    switch (o) {
      case "focusin":
      case "focusout":
        _n = null;
        break;
      case "dragenter":
      case "dragleave":
        bn = null;
        break;
      case "mouseover":
      case "mouseout":
        wn = null;
        break;
      case "pointerover":
      case "pointerout":
        Ga.delete(u.pointerId);
        break;
      case "gotpointercapture":
      case "lostpointercapture":
        $a.delete(u.pointerId);
    }
  }
  function Ha(o, u, p, y, b, C) {
    return o === null || o.nativeEvent !== C
      ? ((o = {
          blockedOn: u,
          domEventName: p,
          eventSystemFlags: y,
          nativeEvent: C,
          targetContainers: [b],
        }),
        u !== null && ((u = no(u)), u !== null && ad(u)),
        o)
      : ((o.eventSystemFlags |= y),
        (u = o.targetContainers),
        b !== null && u.indexOf(b) === -1 && u.push(b),
        o);
  }
  function u4(o, u, p, y, b) {
    switch (u) {
      case "focusin":
        return (_n = Ha(_n, o, u, p, y, b)), !0;
      case "dragenter":
        return (bn = Ha(bn, o, u, p, y, b)), !0;
      case "mouseover":
        return (wn = Ha(wn, o, u, p, y, b)), !0;
      case "pointerover":
        var C = b.pointerId;
        return Ga.set(C, Ha(Ga.get(C) || null, o, u, p, y, b)), !0;
      case "gotpointercapture":
        return (
          (C = b.pointerId), $a.set(C, Ha($a.get(C) || null, o, u, p, y, b)), !0
        );
    }
    return !1;
  }
  function i0(o) {
    var u = ei(o.target);
    if (u !== null) {
      var p = hs(u);
      if (p !== null) {
        if (((u = p.tag), u === 13)) {
          if (((u = Oa(p)), u !== null)) {
            (o.blockedOn = u),
              s0(o.priority, function () {
                t0(p);
              });
            return;
          }
        } else if (u === 3 && p.stateNode.current.memoizedState.isDehydrated) {
          o.blockedOn = p.tag === 3 ? p.stateNode.containerInfo : null;
          return;
        }
      }
    }
    o.blockedOn = null;
  }
  function Nl(o) {
    if (o.blockedOn !== null) return !1;
    for (var u = o.targetContainers; 0 < u.length; ) {
      var p = cd(o.domEventName, o.eventSystemFlags, u[0], o.nativeEvent);
      if (p === null) {
        p = o.nativeEvent;
        var y = new p.constructor(p.type, p);
        (Oe = y), p.target.dispatchEvent(y), (Oe = null);
      } else return (u = no(p)), u !== null && ad(u), (o.blockedOn = p), !1;
      u.shift();
    }
    return !0;
  }
  function a0(o, u, p) {
    Nl(o) && p.delete(u);
  }
  function d4() {
    (od = !1),
      _n !== null && Nl(_n) && (_n = null),
      bn !== null && Nl(bn) && (bn = null),
      wn !== null && Nl(wn) && (wn = null),
      Ga.forEach(a0),
      $a.forEach(a0);
  }
  function Wa(o, u) {
    o.blockedOn === u &&
      ((o.blockedOn = null),
      od ||
        ((od = !0),
        e.unstable_scheduleCallback(e.unstable_NormalPriority, d4)));
  }
  function Va(o) {
    function u(b) {
      return Wa(b, o);
    }
    if (0 < Ml.length) {
      Wa(Ml[0], o);
      for (var p = 1; p < Ml.length; p++) {
        var y = Ml[p];
        y.blockedOn === o && (y.blockedOn = null);
      }
    }
    for (
      _n !== null && Wa(_n, o),
        bn !== null && Wa(bn, o),
        wn !== null && Wa(wn, o),
        Ga.forEach(u),
        $a.forEach(u),
        p = 0;
      p < Sn.length;
      p++
    )
      (y = Sn[p]), y.blockedOn === o && (y.blockedOn = null);
    for (; 0 < Sn.length && ((p = Sn[0]), p.blockedOn === null); )
      i0(p), p.blockedOn === null && Sn.shift();
  }
  var Ui = E.ReactCurrentBatchConfig,
    Rl = !0;
  function h4(o, u, p, y) {
    var b = ut,
      C = Ui.transition;
    Ui.transition = null;
    try {
      (ut = 1), ld(o, u, p, y);
    } finally {
      (ut = b), (Ui.transition = C);
    }
  }
  function f4(o, u, p, y) {
    var b = ut,
      C = Ui.transition;
    Ui.transition = null;
    try {
      (ut = 4), ld(o, u, p, y);
    } finally {
      (ut = b), (Ui.transition = C);
    }
  }
  function ld(o, u, p, y) {
    if (Rl) {
      var b = cd(o, u, p, y);
      if (b === null) Ed(o, u, y, Bl, p), n0(o, y);
      else if (u4(b, o, u, p, y)) y.stopPropagation();
      else if ((n0(o, y), u & 4 && -1 < c4.indexOf(o))) {
        for (; b !== null; ) {
          var C = no(b);
          if (
            (C !== null && e0(C),
            (C = cd(o, u, p, y)),
            C === null && Ed(o, u, y, Bl, p),
            C === b)
          )
            break;
          b = C;
        }
        b !== null && y.stopPropagation();
      } else Ed(o, u, y, null, p);
    }
  }
  var Bl = null;
  function cd(o, u, p, y) {
    if (((Bl = null), (o = We(y)), (o = ei(o)), o !== null))
      if (((u = hs(o)), u === null)) o = null;
      else if (((p = u.tag), p === 13)) {
        if (((o = Oa(u)), o !== null)) return o;
        o = null;
      } else if (p === 3) {
        if (u.stateNode.current.memoizedState.isDehydrated)
          return u.tag === 3 ? u.stateNode.containerInfo : null;
        o = null;
      } else u !== o && (o = null);
    return (Bl = o), null;
  }
  function o0(o) {
    switch (o) {
      case "cancel":
      case "click":
      case "close":
      case "contextmenu":
      case "copy":
      case "cut":
      case "auxclick":
      case "dblclick":
      case "dragend":
      case "dragstart":
      case "drop":
      case "focusin":
      case "focusout":
      case "input":
      case "invalid":
      case "keydown":
      case "keypress":
      case "keyup":
      case "mousedown":
      case "mouseup":
      case "paste":
      case "pause":
      case "play":
      case "pointercancel":
      case "pointerdown":
      case "pointerup":
      case "ratechange":
      case "reset":
      case "resize":
      case "seeked":
      case "submit":
      case "touchcancel":
      case "touchend":
      case "touchstart":
      case "volumechange":
      case "change":
      case "selectionchange":
      case "textInput":
      case "compositionstart":
      case "compositionend":
      case "compositionupdate":
      case "beforeblur":
      case "afterblur":
      case "beforeinput":
      case "blur":
      case "fullscreenchange":
      case "focus":
      case "hashchange":
      case "popstate":
      case "select":
      case "selectstart":
        return 1;
      case "drag":
      case "dragenter":
      case "dragexit":
      case "dragleave":
      case "dragover":
      case "mousemove":
      case "mouseout":
      case "mouseover":
      case "pointermove":
      case "pointerout":
      case "pointerover":
      case "scroll":
      case "toggle":
      case "touchmove":
      case "wheel":
      case "mouseenter":
      case "mouseleave":
      case "pointerenter":
      case "pointerleave":
        return 4;
      case "message":
        switch (e4()) {
          case rd:
            return 1;
          case Kg:
            return 4;
          case El:
          case t4:
            return 16;
          case Qg:
            return 536870912;
          default:
            return 16;
        }
      default:
        return 16;
    }
  }
  var Cn = null,
    ud = null,
    Fl = null;
  function l0() {
    if (Fl) return Fl;
    var o,
      u = ud,
      p = u.length,
      y,
      b = "value" in Cn ? Cn.value : Cn.textContent,
      C = b.length;
    for (o = 0; o < p && u[o] === b[o]; o++);
    var P = p - o;
    for (y = 1; y <= P && u[p - y] === b[C - y]; y++);
    return (Fl = b.slice(o, 1 < y ? 1 - y : void 0));
  }
  function Il(o) {
    var u = o.keyCode;
    return (
      "charCode" in o
        ? ((o = o.charCode), o === 0 && u === 13 && (o = 13))
        : (o = u),
      o === 10 && (o = 13),
      32 <= o || o === 13 ? o : 0
    );
  }
  function Ol() {
    return !0;
  }
  function c0() {
    return !1;
  }
  function Ur(o) {
    function u(p, y, b, C, P) {
      (this._reactName = p),
        (this._targetInst = b),
        (this.type = y),
        (this.nativeEvent = C),
        (this.target = P),
        (this.currentTarget = null);
      for (var B in o)
        o.hasOwnProperty(B) && ((p = o[B]), (this[B] = p ? p(C) : C[B]));
      return (
        (this.isDefaultPrevented = (
          C.defaultPrevented != null ? C.defaultPrevented : C.returnValue === !1
        )
          ? Ol
          : c0),
        (this.isPropagationStopped = c0),
        this
      );
    }
    return (
      J(u.prototype, {
        preventDefault: function () {
          this.defaultPrevented = !0;
          var p = this.nativeEvent;
          p &&
            (p.preventDefault
              ? p.preventDefault()
              : typeof p.returnValue != "unknown" && (p.returnValue = !1),
            (this.isDefaultPrevented = Ol));
        },
        stopPropagation: function () {
          var p = this.nativeEvent;
          p &&
            (p.stopPropagation
              ? p.stopPropagation()
              : typeof p.cancelBubble != "unknown" && (p.cancelBubble = !0),
            (this.isPropagationStopped = Ol));
        },
        persist: function () {},
        isPersistent: Ol,
      }),
      u
    );
  }
  var zi = {
      eventPhase: 0,
      bubbles: 0,
      cancelable: 0,
      timeStamp: function (o) {
        return o.timeStamp || Date.now();
      },
      defaultPrevented: 0,
      isTrusted: 0,
    },
    dd = Ur(zi),
    qa = J({}, zi, { view: 0, detail: 0 }),
    p4 = Ur(qa),
    hd,
    fd,
    Xa,
    Ll = J({}, qa, {
      screenX: 0,
      screenY: 0,
      clientX: 0,
      clientY: 0,
      pageX: 0,
      pageY: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      getModifierState: md,
      button: 0,
      buttons: 0,
      relatedTarget: function (o) {
        return o.relatedTarget === void 0
          ? o.fromElement === o.srcElement
            ? o.toElement
            : o.fromElement
          : o.relatedTarget;
      },
      movementX: function (o) {
        return "movementX" in o
          ? o.movementX
          : (o !== Xa &&
              (Xa && o.type === "mousemove"
                ? ((hd = o.screenX - Xa.screenX), (fd = o.screenY - Xa.screenY))
                : (fd = hd = 0),
              (Xa = o)),
            hd);
      },
      movementY: function (o) {
        return "movementY" in o ? o.movementY : fd;
      },
    }),
    u0 = Ur(Ll),
    m4 = J({}, Ll, { dataTransfer: 0 }),
    g4 = Ur(m4),
    x4 = J({}, qa, { relatedTarget: 0 }),
    pd = Ur(x4),
    y4 = J({}, zi, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
    v4 = Ur(y4),
    _4 = J({}, zi, {
      clipboardData: function (o) {
        return "clipboardData" in o ? o.clipboardData : window.clipboardData;
      },
    }),
    b4 = Ur(_4),
    w4 = J({}, zi, { data: 0 }),
    d0 = Ur(w4),
    S4 = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified",
    },
    C4 = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta",
    },
    T4 = {
      Alt: "altKey",
      Control: "ctrlKey",
      Meta: "metaKey",
      Shift: "shiftKey",
    };
  function E4(o) {
    var u = this.nativeEvent;
    return u.getModifierState
      ? u.getModifierState(o)
      : (o = T4[o])
      ? !!u[o]
      : !1;
  }
  function md() {
    return E4;
  }
  var j4 = J({}, qa, {
      key: function (o) {
        if (o.key) {
          var u = S4[o.key] || o.key;
          if (u !== "Unidentified") return u;
        }
        return o.type === "keypress"
          ? ((o = Il(o)), o === 13 ? "Enter" : String.fromCharCode(o))
          : o.type === "keydown" || o.type === "keyup"
          ? C4[o.keyCode] || "Unidentified"
          : "";
      },
      code: 0,
      location: 0,
      ctrlKey: 0,
      shiftKey: 0,
      altKey: 0,
      metaKey: 0,
      repeat: 0,
      locale: 0,
      getModifierState: md,
      charCode: function (o) {
        return o.type === "keypress" ? Il(o) : 0;
      },
      keyCode: function (o) {
        return o.type === "keydown" || o.type === "keyup" ? o.keyCode : 0;
      },
      which: function (o) {
        return o.type === "keypress"
          ? Il(o)
          : o.type === "keydown" || o.type === "keyup"
          ? o.keyCode
          : 0;
      },
    }),
    k4 = Ur(j4),
    P4 = J({}, Ll, {
      pointerId: 0,
      width: 0,
      height: 0,
      pressure: 0,
      tangentialPressure: 0,
      tiltX: 0,
      tiltY: 0,
      twist: 0,
      pointerType: 0,
      isPrimary: 0,
    }),
    h0 = Ur(P4),
    A4 = J({}, qa, {
      touches: 0,
      targetTouches: 0,
      changedTouches: 0,
      altKey: 0,
      metaKey: 0,
      ctrlKey: 0,
      shiftKey: 0,
      getModifierState: md,
    }),
    M4 = Ur(A4),
    N4 = J({}, zi, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
    R4 = Ur(N4),
    B4 = J({}, Ll, {
      deltaX: function (o) {
        return "deltaX" in o
          ? o.deltaX
          : "wheelDeltaX" in o
          ? -o.wheelDeltaX
          : 0;
      },
      deltaY: function (o) {
        return "deltaY" in o
          ? o.deltaY
          : "wheelDeltaY" in o
          ? -o.wheelDeltaY
          : "wheelDelta" in o
          ? -o.wheelDelta
          : 0;
      },
      deltaZ: 0,
      deltaMode: 0,
    }),
    F4 = Ur(B4),
    I4 = [9, 13, 27, 32],
    gd = c && "CompositionEvent" in window,
    Ya = null;
  c && "documentMode" in document && (Ya = document.documentMode);
  var O4 = c && "TextEvent" in window && !Ya,
    f0 = c && (!gd || (Ya && 8 < Ya && 11 >= Ya)),
    p0 = " ",
    m0 = !1;
  function g0(o, u) {
    switch (o) {
      case "keyup":
        return I4.indexOf(u.keyCode) !== -1;
      case "keydown":
        return u.keyCode !== 229;
      case "keypress":
      case "mousedown":
      case "focusout":
        return !0;
      default:
        return !1;
    }
  }
  function x0(o) {
    return (o = o.detail), typeof o == "object" && "data" in o ? o.data : null;
  }
  var Gi = !1;
  function L4(o, u) {
    switch (o) {
      case "compositionend":
        return x0(u);
      case "keypress":
        return u.which !== 32 ? null : ((m0 = !0), p0);
      case "textInput":
        return (o = u.data), o === p0 && m0 ? null : o;
      default:
        return null;
    }
  }
  function D4(o, u) {
    if (Gi)
      return o === "compositionend" || (!gd && g0(o, u))
        ? ((o = l0()), (Fl = ud = Cn = null), (Gi = !1), o)
        : null;
    switch (o) {
      case "paste":
        return null;
      case "keypress":
        if (!(u.ctrlKey || u.altKey || u.metaKey) || (u.ctrlKey && u.altKey)) {
          if (u.char && 1 < u.char.length) return u.char;
          if (u.which) return String.fromCharCode(u.which);
        }
        return null;
      case "compositionend":
        return f0 && u.locale !== "ko" ? null : u.data;
      default:
        return null;
    }
  }
  var U4 = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0,
  };
  function y0(o) {
    var u = o && o.nodeName && o.nodeName.toLowerCase();
    return u === "input" ? !!U4[o.type] : u === "textarea";
  }
  function v0(o, u, p, y) {
    fr(y),
      (u = $l(u, "onChange")),
      0 < u.length &&
        ((p = new dd("onChange", "change", null, p, y)),
        o.push({ event: p, listeners: u }));
  }
  var Ka = null,
    Qa = null;
  function z4(o) {
    O0(o, 0);
  }
  function Dl(o) {
    var u = qi(o);
    if (Ue(u)) return o;
  }
  function G4(o, u) {
    if (o === "change") return u;
  }
  var _0 = !1;
  if (c) {
    var xd;
    if (c) {
      var yd = "oninput" in document;
      if (!yd) {
        var b0 = document.createElement("div");
        b0.setAttribute("oninput", "return;"),
          (yd = typeof b0.oninput == "function");
      }
      xd = yd;
    } else xd = !1;
    _0 = xd && (!document.documentMode || 9 < document.documentMode);
  }
  function w0() {
    Ka && (Ka.detachEvent("onpropertychange", S0), (Qa = Ka = null));
  }
  function S0(o) {
    if (o.propertyName === "value" && Dl(Qa)) {
      var u = [];
      v0(u, Qa, o, We(o)), Ba(z4, u);
    }
  }
  function $4(o, u, p) {
    o === "focusin"
      ? (w0(), (Ka = u), (Qa = p), Ka.attachEvent("onpropertychange", S0))
      : o === "focusout" && w0();
  }
  function H4(o) {
    if (o === "selectionchange" || o === "keyup" || o === "keydown")
      return Dl(Qa);
  }
  function W4(o, u) {
    if (o === "click") return Dl(u);
  }
  function V4(o, u) {
    if (o === "input" || o === "change") return Dl(u);
  }
  function q4(o, u) {
    return (o === u && (o !== 0 || 1 / o === 1 / u)) || (o !== o && u !== u);
  }
  var ps = typeof Object.is == "function" ? Object.is : q4;
  function Za(o, u) {
    if (ps(o, u)) return !0;
    if (
      typeof o != "object" ||
      o === null ||
      typeof u != "object" ||
      u === null
    )
      return !1;
    var p = Object.keys(o),
      y = Object.keys(u);
    if (p.length !== y.length) return !1;
    for (y = 0; y < p.length; y++) {
      var b = p[y];
      if (!d.call(u, b) || !ps(o[b], u[b])) return !1;
    }
    return !0;
  }
  function C0(o) {
    for (; o && o.firstChild; ) o = o.firstChild;
    return o;
  }
  function T0(o, u) {
    var p = C0(o);
    o = 0;
    for (var y; p; ) {
      if (p.nodeType === 3) {
        if (((y = o + p.textContent.length), o <= u && y >= u))
          return { node: p, offset: u - o };
        o = y;
      }
      e: {
        for (; p; ) {
          if (p.nextSibling) {
            p = p.nextSibling;
            break e;
          }
          p = p.parentNode;
        }
        p = void 0;
      }
      p = C0(p);
    }
  }
  function E0(o, u) {
    return o && u
      ? o === u
        ? !0
        : o && o.nodeType === 3
        ? !1
        : u && u.nodeType === 3
        ? E0(o, u.parentNode)
        : "contains" in o
        ? o.contains(u)
        : o.compareDocumentPosition
        ? !!(o.compareDocumentPosition(u) & 16)
        : !1
      : !1;
  }
  function j0() {
    for (var o = window, u = xe(); u instanceof o.HTMLIFrameElement; ) {
      try {
        var p = typeof u.contentWindow.location.href == "string";
      } catch {
        p = !1;
      }
      if (p) o = u.contentWindow;
      else break;
      u = xe(o.document);
    }
    return u;
  }
  function vd(o) {
    var u = o && o.nodeName && o.nodeName.toLowerCase();
    return (
      u &&
      ((u === "input" &&
        (o.type === "text" ||
          o.type === "search" ||
          o.type === "tel" ||
          o.type === "url" ||
          o.type === "password")) ||
        u === "textarea" ||
        o.contentEditable === "true")
    );
  }
  function X4(o) {
    var u = j0(),
      p = o.focusedElem,
      y = o.selectionRange;
    if (
      u !== p &&
      p &&
      p.ownerDocument &&
      E0(p.ownerDocument.documentElement, p)
    ) {
      if (y !== null && vd(p)) {
        if (
          ((u = y.start),
          (o = y.end),
          o === void 0 && (o = u),
          "selectionStart" in p)
        )
          (p.selectionStart = u),
            (p.selectionEnd = Math.min(o, p.value.length));
        else if (
          ((o = ((u = p.ownerDocument || document) && u.defaultView) || window),
          o.getSelection)
        ) {
          o = o.getSelection();
          var b = p.textContent.length,
            C = Math.min(y.start, b);
          (y = y.end === void 0 ? C : Math.min(y.end, b)),
            !o.extend && C > y && ((b = y), (y = C), (C = b)),
            (b = T0(p, C));
          var P = T0(p, y);
          b &&
            P &&
            (o.rangeCount !== 1 ||
              o.anchorNode !== b.node ||
              o.anchorOffset !== b.offset ||
              o.focusNode !== P.node ||
              o.focusOffset !== P.offset) &&
            ((u = u.createRange()),
            u.setStart(b.node, b.offset),
            o.removeAllRanges(),
            C > y
              ? (o.addRange(u), o.extend(P.node, P.offset))
              : (u.setEnd(P.node, P.offset), o.addRange(u)));
        }
      }
      for (u = [], o = p; (o = o.parentNode); )
        o.nodeType === 1 &&
          u.push({ element: o, left: o.scrollLeft, top: o.scrollTop });
      for (typeof p.focus == "function" && p.focus(), p = 0; p < u.length; p++)
        (o = u[p]),
          (o.element.scrollLeft = o.left),
          (o.element.scrollTop = o.top);
    }
  }
  var Y4 = c && "documentMode" in document && 11 >= document.documentMode,
    $i = null,
    _d = null,
    Ja = null,
    bd = !1;
  function k0(o, u, p) {
    var y =
      p.window === p ? p.document : p.nodeType === 9 ? p : p.ownerDocument;
    bd ||
      $i == null ||
      $i !== xe(y) ||
      ((y = $i),
      "selectionStart" in y && vd(y)
        ? (y = { start: y.selectionStart, end: y.selectionEnd })
        : ((y = (
            (y.ownerDocument && y.ownerDocument.defaultView) ||
            window
          ).getSelection()),
          (y = {
            anchorNode: y.anchorNode,
            anchorOffset: y.anchorOffset,
            focusNode: y.focusNode,
            focusOffset: y.focusOffset,
          })),
      (Ja && Za(Ja, y)) ||
        ((Ja = y),
        (y = $l(_d, "onSelect")),
        0 < y.length &&
          ((u = new dd("onSelect", "select", null, u, p)),
          o.push({ event: u, listeners: y }),
          (u.target = $i))));
  }
  function Ul(o, u) {
    var p = {};
    return (
      (p[o.toLowerCase()] = u.toLowerCase()),
      (p["Webkit" + o] = "webkit" + u),
      (p["Moz" + o] = "moz" + u),
      p
    );
  }
  var Hi = {
      animationend: Ul("Animation", "AnimationEnd"),
      animationiteration: Ul("Animation", "AnimationIteration"),
      animationstart: Ul("Animation", "AnimationStart"),
      transitionend: Ul("Transition", "TransitionEnd"),
    },
    wd = {},
    P0 = {};
  c &&
    ((P0 = document.createElement("div").style),
    "AnimationEvent" in window ||
      (delete Hi.animationend.animation,
      delete Hi.animationiteration.animation,
      delete Hi.animationstart.animation),
    "TransitionEvent" in window || delete Hi.transitionend.transition);
  function zl(o) {
    if (wd[o]) return wd[o];
    if (!Hi[o]) return o;
    var u = Hi[o],
      p;
    for (p in u) if (u.hasOwnProperty(p) && p in P0) return (wd[o] = u[p]);
    return o;
  }
  var A0 = zl("animationend"),
    M0 = zl("animationiteration"),
    N0 = zl("animationstart"),
    R0 = zl("transitionend"),
    B0 = new Map(),
    F0 =
      "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
        " "
      );
  function Tn(o, u) {
    B0.set(o, u), i(u, [o]);
  }
  for (var Sd = 0; Sd < F0.length; Sd++) {
    var Cd = F0[Sd],
      K4 = Cd.toLowerCase(),
      Q4 = Cd[0].toUpperCase() + Cd.slice(1);
    Tn(K4, "on" + Q4);
  }
  Tn(A0, "onAnimationEnd"),
    Tn(M0, "onAnimationIteration"),
    Tn(N0, "onAnimationStart"),
    Tn("dblclick", "onDoubleClick"),
    Tn("focusin", "onFocus"),
    Tn("focusout", "onBlur"),
    Tn(R0, "onTransitionEnd"),
    l("onMouseEnter", ["mouseout", "mouseover"]),
    l("onMouseLeave", ["mouseout", "mouseover"]),
    l("onPointerEnter", ["pointerout", "pointerover"]),
    l("onPointerLeave", ["pointerout", "pointerover"]),
    i(
      "onChange",
      "change click focusin focusout input keydown keyup selectionchange".split(
        " "
      )
    ),
    i(
      "onSelect",
      "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
        " "
      )
    ),
    i("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]),
    i(
      "onCompositionEnd",
      "compositionend focusout keydown keypress keyup mousedown".split(" ")
    ),
    i(
      "onCompositionStart",
      "compositionstart focusout keydown keypress keyup mousedown".split(" ")
    ),
    i(
      "onCompositionUpdate",
      "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
    );
  var eo =
      "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
        " "
      ),
    Z4 = new Set(
      "cancel close invalid load scroll toggle".split(" ").concat(eo)
    );
  function I0(o, u, p) {
    var y = o.type || "unknown-event";
    (o.currentTarget = p), Sl(y, u, void 0, o), (o.currentTarget = null);
  }
  function O0(o, u) {
    u = (u & 4) !== 0;
    for (var p = 0; p < o.length; p++) {
      var y = o[p],
        b = y.event;
      y = y.listeners;
      e: {
        var C = void 0;
        if (u)
          for (var P = y.length - 1; 0 <= P; P--) {
            var B = y[P],
              I = B.instance,
              X = B.currentTarget;
            if (((B = B.listener), I !== C && b.isPropagationStopped()))
              break e;
            I0(b, B, X), (C = I);
          }
        else
          for (P = 0; P < y.length; P++) {
            if (
              ((B = y[P]),
              (I = B.instance),
              (X = B.currentTarget),
              (B = B.listener),
              I !== C && b.isPropagationStopped())
            )
              break e;
            I0(b, B, X), (C = I);
          }
      }
    }
    if (vn) throw ((o = Di), (vn = !1), (Di = null), o);
  }
  function bt(o, u) {
    var p = u[Nd];
    p === void 0 && (p = u[Nd] = new Set());
    var y = o + "__bubble";
    p.has(y) || (L0(u, o, 2, !1), p.add(y));
  }
  function Td(o, u, p) {
    var y = 0;
    u && (y |= 4), L0(p, o, y, u);
  }
  var Gl = "_reactListening" + Math.random().toString(36).slice(2);
  function to(o) {
    if (!o[Gl]) {
      (o[Gl] = !0),
        s.forEach(function (p) {
          p !== "selectionchange" && (Z4.has(p) || Td(p, !1, o), Td(p, !0, o));
        });
      var u = o.nodeType === 9 ? o : o.ownerDocument;
      u === null || u[Gl] || ((u[Gl] = !0), Td("selectionchange", !1, u));
    }
  }
  function L0(o, u, p, y) {
    switch (o0(u)) {
      case 1:
        var b = h4;
        break;
      case 4:
        b = f4;
        break;
      default:
        b = ld;
    }
    (p = b.bind(null, u, p, o)),
      (b = void 0),
      !Li ||
        (u !== "touchstart" && u !== "touchmove" && u !== "wheel") ||
        (b = !0),
      y
        ? b !== void 0
          ? o.addEventListener(u, p, { capture: !0, passive: b })
          : o.addEventListener(u, p, !0)
        : b !== void 0
        ? o.addEventListener(u, p, { passive: b })
        : o.addEventListener(u, p, !1);
  }
  function Ed(o, u, p, y, b) {
    var C = y;
    if ((u & 1) === 0 && (u & 2) === 0 && y !== null)
      e: for (;;) {
        if (y === null) return;
        var P = y.tag;
        if (P === 3 || P === 4) {
          var B = y.stateNode.containerInfo;
          if (B === b || (B.nodeType === 8 && B.parentNode === b)) break;
          if (P === 4)
            for (P = y.return; P !== null; ) {
              var I = P.tag;
              if (
                (I === 3 || I === 4) &&
                ((I = P.stateNode.containerInfo),
                I === b || (I.nodeType === 8 && I.parentNode === b))
              )
                return;
              P = P.return;
            }
          for (; B !== null; ) {
            if (((P = ei(B)), P === null)) return;
            if (((I = P.tag), I === 5 || I === 6)) {
              y = C = P;
              continue e;
            }
            B = B.parentNode;
          }
        }
        y = y.return;
      }
    Ba(function () {
      var X = C,
        ce = We(p),
        he = [];
      e: {
        var le = B0.get(o);
        if (le !== void 0) {
          var ye = dd,
            be = o;
          switch (o) {
            case "keypress":
              if (Il(p) === 0) break e;
            case "keydown":
            case "keyup":
              ye = k4;
              break;
            case "focusin":
              (be = "focus"), (ye = pd);
              break;
            case "focusout":
              (be = "blur"), (ye = pd);
              break;
            case "beforeblur":
            case "afterblur":
              ye = pd;
              break;
            case "click":
              if (p.button === 2) break e;
            case "auxclick":
            case "dblclick":
            case "mousedown":
            case "mousemove":
            case "mouseup":
            case "mouseout":
            case "mouseover":
            case "contextmenu":
              ye = u0;
              break;
            case "drag":
            case "dragend":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "dragstart":
            case "drop":
              ye = g4;
              break;
            case "touchcancel":
            case "touchend":
            case "touchmove":
            case "touchstart":
              ye = M4;
              break;
            case A0:
            case M0:
            case N0:
              ye = v4;
              break;
            case R0:
              ye = R4;
              break;
            case "scroll":
              ye = p4;
              break;
            case "wheel":
              ye = F4;
              break;
            case "copy":
            case "cut":
            case "paste":
              ye = b4;
              break;
            case "gotpointercapture":
            case "lostpointercapture":
            case "pointercancel":
            case "pointerdown":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "pointerup":
              ye = h0;
          }
          var we = (u & 4) !== 0,
            Lt = !we && o === "scroll",
            $ = we ? (le !== null ? le + "Capture" : null) : le;
          we = [];
          for (var L = X, V; L !== null; ) {
            V = L;
            var fe = V.stateNode;
            if (
              (V.tag === 5 &&
                fe !== null &&
                ((V = fe),
                $ !== null &&
                  ((fe = xn(L, $)), fe != null && we.push(ro(L, fe, V)))),
              Lt)
            )
              break;
            L = L.return;
          }
          0 < we.length &&
            ((le = new ye(le, be, null, p, ce)),
            he.push({ event: le, listeners: we }));
        }
      }
      if ((u & 7) === 0) {
        e: {
          if (
            ((le = o === "mouseover" || o === "pointerover"),
            (ye = o === "mouseout" || o === "pointerout"),
            le &&
              p !== Oe &&
              (be = p.relatedTarget || p.fromElement) &&
              (ei(be) || be[Xs]))
          )
            break e;
          if (
            (ye || le) &&
            ((le =
              ce.window === ce
                ? ce
                : (le = ce.ownerDocument)
                ? le.defaultView || le.parentWindow
                : window),
            ye
              ? ((be = p.relatedTarget || p.toElement),
                (ye = X),
                (be = be ? ei(be) : null),
                be !== null &&
                  ((Lt = hs(be)),
                  be !== Lt || (be.tag !== 5 && be.tag !== 6)) &&
                  (be = null))
              : ((ye = null), (be = X)),
            ye !== be)
          ) {
            if (
              ((we = u0),
              (fe = "onMouseLeave"),
              ($ = "onMouseEnter"),
              (L = "mouse"),
              (o === "pointerout" || o === "pointerover") &&
                ((we = h0),
                (fe = "onPointerLeave"),
                ($ = "onPointerEnter"),
                (L = "pointer")),
              (Lt = ye == null ? le : qi(ye)),
              (V = be == null ? le : qi(be)),
              (le = new we(fe, L + "leave", ye, p, ce)),
              (le.target = Lt),
              (le.relatedTarget = V),
              (fe = null),
              ei(ce) === X &&
                ((we = new we($, L + "enter", be, p, ce)),
                (we.target = V),
                (we.relatedTarget = Lt),
                (fe = we)),
              (Lt = fe),
              ye && be)
            )
              t: {
                for (we = ye, $ = be, L = 0, V = we; V; V = Wi(V)) L++;
                for (V = 0, fe = $; fe; fe = Wi(fe)) V++;
                for (; 0 < L - V; ) (we = Wi(we)), L--;
                for (; 0 < V - L; ) ($ = Wi($)), V--;
                for (; L--; ) {
                  if (we === $ || ($ !== null && we === $.alternate)) break t;
                  (we = Wi(we)), ($ = Wi($));
                }
                we = null;
              }
            else we = null;
            ye !== null && D0(he, le, ye, we, !1),
              be !== null && Lt !== null && D0(he, Lt, be, we, !0);
          }
        }
        e: {
          if (
            ((le = X ? qi(X) : window),
            (ye = le.nodeName && le.nodeName.toLowerCase()),
            ye === "select" || (ye === "input" && le.type === "file"))
          )
            var Ce = G4;
          else if (y0(le))
            if (_0) Ce = V4;
            else {
              Ce = H4;
              var Me = $4;
            }
          else
            (ye = le.nodeName) &&
              ye.toLowerCase() === "input" &&
              (le.type === "checkbox" || le.type === "radio") &&
              (Ce = W4);
          if (Ce && (Ce = Ce(o, X))) {
            v0(he, Ce, p, ce);
            break e;
          }
          Me && Me(o, le, X),
            o === "focusout" &&
              (Me = le._wrapperState) &&
              Me.controlled &&
              le.type === "number" &&
              hr(le, "number", le.value);
        }
        switch (((Me = X ? qi(X) : window), o)) {
          case "focusin":
            (y0(Me) || Me.contentEditable === "true") &&
              (($i = Me), (_d = X), (Ja = null));
            break;
          case "focusout":
            Ja = _d = $i = null;
            break;
          case "mousedown":
            bd = !0;
            break;
          case "contextmenu":
          case "mouseup":
          case "dragend":
            (bd = !1), k0(he, p, ce);
            break;
          case "selectionchange":
            if (Y4) break;
          case "keydown":
          case "keyup":
            k0(he, p, ce);
        }
        var Ne;
        if (gd)
          e: {
            switch (o) {
              case "compositionstart":
                var ze = "onCompositionStart";
                break e;
              case "compositionend":
                ze = "onCompositionEnd";
                break e;
              case "compositionupdate":
                ze = "onCompositionUpdate";
                break e;
            }
            ze = void 0;
          }
        else
          Gi
            ? g0(o, p) && (ze = "onCompositionEnd")
            : o === "keydown" &&
              p.keyCode === 229 &&
              (ze = "onCompositionStart");
        ze &&
          (f0 &&
            p.locale !== "ko" &&
            (Gi || ze !== "onCompositionStart"
              ? ze === "onCompositionEnd" && Gi && (Ne = l0())
              : ((Cn = ce),
                (ud = "value" in Cn ? Cn.value : Cn.textContent),
                (Gi = !0))),
          (Me = $l(X, ze)),
          0 < Me.length &&
            ((ze = new d0(ze, o, null, p, ce)),
            he.push({ event: ze, listeners: Me }),
            Ne
              ? (ze.data = Ne)
              : ((Ne = x0(p)), Ne !== null && (ze.data = Ne)))),
          (Ne = O4 ? L4(o, p) : D4(o, p)) &&
            ((X = $l(X, "onBeforeInput")),
            0 < X.length &&
              ((ce = new d0("onBeforeInput", "beforeinput", null, p, ce)),
              he.push({ event: ce, listeners: X }),
              (ce.data = Ne)));
      }
      O0(he, u);
    });
  }
  function ro(o, u, p) {
    return { instance: o, listener: u, currentTarget: p };
  }
  function $l(o, u) {
    for (var p = u + "Capture", y = []; o !== null; ) {
      var b = o,
        C = b.stateNode;
      b.tag === 5 &&
        C !== null &&
        ((b = C),
        (C = xn(o, p)),
        C != null && y.unshift(ro(o, C, b)),
        (C = xn(o, u)),
        C != null && y.push(ro(o, C, b))),
        (o = o.return);
    }
    return y;
  }
  function Wi(o) {
    if (o === null) return null;
    do o = o.return;
    while (o && o.tag !== 5);
    return o || null;
  }
  function D0(o, u, p, y, b) {
    for (var C = u._reactName, P = []; p !== null && p !== y; ) {
      var B = p,
        I = B.alternate,
        X = B.stateNode;
      if (I !== null && I === y) break;
      B.tag === 5 &&
        X !== null &&
        ((B = X),
        b
          ? ((I = xn(p, C)), I != null && P.unshift(ro(p, I, B)))
          : b || ((I = xn(p, C)), I != null && P.push(ro(p, I, B)))),
        (p = p.return);
    }
    P.length !== 0 && o.push({ event: u, listeners: P });
  }
  var J4 = /\r\n?/g,
    eE = /\u0000|\uFFFD/g;
  function U0(o) {
    return (typeof o == "string" ? o : "" + o)
      .replace(
        J4,
        `
`
      )
      .replace(eE, "");
  }
  function Hl(o, u, p) {
    if (((u = U0(u)), U0(o) !== u && p)) throw Error(t(425));
  }
  function Wl() {}
  var jd = null,
    kd = null;
  function Pd(o, u) {
    return (
      o === "textarea" ||
      o === "noscript" ||
      typeof u.children == "string" ||
      typeof u.children == "number" ||
      (typeof u.dangerouslySetInnerHTML == "object" &&
        u.dangerouslySetInnerHTML !== null &&
        u.dangerouslySetInnerHTML.__html != null)
    );
  }
  var Ad = typeof setTimeout == "function" ? setTimeout : void 0,
    tE = typeof clearTimeout == "function" ? clearTimeout : void 0,
    z0 = typeof Promise == "function" ? Promise : void 0,
    rE =
      typeof queueMicrotask == "function"
        ? queueMicrotask
        : typeof z0 < "u"
        ? function (o) {
            return z0.resolve(null).then(o).catch(sE);
          }
        : Ad;
  function sE(o) {
    setTimeout(function () {
      throw o;
    });
  }
  function Md(o, u) {
    var p = u,
      y = 0;
    do {
      var b = p.nextSibling;
      if ((o.removeChild(p), b && b.nodeType === 8))
        if (((p = b.data), p === "/$")) {
          if (y === 0) {
            o.removeChild(b), Va(u);
            return;
          }
          y--;
        } else (p !== "$" && p !== "$?" && p !== "$!") || y++;
      p = b;
    } while (p);
    Va(u);
  }
  function En(o) {
    for (; o != null; o = o.nextSibling) {
      var u = o.nodeType;
      if (u === 1 || u === 3) break;
      if (u === 8) {
        if (((u = o.data), u === "$" || u === "$!" || u === "$?")) break;
        if (u === "/$") return null;
      }
    }
    return o;
  }
  function G0(o) {
    o = o.previousSibling;
    for (var u = 0; o; ) {
      if (o.nodeType === 8) {
        var p = o.data;
        if (p === "$" || p === "$!" || p === "$?") {
          if (u === 0) return o;
          u--;
        } else p === "/$" && u++;
      }
      o = o.previousSibling;
    }
    return null;
  }
  var Vi = Math.random().toString(36).slice(2),
    Rs = "__reactFiber$" + Vi,
    so = "__reactProps$" + Vi,
    Xs = "__reactContainer$" + Vi,
    Nd = "__reactEvents$" + Vi,
    nE = "__reactListeners$" + Vi,
    iE = "__reactHandles$" + Vi;
  function ei(o) {
    var u = o[Rs];
    if (u) return u;
    for (var p = o.parentNode; p; ) {
      if ((u = p[Xs] || p[Rs])) {
        if (
          ((p = u.alternate),
          u.child !== null || (p !== null && p.child !== null))
        )
          for (o = G0(o); o !== null; ) {
            if ((p = o[Rs])) return p;
            o = G0(o);
          }
        return u;
      }
      (o = p), (p = o.parentNode);
    }
    return null;
  }
  function no(o) {
    return (
      (o = o[Rs] || o[Xs]),
      !o || (o.tag !== 5 && o.tag !== 6 && o.tag !== 13 && o.tag !== 3)
        ? null
        : o
    );
  }
  function qi(o) {
    if (o.tag === 5 || o.tag === 6) return o.stateNode;
    throw Error(t(33));
  }
  function Vl(o) {
    return o[so] || null;
  }
  var Rd = [],
    Xi = -1;
  function jn(o) {
    return { current: o };
  }
  function wt(o) {
    0 > Xi || ((o.current = Rd[Xi]), (Rd[Xi] = null), Xi--);
  }
  function xt(o, u) {
    Xi++, (Rd[Xi] = o.current), (o.current = u);
  }
  var kn = {},
    pr = jn(kn),
    Pr = jn(!1),
    ti = kn;
  function Yi(o, u) {
    var p = o.type.contextTypes;
    if (!p) return kn;
    var y = o.stateNode;
    if (y && y.__reactInternalMemoizedUnmaskedChildContext === u)
      return y.__reactInternalMemoizedMaskedChildContext;
    var b = {},
      C;
    for (C in p) b[C] = u[C];
    return (
      y &&
        ((o = o.stateNode),
        (o.__reactInternalMemoizedUnmaskedChildContext = u),
        (o.__reactInternalMemoizedMaskedChildContext = b)),
      b
    );
  }
  function Ar(o) {
    return (o = o.childContextTypes), o != null;
  }
  function ql() {
    wt(Pr), wt(pr);
  }
  function $0(o, u, p) {
    if (pr.current !== kn) throw Error(t(168));
    xt(pr, u), xt(Pr, p);
  }
  function H0(o, u, p) {
    var y = o.stateNode;
    if (((u = u.childContextTypes), typeof y.getChildContext != "function"))
      return p;
    y = y.getChildContext();
    for (var b in y) if (!(b in u)) throw Error(t(108, ae(o) || "Unknown", b));
    return J({}, p, y);
  }
  function Xl(o) {
    return (
      (o =
        ((o = o.stateNode) && o.__reactInternalMemoizedMergedChildContext) ||
        kn),
      (ti = pr.current),
      xt(pr, o),
      xt(Pr, Pr.current),
      !0
    );
  }
  function W0(o, u, p) {
    var y = o.stateNode;
    if (!y) throw Error(t(169));
    p
      ? ((o = H0(o, u, ti)),
        (y.__reactInternalMemoizedMergedChildContext = o),
        wt(Pr),
        wt(pr),
        xt(pr, o))
      : wt(Pr),
      xt(Pr, p);
  }
  var Ys = null,
    Yl = !1,
    Bd = !1;
  function V0(o) {
    Ys === null ? (Ys = [o]) : Ys.push(o);
  }
  function aE(o) {
    (Yl = !0), V0(o);
  }
  function Pn() {
    if (!Bd && Ys !== null) {
      Bd = !0;
      var o = 0,
        u = ut;
      try {
        var p = Ys;
        for (ut = 1; o < p.length; o++) {
          var y = p[o];
          do y = y(!0);
          while (y !== null);
        }
        (Ys = null), (Yl = !1);
      } catch (b) {
        throw (Ys !== null && (Ys = Ys.slice(o + 1)), Tl(rd, Pn), b);
      } finally {
        (ut = u), (Bd = !1);
      }
    }
    return null;
  }
  var Ki = [],
    Qi = 0,
    Kl = null,
    Ql = 0,
    Kr = [],
    Qr = 0,
    ri = null,
    Ks = 1,
    Qs = "";
  function si(o, u) {
    (Ki[Qi++] = Ql), (Ki[Qi++] = Kl), (Kl = o), (Ql = u);
  }
  function q0(o, u, p) {
    (Kr[Qr++] = Ks), (Kr[Qr++] = Qs), (Kr[Qr++] = ri), (ri = o);
    var y = Ks;
    o = Qs;
    var b = 32 - fs(y) - 1;
    (y &= ~(1 << b)), (p += 1);
    var C = 32 - fs(u) + b;
    if (30 < C) {
      var P = b - (b % 5);
      (C = (y & ((1 << P) - 1)).toString(32)),
        (y >>= P),
        (b -= P),
        (Ks = (1 << (32 - fs(u) + b)) | (p << b) | y),
        (Qs = C + o);
    } else (Ks = (1 << C) | (p << b) | y), (Qs = o);
  }
  function Fd(o) {
    o.return !== null && (si(o, 1), q0(o, 1, 0));
  }
  function Id(o) {
    for (; o === Kl; )
      (Kl = Ki[--Qi]), (Ki[Qi] = null), (Ql = Ki[--Qi]), (Ki[Qi] = null);
    for (; o === ri; )
      (ri = Kr[--Qr]),
        (Kr[Qr] = null),
        (Qs = Kr[--Qr]),
        (Kr[Qr] = null),
        (Ks = Kr[--Qr]),
        (Kr[Qr] = null);
  }
  var zr = null,
    Gr = null,
    jt = !1,
    ms = null;
  function X0(o, u) {
    var p = ts(5, null, null, 0);
    (p.elementType = "DELETED"),
      (p.stateNode = u),
      (p.return = o),
      (u = o.deletions),
      u === null ? ((o.deletions = [p]), (o.flags |= 16)) : u.push(p);
  }
  function Y0(o, u) {
    switch (o.tag) {
      case 5:
        var p = o.type;
        return (
          (u =
            u.nodeType !== 1 || p.toLowerCase() !== u.nodeName.toLowerCase()
              ? null
              : u),
          u !== null
            ? ((o.stateNode = u), (zr = o), (Gr = En(u.firstChild)), !0)
            : !1
        );
      case 6:
        return (
          (u = o.pendingProps === "" || u.nodeType !== 3 ? null : u),
          u !== null ? ((o.stateNode = u), (zr = o), (Gr = null), !0) : !1
        );
      case 13:
        return (
          (u = u.nodeType !== 8 ? null : u),
          u !== null
            ? ((p = ri !== null ? { id: Ks, overflow: Qs } : null),
              (o.memoizedState = {
                dehydrated: u,
                treeContext: p,
                retryLane: 1073741824,
              }),
              (p = ts(18, null, null, 0)),
              (p.stateNode = u),
              (p.return = o),
              (o.child = p),
              (zr = o),
              (Gr = null),
              !0)
            : !1
        );
      default:
        return !1;
    }
  }
  function Od(o) {
    return (o.mode & 1) !== 0 && (o.flags & 128) === 0;
  }
  function Ld(o) {
    if (jt) {
      var u = Gr;
      if (u) {
        var p = u;
        if (!Y0(o, u)) {
          if (Od(o)) throw Error(t(418));
          u = En(p.nextSibling);
          var y = zr;
          u && Y0(o, u)
            ? X0(y, p)
            : ((o.flags = (o.flags & -4097) | 2), (jt = !1), (zr = o));
        }
      } else {
        if (Od(o)) throw Error(t(418));
        (o.flags = (o.flags & -4097) | 2), (jt = !1), (zr = o);
      }
    }
  }
  function K0(o) {
    for (
      o = o.return;
      o !== null && o.tag !== 5 && o.tag !== 3 && o.tag !== 13;

    )
      o = o.return;
    zr = o;
  }
  function Zl(o) {
    if (o !== zr) return !1;
    if (!jt) return K0(o), (jt = !0), !1;
    var u;
    if (
      ((u = o.tag !== 3) &&
        !(u = o.tag !== 5) &&
        ((u = o.type),
        (u = u !== "head" && u !== "body" && !Pd(o.type, o.memoizedProps))),
      u && (u = Gr))
    ) {
      if (Od(o)) throw (Q0(), Error(t(418)));
      for (; u; ) X0(o, u), (u = En(u.nextSibling));
    }
    if ((K0(o), o.tag === 13)) {
      if (((o = o.memoizedState), (o = o !== null ? o.dehydrated : null), !o))
        throw Error(t(317));
      e: {
        for (o = o.nextSibling, u = 0; o; ) {
          if (o.nodeType === 8) {
            var p = o.data;
            if (p === "/$") {
              if (u === 0) {
                Gr = En(o.nextSibling);
                break e;
              }
              u--;
            } else (p !== "$" && p !== "$!" && p !== "$?") || u++;
          }
          o = o.nextSibling;
        }
        Gr = null;
      }
    } else Gr = zr ? En(o.stateNode.nextSibling) : null;
    return !0;
  }
  function Q0() {
    for (var o = Gr; o; ) o = En(o.nextSibling);
  }
  function Zi() {
    (Gr = zr = null), (jt = !1);
  }
  function Dd(o) {
    ms === null ? (ms = [o]) : ms.push(o);
  }
  var oE = E.ReactCurrentBatchConfig;
  function io(o, u, p) {
    if (
      ((o = p.ref),
      o !== null && typeof o != "function" && typeof o != "object")
    ) {
      if (p._owner) {
        if (((p = p._owner), p)) {
          if (p.tag !== 1) throw Error(t(309));
          var y = p.stateNode;
        }
        if (!y) throw Error(t(147, o));
        var b = y,
          C = "" + o;
        return u !== null &&
          u.ref !== null &&
          typeof u.ref == "function" &&
          u.ref._stringRef === C
          ? u.ref
          : ((u = function (P) {
              var B = b.refs;
              P === null ? delete B[C] : (B[C] = P);
            }),
            (u._stringRef = C),
            u);
      }
      if (typeof o != "string") throw Error(t(284));
      if (!p._owner) throw Error(t(290, o));
    }
    return o;
  }
  function Jl(o, u) {
    throw (
      ((o = Object.prototype.toString.call(u)),
      Error(
        t(
          31,
          o === "[object Object]"
            ? "object with keys {" + Object.keys(u).join(", ") + "}"
            : o
        )
      ))
    );
  }
  function Z0(o) {
    var u = o._init;
    return u(o._payload);
  }
  function J0(o) {
    function u($, L) {
      if (o) {
        var V = $.deletions;
        V === null ? (($.deletions = [L]), ($.flags |= 16)) : V.push(L);
      }
    }
    function p($, L) {
      if (!o) return null;
      for (; L !== null; ) u($, L), (L = L.sibling);
      return null;
    }
    function y($, L) {
      for ($ = new Map(); L !== null; )
        L.key !== null ? $.set(L.key, L) : $.set(L.index, L), (L = L.sibling);
      return $;
    }
    function b($, L) {
      return ($ = On($, L)), ($.index = 0), ($.sibling = null), $;
    }
    function C($, L, V) {
      return (
        ($.index = V),
        o
          ? ((V = $.alternate),
            V !== null
              ? ((V = V.index), V < L ? (($.flags |= 2), L) : V)
              : (($.flags |= 2), L))
          : (($.flags |= 1048576), L)
      );
    }
    function P($) {
      return o && $.alternate === null && ($.flags |= 2), $;
    }
    function B($, L, V, fe) {
      return L === null || L.tag !== 6
        ? ((L = Ah(V, $.mode, fe)), (L.return = $), L)
        : ((L = b(L, V)), (L.return = $), L);
    }
    function I($, L, V, fe) {
      var Ce = V.type;
      return Ce === N
        ? ce($, L, V.props.children, fe, V.key)
        : L !== null &&
          (L.elementType === Ce ||
            (typeof Ce == "object" &&
              Ce !== null &&
              Ce.$$typeof === se &&
              Z0(Ce) === L.type))
        ? ((fe = b(L, V.props)), (fe.ref = io($, L, V)), (fe.return = $), fe)
        : ((fe = Sc(V.type, V.key, V.props, null, $.mode, fe)),
          (fe.ref = io($, L, V)),
          (fe.return = $),
          fe);
    }
    function X($, L, V, fe) {
      return L === null ||
        L.tag !== 4 ||
        L.stateNode.containerInfo !== V.containerInfo ||
        L.stateNode.implementation !== V.implementation
        ? ((L = Mh(V, $.mode, fe)), (L.return = $), L)
        : ((L = b(L, V.children || [])), (L.return = $), L);
    }
    function ce($, L, V, fe, Ce) {
      return L === null || L.tag !== 7
        ? ((L = di(V, $.mode, fe, Ce)), (L.return = $), L)
        : ((L = b(L, V)), (L.return = $), L);
    }
    function he($, L, V) {
      if ((typeof L == "string" && L !== "") || typeof L == "number")
        return (L = Ah("" + L, $.mode, V)), (L.return = $), L;
      if (typeof L == "object" && L !== null) {
        switch (L.$$typeof) {
          case A:
            return (
              (V = Sc(L.type, L.key, L.props, null, $.mode, V)),
              (V.ref = io($, null, L)),
              (V.return = $),
              V
            );
          case M:
            return (L = Mh(L, $.mode, V)), (L.return = $), L;
          case se:
            var fe = L._init;
            return he($, fe(L._payload), V);
        }
        if (Kt(L) || re(L))
          return (L = di(L, $.mode, V, null)), (L.return = $), L;
        Jl($, L);
      }
      return null;
    }
    function le($, L, V, fe) {
      var Ce = L !== null ? L.key : null;
      if ((typeof V == "string" && V !== "") || typeof V == "number")
        return Ce !== null ? null : B($, L, "" + V, fe);
      if (typeof V == "object" && V !== null) {
        switch (V.$$typeof) {
          case A:
            return V.key === Ce ? I($, L, V, fe) : null;
          case M:
            return V.key === Ce ? X($, L, V, fe) : null;
          case se:
            return (Ce = V._init), le($, L, Ce(V._payload), fe);
        }
        if (Kt(V) || re(V)) return Ce !== null ? null : ce($, L, V, fe, null);
        Jl($, V);
      }
      return null;
    }
    function ye($, L, V, fe, Ce) {
      if ((typeof fe == "string" && fe !== "") || typeof fe == "number")
        return ($ = $.get(V) || null), B(L, $, "" + fe, Ce);
      if (typeof fe == "object" && fe !== null) {
        switch (fe.$$typeof) {
          case A:
            return (
              ($ = $.get(fe.key === null ? V : fe.key) || null), I(L, $, fe, Ce)
            );
          case M:
            return (
              ($ = $.get(fe.key === null ? V : fe.key) || null), X(L, $, fe, Ce)
            );
          case se:
            var Me = fe._init;
            return ye($, L, V, Me(fe._payload), Ce);
        }
        if (Kt(fe) || re(fe))
          return ($ = $.get(V) || null), ce(L, $, fe, Ce, null);
        Jl(L, fe);
      }
      return null;
    }
    function be($, L, V, fe) {
      for (
        var Ce = null, Me = null, Ne = L, ze = (L = 0), Jt = null;
        Ne !== null && ze < V.length;
        ze++
      ) {
        Ne.index > ze ? ((Jt = Ne), (Ne = null)) : (Jt = Ne.sibling);
        var it = le($, Ne, V[ze], fe);
        if (it === null) {
          Ne === null && (Ne = Jt);
          break;
        }
        o && Ne && it.alternate === null && u($, Ne),
          (L = C(it, L, ze)),
          Me === null ? (Ce = it) : (Me.sibling = it),
          (Me = it),
          (Ne = Jt);
      }
      if (ze === V.length) return p($, Ne), jt && si($, ze), Ce;
      if (Ne === null) {
        for (; ze < V.length; ze++)
          (Ne = he($, V[ze], fe)),
            Ne !== null &&
              ((L = C(Ne, L, ze)),
              Me === null ? (Ce = Ne) : (Me.sibling = Ne),
              (Me = Ne));
        return jt && si($, ze), Ce;
      }
      for (Ne = y($, Ne); ze < V.length; ze++)
        (Jt = ye(Ne, $, ze, V[ze], fe)),
          Jt !== null &&
            (o &&
              Jt.alternate !== null &&
              Ne.delete(Jt.key === null ? ze : Jt.key),
            (L = C(Jt, L, ze)),
            Me === null ? (Ce = Jt) : (Me.sibling = Jt),
            (Me = Jt));
      return (
        o &&
          Ne.forEach(function (Ln) {
            return u($, Ln);
          }),
        jt && si($, ze),
        Ce
      );
    }
    function we($, L, V, fe) {
      var Ce = re(V);
      if (typeof Ce != "function") throw Error(t(150));
      if (((V = Ce.call(V)), V == null)) throw Error(t(151));
      for (
        var Me = (Ce = null), Ne = L, ze = (L = 0), Jt = null, it = V.next();
        Ne !== null && !it.done;
        ze++, it = V.next()
      ) {
        Ne.index > ze ? ((Jt = Ne), (Ne = null)) : (Jt = Ne.sibling);
        var Ln = le($, Ne, it.value, fe);
        if (Ln === null) {
          Ne === null && (Ne = Jt);
          break;
        }
        o && Ne && Ln.alternate === null && u($, Ne),
          (L = C(Ln, L, ze)),
          Me === null ? (Ce = Ln) : (Me.sibling = Ln),
          (Me = Ln),
          (Ne = Jt);
      }
      if (it.done) return p($, Ne), jt && si($, ze), Ce;
      if (Ne === null) {
        for (; !it.done; ze++, it = V.next())
          (it = he($, it.value, fe)),
            it !== null &&
              ((L = C(it, L, ze)),
              Me === null ? (Ce = it) : (Me.sibling = it),
              (Me = it));
        return jt && si($, ze), Ce;
      }
      for (Ne = y($, Ne); !it.done; ze++, it = V.next())
        (it = ye(Ne, $, ze, it.value, fe)),
          it !== null &&
            (o &&
              it.alternate !== null &&
              Ne.delete(it.key === null ? ze : it.key),
            (L = C(it, L, ze)),
            Me === null ? (Ce = it) : (Me.sibling = it),
            (Me = it));
      return (
        o &&
          Ne.forEach(function (UE) {
            return u($, UE);
          }),
        jt && si($, ze),
        Ce
      );
    }
    function Lt($, L, V, fe) {
      if (
        (typeof V == "object" &&
          V !== null &&
          V.type === N &&
          V.key === null &&
          (V = V.props.children),
        typeof V == "object" && V !== null)
      ) {
        switch (V.$$typeof) {
          case A:
            e: {
              for (var Ce = V.key, Me = L; Me !== null; ) {
                if (Me.key === Ce) {
                  if (((Ce = V.type), Ce === N)) {
                    if (Me.tag === 7) {
                      p($, Me.sibling),
                        (L = b(Me, V.props.children)),
                        (L.return = $),
                        ($ = L);
                      break e;
                    }
                  } else if (
                    Me.elementType === Ce ||
                    (typeof Ce == "object" &&
                      Ce !== null &&
                      Ce.$$typeof === se &&
                      Z0(Ce) === Me.type)
                  ) {
                    p($, Me.sibling),
                      (L = b(Me, V.props)),
                      (L.ref = io($, Me, V)),
                      (L.return = $),
                      ($ = L);
                    break e;
                  }
                  p($, Me);
                  break;
                } else u($, Me);
                Me = Me.sibling;
              }
              V.type === N
                ? ((L = di(V.props.children, $.mode, fe, V.key)),
                  (L.return = $),
                  ($ = L))
                : ((fe = Sc(V.type, V.key, V.props, null, $.mode, fe)),
                  (fe.ref = io($, L, V)),
                  (fe.return = $),
                  ($ = fe));
            }
            return P($);
          case M:
            e: {
              for (Me = V.key; L !== null; ) {
                if (L.key === Me)
                  if (
                    L.tag === 4 &&
                    L.stateNode.containerInfo === V.containerInfo &&
                    L.stateNode.implementation === V.implementation
                  ) {
                    p($, L.sibling),
                      (L = b(L, V.children || [])),
                      (L.return = $),
                      ($ = L);
                    break e;
                  } else {
                    p($, L);
                    break;
                  }
                else u($, L);
                L = L.sibling;
              }
              (L = Mh(V, $.mode, fe)), (L.return = $), ($ = L);
            }
            return P($);
          case se:
            return (Me = V._init), Lt($, L, Me(V._payload), fe);
        }
        if (Kt(V)) return be($, L, V, fe);
        if (re(V)) return we($, L, V, fe);
        Jl($, V);
      }
      return (typeof V == "string" && V !== "") || typeof V == "number"
        ? ((V = "" + V),
          L !== null && L.tag === 6
            ? (p($, L.sibling), (L = b(L, V)), (L.return = $), ($ = L))
            : (p($, L), (L = Ah(V, $.mode, fe)), (L.return = $), ($ = L)),
          P($))
        : p($, L);
    }
    return Lt;
  }
  var Ji = J0(!0),
    ex = J0(!1),
    ec = jn(null),
    tc = null,
    ea = null,
    Ud = null;
  function zd() {
    Ud = ea = tc = null;
  }
  function Gd(o) {
    var u = ec.current;
    wt(ec), (o._currentValue = u);
  }
  function $d(o, u, p) {
    for (; o !== null; ) {
      var y = o.alternate;
      if (
        ((o.childLanes & u) !== u
          ? ((o.childLanes |= u), y !== null && (y.childLanes |= u))
          : y !== null && (y.childLanes & u) !== u && (y.childLanes |= u),
        o === p)
      )
        break;
      o = o.return;
    }
  }
  function ta(o, u) {
    (tc = o),
      (Ud = ea = null),
      (o = o.dependencies),
      o !== null &&
        o.firstContext !== null &&
        ((o.lanes & u) !== 0 && (Mr = !0), (o.firstContext = null));
  }
  function Zr(o) {
    var u = o._currentValue;
    if (Ud !== o)
      if (((o = { context: o, memoizedValue: u, next: null }), ea === null)) {
        if (tc === null) throw Error(t(308));
        (ea = o), (tc.dependencies = { lanes: 0, firstContext: o });
      } else ea = ea.next = o;
    return u;
  }
  var ni = null;
  function Hd(o) {
    ni === null ? (ni = [o]) : ni.push(o);
  }
  function tx(o, u, p, y) {
    var b = u.interleaved;
    return (
      b === null ? ((p.next = p), Hd(u)) : ((p.next = b.next), (b.next = p)),
      (u.interleaved = p),
      Zs(o, y)
    );
  }
  function Zs(o, u) {
    o.lanes |= u;
    var p = o.alternate;
    for (p !== null && (p.lanes |= u), p = o, o = o.return; o !== null; )
      (o.childLanes |= u),
        (p = o.alternate),
        p !== null && (p.childLanes |= u),
        (p = o),
        (o = o.return);
    return p.tag === 3 ? p.stateNode : null;
  }
  var An = !1;
  function Wd(o) {
    o.updateQueue = {
      baseState: o.memoizedState,
      firstBaseUpdate: null,
      lastBaseUpdate: null,
      shared: { pending: null, interleaved: null, lanes: 0 },
      effects: null,
    };
  }
  function rx(o, u) {
    (o = o.updateQueue),
      u.updateQueue === o &&
        (u.updateQueue = {
          baseState: o.baseState,
          firstBaseUpdate: o.firstBaseUpdate,
          lastBaseUpdate: o.lastBaseUpdate,
          shared: o.shared,
          effects: o.effects,
        });
  }
  function Js(o, u) {
    return {
      eventTime: o,
      lane: u,
      tag: 0,
      payload: null,
      callback: null,
      next: null,
    };
  }
  function Mn(o, u, p) {
    var y = o.updateQueue;
    if (y === null) return null;
    if (((y = y.shared), (rt & 2) !== 0)) {
      var b = y.pending;
      return (
        b === null ? (u.next = u) : ((u.next = b.next), (b.next = u)),
        (y.pending = u),
        Zs(o, p)
      );
    }
    return (
      (b = y.interleaved),
      b === null ? ((u.next = u), Hd(y)) : ((u.next = b.next), (b.next = u)),
      (y.interleaved = u),
      Zs(o, p)
    );
  }
  function rc(o, u, p) {
    if (
      ((u = u.updateQueue), u !== null && ((u = u.shared), (p & 4194240) !== 0))
    ) {
      var y = u.lanes;
      (y &= o.pendingLanes), (p |= y), (u.lanes = p), id(o, p);
    }
  }
  function sx(o, u) {
    var p = o.updateQueue,
      y = o.alternate;
    if (y !== null && ((y = y.updateQueue), p === y)) {
      var b = null,
        C = null;
      if (((p = p.firstBaseUpdate), p !== null)) {
        do {
          var P = {
            eventTime: p.eventTime,
            lane: p.lane,
            tag: p.tag,
            payload: p.payload,
            callback: p.callback,
            next: null,
          };
          C === null ? (b = C = P) : (C = C.next = P), (p = p.next);
        } while (p !== null);
        C === null ? (b = C = u) : (C = C.next = u);
      } else b = C = u;
      (p = {
        baseState: y.baseState,
        firstBaseUpdate: b,
        lastBaseUpdate: C,
        shared: y.shared,
        effects: y.effects,
      }),
        (o.updateQueue = p);
      return;
    }
    (o = p.lastBaseUpdate),
      o === null ? (p.firstBaseUpdate = u) : (o.next = u),
      (p.lastBaseUpdate = u);
  }
  function sc(o, u, p, y) {
    var b = o.updateQueue;
    An = !1;
    var C = b.firstBaseUpdate,
      P = b.lastBaseUpdate,
      B = b.shared.pending;
    if (B !== null) {
      b.shared.pending = null;
      var I = B,
        X = I.next;
      (I.next = null), P === null ? (C = X) : (P.next = X), (P = I);
      var ce = o.alternate;
      ce !== null &&
        ((ce = ce.updateQueue),
        (B = ce.lastBaseUpdate),
        B !== P &&
          (B === null ? (ce.firstBaseUpdate = X) : (B.next = X),
          (ce.lastBaseUpdate = I)));
    }
    if (C !== null) {
      var he = b.baseState;
      (P = 0), (ce = X = I = null), (B = C);
      do {
        var le = B.lane,
          ye = B.eventTime;
        if ((y & le) === le) {
          ce !== null &&
            (ce = ce.next =
              {
                eventTime: ye,
                lane: 0,
                tag: B.tag,
                payload: B.payload,
                callback: B.callback,
                next: null,
              });
          e: {
            var be = o,
              we = B;
            switch (((le = u), (ye = p), we.tag)) {
              case 1:
                if (((be = we.payload), typeof be == "function")) {
                  he = be.call(ye, he, le);
                  break e;
                }
                he = be;
                break e;
              case 3:
                be.flags = (be.flags & -65537) | 128;
              case 0:
                if (
                  ((be = we.payload),
                  (le = typeof be == "function" ? be.call(ye, he, le) : be),
                  le == null)
                )
                  break e;
                he = J({}, he, le);
                break e;
              case 2:
                An = !0;
            }
          }
          B.callback !== null &&
            B.lane !== 0 &&
            ((o.flags |= 64),
            (le = b.effects),
            le === null ? (b.effects = [B]) : le.push(B));
        } else
          (ye = {
            eventTime: ye,
            lane: le,
            tag: B.tag,
            payload: B.payload,
            callback: B.callback,
            next: null,
          }),
            ce === null ? ((X = ce = ye), (I = he)) : (ce = ce.next = ye),
            (P |= le);
        if (((B = B.next), B === null)) {
          if (((B = b.shared.pending), B === null)) break;
          (le = B),
            (B = le.next),
            (le.next = null),
            (b.lastBaseUpdate = le),
            (b.shared.pending = null);
        }
      } while (!0);
      if (
        (ce === null && (I = he),
        (b.baseState = I),
        (b.firstBaseUpdate = X),
        (b.lastBaseUpdate = ce),
        (u = b.shared.interleaved),
        u !== null)
      ) {
        b = u;
        do (P |= b.lane), (b = b.next);
        while (b !== u);
      } else C === null && (b.shared.lanes = 0);
      (oi |= P), (o.lanes = P), (o.memoizedState = he);
    }
  }
  function nx(o, u, p) {
    if (((o = u.effects), (u.effects = null), o !== null))
      for (u = 0; u < o.length; u++) {
        var y = o[u],
          b = y.callback;
        if (b !== null) {
          if (((y.callback = null), (y = p), typeof b != "function"))
            throw Error(t(191, b));
          b.call(y);
        }
      }
  }
  var ao = {},
    Bs = jn(ao),
    oo = jn(ao),
    lo = jn(ao);
  function ii(o) {
    if (o === ao) throw Error(t(174));
    return o;
  }
  function Vd(o, u) {
    switch ((xt(lo, u), xt(oo, o), xt(Bs, ao), (o = u.nodeType), o)) {
      case 9:
      case 11:
        u = (u = u.documentElement) ? u.namespaceURI : et(null, "");
        break;
      default:
        (o = o === 8 ? u.parentNode : u),
          (u = o.namespaceURI || null),
          (o = o.tagName),
          (u = et(u, o));
    }
    wt(Bs), xt(Bs, u);
  }
  function ra() {
    wt(Bs), wt(oo), wt(lo);
  }
  function ix(o) {
    ii(lo.current);
    var u = ii(Bs.current),
      p = et(u, o.type);
    u !== p && (xt(oo, o), xt(Bs, p));
  }
  function qd(o) {
    oo.current === o && (wt(Bs), wt(oo));
  }
  var Pt = jn(0);
  function nc(o) {
    for (var u = o; u !== null; ) {
      if (u.tag === 13) {
        var p = u.memoizedState;
        if (
          p !== null &&
          ((p = p.dehydrated), p === null || p.data === "$?" || p.data === "$!")
        )
          return u;
      } else if (u.tag === 19 && u.memoizedProps.revealOrder !== void 0) {
        if ((u.flags & 128) !== 0) return u;
      } else if (u.child !== null) {
        (u.child.return = u), (u = u.child);
        continue;
      }
      if (u === o) break;
      for (; u.sibling === null; ) {
        if (u.return === null || u.return === o) return null;
        u = u.return;
      }
      (u.sibling.return = u.return), (u = u.sibling);
    }
    return null;
  }
  var Xd = [];
  function Yd() {
    for (var o = 0; o < Xd.length; o++)
      Xd[o]._workInProgressVersionPrimary = null;
    Xd.length = 0;
  }
  var ic = E.ReactCurrentDispatcher,
    Kd = E.ReactCurrentBatchConfig,
    ai = 0,
    At = null,
    Ht = null,
    Qt = null,
    ac = !1,
    co = !1,
    uo = 0,
    lE = 0;
  function mr() {
    throw Error(t(321));
  }
  function Qd(o, u) {
    if (u === null) return !1;
    for (var p = 0; p < u.length && p < o.length; p++)
      if (!ps(o[p], u[p])) return !1;
    return !0;
  }
  function Zd(o, u, p, y, b, C) {
    if (
      ((ai = C),
      (At = u),
      (u.memoizedState = null),
      (u.updateQueue = null),
      (u.lanes = 0),
      (ic.current = o === null || o.memoizedState === null ? hE : fE),
      (o = p(y, b)),
      co)
    ) {
      C = 0;
      do {
        if (((co = !1), (uo = 0), 25 <= C)) throw Error(t(301));
        (C += 1),
          (Qt = Ht = null),
          (u.updateQueue = null),
          (ic.current = pE),
          (o = p(y, b));
      } while (co);
    }
    if (
      ((ic.current = cc),
      (u = Ht !== null && Ht.next !== null),
      (ai = 0),
      (Qt = Ht = At = null),
      (ac = !1),
      u)
    )
      throw Error(t(300));
    return o;
  }
  function Jd() {
    var o = uo !== 0;
    return (uo = 0), o;
  }
  function Fs() {
    var o = {
      memoizedState: null,
      baseState: null,
      baseQueue: null,
      queue: null,
      next: null,
    };
    return Qt === null ? (At.memoizedState = Qt = o) : (Qt = Qt.next = o), Qt;
  }
  function Jr() {
    if (Ht === null) {
      var o = At.alternate;
      o = o !== null ? o.memoizedState : null;
    } else o = Ht.next;
    var u = Qt === null ? At.memoizedState : Qt.next;
    if (u !== null) (Qt = u), (Ht = o);
    else {
      if (o === null) throw Error(t(310));
      (Ht = o),
        (o = {
          memoizedState: Ht.memoizedState,
          baseState: Ht.baseState,
          baseQueue: Ht.baseQueue,
          queue: Ht.queue,
          next: null,
        }),
        Qt === null ? (At.memoizedState = Qt = o) : (Qt = Qt.next = o);
    }
    return Qt;
  }
  function ho(o, u) {
    return typeof u == "function" ? u(o) : u;
  }
  function eh(o) {
    var u = Jr(),
      p = u.queue;
    if (p === null) throw Error(t(311));
    p.lastRenderedReducer = o;
    var y = Ht,
      b = y.baseQueue,
      C = p.pending;
    if (C !== null) {
      if (b !== null) {
        var P = b.next;
        (b.next = C.next), (C.next = P);
      }
      (y.baseQueue = b = C), (p.pending = null);
    }
    if (b !== null) {
      (C = b.next), (y = y.baseState);
      var B = (P = null),
        I = null,
        X = C;
      do {
        var ce = X.lane;
        if ((ai & ce) === ce)
          I !== null &&
            (I = I.next =
              {
                lane: 0,
                action: X.action,
                hasEagerState: X.hasEagerState,
                eagerState: X.eagerState,
                next: null,
              }),
            (y = X.hasEagerState ? X.eagerState : o(y, X.action));
        else {
          var he = {
            lane: ce,
            action: X.action,
            hasEagerState: X.hasEagerState,
            eagerState: X.eagerState,
            next: null,
          };
          I === null ? ((B = I = he), (P = y)) : (I = I.next = he),
            (At.lanes |= ce),
            (oi |= ce);
        }
        X = X.next;
      } while (X !== null && X !== C);
      I === null ? (P = y) : (I.next = B),
        ps(y, u.memoizedState) || (Mr = !0),
        (u.memoizedState = y),
        (u.baseState = P),
        (u.baseQueue = I),
        (p.lastRenderedState = y);
    }
    if (((o = p.interleaved), o !== null)) {
      b = o;
      do (C = b.lane), (At.lanes |= C), (oi |= C), (b = b.next);
      while (b !== o);
    } else b === null && (p.lanes = 0);
    return [u.memoizedState, p.dispatch];
  }
  function th(o) {
    var u = Jr(),
      p = u.queue;
    if (p === null) throw Error(t(311));
    p.lastRenderedReducer = o;
    var y = p.dispatch,
      b = p.pending,
      C = u.memoizedState;
    if (b !== null) {
      p.pending = null;
      var P = (b = b.next);
      do (C = o(C, P.action)), (P = P.next);
      while (P !== b);
      ps(C, u.memoizedState) || (Mr = !0),
        (u.memoizedState = C),
        u.baseQueue === null && (u.baseState = C),
        (p.lastRenderedState = C);
    }
    return [C, y];
  }
  function ax() {}
  function ox(o, u) {
    var p = At,
      y = Jr(),
      b = u(),
      C = !ps(y.memoizedState, b);
    if (
      (C && ((y.memoizedState = b), (Mr = !0)),
      (y = y.queue),
      rh(ux.bind(null, p, y, o), [o]),
      y.getSnapshot !== u || C || (Qt !== null && Qt.memoizedState.tag & 1))
    ) {
      if (
        ((p.flags |= 2048),
        fo(9, cx.bind(null, p, y, b, u), void 0, null),
        Zt === null)
      )
        throw Error(t(349));
      (ai & 30) !== 0 || lx(p, u, b);
    }
    return b;
  }
  function lx(o, u, p) {
    (o.flags |= 16384),
      (o = { getSnapshot: u, value: p }),
      (u = At.updateQueue),
      u === null
        ? ((u = { lastEffect: null, stores: null }),
          (At.updateQueue = u),
          (u.stores = [o]))
        : ((p = u.stores), p === null ? (u.stores = [o]) : p.push(o));
  }
  function cx(o, u, p, y) {
    (u.value = p), (u.getSnapshot = y), dx(u) && hx(o);
  }
  function ux(o, u, p) {
    return p(function () {
      dx(u) && hx(o);
    });
  }
  function dx(o) {
    var u = o.getSnapshot;
    o = o.value;
    try {
      var p = u();
      return !ps(o, p);
    } catch {
      return !0;
    }
  }
  function hx(o) {
    var u = Zs(o, 1);
    u !== null && vs(u, o, 1, -1);
  }
  function fx(o) {
    var u = Fs();
    return (
      typeof o == "function" && (o = o()),
      (u.memoizedState = u.baseState = o),
      (o = {
        pending: null,
        interleaved: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: ho,
        lastRenderedState: o,
      }),
      (u.queue = o),
      (o = o.dispatch = dE.bind(null, At, o)),
      [u.memoizedState, o]
    );
  }
  function fo(o, u, p, y) {
    return (
      (o = { tag: o, create: u, destroy: p, deps: y, next: null }),
      (u = At.updateQueue),
      u === null
        ? ((u = { lastEffect: null, stores: null }),
          (At.updateQueue = u),
          (u.lastEffect = o.next = o))
        : ((p = u.lastEffect),
          p === null
            ? (u.lastEffect = o.next = o)
            : ((y = p.next), (p.next = o), (o.next = y), (u.lastEffect = o))),
      o
    );
  }
  function px() {
    return Jr().memoizedState;
  }
  function oc(o, u, p, y) {
    var b = Fs();
    (At.flags |= o),
      (b.memoizedState = fo(1 | u, p, void 0, y === void 0 ? null : y));
  }
  function lc(o, u, p, y) {
    var b = Jr();
    y = y === void 0 ? null : y;
    var C = void 0;
    if (Ht !== null) {
      var P = Ht.memoizedState;
      if (((C = P.destroy), y !== null && Qd(y, P.deps))) {
        b.memoizedState = fo(u, p, C, y);
        return;
      }
    }
    (At.flags |= o), (b.memoizedState = fo(1 | u, p, C, y));
  }
  function mx(o, u) {
    return oc(8390656, 8, o, u);
  }
  function rh(o, u) {
    return lc(2048, 8, o, u);
  }
  function gx(o, u) {
    return lc(4, 2, o, u);
  }
  function xx(o, u) {
    return lc(4, 4, o, u);
  }
  function yx(o, u) {
    if (typeof u == "function")
      return (
        (o = o()),
        u(o),
        function () {
          u(null);
        }
      );
    if (u != null)
      return (
        (o = o()),
        (u.current = o),
        function () {
          u.current = null;
        }
      );
  }
  function vx(o, u, p) {
    return (
      (p = p != null ? p.concat([o]) : null), lc(4, 4, yx.bind(null, u, o), p)
    );
  }
  function sh() {}
  function _x(o, u) {
    var p = Jr();
    u = u === void 0 ? null : u;
    var y = p.memoizedState;
    return y !== null && u !== null && Qd(u, y[1])
      ? y[0]
      : ((p.memoizedState = [o, u]), o);
  }
  function bx(o, u) {
    var p = Jr();
    u = u === void 0 ? null : u;
    var y = p.memoizedState;
    return y !== null && u !== null && Qd(u, y[1])
      ? y[0]
      : ((o = o()), (p.memoizedState = [o, u]), o);
  }
  function wx(o, u, p) {
    return (ai & 21) === 0
      ? (o.baseState && ((o.baseState = !1), (Mr = !0)), (o.memoizedState = p))
      : (ps(p, u) ||
          ((p = Zg()), (At.lanes |= p), (oi |= p), (o.baseState = !0)),
        u);
  }
  function cE(o, u) {
    var p = ut;
    (ut = p !== 0 && 4 > p ? p : 4), o(!0);
    var y = Kd.transition;
    Kd.transition = {};
    try {
      o(!1), u();
    } finally {
      (ut = p), (Kd.transition = y);
    }
  }
  function Sx() {
    return Jr().memoizedState;
  }
  function uE(o, u, p) {
    var y = Fn(o);
    if (
      ((p = {
        lane: y,
        action: p,
        hasEagerState: !1,
        eagerState: null,
        next: null,
      }),
      Cx(o))
    )
      Tx(u, p);
    else if (((p = tx(o, u, p, y)), p !== null)) {
      var b = Tr();
      vs(p, o, y, b), Ex(p, u, y);
    }
  }
  function dE(o, u, p) {
    var y = Fn(o),
      b = {
        lane: y,
        action: p,
        hasEagerState: !1,
        eagerState: null,
        next: null,
      };
    if (Cx(o)) Tx(u, b);
    else {
      var C = o.alternate;
      if (
        o.lanes === 0 &&
        (C === null || C.lanes === 0) &&
        ((C = u.lastRenderedReducer), C !== null)
      )
        try {
          var P = u.lastRenderedState,
            B = C(P, p);
          if (((b.hasEagerState = !0), (b.eagerState = B), ps(B, P))) {
            var I = u.interleaved;
            I === null
              ? ((b.next = b), Hd(u))
              : ((b.next = I.next), (I.next = b)),
              (u.interleaved = b);
            return;
          }
        } catch {
        } finally {
        }
      (p = tx(o, u, b, y)),
        p !== null && ((b = Tr()), vs(p, o, y, b), Ex(p, u, y));
    }
  }
  function Cx(o) {
    var u = o.alternate;
    return o === At || (u !== null && u === At);
  }
  function Tx(o, u) {
    co = ac = !0;
    var p = o.pending;
    p === null ? (u.next = u) : ((u.next = p.next), (p.next = u)),
      (o.pending = u);
  }
  function Ex(o, u, p) {
    if ((p & 4194240) !== 0) {
      var y = u.lanes;
      (y &= o.pendingLanes), (p |= y), (u.lanes = p), id(o, p);
    }
  }
  var cc = {
      readContext: Zr,
      useCallback: mr,
      useContext: mr,
      useEffect: mr,
      useImperativeHandle: mr,
      useInsertionEffect: mr,
      useLayoutEffect: mr,
      useMemo: mr,
      useReducer: mr,
      useRef: mr,
      useState: mr,
      useDebugValue: mr,
      useDeferredValue: mr,
      useTransition: mr,
      useMutableSource: mr,
      useSyncExternalStore: mr,
      useId: mr,
      unstable_isNewReconciler: !1,
    },
    hE = {
      readContext: Zr,
      useCallback: function (o, u) {
        return (Fs().memoizedState = [o, u === void 0 ? null : u]), o;
      },
      useContext: Zr,
      useEffect: mx,
      useImperativeHandle: function (o, u, p) {
        return (
          (p = p != null ? p.concat([o]) : null),
          oc(4194308, 4, yx.bind(null, u, o), p)
        );
      },
      useLayoutEffect: function (o, u) {
        return oc(4194308, 4, o, u);
      },
      useInsertionEffect: function (o, u) {
        return oc(4, 2, o, u);
      },
      useMemo: function (o, u) {
        var p = Fs();
        return (
          (u = u === void 0 ? null : u),
          (o = o()),
          (p.memoizedState = [o, u]),
          o
        );
      },
      useReducer: function (o, u, p) {
        var y = Fs();
        return (
          (u = p !== void 0 ? p(u) : u),
          (y.memoizedState = y.baseState = u),
          (o = {
            pending: null,
            interleaved: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: o,
            lastRenderedState: u,
          }),
          (y.queue = o),
          (o = o.dispatch = uE.bind(null, At, o)),
          [y.memoizedState, o]
        );
      },
      useRef: function (o) {
        var u = Fs();
        return (o = { current: o }), (u.memoizedState = o);
      },
      useState: fx,
      useDebugValue: sh,
      useDeferredValue: function (o) {
        return (Fs().memoizedState = o);
      },
      useTransition: function () {
        var o = fx(!1),
          u = o[0];
        return (o = cE.bind(null, o[1])), (Fs().memoizedState = o), [u, o];
      },
      useMutableSource: function () {},
      useSyncExternalStore: function (o, u, p) {
        var y = At,
          b = Fs();
        if (jt) {
          if (p === void 0) throw Error(t(407));
          p = p();
        } else {
          if (((p = u()), Zt === null)) throw Error(t(349));
          (ai & 30) !== 0 || lx(y, u, p);
        }
        b.memoizedState = p;
        var C = { value: p, getSnapshot: u };
        return (
          (b.queue = C),
          mx(ux.bind(null, y, C, o), [o]),
          (y.flags |= 2048),
          fo(9, cx.bind(null, y, C, p, u), void 0, null),
          p
        );
      },
      useId: function () {
        var o = Fs(),
          u = Zt.identifierPrefix;
        if (jt) {
          var p = Qs,
            y = Ks;
          (p = (y & ~(1 << (32 - fs(y) - 1))).toString(32) + p),
            (u = ":" + u + "R" + p),
            (p = uo++),
            0 < p && (u += "H" + p.toString(32)),
            (u += ":");
        } else (p = lE++), (u = ":" + u + "r" + p.toString(32) + ":");
        return (o.memoizedState = u);
      },
      unstable_isNewReconciler: !1,
    },
    fE = {
      readContext: Zr,
      useCallback: _x,
      useContext: Zr,
      useEffect: rh,
      useImperativeHandle: vx,
      useInsertionEffect: gx,
      useLayoutEffect: xx,
      useMemo: bx,
      useReducer: eh,
      useRef: px,
      useState: function () {
        return eh(ho);
      },
      useDebugValue: sh,
      useDeferredValue: function (o) {
        var u = Jr();
        return wx(u, Ht.memoizedState, o);
      },
      useTransition: function () {
        var o = eh(ho)[0],
          u = Jr().memoizedState;
        return [o, u];
      },
      useMutableSource: ax,
      useSyncExternalStore: ox,
      useId: Sx,
      unstable_isNewReconciler: !1,
    },
    pE = {
      readContext: Zr,
      useCallback: _x,
      useContext: Zr,
      useEffect: rh,
      useImperativeHandle: vx,
      useInsertionEffect: gx,
      useLayoutEffect: xx,
      useMemo: bx,
      useReducer: th,
      useRef: px,
      useState: function () {
        return th(ho);
      },
      useDebugValue: sh,
      useDeferredValue: function (o) {
        var u = Jr();
        return Ht === null ? (u.memoizedState = o) : wx(u, Ht.memoizedState, o);
      },
      useTransition: function () {
        var o = th(ho)[0],
          u = Jr().memoizedState;
        return [o, u];
      },
      useMutableSource: ax,
      useSyncExternalStore: ox,
      useId: Sx,
      unstable_isNewReconciler: !1,
    };
  function gs(o, u) {
    if (o && o.defaultProps) {
      (u = J({}, u)), (o = o.defaultProps);
      for (var p in o) u[p] === void 0 && (u[p] = o[p]);
      return u;
    }
    return u;
  }
  function nh(o, u, p, y) {
    (u = o.memoizedState),
      (p = p(y, u)),
      (p = p == null ? u : J({}, u, p)),
      (o.memoizedState = p),
      o.lanes === 0 && (o.updateQueue.baseState = p);
  }
  var uc = {
    isMounted: function (o) {
      return (o = o._reactInternals) ? hs(o) === o : !1;
    },
    enqueueSetState: function (o, u, p) {
      o = o._reactInternals;
      var y = Tr(),
        b = Fn(o),
        C = Js(y, b);
      (C.payload = u),
        p != null && (C.callback = p),
        (u = Mn(o, C, b)),
        u !== null && (vs(u, o, b, y), rc(u, o, b));
    },
    enqueueReplaceState: function (o, u, p) {
      o = o._reactInternals;
      var y = Tr(),
        b = Fn(o),
        C = Js(y, b);
      (C.tag = 1),
        (C.payload = u),
        p != null && (C.callback = p),
        (u = Mn(o, C, b)),
        u !== null && (vs(u, o, b, y), rc(u, o, b));
    },
    enqueueForceUpdate: function (o, u) {
      o = o._reactInternals;
      var p = Tr(),
        y = Fn(o),
        b = Js(p, y);
      (b.tag = 2),
        u != null && (b.callback = u),
        (u = Mn(o, b, y)),
        u !== null && (vs(u, o, y, p), rc(u, o, y));
    },
  };
  function jx(o, u, p, y, b, C, P) {
    return (
      (o = o.stateNode),
      typeof o.shouldComponentUpdate == "function"
        ? o.shouldComponentUpdate(y, C, P)
        : u.prototype && u.prototype.isPureReactComponent
        ? !Za(p, y) || !Za(b, C)
        : !0
    );
  }
  function kx(o, u, p) {
    var y = !1,
      b = kn,
      C = u.contextType;
    return (
      typeof C == "object" && C !== null
        ? (C = Zr(C))
        : ((b = Ar(u) ? ti : pr.current),
          (y = u.contextTypes),
          (C = (y = y != null) ? Yi(o, b) : kn)),
      (u = new u(p, C)),
      (o.memoizedState =
        u.state !== null && u.state !== void 0 ? u.state : null),
      (u.updater = uc),
      (o.stateNode = u),
      (u._reactInternals = o),
      y &&
        ((o = o.stateNode),
        (o.__reactInternalMemoizedUnmaskedChildContext = b),
        (o.__reactInternalMemoizedMaskedChildContext = C)),
      u
    );
  }
  function Px(o, u, p, y) {
    (o = u.state),
      typeof u.componentWillReceiveProps == "function" &&
        u.componentWillReceiveProps(p, y),
      typeof u.UNSAFE_componentWillReceiveProps == "function" &&
        u.UNSAFE_componentWillReceiveProps(p, y),
      u.state !== o && uc.enqueueReplaceState(u, u.state, null);
  }
  function ih(o, u, p, y) {
    var b = o.stateNode;
    (b.props = p), (b.state = o.memoizedState), (b.refs = {}), Wd(o);
    var C = u.contextType;
    typeof C == "object" && C !== null
      ? (b.context = Zr(C))
      : ((C = Ar(u) ? ti : pr.current), (b.context = Yi(o, C))),
      (b.state = o.memoizedState),
      (C = u.getDerivedStateFromProps),
      typeof C == "function" && (nh(o, u, C, p), (b.state = o.memoizedState)),
      typeof u.getDerivedStateFromProps == "function" ||
        typeof b.getSnapshotBeforeUpdate == "function" ||
        (typeof b.UNSAFE_componentWillMount != "function" &&
          typeof b.componentWillMount != "function") ||
        ((u = b.state),
        typeof b.componentWillMount == "function" && b.componentWillMount(),
        typeof b.UNSAFE_componentWillMount == "function" &&
          b.UNSAFE_componentWillMount(),
        u !== b.state && uc.enqueueReplaceState(b, b.state, null),
        sc(o, p, b, y),
        (b.state = o.memoizedState)),
      typeof b.componentDidMount == "function" && (o.flags |= 4194308);
  }
  function sa(o, u) {
    try {
      var p = "",
        y = u;
      do (p += ne(y)), (y = y.return);
      while (y);
      var b = p;
    } catch (C) {
      b =
        `
Error generating stack: ` +
        C.message +
        `
` +
        C.stack;
    }
    return { value: o, source: u, stack: b, digest: null };
  }
  function ah(o, u, p) {
    return { value: o, source: null, stack: p ?? null, digest: u ?? null };
  }
  function oh(o, u) {
    try {
      console.error(u.value);
    } catch (p) {
      setTimeout(function () {
        throw p;
      });
    }
  }
  var mE = typeof WeakMap == "function" ? WeakMap : Map;
  function Ax(o, u, p) {
    (p = Js(-1, p)), (p.tag = 3), (p.payload = { element: null });
    var y = u.value;
    return (
      (p.callback = function () {
        xc || ((xc = !0), (wh = y)), oh(o, u);
      }),
      p
    );
  }
  function Mx(o, u, p) {
    (p = Js(-1, p)), (p.tag = 3);
    var y = o.type.getDerivedStateFromError;
    if (typeof y == "function") {
      var b = u.value;
      (p.payload = function () {
        return y(b);
      }),
        (p.callback = function () {
          oh(o, u);
        });
    }
    var C = o.stateNode;
    return (
      C !== null &&
        typeof C.componentDidCatch == "function" &&
        (p.callback = function () {
          oh(o, u),
            typeof y != "function" &&
              (Rn === null ? (Rn = new Set([this])) : Rn.add(this));
          var P = u.stack;
          this.componentDidCatch(u.value, {
            componentStack: P !== null ? P : "",
          });
        }),
      p
    );
  }
  function Nx(o, u, p) {
    var y = o.pingCache;
    if (y === null) {
      y = o.pingCache = new mE();
      var b = new Set();
      y.set(u, b);
    } else (b = y.get(u)), b === void 0 && ((b = new Set()), y.set(u, b));
    b.has(p) || (b.add(p), (o = PE.bind(null, o, u, p)), u.then(o, o));
  }
  function Rx(o) {
    do {
      var u;
      if (
        ((u = o.tag === 13) &&
          ((u = o.memoizedState),
          (u = u !== null ? u.dehydrated !== null : !0)),
        u)
      )
        return o;
      o = o.return;
    } while (o !== null);
    return null;
  }
  function Bx(o, u, p, y, b) {
    return (o.mode & 1) === 0
      ? (o === u
          ? (o.flags |= 65536)
          : ((o.flags |= 128),
            (p.flags |= 131072),
            (p.flags &= -52805),
            p.tag === 1 &&
              (p.alternate === null
                ? (p.tag = 17)
                : ((u = Js(-1, 1)), (u.tag = 2), Mn(p, u, 1))),
            (p.lanes |= 1)),
        o)
      : ((o.flags |= 65536), (o.lanes = b), o);
  }
  var gE = E.ReactCurrentOwner,
    Mr = !1;
  function Cr(o, u, p, y) {
    u.child = o === null ? ex(u, null, p, y) : Ji(u, o.child, p, y);
  }
  function Fx(o, u, p, y, b) {
    p = p.render;
    var C = u.ref;
    return (
      ta(u, b),
      (y = Zd(o, u, p, y, C, b)),
      (p = Jd()),
      o !== null && !Mr
        ? ((u.updateQueue = o.updateQueue),
          (u.flags &= -2053),
          (o.lanes &= ~b),
          en(o, u, b))
        : (jt && p && Fd(u), (u.flags |= 1), Cr(o, u, y, b), u.child)
    );
  }
  function Ix(o, u, p, y, b) {
    if (o === null) {
      var C = p.type;
      return typeof C == "function" &&
        !Ph(C) &&
        C.defaultProps === void 0 &&
        p.compare === null &&
        p.defaultProps === void 0
        ? ((u.tag = 15), (u.type = C), Ox(o, u, C, y, b))
        : ((o = Sc(p.type, null, y, u, u.mode, b)),
          (o.ref = u.ref),
          (o.return = u),
          (u.child = o));
    }
    if (((C = o.child), (o.lanes & b) === 0)) {
      var P = C.memoizedProps;
      if (
        ((p = p.compare), (p = p !== null ? p : Za), p(P, y) && o.ref === u.ref)
      )
        return en(o, u, b);
    }
    return (
      (u.flags |= 1),
      (o = On(C, y)),
      (o.ref = u.ref),
      (o.return = u),
      (u.child = o)
    );
  }
  function Ox(o, u, p, y, b) {
    if (o !== null) {
      var C = o.memoizedProps;
      if (Za(C, y) && o.ref === u.ref)
        if (((Mr = !1), (u.pendingProps = y = C), (o.lanes & b) !== 0))
          (o.flags & 131072) !== 0 && (Mr = !0);
        else return (u.lanes = o.lanes), en(o, u, b);
    }
    return lh(o, u, p, y, b);
  }
  function Lx(o, u, p) {
    var y = u.pendingProps,
      b = y.children,
      C = o !== null ? o.memoizedState : null;
    if (y.mode === "hidden")
      if ((u.mode & 1) === 0)
        (u.memoizedState = {
          baseLanes: 0,
          cachePool: null,
          transitions: null,
        }),
          xt(ia, $r),
          ($r |= p);
      else {
        if ((p & 1073741824) === 0)
          return (
            (o = C !== null ? C.baseLanes | p : p),
            (u.lanes = u.childLanes = 1073741824),
            (u.memoizedState = {
              baseLanes: o,
              cachePool: null,
              transitions: null,
            }),
            (u.updateQueue = null),
            xt(ia, $r),
            ($r |= o),
            null
          );
        (u.memoizedState = {
          baseLanes: 0,
          cachePool: null,
          transitions: null,
        }),
          (y = C !== null ? C.baseLanes : p),
          xt(ia, $r),
          ($r |= y);
      }
    else
      C !== null ? ((y = C.baseLanes | p), (u.memoizedState = null)) : (y = p),
        xt(ia, $r),
        ($r |= y);
    return Cr(o, u, b, p), u.child;
  }
  function Dx(o, u) {
    var p = u.ref;
    ((o === null && p !== null) || (o !== null && o.ref !== p)) &&
      ((u.flags |= 512), (u.flags |= 2097152));
  }
  function lh(o, u, p, y, b) {
    var C = Ar(p) ? ti : pr.current;
    return (
      (C = Yi(u, C)),
      ta(u, b),
      (p = Zd(o, u, p, y, C, b)),
      (y = Jd()),
      o !== null && !Mr
        ? ((u.updateQueue = o.updateQueue),
          (u.flags &= -2053),
          (o.lanes &= ~b),
          en(o, u, b))
        : (jt && y && Fd(u), (u.flags |= 1), Cr(o, u, p, b), u.child)
    );
  }
  function Ux(o, u, p, y, b) {
    if (Ar(p)) {
      var C = !0;
      Xl(u);
    } else C = !1;
    if ((ta(u, b), u.stateNode === null))
      hc(o, u), kx(u, p, y), ih(u, p, y, b), (y = !0);
    else if (o === null) {
      var P = u.stateNode,
        B = u.memoizedProps;
      P.props = B;
      var I = P.context,
        X = p.contextType;
      typeof X == "object" && X !== null
        ? (X = Zr(X))
        : ((X = Ar(p) ? ti : pr.current), (X = Yi(u, X)));
      var ce = p.getDerivedStateFromProps,
        he =
          typeof ce == "function" ||
          typeof P.getSnapshotBeforeUpdate == "function";
      he ||
        (typeof P.UNSAFE_componentWillReceiveProps != "function" &&
          typeof P.componentWillReceiveProps != "function") ||
        ((B !== y || I !== X) && Px(u, P, y, X)),
        (An = !1);
      var le = u.memoizedState;
      (P.state = le),
        sc(u, y, P, b),
        (I = u.memoizedState),
        B !== y || le !== I || Pr.current || An
          ? (typeof ce == "function" &&
              (nh(u, p, ce, y), (I = u.memoizedState)),
            (B = An || jx(u, p, B, y, le, I, X))
              ? (he ||
                  (typeof P.UNSAFE_componentWillMount != "function" &&
                    typeof P.componentWillMount != "function") ||
                  (typeof P.componentWillMount == "function" &&
                    P.componentWillMount(),
                  typeof P.UNSAFE_componentWillMount == "function" &&
                    P.UNSAFE_componentWillMount()),
                typeof P.componentDidMount == "function" &&
                  (u.flags |= 4194308))
              : (typeof P.componentDidMount == "function" &&
                  (u.flags |= 4194308),
                (u.memoizedProps = y),
                (u.memoizedState = I)),
            (P.props = y),
            (P.state = I),
            (P.context = X),
            (y = B))
          : (typeof P.componentDidMount == "function" && (u.flags |= 4194308),
            (y = !1));
    } else {
      (P = u.stateNode),
        rx(o, u),
        (B = u.memoizedProps),
        (X = u.type === u.elementType ? B : gs(u.type, B)),
        (P.props = X),
        (he = u.pendingProps),
        (le = P.context),
        (I = p.contextType),
        typeof I == "object" && I !== null
          ? (I = Zr(I))
          : ((I = Ar(p) ? ti : pr.current), (I = Yi(u, I)));
      var ye = p.getDerivedStateFromProps;
      (ce =
        typeof ye == "function" ||
        typeof P.getSnapshotBeforeUpdate == "function") ||
        (typeof P.UNSAFE_componentWillReceiveProps != "function" &&
          typeof P.componentWillReceiveProps != "function") ||
        ((B !== he || le !== I) && Px(u, P, y, I)),
        (An = !1),
        (le = u.memoizedState),
        (P.state = le),
        sc(u, y, P, b);
      var be = u.memoizedState;
      B !== he || le !== be || Pr.current || An
        ? (typeof ye == "function" && (nh(u, p, ye, y), (be = u.memoizedState)),
          (X = An || jx(u, p, X, y, le, be, I) || !1)
            ? (ce ||
                (typeof P.UNSAFE_componentWillUpdate != "function" &&
                  typeof P.componentWillUpdate != "function") ||
                (typeof P.componentWillUpdate == "function" &&
                  P.componentWillUpdate(y, be, I),
                typeof P.UNSAFE_componentWillUpdate == "function" &&
                  P.UNSAFE_componentWillUpdate(y, be, I)),
              typeof P.componentDidUpdate == "function" && (u.flags |= 4),
              typeof P.getSnapshotBeforeUpdate == "function" &&
                (u.flags |= 1024))
            : (typeof P.componentDidUpdate != "function" ||
                (B === o.memoizedProps && le === o.memoizedState) ||
                (u.flags |= 4),
              typeof P.getSnapshotBeforeUpdate != "function" ||
                (B === o.memoizedProps && le === o.memoizedState) ||
                (u.flags |= 1024),
              (u.memoizedProps = y),
              (u.memoizedState = be)),
          (P.props = y),
          (P.state = be),
          (P.context = I),
          (y = X))
        : (typeof P.componentDidUpdate != "function" ||
            (B === o.memoizedProps && le === o.memoizedState) ||
            (u.flags |= 4),
          typeof P.getSnapshotBeforeUpdate != "function" ||
            (B === o.memoizedProps && le === o.memoizedState) ||
            (u.flags |= 1024),
          (y = !1));
    }
    return ch(o, u, p, y, C, b);
  }
  function ch(o, u, p, y, b, C) {
    Dx(o, u);
    var P = (u.flags & 128) !== 0;
    if (!y && !P) return b && W0(u, p, !1), en(o, u, C);
    (y = u.stateNode), (gE.current = u);
    var B =
      P && typeof p.getDerivedStateFromError != "function" ? null : y.render();
    return (
      (u.flags |= 1),
      o !== null && P
        ? ((u.child = Ji(u, o.child, null, C)), (u.child = Ji(u, null, B, C)))
        : Cr(o, u, B, C),
      (u.memoizedState = y.state),
      b && W0(u, p, !0),
      u.child
    );
  }
  function zx(o) {
    var u = o.stateNode;
    u.pendingContext
      ? $0(o, u.pendingContext, u.pendingContext !== u.context)
      : u.context && $0(o, u.context, !1),
      Vd(o, u.containerInfo);
  }
  function Gx(o, u, p, y, b) {
    return Zi(), Dd(b), (u.flags |= 256), Cr(o, u, p, y), u.child;
  }
  var uh = { dehydrated: null, treeContext: null, retryLane: 0 };
  function dh(o) {
    return { baseLanes: o, cachePool: null, transitions: null };
  }
  function $x(o, u, p) {
    var y = u.pendingProps,
      b = Pt.current,
      C = !1,
      P = (u.flags & 128) !== 0,
      B;
    if (
      ((B = P) ||
        (B = o !== null && o.memoizedState === null ? !1 : (b & 2) !== 0),
      B
        ? ((C = !0), (u.flags &= -129))
        : (o === null || o.memoizedState !== null) && (b |= 1),
      xt(Pt, b & 1),
      o === null)
    )
      return (
        Ld(u),
        (o = u.memoizedState),
        o !== null && ((o = o.dehydrated), o !== null)
          ? ((u.mode & 1) === 0
              ? (u.lanes = 1)
              : o.data === "$!"
              ? (u.lanes = 8)
              : (u.lanes = 1073741824),
            null)
          : ((P = y.children),
            (o = y.fallback),
            C
              ? ((y = u.mode),
                (C = u.child),
                (P = { mode: "hidden", children: P }),
                (y & 1) === 0 && C !== null
                  ? ((C.childLanes = 0), (C.pendingProps = P))
                  : (C = Cc(P, y, 0, null)),
                (o = di(o, y, p, null)),
                (C.return = u),
                (o.return = u),
                (C.sibling = o),
                (u.child = C),
                (u.child.memoizedState = dh(p)),
                (u.memoizedState = uh),
                o)
              : hh(u, P))
      );
    if (((b = o.memoizedState), b !== null && ((B = b.dehydrated), B !== null)))
      return xE(o, u, P, y, B, b, p);
    if (C) {
      (C = y.fallback), (P = u.mode), (b = o.child), (B = b.sibling);
      var I = { mode: "hidden", children: y.children };
      return (
        (P & 1) === 0 && u.child !== b
          ? ((y = u.child),
            (y.childLanes = 0),
            (y.pendingProps = I),
            (u.deletions = null))
          : ((y = On(b, I)), (y.subtreeFlags = b.subtreeFlags & 14680064)),
        B !== null ? (C = On(B, C)) : ((C = di(C, P, p, null)), (C.flags |= 2)),
        (C.return = u),
        (y.return = u),
        (y.sibling = C),
        (u.child = y),
        (y = C),
        (C = u.child),
        (P = o.child.memoizedState),
        (P =
          P === null
            ? dh(p)
            : {
                baseLanes: P.baseLanes | p,
                cachePool: null,
                transitions: P.transitions,
              }),
        (C.memoizedState = P),
        (C.childLanes = o.childLanes & ~p),
        (u.memoizedState = uh),
        y
      );
    }
    return (
      (C = o.child),
      (o = C.sibling),
      (y = On(C, { mode: "visible", children: y.children })),
      (u.mode & 1) === 0 && (y.lanes = p),
      (y.return = u),
      (y.sibling = null),
      o !== null &&
        ((p = u.deletions),
        p === null ? ((u.deletions = [o]), (u.flags |= 16)) : p.push(o)),
      (u.child = y),
      (u.memoizedState = null),
      y
    );
  }
  function hh(o, u) {
    return (
      (u = Cc({ mode: "visible", children: u }, o.mode, 0, null)),
      (u.return = o),
      (o.child = u)
    );
  }
  function dc(o, u, p, y) {
    return (
      y !== null && Dd(y),
      Ji(u, o.child, null, p),
      (o = hh(u, u.pendingProps.children)),
      (o.flags |= 2),
      (u.memoizedState = null),
      o
    );
  }
  function xE(o, u, p, y, b, C, P) {
    if (p)
      return u.flags & 256
        ? ((u.flags &= -257), (y = ah(Error(t(422)))), dc(o, u, P, y))
        : u.memoizedState !== null
        ? ((u.child = o.child), (u.flags |= 128), null)
        : ((C = y.fallback),
          (b = u.mode),
          (y = Cc({ mode: "visible", children: y.children }, b, 0, null)),
          (C = di(C, b, P, null)),
          (C.flags |= 2),
          (y.return = u),
          (C.return = u),
          (y.sibling = C),
          (u.child = y),
          (u.mode & 1) !== 0 && Ji(u, o.child, null, P),
          (u.child.memoizedState = dh(P)),
          (u.memoizedState = uh),
          C);
    if ((u.mode & 1) === 0) return dc(o, u, P, null);
    if (b.data === "$!") {
      if (((y = b.nextSibling && b.nextSibling.dataset), y)) var B = y.dgst;
      return (
        (y = B), (C = Error(t(419))), (y = ah(C, y, void 0)), dc(o, u, P, y)
      );
    }
    if (((B = (P & o.childLanes) !== 0), Mr || B)) {
      if (((y = Zt), y !== null)) {
        switch (P & -P) {
          case 4:
            b = 2;
            break;
          case 16:
            b = 8;
            break;
          case 64:
          case 128:
          case 256:
          case 512:
          case 1024:
          case 2048:
          case 4096:
          case 8192:
          case 16384:
          case 32768:
          case 65536:
          case 131072:
          case 262144:
          case 524288:
          case 1048576:
          case 2097152:
          case 4194304:
          case 8388608:
          case 16777216:
          case 33554432:
          case 67108864:
            b = 32;
            break;
          case 536870912:
            b = 268435456;
            break;
          default:
            b = 0;
        }
        (b = (b & (y.suspendedLanes | P)) !== 0 ? 0 : b),
          b !== 0 &&
            b !== C.retryLane &&
            ((C.retryLane = b), Zs(o, b), vs(y, o, b, -1));
      }
      return kh(), (y = ah(Error(t(421)))), dc(o, u, P, y);
    }
    return b.data === "$?"
      ? ((u.flags |= 128),
        (u.child = o.child),
        (u = AE.bind(null, o)),
        (b._reactRetry = u),
        null)
      : ((o = C.treeContext),
        (Gr = En(b.nextSibling)),
        (zr = u),
        (jt = !0),
        (ms = null),
        o !== null &&
          ((Kr[Qr++] = Ks),
          (Kr[Qr++] = Qs),
          (Kr[Qr++] = ri),
          (Ks = o.id),
          (Qs = o.overflow),
          (ri = u)),
        (u = hh(u, y.children)),
        (u.flags |= 4096),
        u);
  }
  function Hx(o, u, p) {
    o.lanes |= u;
    var y = o.alternate;
    y !== null && (y.lanes |= u), $d(o.return, u, p);
  }
  function fh(o, u, p, y, b) {
    var C = o.memoizedState;
    C === null
      ? (o.memoizedState = {
          isBackwards: u,
          rendering: null,
          renderingStartTime: 0,
          last: y,
          tail: p,
          tailMode: b,
        })
      : ((C.isBackwards = u),
        (C.rendering = null),
        (C.renderingStartTime = 0),
        (C.last = y),
        (C.tail = p),
        (C.tailMode = b));
  }
  function Wx(o, u, p) {
    var y = u.pendingProps,
      b = y.revealOrder,
      C = y.tail;
    if ((Cr(o, u, y.children, p), (y = Pt.current), (y & 2) !== 0))
      (y = (y & 1) | 2), (u.flags |= 128);
    else {
      if (o !== null && (o.flags & 128) !== 0)
        e: for (o = u.child; o !== null; ) {
          if (o.tag === 13) o.memoizedState !== null && Hx(o, p, u);
          else if (o.tag === 19) Hx(o, p, u);
          else if (o.child !== null) {
            (o.child.return = o), (o = o.child);
            continue;
          }
          if (o === u) break e;
          for (; o.sibling === null; ) {
            if (o.return === null || o.return === u) break e;
            o = o.return;
          }
          (o.sibling.return = o.return), (o = o.sibling);
        }
      y &= 1;
    }
    if ((xt(Pt, y), (u.mode & 1) === 0)) u.memoizedState = null;
    else
      switch (b) {
        case "forwards":
          for (p = u.child, b = null; p !== null; )
            (o = p.alternate),
              o !== null && nc(o) === null && (b = p),
              (p = p.sibling);
          (p = b),
            p === null
              ? ((b = u.child), (u.child = null))
              : ((b = p.sibling), (p.sibling = null)),
            fh(u, !1, b, p, C);
          break;
        case "backwards":
          for (p = null, b = u.child, u.child = null; b !== null; ) {
            if (((o = b.alternate), o !== null && nc(o) === null)) {
              u.child = b;
              break;
            }
            (o = b.sibling), (b.sibling = p), (p = b), (b = o);
          }
          fh(u, !0, p, null, C);
          break;
        case "together":
          fh(u, !1, null, null, void 0);
          break;
        default:
          u.memoizedState = null;
      }
    return u.child;
  }
  function hc(o, u) {
    (u.mode & 1) === 0 &&
      o !== null &&
      ((o.alternate = null), (u.alternate = null), (u.flags |= 2));
  }
  function en(o, u, p) {
    if (
      (o !== null && (u.dependencies = o.dependencies),
      (oi |= u.lanes),
      (p & u.childLanes) === 0)
    )
      return null;
    if (o !== null && u.child !== o.child) throw Error(t(153));
    if (u.child !== null) {
      for (
        o = u.child, p = On(o, o.pendingProps), u.child = p, p.return = u;
        o.sibling !== null;

      )
        (o = o.sibling),
          (p = p.sibling = On(o, o.pendingProps)),
          (p.return = u);
      p.sibling = null;
    }
    return u.child;
  }
  function yE(o, u, p) {
    switch (u.tag) {
      case 3:
        zx(u), Zi();
        break;
      case 5:
        ix(u);
        break;
      case 1:
        Ar(u.type) && Xl(u);
        break;
      case 4:
        Vd(u, u.stateNode.containerInfo);
        break;
      case 10:
        var y = u.type._context,
          b = u.memoizedProps.value;
        xt(ec, y._currentValue), (y._currentValue = b);
        break;
      case 13:
        if (((y = u.memoizedState), y !== null))
          return y.dehydrated !== null
            ? (xt(Pt, Pt.current & 1), (u.flags |= 128), null)
            : (p & u.child.childLanes) !== 0
            ? $x(o, u, p)
            : (xt(Pt, Pt.current & 1),
              (o = en(o, u, p)),
              o !== null ? o.sibling : null);
        xt(Pt, Pt.current & 1);
        break;
      case 19:
        if (((y = (p & u.childLanes) !== 0), (o.flags & 128) !== 0)) {
          if (y) return Wx(o, u, p);
          u.flags |= 128;
        }
        if (
          ((b = u.memoizedState),
          b !== null &&
            ((b.rendering = null), (b.tail = null), (b.lastEffect = null)),
          xt(Pt, Pt.current),
          y)
        )
          break;
        return null;
      case 22:
      case 23:
        return (u.lanes = 0), Lx(o, u, p);
    }
    return en(o, u, p);
  }
  var Vx, ph, qx, Xx;
  (Vx = function (o, u) {
    for (var p = u.child; p !== null; ) {
      if (p.tag === 5 || p.tag === 6) o.appendChild(p.stateNode);
      else if (p.tag !== 4 && p.child !== null) {
        (p.child.return = p), (p = p.child);
        continue;
      }
      if (p === u) break;
      for (; p.sibling === null; ) {
        if (p.return === null || p.return === u) return;
        p = p.return;
      }
      (p.sibling.return = p.return), (p = p.sibling);
    }
  }),
    (ph = function () {}),
    (qx = function (o, u, p, y) {
      var b = o.memoizedProps;
      if (b !== y) {
        (o = u.stateNode), ii(Bs.current);
        var C = null;
        switch (p) {
          case "input":
            (b = Ee(o, b)), (y = Ee(o, y)), (C = []);
            break;
          case "select":
            (b = J({}, b, { value: void 0 })),
              (y = J({}, y, { value: void 0 })),
              (C = []);
            break;
          case "textarea":
            (b = nt(o, b)), (y = nt(o, y)), (C = []);
            break;
          default:
            typeof b.onClick != "function" &&
              typeof y.onClick == "function" &&
              (o.onclick = Wl);
        }
        G(p, y);
        var P;
        p = null;
        for (X in b)
          if (!y.hasOwnProperty(X) && b.hasOwnProperty(X) && b[X] != null)
            if (X === "style") {
              var B = b[X];
              for (P in B) B.hasOwnProperty(P) && (p || (p = {}), (p[P] = ""));
            } else
              X !== "dangerouslySetInnerHTML" &&
                X !== "children" &&
                X !== "suppressContentEditableWarning" &&
                X !== "suppressHydrationWarning" &&
                X !== "autoFocus" &&
                (n.hasOwnProperty(X)
                  ? C || (C = [])
                  : (C = C || []).push(X, null));
        for (X in y) {
          var I = y[X];
          if (
            ((B = b?.[X]),
            y.hasOwnProperty(X) && I !== B && (I != null || B != null))
          )
            if (X === "style")
              if (B) {
                for (P in B)
                  !B.hasOwnProperty(P) ||
                    (I && I.hasOwnProperty(P)) ||
                    (p || (p = {}), (p[P] = ""));
                for (P in I)
                  I.hasOwnProperty(P) &&
                    B[P] !== I[P] &&
                    (p || (p = {}), (p[P] = I[P]));
              } else p || (C || (C = []), C.push(X, p)), (p = I);
            else
              X === "dangerouslySetInnerHTML"
                ? ((I = I ? I.__html : void 0),
                  (B = B ? B.__html : void 0),
                  I != null && B !== I && (C = C || []).push(X, I))
                : X === "children"
                ? (typeof I != "string" && typeof I != "number") ||
                  (C = C || []).push(X, "" + I)
                : X !== "suppressContentEditableWarning" &&
                  X !== "suppressHydrationWarning" &&
                  (n.hasOwnProperty(X)
                    ? (I != null && X === "onScroll" && bt("scroll", o),
                      C || B === I || (C = []))
                    : (C = C || []).push(X, I));
        }
        p && (C = C || []).push("style", p);
        var X = C;
        (u.updateQueue = X) && (u.flags |= 4);
      }
    }),
    (Xx = function (o, u, p, y) {
      p !== y && (u.flags |= 4);
    });
  function po(o, u) {
    if (!jt)
      switch (o.tailMode) {
        case "hidden":
          u = o.tail;
          for (var p = null; u !== null; )
            u.alternate !== null && (p = u), (u = u.sibling);
          p === null ? (o.tail = null) : (p.sibling = null);
          break;
        case "collapsed":
          p = o.tail;
          for (var y = null; p !== null; )
            p.alternate !== null && (y = p), (p = p.sibling);
          y === null
            ? u || o.tail === null
              ? (o.tail = null)
              : (o.tail.sibling = null)
            : (y.sibling = null);
      }
  }
  function gr(o) {
    var u = o.alternate !== null && o.alternate.child === o.child,
      p = 0,
      y = 0;
    if (u)
      for (var b = o.child; b !== null; )
        (p |= b.lanes | b.childLanes),
          (y |= b.subtreeFlags & 14680064),
          (y |= b.flags & 14680064),
          (b.return = o),
          (b = b.sibling);
    else
      for (b = o.child; b !== null; )
        (p |= b.lanes | b.childLanes),
          (y |= b.subtreeFlags),
          (y |= b.flags),
          (b.return = o),
          (b = b.sibling);
    return (o.subtreeFlags |= y), (o.childLanes = p), u;
  }
  function vE(o, u, p) {
    var y = u.pendingProps;
    switch ((Id(u), u.tag)) {
      case 2:
      case 16:
      case 15:
      case 0:
      case 11:
      case 7:
      case 8:
      case 12:
      case 9:
      case 14:
        return gr(u), null;
      case 1:
        return Ar(u.type) && ql(), gr(u), null;
      case 3:
        return (
          (y = u.stateNode),
          ra(),
          wt(Pr),
          wt(pr),
          Yd(),
          y.pendingContext &&
            ((y.context = y.pendingContext), (y.pendingContext = null)),
          (o === null || o.child === null) &&
            (Zl(u)
              ? (u.flags |= 4)
              : o === null ||
                (o.memoizedState.isDehydrated && (u.flags & 256) === 0) ||
                ((u.flags |= 1024), ms !== null && (Th(ms), (ms = null)))),
          ph(o, u),
          gr(u),
          null
        );
      case 5:
        qd(u);
        var b = ii(lo.current);
        if (((p = u.type), o !== null && u.stateNode != null))
          qx(o, u, p, y, b),
            o.ref !== u.ref && ((u.flags |= 512), (u.flags |= 2097152));
        else {
          if (!y) {
            if (u.stateNode === null) throw Error(t(166));
            return gr(u), null;
          }
          if (((o = ii(Bs.current)), Zl(u))) {
            (y = u.stateNode), (p = u.type);
            var C = u.memoizedProps;
            switch (((y[Rs] = u), (y[so] = C), (o = (u.mode & 1) !== 0), p)) {
              case "dialog":
                bt("cancel", y), bt("close", y);
                break;
              case "iframe":
              case "object":
              case "embed":
                bt("load", y);
                break;
              case "video":
              case "audio":
                for (b = 0; b < eo.length; b++) bt(eo[b], y);
                break;
              case "source":
                bt("error", y);
                break;
              case "img":
              case "image":
              case "link":
                bt("error", y), bt("load", y);
                break;
              case "details":
                bt("toggle", y);
                break;
              case "input":
                He(y, C), bt("invalid", y);
                break;
              case "select":
                (y._wrapperState = { wasMultiple: !!C.multiple }),
                  bt("invalid", y);
                break;
              case "textarea":
                qe(y, C), bt("invalid", y);
            }
            G(p, C), (b = null);
            for (var P in C)
              if (C.hasOwnProperty(P)) {
                var B = C[P];
                P === "children"
                  ? typeof B == "string"
                    ? y.textContent !== B &&
                      (C.suppressHydrationWarning !== !0 &&
                        Hl(y.textContent, B, o),
                      (b = ["children", B]))
                    : typeof B == "number" &&
                      y.textContent !== "" + B &&
                      (C.suppressHydrationWarning !== !0 &&
                        Hl(y.textContent, B, o),
                      (b = ["children", "" + B]))
                  : n.hasOwnProperty(P) &&
                    B != null &&
                    P === "onScroll" &&
                    bt("scroll", y);
              }
            switch (p) {
              case "input":
                Te(y), Ft(y, C, !0);
                break;
              case "textarea":
                Te(y), $e(y);
                break;
              case "select":
              case "option":
                break;
              default:
                typeof C.onClick == "function" && (y.onclick = Wl);
            }
            (y = b), (u.updateQueue = y), y !== null && (u.flags |= 4);
          } else {
            (P = b.nodeType === 9 ? b : b.ownerDocument),
              o === "http://www.w3.org/1999/xhtml" && (o = ht(p)),
              o === "http://www.w3.org/1999/xhtml"
                ? p === "script"
                  ? ((o = P.createElement("div")),
                    (o.innerHTML = "<script></script>"),
                    (o = o.removeChild(o.firstChild)))
                  : typeof y.is == "string"
                  ? (o = P.createElement(p, { is: y.is }))
                  : ((o = P.createElement(p)),
                    p === "select" &&
                      ((P = o),
                      y.multiple
                        ? (P.multiple = !0)
                        : y.size && (P.size = y.size)))
                : (o = P.createElementNS(o, p)),
              (o[Rs] = u),
              (o[so] = y),
              Vx(o, u, !1, !1),
              (u.stateNode = o);
            e: {
              switch (((P = H(p, y)), p)) {
                case "dialog":
                  bt("cancel", o), bt("close", o), (b = y);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  bt("load", o), (b = y);
                  break;
                case "video":
                case "audio":
                  for (b = 0; b < eo.length; b++) bt(eo[b], o);
                  b = y;
                  break;
                case "source":
                  bt("error", o), (b = y);
                  break;
                case "img":
                case "image":
                case "link":
                  bt("error", o), bt("load", o), (b = y);
                  break;
                case "details":
                  bt("toggle", o), (b = y);
                  break;
                case "input":
                  He(o, y), (b = Ee(o, y)), bt("invalid", o);
                  break;
                case "option":
                  b = y;
                  break;
                case "select":
                  (o._wrapperState = { wasMultiple: !!y.multiple }),
                    (b = J({}, y, { value: void 0 })),
                    bt("invalid", o);
                  break;
                case "textarea":
                  qe(o, y), (b = nt(o, y)), bt("invalid", o);
                  break;
                default:
                  b = y;
              }
              G(p, b), (B = b);
              for (C in B)
                if (B.hasOwnProperty(C)) {
                  var I = B[C];
                  C === "style"
                    ? Et(o, I)
                    : C === "dangerouslySetInnerHTML"
                    ? ((I = I ? I.__html : void 0), I != null && Tt(o, I))
                    : C === "children"
                    ? typeof I == "string"
                      ? (p !== "textarea" || I !== "") && ft(o, I)
                      : typeof I == "number" && ft(o, "" + I)
                    : C !== "suppressContentEditableWarning" &&
                      C !== "suppressHydrationWarning" &&
                      C !== "autoFocus" &&
                      (n.hasOwnProperty(C)
                        ? I != null && C === "onScroll" && bt("scroll", o)
                        : I != null && j(o, C, I, P));
                }
              switch (p) {
                case "input":
                  Te(o), Ft(o, y, !1);
                  break;
                case "textarea":
                  Te(o), $e(o);
                  break;
                case "option":
                  y.value != null && o.setAttribute("value", "" + me(y.value));
                  break;
                case "select":
                  (o.multiple = !!y.multiple),
                    (C = y.value),
                    C != null
                      ? ee(o, !!y.multiple, C, !1)
                      : y.defaultValue != null &&
                        ee(o, !!y.multiple, y.defaultValue, !0);
                  break;
                default:
                  typeof b.onClick == "function" && (o.onclick = Wl);
              }
              switch (p) {
                case "button":
                case "input":
                case "select":
                case "textarea":
                  y = !!y.autoFocus;
                  break e;
                case "img":
                  y = !0;
                  break e;
                default:
                  y = !1;
              }
            }
            y && (u.flags |= 4);
          }
          u.ref !== null && ((u.flags |= 512), (u.flags |= 2097152));
        }
        return gr(u), null;
      case 6:
        if (o && u.stateNode != null) Xx(o, u, o.memoizedProps, y);
        else {
          if (typeof y != "string" && u.stateNode === null) throw Error(t(166));
          if (((p = ii(lo.current)), ii(Bs.current), Zl(u))) {
            if (
              ((y = u.stateNode),
              (p = u.memoizedProps),
              (y[Rs] = u),
              (C = y.nodeValue !== p) && ((o = zr), o !== null))
            )
              switch (o.tag) {
                case 3:
                  Hl(y.nodeValue, p, (o.mode & 1) !== 0);
                  break;
                case 5:
                  o.memoizedProps.suppressHydrationWarning !== !0 &&
                    Hl(y.nodeValue, p, (o.mode & 1) !== 0);
              }
            C && (u.flags |= 4);
          } else
            (y = (p.nodeType === 9 ? p : p.ownerDocument).createTextNode(y)),
              (y[Rs] = u),
              (u.stateNode = y);
        }
        return gr(u), null;
      case 13:
        if (
          (wt(Pt),
          (y = u.memoizedState),
          o === null ||
            (o.memoizedState !== null && o.memoizedState.dehydrated !== null))
        ) {
          if (jt && Gr !== null && (u.mode & 1) !== 0 && (u.flags & 128) === 0)
            Q0(), Zi(), (u.flags |= 98560), (C = !1);
          else if (((C = Zl(u)), y !== null && y.dehydrated !== null)) {
            if (o === null) {
              if (!C) throw Error(t(318));
              if (
                ((C = u.memoizedState),
                (C = C !== null ? C.dehydrated : null),
                !C)
              )
                throw Error(t(317));
              C[Rs] = u;
            } else
              Zi(),
                (u.flags & 128) === 0 && (u.memoizedState = null),
                (u.flags |= 4);
            gr(u), (C = !1);
          } else ms !== null && (Th(ms), (ms = null)), (C = !0);
          if (!C) return u.flags & 65536 ? u : null;
        }
        return (u.flags & 128) !== 0
          ? ((u.lanes = p), u)
          : ((y = y !== null),
            y !== (o !== null && o.memoizedState !== null) &&
              y &&
              ((u.child.flags |= 8192),
              (u.mode & 1) !== 0 &&
                (o === null || (Pt.current & 1) !== 0
                  ? Wt === 0 && (Wt = 3)
                  : kh())),
            u.updateQueue !== null && (u.flags |= 4),
            gr(u),
            null);
      case 4:
        return (
          ra(),
          ph(o, u),
          o === null && to(u.stateNode.containerInfo),
          gr(u),
          null
        );
      case 10:
        return Gd(u.type._context), gr(u), null;
      case 17:
        return Ar(u.type) && ql(), gr(u), null;
      case 19:
        if ((wt(Pt), (C = u.memoizedState), C === null)) return gr(u), null;
        if (((y = (u.flags & 128) !== 0), (P = C.rendering), P === null))
          if (y) po(C, !1);
          else {
            if (Wt !== 0 || (o !== null && (o.flags & 128) !== 0))
              for (o = u.child; o !== null; ) {
                if (((P = nc(o)), P !== null)) {
                  for (
                    u.flags |= 128,
                      po(C, !1),
                      y = P.updateQueue,
                      y !== null && ((u.updateQueue = y), (u.flags |= 4)),
                      u.subtreeFlags = 0,
                      y = p,
                      p = u.child;
                    p !== null;

                  )
                    (C = p),
                      (o = y),
                      (C.flags &= 14680066),
                      (P = C.alternate),
                      P === null
                        ? ((C.childLanes = 0),
                          (C.lanes = o),
                          (C.child = null),
                          (C.subtreeFlags = 0),
                          (C.memoizedProps = null),
                          (C.memoizedState = null),
                          (C.updateQueue = null),
                          (C.dependencies = null),
                          (C.stateNode = null))
                        : ((C.childLanes = P.childLanes),
                          (C.lanes = P.lanes),
                          (C.child = P.child),
                          (C.subtreeFlags = 0),
                          (C.deletions = null),
                          (C.memoizedProps = P.memoizedProps),
                          (C.memoizedState = P.memoizedState),
                          (C.updateQueue = P.updateQueue),
                          (C.type = P.type),
                          (o = P.dependencies),
                          (C.dependencies =
                            o === null
                              ? null
                              : {
                                  lanes: o.lanes,
                                  firstContext: o.firstContext,
                                })),
                      (p = p.sibling);
                  return xt(Pt, (Pt.current & 1) | 2), u.child;
                }
                o = o.sibling;
              }
            C.tail !== null &&
              Ot() > aa &&
              ((u.flags |= 128), (y = !0), po(C, !1), (u.lanes = 4194304));
          }
        else {
          if (!y)
            if (((o = nc(P)), o !== null)) {
              if (
                ((u.flags |= 128),
                (y = !0),
                (p = o.updateQueue),
                p !== null && ((u.updateQueue = p), (u.flags |= 4)),
                po(C, !0),
                C.tail === null &&
                  C.tailMode === "hidden" &&
                  !P.alternate &&
                  !jt)
              )
                return gr(u), null;
            } else
              2 * Ot() - C.renderingStartTime > aa &&
                p !== 1073741824 &&
                ((u.flags |= 128), (y = !0), po(C, !1), (u.lanes = 4194304));
          C.isBackwards
            ? ((P.sibling = u.child), (u.child = P))
            : ((p = C.last),
              p !== null ? (p.sibling = P) : (u.child = P),
              (C.last = P));
        }
        return C.tail !== null
          ? ((u = C.tail),
            (C.rendering = u),
            (C.tail = u.sibling),
            (C.renderingStartTime = Ot()),
            (u.sibling = null),
            (p = Pt.current),
            xt(Pt, y ? (p & 1) | 2 : p & 1),
            u)
          : (gr(u), null);
      case 22:
      case 23:
        return (
          jh(),
          (y = u.memoizedState !== null),
          o !== null && (o.memoizedState !== null) !== y && (u.flags |= 8192),
          y && (u.mode & 1) !== 0
            ? ($r & 1073741824) !== 0 &&
              (gr(u), u.subtreeFlags & 6 && (u.flags |= 8192))
            : gr(u),
          null
        );
      case 24:
        return null;
      case 25:
        return null;
    }
    throw Error(t(156, u.tag));
  }
  function _E(o, u) {
    switch ((Id(u), u.tag)) {
      case 1:
        return (
          Ar(u.type) && ql(),
          (o = u.flags),
          o & 65536 ? ((u.flags = (o & -65537) | 128), u) : null
        );
      case 3:
        return (
          ra(),
          wt(Pr),
          wt(pr),
          Yd(),
          (o = u.flags),
          (o & 65536) !== 0 && (o & 128) === 0
            ? ((u.flags = (o & -65537) | 128), u)
            : null
        );
      case 5:
        return qd(u), null;
      case 13:
        if (
          (wt(Pt), (o = u.memoizedState), o !== null && o.dehydrated !== null)
        ) {
          if (u.alternate === null) throw Error(t(340));
          Zi();
        }
        return (
          (o = u.flags), o & 65536 ? ((u.flags = (o & -65537) | 128), u) : null
        );
      case 19:
        return wt(Pt), null;
      case 4:
        return ra(), null;
      case 10:
        return Gd(u.type._context), null;
      case 22:
      case 23:
        return jh(), null;
      case 24:
        return null;
      default:
        return null;
    }
  }
  var fc = !1,
    xr = !1,
    bE = typeof WeakSet == "function" ? WeakSet : Set,
    _e = null;
  function na(o, u) {
    var p = o.ref;
    if (p !== null)
      if (typeof p == "function")
        try {
          p(null);
        } catch (y) {
          Rt(o, u, y);
        }
      else p.current = null;
  }
  function mh(o, u, p) {
    try {
      p();
    } catch (y) {
      Rt(o, u, y);
    }
  }
  var Yx = !1;
  function wE(o, u) {
    if (((jd = Rl), (o = j0()), vd(o))) {
      if ("selectionStart" in o)
        var p = { start: o.selectionStart, end: o.selectionEnd };
      else
        e: {
          p = ((p = o.ownerDocument) && p.defaultView) || window;
          var y = p.getSelection && p.getSelection();
          if (y && y.rangeCount !== 0) {
            p = y.anchorNode;
            var b = y.anchorOffset,
              C = y.focusNode;
            y = y.focusOffset;
            try {
              p.nodeType, C.nodeType;
            } catch {
              p = null;
              break e;
            }
            var P = 0,
              B = -1,
              I = -1,
              X = 0,
              ce = 0,
              he = o,
              le = null;
            t: for (;;) {
              for (
                var ye;
                he !== p || (b !== 0 && he.nodeType !== 3) || (B = P + b),
                  he !== C || (y !== 0 && he.nodeType !== 3) || (I = P + y),
                  he.nodeType === 3 && (P += he.nodeValue.length),
                  (ye = he.firstChild) !== null;

              )
                (le = he), (he = ye);
              for (;;) {
                if (he === o) break t;
                if (
                  (le === p && ++X === b && (B = P),
                  le === C && ++ce === y && (I = P),
                  (ye = he.nextSibling) !== null)
                )
                  break;
                (he = le), (le = he.parentNode);
              }
              he = ye;
            }
            p = B === -1 || I === -1 ? null : { start: B, end: I };
          } else p = null;
        }
      p = p || { start: 0, end: 0 };
    } else p = null;
    for (
      kd = { focusedElem: o, selectionRange: p }, Rl = !1, _e = u;
      _e !== null;

    )
      if (
        ((u = _e), (o = u.child), (u.subtreeFlags & 1028) !== 0 && o !== null)
      )
        (o.return = u), (_e = o);
      else
        for (; _e !== null; ) {
          u = _e;
          try {
            var be = u.alternate;
            if ((u.flags & 1024) !== 0)
              switch (u.tag) {
                case 0:
                case 11:
                case 15:
                  break;
                case 1:
                  if (be !== null) {
                    var we = be.memoizedProps,
                      Lt = be.memoizedState,
                      $ = u.stateNode,
                      L = $.getSnapshotBeforeUpdate(
                        u.elementType === u.type ? we : gs(u.type, we),
                        Lt
                      );
                    $.__reactInternalSnapshotBeforeUpdate = L;
                  }
                  break;
                case 3:
                  var V = u.stateNode.containerInfo;
                  V.nodeType === 1
                    ? (V.textContent = "")
                    : V.nodeType === 9 &&
                      V.documentElement &&
                      V.removeChild(V.documentElement);
                  break;
                case 5:
                case 6:
                case 4:
                case 17:
                  break;
                default:
                  throw Error(t(163));
              }
          } catch (fe) {
            Rt(u, u.return, fe);
          }
          if (((o = u.sibling), o !== null)) {
            (o.return = u.return), (_e = o);
            break;
          }
          _e = u.return;
        }
    return (be = Yx), (Yx = !1), be;
  }
  function mo(o, u, p) {
    var y = u.updateQueue;
    if (((y = y !== null ? y.lastEffect : null), y !== null)) {
      var b = (y = y.next);
      do {
        if ((b.tag & o) === o) {
          var C = b.destroy;
          (b.destroy = void 0), C !== void 0 && mh(u, p, C);
        }
        b = b.next;
      } while (b !== y);
    }
  }
  function pc(o, u) {
    if (
      ((u = u.updateQueue), (u = u !== null ? u.lastEffect : null), u !== null)
    ) {
      var p = (u = u.next);
      do {
        if ((p.tag & o) === o) {
          var y = p.create;
          p.destroy = y();
        }
        p = p.next;
      } while (p !== u);
    }
  }
  function gh(o) {
    var u = o.ref;
    if (u !== null) {
      var p = o.stateNode;
      switch (o.tag) {
        case 5:
          o = p;
          break;
        default:
          o = p;
      }
      typeof u == "function" ? u(o) : (u.current = o);
    }
  }
  function Kx(o) {
    var u = o.alternate;
    u !== null && ((o.alternate = null), Kx(u)),
      (o.child = null),
      (o.deletions = null),
      (o.sibling = null),
      o.tag === 5 &&
        ((u = o.stateNode),
        u !== null &&
          (delete u[Rs],
          delete u[so],
          delete u[Nd],
          delete u[nE],
          delete u[iE])),
      (o.stateNode = null),
      (o.return = null),
      (o.dependencies = null),
      (o.memoizedProps = null),
      (o.memoizedState = null),
      (o.pendingProps = null),
      (o.stateNode = null),
      (o.updateQueue = null);
  }
  function Qx(o) {
    return o.tag === 5 || o.tag === 3 || o.tag === 4;
  }
  function Zx(o) {
    e: for (;;) {
      for (; o.sibling === null; ) {
        if (o.return === null || Qx(o.return)) return null;
        o = o.return;
      }
      for (
        o.sibling.return = o.return, o = o.sibling;
        o.tag !== 5 && o.tag !== 6 && o.tag !== 18;

      ) {
        if (o.flags & 2 || o.child === null || o.tag === 4) continue e;
        (o.child.return = o), (o = o.child);
      }
      if (!(o.flags & 2)) return o.stateNode;
    }
  }
  function xh(o, u, p) {
    var y = o.tag;
    if (y === 5 || y === 6)
      (o = o.stateNode),
        u
          ? p.nodeType === 8
            ? p.parentNode.insertBefore(o, u)
            : p.insertBefore(o, u)
          : (p.nodeType === 8
              ? ((u = p.parentNode), u.insertBefore(o, p))
              : ((u = p), u.appendChild(o)),
            (p = p._reactRootContainer),
            p != null || u.onclick !== null || (u.onclick = Wl));
    else if (y !== 4 && ((o = o.child), o !== null))
      for (xh(o, u, p), o = o.sibling; o !== null; )
        xh(o, u, p), (o = o.sibling);
  }
  function yh(o, u, p) {
    var y = o.tag;
    if (y === 5 || y === 6)
      (o = o.stateNode), u ? p.insertBefore(o, u) : p.appendChild(o);
    else if (y !== 4 && ((o = o.child), o !== null))
      for (yh(o, u, p), o = o.sibling; o !== null; )
        yh(o, u, p), (o = o.sibling);
  }
  var ar = null,
    xs = !1;
  function Nn(o, u, p) {
    for (p = p.child; p !== null; ) Jx(o, u, p), (p = p.sibling);
  }
  function Jx(o, u, p) {
    if (Ns && typeof Ns.onCommitFiberUnmount == "function")
      try {
        Ns.onCommitFiberUnmount(jl, p);
      } catch {}
    switch (p.tag) {
      case 5:
        xr || na(p, u);
      case 6:
        var y = ar,
          b = xs;
        (ar = null),
          Nn(o, u, p),
          (ar = y),
          (xs = b),
          ar !== null &&
            (xs
              ? ((o = ar),
                (p = p.stateNode),
                o.nodeType === 8
                  ? o.parentNode.removeChild(p)
                  : o.removeChild(p))
              : ar.removeChild(p.stateNode));
        break;
      case 18:
        ar !== null &&
          (xs
            ? ((o = ar),
              (p = p.stateNode),
              o.nodeType === 8
                ? Md(o.parentNode, p)
                : o.nodeType === 1 && Md(o, p),
              Va(o))
            : Md(ar, p.stateNode));
        break;
      case 4:
        (y = ar),
          (b = xs),
          (ar = p.stateNode.containerInfo),
          (xs = !0),
          Nn(o, u, p),
          (ar = y),
          (xs = b);
        break;
      case 0:
      case 11:
      case 14:
      case 15:
        if (
          !xr &&
          ((y = p.updateQueue), y !== null && ((y = y.lastEffect), y !== null))
        ) {
          b = y = y.next;
          do {
            var C = b,
              P = C.destroy;
            (C = C.tag),
              P !== void 0 && ((C & 2) !== 0 || (C & 4) !== 0) && mh(p, u, P),
              (b = b.next);
          } while (b !== y);
        }
        Nn(o, u, p);
        break;
      case 1:
        if (
          !xr &&
          (na(p, u),
          (y = p.stateNode),
          typeof y.componentWillUnmount == "function")
        )
          try {
            (y.props = p.memoizedProps),
              (y.state = p.memoizedState),
              y.componentWillUnmount();
          } catch (B) {
            Rt(p, u, B);
          }
        Nn(o, u, p);
        break;
      case 21:
        Nn(o, u, p);
        break;
      case 22:
        p.mode & 1
          ? ((xr = (y = xr) || p.memoizedState !== null), Nn(o, u, p), (xr = y))
          : Nn(o, u, p);
        break;
      default:
        Nn(o, u, p);
    }
  }
  function ey(o) {
    var u = o.updateQueue;
    if (u !== null) {
      o.updateQueue = null;
      var p = o.stateNode;
      p === null && (p = o.stateNode = new bE()),
        u.forEach(function (y) {
          var b = ME.bind(null, o, y);
          p.has(y) || (p.add(y), y.then(b, b));
        });
    }
  }
  function ys(o, u) {
    var p = u.deletions;
    if (p !== null)
      for (var y = 0; y < p.length; y++) {
        var b = p[y];
        try {
          var C = o,
            P = u,
            B = P;
          e: for (; B !== null; ) {
            switch (B.tag) {
              case 5:
                (ar = B.stateNode), (xs = !1);
                break e;
              case 3:
                (ar = B.stateNode.containerInfo), (xs = !0);
                break e;
              case 4:
                (ar = B.stateNode.containerInfo), (xs = !0);
                break e;
            }
            B = B.return;
          }
          if (ar === null) throw Error(t(160));
          Jx(C, P, b), (ar = null), (xs = !1);
          var I = b.alternate;
          I !== null && (I.return = null), (b.return = null);
        } catch (X) {
          Rt(b, u, X);
        }
      }
    if (u.subtreeFlags & 12854)
      for (u = u.child; u !== null; ) ty(u, o), (u = u.sibling);
  }
  function ty(o, u) {
    var p = o.alternate,
      y = o.flags;
    switch (o.tag) {
      case 0:
      case 11:
      case 14:
      case 15:
        if ((ys(u, o), Is(o), y & 4)) {
          try {
            mo(3, o, o.return), pc(3, o);
          } catch (we) {
            Rt(o, o.return, we);
          }
          try {
            mo(5, o, o.return);
          } catch (we) {
            Rt(o, o.return, we);
          }
        }
        break;
      case 1:
        ys(u, o), Is(o), y & 512 && p !== null && na(p, p.return);
        break;
      case 5:
        if (
          (ys(u, o),
          Is(o),
          y & 512 && p !== null && na(p, p.return),
          o.flags & 32)
        ) {
          var b = o.stateNode;
          try {
            ft(b, "");
          } catch (we) {
            Rt(o, o.return, we);
          }
        }
        if (y & 4 && ((b = o.stateNode), b != null)) {
          var C = o.memoizedProps,
            P = p !== null ? p.memoizedProps : C,
            B = o.type,
            I = o.updateQueue;
          if (((o.updateQueue = null), I !== null))
            try {
              B === "input" && C.type === "radio" && C.name != null && vt(b, C),
                H(B, P);
              var X = H(B, C);
              for (P = 0; P < I.length; P += 2) {
                var ce = I[P],
                  he = I[P + 1];
                ce === "style"
                  ? Et(b, he)
                  : ce === "dangerouslySetInnerHTML"
                  ? Tt(b, he)
                  : ce === "children"
                  ? ft(b, he)
                  : j(b, ce, he, X);
              }
              switch (B) {
                case "input":
                  _t(b, C);
                  break;
                case "textarea":
                  ge(b, C);
                  break;
                case "select":
                  var le = b._wrapperState.wasMultiple;
                  b._wrapperState.wasMultiple = !!C.multiple;
                  var ye = C.value;
                  ye != null
                    ? ee(b, !!C.multiple, ye, !1)
                    : le !== !!C.multiple &&
                      (C.defaultValue != null
                        ? ee(b, !!C.multiple, C.defaultValue, !0)
                        : ee(b, !!C.multiple, C.multiple ? [] : "", !1));
              }
              b[so] = C;
            } catch (we) {
              Rt(o, o.return, we);
            }
        }
        break;
      case 6:
        if ((ys(u, o), Is(o), y & 4)) {
          if (o.stateNode === null) throw Error(t(162));
          (b = o.stateNode), (C = o.memoizedProps);
          try {
            b.nodeValue = C;
          } catch (we) {
            Rt(o, o.return, we);
          }
        }
        break;
      case 3:
        if (
          (ys(u, o), Is(o), y & 4 && p !== null && p.memoizedState.isDehydrated)
        )
          try {
            Va(u.containerInfo);
          } catch (we) {
            Rt(o, o.return, we);
          }
        break;
      case 4:
        ys(u, o), Is(o);
        break;
      case 13:
        ys(u, o),
          Is(o),
          (b = o.child),
          b.flags & 8192 &&
            ((C = b.memoizedState !== null),
            (b.stateNode.isHidden = C),
            !C ||
              (b.alternate !== null && b.alternate.memoizedState !== null) ||
              (bh = Ot())),
          y & 4 && ey(o);
        break;
      case 22:
        if (
          ((ce = p !== null && p.memoizedState !== null),
          o.mode & 1 ? ((xr = (X = xr) || ce), ys(u, o), (xr = X)) : ys(u, o),
          Is(o),
          y & 8192)
        ) {
          if (
            ((X = o.memoizedState !== null),
            (o.stateNode.isHidden = X) && !ce && (o.mode & 1) !== 0)
          )
            for (_e = o, ce = o.child; ce !== null; ) {
              for (he = _e = ce; _e !== null; ) {
                switch (((le = _e), (ye = le.child), le.tag)) {
                  case 0:
                  case 11:
                  case 14:
                  case 15:
                    mo(4, le, le.return);
                    break;
                  case 1:
                    na(le, le.return);
                    var be = le.stateNode;
                    if (typeof be.componentWillUnmount == "function") {
                      (y = le), (p = le.return);
                      try {
                        (u = y),
                          (be.props = u.memoizedProps),
                          (be.state = u.memoizedState),
                          be.componentWillUnmount();
                      } catch (we) {
                        Rt(y, p, we);
                      }
                    }
                    break;
                  case 5:
                    na(le, le.return);
                    break;
                  case 22:
                    if (le.memoizedState !== null) {
                      ny(he);
                      continue;
                    }
                }
                ye !== null ? ((ye.return = le), (_e = ye)) : ny(he);
              }
              ce = ce.sibling;
            }
          e: for (ce = null, he = o; ; ) {
            if (he.tag === 5) {
              if (ce === null) {
                ce = he;
                try {
                  (b = he.stateNode),
                    X
                      ? ((C = b.style),
                        typeof C.setProperty == "function"
                          ? C.setProperty("display", "none", "important")
                          : (C.display = "none"))
                      : ((B = he.stateNode),
                        (I = he.memoizedProps.style),
                        (P =
                          I != null && I.hasOwnProperty("display")
                            ? I.display
                            : null),
                        (B.style.display = kt("display", P)));
                } catch (we) {
                  Rt(o, o.return, we);
                }
              }
            } else if (he.tag === 6) {
              if (ce === null)
                try {
                  he.stateNode.nodeValue = X ? "" : he.memoizedProps;
                } catch (we) {
                  Rt(o, o.return, we);
                }
            } else if (
              ((he.tag !== 22 && he.tag !== 23) ||
                he.memoizedState === null ||
                he === o) &&
              he.child !== null
            ) {
              (he.child.return = he), (he = he.child);
              continue;
            }
            if (he === o) break e;
            for (; he.sibling === null; ) {
              if (he.return === null || he.return === o) break e;
              ce === he && (ce = null), (he = he.return);
            }
            ce === he && (ce = null),
              (he.sibling.return = he.return),
              (he = he.sibling);
          }
        }
        break;
      case 19:
        ys(u, o), Is(o), y & 4 && ey(o);
        break;
      case 21:
        break;
      default:
        ys(u, o), Is(o);
    }
  }
  function Is(o) {
    var u = o.flags;
    if (u & 2) {
      try {
        e: {
          for (var p = o.return; p !== null; ) {
            if (Qx(p)) {
              var y = p;
              break e;
            }
            p = p.return;
          }
          throw Error(t(160));
        }
        switch (y.tag) {
          case 5:
            var b = y.stateNode;
            y.flags & 32 && (ft(b, ""), (y.flags &= -33));
            var C = Zx(o);
            yh(o, C, b);
            break;
          case 3:
          case 4:
            var P = y.stateNode.containerInfo,
              B = Zx(o);
            xh(o, B, P);
            break;
          default:
            throw Error(t(161));
        }
      } catch (I) {
        Rt(o, o.return, I);
      }
      o.flags &= -3;
    }
    u & 4096 && (o.flags &= -4097);
  }
  function SE(o, u, p) {
    (_e = o), ry(o);
  }
  function ry(o, u, p) {
    for (var y = (o.mode & 1) !== 0; _e !== null; ) {
      var b = _e,
        C = b.child;
      if (b.tag === 22 && y) {
        var P = b.memoizedState !== null || fc;
        if (!P) {
          var B = b.alternate,
            I = (B !== null && B.memoizedState !== null) || xr;
          B = fc;
          var X = xr;
          if (((fc = P), (xr = I) && !X))
            for (_e = b; _e !== null; )
              (P = _e),
                (I = P.child),
                P.tag === 22 && P.memoizedState !== null
                  ? iy(b)
                  : I !== null
                  ? ((I.return = P), (_e = I))
                  : iy(b);
          for (; C !== null; ) (_e = C), ry(C), (C = C.sibling);
          (_e = b), (fc = B), (xr = X);
        }
        sy(o);
      } else
        (b.subtreeFlags & 8772) !== 0 && C !== null
          ? ((C.return = b), (_e = C))
          : sy(o);
    }
  }
  function sy(o) {
    for (; _e !== null; ) {
      var u = _e;
      if ((u.flags & 8772) !== 0) {
        var p = u.alternate;
        try {
          if ((u.flags & 8772) !== 0)
            switch (u.tag) {
              case 0:
              case 11:
              case 15:
                xr || pc(5, u);
                break;
              case 1:
                var y = u.stateNode;
                if (u.flags & 4 && !xr)
                  if (p === null) y.componentDidMount();
                  else {
                    var b =
                      u.elementType === u.type
                        ? p.memoizedProps
                        : gs(u.type, p.memoizedProps);
                    y.componentDidUpdate(
                      b,
                      p.memoizedState,
                      y.__reactInternalSnapshotBeforeUpdate
                    );
                  }
                var C = u.updateQueue;
                C !== null && nx(u, C, y);
                break;
              case 3:
                var P = u.updateQueue;
                if (P !== null) {
                  if (((p = null), u.child !== null))
                    switch (u.child.tag) {
                      case 5:
                        p = u.child.stateNode;
                        break;
                      case 1:
                        p = u.child.stateNode;
                    }
                  nx(u, P, p);
                }
                break;
              case 5:
                var B = u.stateNode;
                if (p === null && u.flags & 4) {
                  p = B;
                  var I = u.memoizedProps;
                  switch (u.type) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      I.autoFocus && p.focus();
                      break;
                    case "img":
                      I.src && (p.src = I.src);
                  }
                }
                break;
              case 6:
                break;
              case 4:
                break;
              case 12:
                break;
              case 13:
                if (u.memoizedState === null) {
                  var X = u.alternate;
                  if (X !== null) {
                    var ce = X.memoizedState;
                    if (ce !== null) {
                      var he = ce.dehydrated;
                      he !== null && Va(he);
                    }
                  }
                }
                break;
              case 19:
              case 17:
              case 21:
              case 22:
              case 23:
              case 25:
                break;
              default:
                throw Error(t(163));
            }
          xr || (u.flags & 512 && gh(u));
        } catch (le) {
          Rt(u, u.return, le);
        }
      }
      if (u === o) {
        _e = null;
        break;
      }
      if (((p = u.sibling), p !== null)) {
        (p.return = u.return), (_e = p);
        break;
      }
      _e = u.return;
    }
  }
  function ny(o) {
    for (; _e !== null; ) {
      var u = _e;
      if (u === o) {
        _e = null;
        break;
      }
      var p = u.sibling;
      if (p !== null) {
        (p.return = u.return), (_e = p);
        break;
      }
      _e = u.return;
    }
  }
  function iy(o) {
    for (; _e !== null; ) {
      var u = _e;
      try {
        switch (u.tag) {
          case 0:
          case 11:
          case 15:
            var p = u.return;
            try {
              pc(4, u);
            } catch (I) {
              Rt(u, p, I);
            }
            break;
          case 1:
            var y = u.stateNode;
            if (typeof y.componentDidMount == "function") {
              var b = u.return;
              try {
                y.componentDidMount();
              } catch (I) {
                Rt(u, b, I);
              }
            }
            var C = u.return;
            try {
              gh(u);
            } catch (I) {
              Rt(u, C, I);
            }
            break;
          case 5:
            var P = u.return;
            try {
              gh(u);
            } catch (I) {
              Rt(u, P, I);
            }
        }
      } catch (I) {
        Rt(u, u.return, I);
      }
      if (u === o) {
        _e = null;
        break;
      }
      var B = u.sibling;
      if (B !== null) {
        (B.return = u.return), (_e = B);
        break;
      }
      _e = u.return;
    }
  }
  var CE = Math.ceil,
    mc = E.ReactCurrentDispatcher,
    vh = E.ReactCurrentOwner,
    es = E.ReactCurrentBatchConfig,
    rt = 0,
    Zt = null,
    zt = null,
    or = 0,
    $r = 0,
    ia = jn(0),
    Wt = 0,
    go = null,
    oi = 0,
    gc = 0,
    _h = 0,
    xo = null,
    Nr = null,
    bh = 0,
    aa = 1 / 0,
    tn = null,
    xc = !1,
    wh = null,
    Rn = null,
    yc = !1,
    Bn = null,
    vc = 0,
    yo = 0,
    Sh = null,
    _c = -1,
    bc = 0;
  function Tr() {
    return (rt & 6) !== 0 ? Ot() : _c !== -1 ? _c : (_c = Ot());
  }
  function Fn(o) {
    return (o.mode & 1) === 0
      ? 1
      : (rt & 2) !== 0 && or !== 0
      ? or & -or
      : oE.transition !== null
      ? (bc === 0 && (bc = Zg()), bc)
      : ((o = ut),
        o !== 0 || ((o = window.event), (o = o === void 0 ? 16 : o0(o.type))),
        o);
  }
  function vs(o, u, p, y) {
    if (50 < yo) throw ((yo = 0), (Sh = null), Error(t(185)));
    za(o, p, y),
      ((rt & 2) === 0 || o !== Zt) &&
        (o === Zt && ((rt & 2) === 0 && (gc |= p), Wt === 4 && In(o, or)),
        Rr(o, y),
        p === 1 &&
          rt === 0 &&
          (u.mode & 1) === 0 &&
          ((aa = Ot() + 500), Yl && Pn()));
  }
  function Rr(o, u) {
    var p = o.callbackNode;
    o4(o, u);
    var y = Al(o, o === Zt ? or : 0);
    if (y === 0)
      p !== null && Da(p), (o.callbackNode = null), (o.callbackPriority = 0);
    else if (((u = y & -y), o.callbackPriority !== u)) {
      if ((p != null && Da(p), u === 1))
        o.tag === 0 ? aE(oy.bind(null, o)) : V0(oy.bind(null, o)),
          rE(function () {
            (rt & 6) === 0 && Pn();
          }),
          (p = null);
      else {
        switch (Jg(y)) {
          case 1:
            p = rd;
            break;
          case 4:
            p = Kg;
            break;
          case 16:
            p = El;
            break;
          case 536870912:
            p = Qg;
            break;
          default:
            p = El;
        }
        p = my(p, ay.bind(null, o));
      }
      (o.callbackPriority = u), (o.callbackNode = p);
    }
  }
  function ay(o, u) {
    if (((_c = -1), (bc = 0), (rt & 6) !== 0)) throw Error(t(327));
    var p = o.callbackNode;
    if (oa() && o.callbackNode !== p) return null;
    var y = Al(o, o === Zt ? or : 0);
    if (y === 0) return null;
    if ((y & 30) !== 0 || (y & o.expiredLanes) !== 0 || u) u = wc(o, y);
    else {
      u = y;
      var b = rt;
      rt |= 2;
      var C = cy();
      (Zt !== o || or !== u) && ((tn = null), (aa = Ot() + 500), ci(o, u));
      do
        try {
          jE();
          break;
        } catch (B) {
          ly(o, B);
        }
      while (!0);
      zd(),
        (mc.current = C),
        (rt = b),
        zt !== null ? (u = 0) : ((Zt = null), (or = 0), (u = Wt));
    }
    if (u !== 0) {
      if (
        (u === 2 && ((b = sd(o)), b !== 0 && ((y = b), (u = Ch(o, b)))),
        u === 1)
      )
        throw ((p = go), ci(o, 0), In(o, y), Rr(o, Ot()), p);
      if (u === 6) In(o, y);
      else {
        if (
          ((b = o.current.alternate),
          (y & 30) === 0 &&
            !TE(b) &&
            ((u = wc(o, y)),
            u === 2 && ((C = sd(o)), C !== 0 && ((y = C), (u = Ch(o, C)))),
            u === 1))
        )
          throw ((p = go), ci(o, 0), In(o, y), Rr(o, Ot()), p);
        switch (((o.finishedWork = b), (o.finishedLanes = y), u)) {
          case 0:
          case 1:
            throw Error(t(345));
          case 2:
            ui(o, Nr, tn);
            break;
          case 3:
            if (
              (In(o, y),
              (y & 130023424) === y && ((u = bh + 500 - Ot()), 10 < u))
            ) {
              if (Al(o, 0) !== 0) break;
              if (((b = o.suspendedLanes), (b & y) !== y)) {
                Tr(), (o.pingedLanes |= o.suspendedLanes & b);
                break;
              }
              o.timeoutHandle = Ad(ui.bind(null, o, Nr, tn), u);
              break;
            }
            ui(o, Nr, tn);
            break;
          case 4:
            if ((In(o, y), (y & 4194240) === y)) break;
            for (u = o.eventTimes, b = -1; 0 < y; ) {
              var P = 31 - fs(y);
              (C = 1 << P), (P = u[P]), P > b && (b = P), (y &= ~C);
            }
            if (
              ((y = b),
              (y = Ot() - y),
              (y =
                (120 > y
                  ? 120
                  : 480 > y
                  ? 480
                  : 1080 > y
                  ? 1080
                  : 1920 > y
                  ? 1920
                  : 3e3 > y
                  ? 3e3
                  : 4320 > y
                  ? 4320
                  : 1960 * CE(y / 1960)) - y),
              10 < y)
            ) {
              o.timeoutHandle = Ad(ui.bind(null, o, Nr, tn), y);
              break;
            }
            ui(o, Nr, tn);
            break;
          case 5:
            ui(o, Nr, tn);
            break;
          default:
            throw Error(t(329));
        }
      }
    }
    return Rr(o, Ot()), o.callbackNode === p ? ay.bind(null, o) : null;
  }
  function Ch(o, u) {
    var p = xo;
    return (
      o.current.memoizedState.isDehydrated && (ci(o, u).flags |= 256),
      (o = wc(o, u)),
      o !== 2 && ((u = Nr), (Nr = p), u !== null && Th(u)),
      o
    );
  }
  function Th(o) {
    Nr === null ? (Nr = o) : Nr.push.apply(Nr, o);
  }
  function TE(o) {
    for (var u = o; ; ) {
      if (u.flags & 16384) {
        var p = u.updateQueue;
        if (p !== null && ((p = p.stores), p !== null))
          for (var y = 0; y < p.length; y++) {
            var b = p[y],
              C = b.getSnapshot;
            b = b.value;
            try {
              if (!ps(C(), b)) return !1;
            } catch {
              return !1;
            }
          }
      }
      if (((p = u.child), u.subtreeFlags & 16384 && p !== null))
        (p.return = u), (u = p);
      else {
        if (u === o) break;
        for (; u.sibling === null; ) {
          if (u.return === null || u.return === o) return !0;
          u = u.return;
        }
        (u.sibling.return = u.return), (u = u.sibling);
      }
    }
    return !0;
  }
  function In(o, u) {
    for (
      u &= ~_h,
        u &= ~gc,
        o.suspendedLanes |= u,
        o.pingedLanes &= ~u,
        o = o.expirationTimes;
      0 < u;

    ) {
      var p = 31 - fs(u),
        y = 1 << p;
      (o[p] = -1), (u &= ~y);
    }
  }
  function oy(o) {
    if ((rt & 6) !== 0) throw Error(t(327));
    oa();
    var u = Al(o, 0);
    if ((u & 1) === 0) return Rr(o, Ot()), null;
    var p = wc(o, u);
    if (o.tag !== 0 && p === 2) {
      var y = sd(o);
      y !== 0 && ((u = y), (p = Ch(o, y)));
    }
    if (p === 1) throw ((p = go), ci(o, 0), In(o, u), Rr(o, Ot()), p);
    if (p === 6) throw Error(t(345));
    return (
      (o.finishedWork = o.current.alternate),
      (o.finishedLanes = u),
      ui(o, Nr, tn),
      Rr(o, Ot()),
      null
    );
  }
  function Eh(o, u) {
    var p = rt;
    rt |= 1;
    try {
      return o(u);
    } finally {
      (rt = p), rt === 0 && ((aa = Ot() + 500), Yl && Pn());
    }
  }
  function li(o) {
    Bn !== null && Bn.tag === 0 && (rt & 6) === 0 && oa();
    var u = rt;
    rt |= 1;
    var p = es.transition,
      y = ut;
    try {
      if (((es.transition = null), (ut = 1), o)) return o();
    } finally {
      (ut = y), (es.transition = p), (rt = u), (rt & 6) === 0 && Pn();
    }
  }
  function jh() {
    ($r = ia.current), wt(ia);
  }
  function ci(o, u) {
    (o.finishedWork = null), (o.finishedLanes = 0);
    var p = o.timeoutHandle;
    if ((p !== -1 && ((o.timeoutHandle = -1), tE(p)), zt !== null))
      for (p = zt.return; p !== null; ) {
        var y = p;
        switch ((Id(y), y.tag)) {
          case 1:
            (y = y.type.childContextTypes), y != null && ql();
            break;
          case 3:
            ra(), wt(Pr), wt(pr), Yd();
            break;
          case 5:
            qd(y);
            break;
          case 4:
            ra();
            break;
          case 13:
            wt(Pt);
            break;
          case 19:
            wt(Pt);
            break;
          case 10:
            Gd(y.type._context);
            break;
          case 22:
          case 23:
            jh();
        }
        p = p.return;
      }
    if (
      ((Zt = o),
      (zt = o = On(o.current, null)),
      (or = $r = u),
      (Wt = 0),
      (go = null),
      (_h = gc = oi = 0),
      (Nr = xo = null),
      ni !== null)
    ) {
      for (u = 0; u < ni.length; u++)
        if (((p = ni[u]), (y = p.interleaved), y !== null)) {
          p.interleaved = null;
          var b = y.next,
            C = p.pending;
          if (C !== null) {
            var P = C.next;
            (C.next = b), (y.next = P);
          }
          p.pending = y;
        }
      ni = null;
    }
    return o;
  }
  function ly(o, u) {
    do {
      var p = zt;
      try {
        if ((zd(), (ic.current = cc), ac)) {
          for (var y = At.memoizedState; y !== null; ) {
            var b = y.queue;
            b !== null && (b.pending = null), (y = y.next);
          }
          ac = !1;
        }
        if (
          ((ai = 0),
          (Qt = Ht = At = null),
          (co = !1),
          (uo = 0),
          (vh.current = null),
          p === null || p.return === null)
        ) {
          (Wt = 1), (go = u), (zt = null);
          break;
        }
        e: {
          var C = o,
            P = p.return,
            B = p,
            I = u;
          if (
            ((u = or),
            (B.flags |= 32768),
            I !== null && typeof I == "object" && typeof I.then == "function")
          ) {
            var X = I,
              ce = B,
              he = ce.tag;
            if ((ce.mode & 1) === 0 && (he === 0 || he === 11 || he === 15)) {
              var le = ce.alternate;
              le
                ? ((ce.updateQueue = le.updateQueue),
                  (ce.memoizedState = le.memoizedState),
                  (ce.lanes = le.lanes))
                : ((ce.updateQueue = null), (ce.memoizedState = null));
            }
            var ye = Rx(P);
            if (ye !== null) {
              (ye.flags &= -257),
                Bx(ye, P, B, C, u),
                ye.mode & 1 && Nx(C, X, u),
                (u = ye),
                (I = X);
              var be = u.updateQueue;
              if (be === null) {
                var we = new Set();
                we.add(I), (u.updateQueue = we);
              } else be.add(I);
              break e;
            } else {
              if ((u & 1) === 0) {
                Nx(C, X, u), kh();
                break e;
              }
              I = Error(t(426));
            }
          } else if (jt && B.mode & 1) {
            var Lt = Rx(P);
            if (Lt !== null) {
              (Lt.flags & 65536) === 0 && (Lt.flags |= 256),
                Bx(Lt, P, B, C, u),
                Dd(sa(I, B));
              break e;
            }
          }
          (C = I = sa(I, B)),
            Wt !== 4 && (Wt = 2),
            xo === null ? (xo = [C]) : xo.push(C),
            (C = P);
          do {
            switch (C.tag) {
              case 3:
                (C.flags |= 65536), (u &= -u), (C.lanes |= u);
                var $ = Ax(C, I, u);
                sx(C, $);
                break e;
              case 1:
                B = I;
                var L = C.type,
                  V = C.stateNode;
                if (
                  (C.flags & 128) === 0 &&
                  (typeof L.getDerivedStateFromError == "function" ||
                    (V !== null &&
                      typeof V.componentDidCatch == "function" &&
                      (Rn === null || !Rn.has(V))))
                ) {
                  (C.flags |= 65536), (u &= -u), (C.lanes |= u);
                  var fe = Mx(C, B, u);
                  sx(C, fe);
                  break e;
                }
            }
            C = C.return;
          } while (C !== null);
        }
        dy(p);
      } catch (Ce) {
        (u = Ce), zt === p && p !== null && (zt = p = p.return);
        continue;
      }
      break;
    } while (!0);
  }
  function cy() {
    var o = mc.current;
    return (mc.current = cc), o === null ? cc : o;
  }
  function kh() {
    (Wt === 0 || Wt === 3 || Wt === 2) && (Wt = 4),
      Zt === null ||
        ((oi & 268435455) === 0 && (gc & 268435455) === 0) ||
        In(Zt, or);
  }
  function wc(o, u) {
    var p = rt;
    rt |= 2;
    var y = cy();
    (Zt !== o || or !== u) && ((tn = null), ci(o, u));
    do
      try {
        EE();
        break;
      } catch (b) {
        ly(o, b);
      }
    while (!0);
    if ((zd(), (rt = p), (mc.current = y), zt !== null)) throw Error(t(261));
    return (Zt = null), (or = 0), Wt;
  }
  function EE() {
    for (; zt !== null; ) uy(zt);
  }
  function jE() {
    for (; zt !== null && !ZT(); ) uy(zt);
  }
  function uy(o) {
    var u = py(o.alternate, o, $r);
    (o.memoizedProps = o.pendingProps),
      u === null ? dy(o) : (zt = u),
      (vh.current = null);
  }
  function dy(o) {
    var u = o;
    do {
      var p = u.alternate;
      if (((o = u.return), (u.flags & 32768) === 0)) {
        if (((p = vE(p, u, $r)), p !== null)) {
          zt = p;
          return;
        }
      } else {
        if (((p = _E(p, u)), p !== null)) {
          (p.flags &= 32767), (zt = p);
          return;
        }
        if (o !== null)
          (o.flags |= 32768), (o.subtreeFlags = 0), (o.deletions = null);
        else {
          (Wt = 6), (zt = null);
          return;
        }
      }
      if (((u = u.sibling), u !== null)) {
        zt = u;
        return;
      }
      zt = u = o;
    } while (u !== null);
    Wt === 0 && (Wt = 5);
  }
  function ui(o, u, p) {
    var y = ut,
      b = es.transition;
    try {
      (es.transition = null), (ut = 1), kE(o, u, p, y);
    } finally {
      (es.transition = b), (ut = y);
    }
    return null;
  }
  function kE(o, u, p, y) {
    do oa();
    while (Bn !== null);
    if ((rt & 6) !== 0) throw Error(t(327));
    p = o.finishedWork;
    var b = o.finishedLanes;
    if (p === null) return null;
    if (((o.finishedWork = null), (o.finishedLanes = 0), p === o.current))
      throw Error(t(177));
    (o.callbackNode = null), (o.callbackPriority = 0);
    var C = p.lanes | p.childLanes;
    if (
      (l4(o, C),
      o === Zt && ((zt = Zt = null), (or = 0)),
      ((p.subtreeFlags & 2064) === 0 && (p.flags & 2064) === 0) ||
        yc ||
        ((yc = !0),
        my(El, function () {
          return oa(), null;
        })),
      (C = (p.flags & 15990) !== 0),
      (p.subtreeFlags & 15990) !== 0 || C)
    ) {
      (C = es.transition), (es.transition = null);
      var P = ut;
      ut = 1;
      var B = rt;
      (rt |= 4),
        (vh.current = null),
        wE(o, p),
        ty(p, o),
        X4(kd),
        (Rl = !!jd),
        (kd = jd = null),
        (o.current = p),
        SE(p),
        JT(),
        (rt = B),
        (ut = P),
        (es.transition = C);
    } else o.current = p;
    if (
      (yc && ((yc = !1), (Bn = o), (vc = b)),
      (C = o.pendingLanes),
      C === 0 && (Rn = null),
      r4(p.stateNode),
      Rr(o, Ot()),
      u !== null)
    )
      for (y = o.onRecoverableError, p = 0; p < u.length; p++)
        (b = u[p]), y(b.value, { componentStack: b.stack, digest: b.digest });
    if (xc) throw ((xc = !1), (o = wh), (wh = null), o);
    return (
      (vc & 1) !== 0 && o.tag !== 0 && oa(),
      (C = o.pendingLanes),
      (C & 1) !== 0 ? (o === Sh ? yo++ : ((yo = 0), (Sh = o))) : (yo = 0),
      Pn(),
      null
    );
  }
  function oa() {
    if (Bn !== null) {
      var o = Jg(vc),
        u = es.transition,
        p = ut;
      try {
        if (((es.transition = null), (ut = 16 > o ? 16 : o), Bn === null))
          var y = !1;
        else {
          if (((o = Bn), (Bn = null), (vc = 0), (rt & 6) !== 0))
            throw Error(t(331));
          var b = rt;
          for (rt |= 4, _e = o.current; _e !== null; ) {
            var C = _e,
              P = C.child;
            if ((_e.flags & 16) !== 0) {
              var B = C.deletions;
              if (B !== null) {
                for (var I = 0; I < B.length; I++) {
                  var X = B[I];
                  for (_e = X; _e !== null; ) {
                    var ce = _e;
                    switch (ce.tag) {
                      case 0:
                      case 11:
                      case 15:
                        mo(8, ce, C);
                    }
                    var he = ce.child;
                    if (he !== null) (he.return = ce), (_e = he);
                    else
                      for (; _e !== null; ) {
                        ce = _e;
                        var le = ce.sibling,
                          ye = ce.return;
                        if ((Kx(ce), ce === X)) {
                          _e = null;
                          break;
                        }
                        if (le !== null) {
                          (le.return = ye), (_e = le);
                          break;
                        }
                        _e = ye;
                      }
                  }
                }
                var be = C.alternate;
                if (be !== null) {
                  var we = be.child;
                  if (we !== null) {
                    be.child = null;
                    do {
                      var Lt = we.sibling;
                      (we.sibling = null), (we = Lt);
                    } while (we !== null);
                  }
                }
                _e = C;
              }
            }
            if ((C.subtreeFlags & 2064) !== 0 && P !== null)
              (P.return = C), (_e = P);
            else
              e: for (; _e !== null; ) {
                if (((C = _e), (C.flags & 2048) !== 0))
                  switch (C.tag) {
                    case 0:
                    case 11:
                    case 15:
                      mo(9, C, C.return);
                  }
                var $ = C.sibling;
                if ($ !== null) {
                  ($.return = C.return), (_e = $);
                  break e;
                }
                _e = C.return;
              }
          }
          var L = o.current;
          for (_e = L; _e !== null; ) {
            P = _e;
            var V = P.child;
            if ((P.subtreeFlags & 2064) !== 0 && V !== null)
              (V.return = P), (_e = V);
            else
              e: for (P = L; _e !== null; ) {
                if (((B = _e), (B.flags & 2048) !== 0))
                  try {
                    switch (B.tag) {
                      case 0:
                      case 11:
                      case 15:
                        pc(9, B);
                    }
                  } catch (Ce) {
                    Rt(B, B.return, Ce);
                  }
                if (B === P) {
                  _e = null;
                  break e;
                }
                var fe = B.sibling;
                if (fe !== null) {
                  (fe.return = B.return), (_e = fe);
                  break e;
                }
                _e = B.return;
              }
          }
          if (
            ((rt = b),
            Pn(),
            Ns && typeof Ns.onPostCommitFiberRoot == "function")
          )
            try {
              Ns.onPostCommitFiberRoot(jl, o);
            } catch {}
          y = !0;
        }
        return y;
      } finally {
        (ut = p), (es.transition = u);
      }
    }
    return !1;
  }
  function hy(o, u, p) {
    (u = sa(p, u)),
      (u = Ax(o, u, 1)),
      (o = Mn(o, u, 1)),
      (u = Tr()),
      o !== null && (za(o, 1, u), Rr(o, u));
  }
  function Rt(o, u, p) {
    if (o.tag === 3) hy(o, o, p);
    else
      for (; u !== null; ) {
        if (u.tag === 3) {
          hy(u, o, p);
          break;
        } else if (u.tag === 1) {
          var y = u.stateNode;
          if (
            typeof u.type.getDerivedStateFromError == "function" ||
            (typeof y.componentDidCatch == "function" &&
              (Rn === null || !Rn.has(y)))
          ) {
            (o = sa(p, o)),
              (o = Mx(u, o, 1)),
              (u = Mn(u, o, 1)),
              (o = Tr()),
              u !== null && (za(u, 1, o), Rr(u, o));
            break;
          }
        }
        u = u.return;
      }
  }
  function PE(o, u, p) {
    var y = o.pingCache;
    y !== null && y.delete(u),
      (u = Tr()),
      (o.pingedLanes |= o.suspendedLanes & p),
      Zt === o &&
        (or & p) === p &&
        (Wt === 4 || (Wt === 3 && (or & 130023424) === or && 500 > Ot() - bh)
          ? ci(o, 0)
          : (_h |= p)),
      Rr(o, u);
  }
  function fy(o, u) {
    u === 0 &&
      ((o.mode & 1) === 0
        ? (u = 1)
        : ((u = Pl), (Pl <<= 1), (Pl & 130023424) === 0 && (Pl = 4194304)));
    var p = Tr();
    (o = Zs(o, u)), o !== null && (za(o, u, p), Rr(o, p));
  }
  function AE(o) {
    var u = o.memoizedState,
      p = 0;
    u !== null && (p = u.retryLane), fy(o, p);
  }
  function ME(o, u) {
    var p = 0;
    switch (o.tag) {
      case 13:
        var y = o.stateNode,
          b = o.memoizedState;
        b !== null && (p = b.retryLane);
        break;
      case 19:
        y = o.stateNode;
        break;
      default:
        throw Error(t(314));
    }
    y !== null && y.delete(u), fy(o, p);
  }
  var py;
  py = function (o, u, p) {
    if (o !== null)
      if (o.memoizedProps !== u.pendingProps || Pr.current) Mr = !0;
      else {
        if ((o.lanes & p) === 0 && (u.flags & 128) === 0)
          return (Mr = !1), yE(o, u, p);
        Mr = (o.flags & 131072) !== 0;
      }
    else (Mr = !1), jt && (u.flags & 1048576) !== 0 && q0(u, Ql, u.index);
    switch (((u.lanes = 0), u.tag)) {
      case 2:
        var y = u.type;
        hc(o, u), (o = u.pendingProps);
        var b = Yi(u, pr.current);
        ta(u, p), (b = Zd(null, u, y, o, b, p));
        var C = Jd();
        return (
          (u.flags |= 1),
          typeof b == "object" &&
          b !== null &&
          typeof b.render == "function" &&
          b.$$typeof === void 0
            ? ((u.tag = 1),
              (u.memoizedState = null),
              (u.updateQueue = null),
              Ar(y) ? ((C = !0), Xl(u)) : (C = !1),
              (u.memoizedState =
                b.state !== null && b.state !== void 0 ? b.state : null),
              Wd(u),
              (b.updater = uc),
              (u.stateNode = b),
              (b._reactInternals = u),
              ih(u, y, o, p),
              (u = ch(null, u, y, !0, C, p)))
            : ((u.tag = 0), jt && C && Fd(u), Cr(null, u, b, p), (u = u.child)),
          u
        );
      case 16:
        y = u.elementType;
        e: {
          switch (
            (hc(o, u),
            (o = u.pendingProps),
            (b = y._init),
            (y = b(y._payload)),
            (u.type = y),
            (b = u.tag = RE(y)),
            (o = gs(y, o)),
            b)
          ) {
            case 0:
              u = lh(null, u, y, o, p);
              break e;
            case 1:
              u = Ux(null, u, y, o, p);
              break e;
            case 11:
              u = Fx(null, u, y, o, p);
              break e;
            case 14:
              u = Ix(null, u, y, gs(y.type, o), p);
              break e;
          }
          throw Error(t(306, y, ""));
        }
        return u;
      case 0:
        return (
          (y = u.type),
          (b = u.pendingProps),
          (b = u.elementType === y ? b : gs(y, b)),
          lh(o, u, y, b, p)
        );
      case 1:
        return (
          (y = u.type),
          (b = u.pendingProps),
          (b = u.elementType === y ? b : gs(y, b)),
          Ux(o, u, y, b, p)
        );
      case 3:
        e: {
          if ((zx(u), o === null)) throw Error(t(387));
          (y = u.pendingProps),
            (C = u.memoizedState),
            (b = C.element),
            rx(o, u),
            sc(u, y, null, p);
          var P = u.memoizedState;
          if (((y = P.element), C.isDehydrated))
            if (
              ((C = {
                element: y,
                isDehydrated: !1,
                cache: P.cache,
                pendingSuspenseBoundaries: P.pendingSuspenseBoundaries,
                transitions: P.transitions,
              }),
              (u.updateQueue.baseState = C),
              (u.memoizedState = C),
              u.flags & 256)
            ) {
              (b = sa(Error(t(423)), u)), (u = Gx(o, u, y, p, b));
              break e;
            } else if (y !== b) {
              (b = sa(Error(t(424)), u)), (u = Gx(o, u, y, p, b));
              break e;
            } else
              for (
                Gr = En(u.stateNode.containerInfo.firstChild),
                  zr = u,
                  jt = !0,
                  ms = null,
                  p = ex(u, null, y, p),
                  u.child = p;
                p;

              )
                (p.flags = (p.flags & -3) | 4096), (p = p.sibling);
          else {
            if ((Zi(), y === b)) {
              u = en(o, u, p);
              break e;
            }
            Cr(o, u, y, p);
          }
          u = u.child;
        }
        return u;
      case 5:
        return (
          ix(u),
          o === null && Ld(u),
          (y = u.type),
          (b = u.pendingProps),
          (C = o !== null ? o.memoizedProps : null),
          (P = b.children),
          Pd(y, b) ? (P = null) : C !== null && Pd(y, C) && (u.flags |= 32),
          Dx(o, u),
          Cr(o, u, P, p),
          u.child
        );
      case 6:
        return o === null && Ld(u), null;
      case 13:
        return $x(o, u, p);
      case 4:
        return (
          Vd(u, u.stateNode.containerInfo),
          (y = u.pendingProps),
          o === null ? (u.child = Ji(u, null, y, p)) : Cr(o, u, y, p),
          u.child
        );
      case 11:
        return (
          (y = u.type),
          (b = u.pendingProps),
          (b = u.elementType === y ? b : gs(y, b)),
          Fx(o, u, y, b, p)
        );
      case 7:
        return Cr(o, u, u.pendingProps, p), u.child;
      case 8:
        return Cr(o, u, u.pendingProps.children, p), u.child;
      case 12:
        return Cr(o, u, u.pendingProps.children, p), u.child;
      case 10:
        e: {
          if (
            ((y = u.type._context),
            (b = u.pendingProps),
            (C = u.memoizedProps),
            (P = b.value),
            xt(ec, y._currentValue),
            (y._currentValue = P),
            C !== null)
          )
            if (ps(C.value, P)) {
              if (C.children === b.children && !Pr.current) {
                u = en(o, u, p);
                break e;
              }
            } else
              for (C = u.child, C !== null && (C.return = u); C !== null; ) {
                var B = C.dependencies;
                if (B !== null) {
                  P = C.child;
                  for (var I = B.firstContext; I !== null; ) {
                    if (I.context === y) {
                      if (C.tag === 1) {
                        (I = Js(-1, p & -p)), (I.tag = 2);
                        var X = C.updateQueue;
                        if (X !== null) {
                          X = X.shared;
                          var ce = X.pending;
                          ce === null
                            ? (I.next = I)
                            : ((I.next = ce.next), (ce.next = I)),
                            (X.pending = I);
                        }
                      }
                      (C.lanes |= p),
                        (I = C.alternate),
                        I !== null && (I.lanes |= p),
                        $d(C.return, p, u),
                        (B.lanes |= p);
                      break;
                    }
                    I = I.next;
                  }
                } else if (C.tag === 10) P = C.type === u.type ? null : C.child;
                else if (C.tag === 18) {
                  if (((P = C.return), P === null)) throw Error(t(341));
                  (P.lanes |= p),
                    (B = P.alternate),
                    B !== null && (B.lanes |= p),
                    $d(P, p, u),
                    (P = C.sibling);
                } else P = C.child;
                if (P !== null) P.return = C;
                else
                  for (P = C; P !== null; ) {
                    if (P === u) {
                      P = null;
                      break;
                    }
                    if (((C = P.sibling), C !== null)) {
                      (C.return = P.return), (P = C);
                      break;
                    }
                    P = P.return;
                  }
                C = P;
              }
          Cr(o, u, b.children, p), (u = u.child);
        }
        return u;
      case 9:
        return (
          (b = u.type),
          (y = u.pendingProps.children),
          ta(u, p),
          (b = Zr(b)),
          (y = y(b)),
          (u.flags |= 1),
          Cr(o, u, y, p),
          u.child
        );
      case 14:
        return (
          (y = u.type),
          (b = gs(y, u.pendingProps)),
          (b = gs(y.type, b)),
          Ix(o, u, y, b, p)
        );
      case 15:
        return Ox(o, u, u.type, u.pendingProps, p);
      case 17:
        return (
          (y = u.type),
          (b = u.pendingProps),
          (b = u.elementType === y ? b : gs(y, b)),
          hc(o, u),
          (u.tag = 1),
          Ar(y) ? ((o = !0), Xl(u)) : (o = !1),
          ta(u, p),
          kx(u, y, b),
          ih(u, y, b, p),
          ch(null, u, y, !0, o, p)
        );
      case 19:
        return Wx(o, u, p);
      case 22:
        return Lx(o, u, p);
    }
    throw Error(t(156, u.tag));
  };
  function my(o, u) {
    return Tl(o, u);
  }
  function NE(o, u, p, y) {
    (this.tag = o),
      (this.key = p),
      (this.sibling =
        this.child =
        this.return =
        this.stateNode =
        this.type =
        this.elementType =
          null),
      (this.index = 0),
      (this.ref = null),
      (this.pendingProps = u),
      (this.dependencies =
        this.memoizedState =
        this.updateQueue =
        this.memoizedProps =
          null),
      (this.mode = y),
      (this.subtreeFlags = this.flags = 0),
      (this.deletions = null),
      (this.childLanes = this.lanes = 0),
      (this.alternate = null);
  }
  function ts(o, u, p, y) {
    return new NE(o, u, p, y);
  }
  function Ph(o) {
    return (o = o.prototype), !(!o || !o.isReactComponent);
  }
  function RE(o) {
    if (typeof o == "function") return Ph(o) ? 1 : 0;
    if (o != null) {
      if (((o = o.$$typeof), o === Q)) return 11;
      if (o === pe) return 14;
    }
    return 2;
  }
  function On(o, u) {
    var p = o.alternate;
    return (
      p === null
        ? ((p = ts(o.tag, u, o.key, o.mode)),
          (p.elementType = o.elementType),
          (p.type = o.type),
          (p.stateNode = o.stateNode),
          (p.alternate = o),
          (o.alternate = p))
        : ((p.pendingProps = u),
          (p.type = o.type),
          (p.flags = 0),
          (p.subtreeFlags = 0),
          (p.deletions = null)),
      (p.flags = o.flags & 14680064),
      (p.childLanes = o.childLanes),
      (p.lanes = o.lanes),
      (p.child = o.child),
      (p.memoizedProps = o.memoizedProps),
      (p.memoizedState = o.memoizedState),
      (p.updateQueue = o.updateQueue),
      (u = o.dependencies),
      (p.dependencies =
        u === null ? null : { lanes: u.lanes, firstContext: u.firstContext }),
      (p.sibling = o.sibling),
      (p.index = o.index),
      (p.ref = o.ref),
      p
    );
  }
  function Sc(o, u, p, y, b, C) {
    var P = 2;
    if (((y = o), typeof o == "function")) Ph(o) && (P = 1);
    else if (typeof o == "string") P = 5;
    else
      e: switch (o) {
        case N:
          return di(p.children, b, C, u);
        case R:
          (P = 8), (b |= 8);
          break;
        case O:
          return (
            (o = ts(12, p, u, b | 2)), (o.elementType = O), (o.lanes = C), o
          );
        case z:
          return (o = ts(13, p, u, b)), (o.elementType = z), (o.lanes = C), o;
        case Z:
          return (o = ts(19, p, u, b)), (o.elementType = Z), (o.lanes = C), o;
        case ie:
          return Cc(p, b, C, u);
        default:
          if (typeof o == "object" && o !== null)
            switch (o.$$typeof) {
              case U:
                P = 10;
                break e;
              case q:
                P = 9;
                break e;
              case Q:
                P = 11;
                break e;
              case pe:
                P = 14;
                break e;
              case se:
                (P = 16), (y = null);
                break e;
            }
          throw Error(t(130, o == null ? o : typeof o, ""));
      }
    return (
      (u = ts(P, p, u, b)), (u.elementType = o), (u.type = y), (u.lanes = C), u
    );
  }
  function di(o, u, p, y) {
    return (o = ts(7, o, y, u)), (o.lanes = p), o;
  }
  function Cc(o, u, p, y) {
    return (
      (o = ts(22, o, y, u)),
      (o.elementType = ie),
      (o.lanes = p),
      (o.stateNode = { isHidden: !1 }),
      o
    );
  }
  function Ah(o, u, p) {
    return (o = ts(6, o, null, u)), (o.lanes = p), o;
  }
  function Mh(o, u, p) {
    return (
      (u = ts(4, o.children !== null ? o.children : [], o.key, u)),
      (u.lanes = p),
      (u.stateNode = {
        containerInfo: o.containerInfo,
        pendingChildren: null,
        implementation: o.implementation,
      }),
      u
    );
  }
  function BE(o, u, p, y, b) {
    (this.tag = u),
      (this.containerInfo = o),
      (this.finishedWork =
        this.pingCache =
        this.current =
        this.pendingChildren =
          null),
      (this.timeoutHandle = -1),
      (this.callbackNode = this.pendingContext = this.context = null),
      (this.callbackPriority = 0),
      (this.eventTimes = nd(0)),
      (this.expirationTimes = nd(-1)),
      (this.entangledLanes =
        this.finishedLanes =
        this.mutableReadLanes =
        this.expiredLanes =
        this.pingedLanes =
        this.suspendedLanes =
        this.pendingLanes =
          0),
      (this.entanglements = nd(0)),
      (this.identifierPrefix = y),
      (this.onRecoverableError = b),
      (this.mutableSourceEagerHydrationData = null);
  }
  function Nh(o, u, p, y, b, C, P, B, I) {
    return (
      (o = new BE(o, u, p, B, I)),
      u === 1 ? ((u = 1), C === !0 && (u |= 8)) : (u = 0),
      (C = ts(3, null, null, u)),
      (o.current = C),
      (C.stateNode = o),
      (C.memoizedState = {
        element: y,
        isDehydrated: p,
        cache: null,
        transitions: null,
        pendingSuspenseBoundaries: null,
      }),
      Wd(C),
      o
    );
  }
  function FE(o, u, p) {
    var y =
      3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
      $$typeof: M,
      key: y == null ? null : "" + y,
      children: o,
      containerInfo: u,
      implementation: p,
    };
  }
  function gy(o) {
    if (!o) return kn;
    o = o._reactInternals;
    e: {
      if (hs(o) !== o || o.tag !== 1) throw Error(t(170));
      var u = o;
      do {
        switch (u.tag) {
          case 3:
            u = u.stateNode.context;
            break e;
          case 1:
            if (Ar(u.type)) {
              u = u.stateNode.__reactInternalMemoizedMergedChildContext;
              break e;
            }
        }
        u = u.return;
      } while (u !== null);
      throw Error(t(171));
    }
    if (o.tag === 1) {
      var p = o.type;
      if (Ar(p)) return H0(o, p, u);
    }
    return u;
  }
  function xy(o, u, p, y, b, C, P, B, I) {
    return (
      (o = Nh(p, y, !0, o, b, C, P, B, I)),
      (o.context = gy(null)),
      (p = o.current),
      (y = Tr()),
      (b = Fn(p)),
      (C = Js(y, b)),
      (C.callback = u ?? null),
      Mn(p, C, b),
      (o.current.lanes = b),
      za(o, b, y),
      Rr(o, y),
      o
    );
  }
  function Tc(o, u, p, y) {
    var b = u.current,
      C = Tr(),
      P = Fn(b);
    return (
      (p = gy(p)),
      u.context === null ? (u.context = p) : (u.pendingContext = p),
      (u = Js(C, P)),
      (u.payload = { element: o }),
      (y = y === void 0 ? null : y),
      y !== null && (u.callback = y),
      (o = Mn(b, u, P)),
      o !== null && (vs(o, b, P, C), rc(o, b, P)),
      P
    );
  }
  function Ec(o) {
    if (((o = o.current), !o.child)) return null;
    switch (o.child.tag) {
      case 5:
        return o.child.stateNode;
      default:
        return o.child.stateNode;
    }
  }
  function yy(o, u) {
    if (((o = o.memoizedState), o !== null && o.dehydrated !== null)) {
      var p = o.retryLane;
      o.retryLane = p !== 0 && p < u ? p : u;
    }
  }
  function Rh(o, u) {
    yy(o, u), (o = o.alternate) && yy(o, u);
  }
  function IE() {
    return null;
  }
  var vy =
    typeof reportError == "function"
      ? reportError
      : function (o) {
          console.error(o);
        };
  function Bh(o) {
    this._internalRoot = o;
  }
  (jc.prototype.render = Bh.prototype.render =
    function (o) {
      var u = this._internalRoot;
      if (u === null) throw Error(t(409));
      Tc(o, u, null, null);
    }),
    (jc.prototype.unmount = Bh.prototype.unmount =
      function () {
        var o = this._internalRoot;
        if (o !== null) {
          this._internalRoot = null;
          var u = o.containerInfo;
          li(function () {
            Tc(null, o, null, null);
          }),
            (u[Xs] = null);
        }
      });
  function jc(o) {
    this._internalRoot = o;
  }
  jc.prototype.unstable_scheduleHydration = function (o) {
    if (o) {
      var u = r0();
      o = { blockedOn: null, target: o, priority: u };
      for (var p = 0; p < Sn.length && u !== 0 && u < Sn[p].priority; p++);
      Sn.splice(p, 0, o), p === 0 && i0(o);
    }
  };
  function Fh(o) {
    return !(!o || (o.nodeType !== 1 && o.nodeType !== 9 && o.nodeType !== 11));
  }
  function kc(o) {
    return !(
      !o ||
      (o.nodeType !== 1 &&
        o.nodeType !== 9 &&
        o.nodeType !== 11 &&
        (o.nodeType !== 8 || o.nodeValue !== " react-mount-point-unstable "))
    );
  }
  function _y() {}
  function OE(o, u, p, y, b) {
    if (b) {
      if (typeof y == "function") {
        var C = y;
        y = function () {
          var X = Ec(P);
          C.call(X);
        };
      }
      var P = xy(u, y, o, 0, null, !1, !1, "", _y);
      return (
        (o._reactRootContainer = P),
        (o[Xs] = P.current),
        to(o.nodeType === 8 ? o.parentNode : o),
        li(),
        P
      );
    }
    for (; (b = o.lastChild); ) o.removeChild(b);
    if (typeof y == "function") {
      var B = y;
      y = function () {
        var X = Ec(I);
        B.call(X);
      };
    }
    var I = Nh(o, 0, !1, null, null, !1, !1, "", _y);
    return (
      (o._reactRootContainer = I),
      (o[Xs] = I.current),
      to(o.nodeType === 8 ? o.parentNode : o),
      li(function () {
        Tc(u, I, p, y);
      }),
      I
    );
  }
  function Pc(o, u, p, y, b) {
    var C = p._reactRootContainer;
    if (C) {
      var P = C;
      if (typeof b == "function") {
        var B = b;
        b = function () {
          var I = Ec(P);
          B.call(I);
        };
      }
      Tc(u, P, o, b);
    } else P = OE(p, u, o, b, y);
    return Ec(P);
  }
  (e0 = function (o) {
    switch (o.tag) {
      case 3:
        var u = o.stateNode;
        if (u.current.memoizedState.isDehydrated) {
          var p = Ua(u.pendingLanes);
          p !== 0 &&
            (id(u, p | 1),
            Rr(u, Ot()),
            (rt & 6) === 0 && ((aa = Ot() + 500), Pn()));
        }
        break;
      case 13:
        li(function () {
          var y = Zs(o, 1);
          if (y !== null) {
            var b = Tr();
            vs(y, o, 1, b);
          }
        }),
          Rh(o, 1);
    }
  }),
    (ad = function (o) {
      if (o.tag === 13) {
        var u = Zs(o, 134217728);
        if (u !== null) {
          var p = Tr();
          vs(u, o, 134217728, p);
        }
        Rh(o, 134217728);
      }
    }),
    (t0 = function (o) {
      if (o.tag === 13) {
        var u = Fn(o),
          p = Zs(o, u);
        if (p !== null) {
          var y = Tr();
          vs(p, o, u, y);
        }
        Rh(o, u);
      }
    }),
    (r0 = function () {
      return ut;
    }),
    (s0 = function (o, u) {
      var p = ut;
      try {
        return (ut = o), u();
      } finally {
        ut = p;
      }
    }),
    (Qe = function (o, u, p) {
      switch (u) {
        case "input":
          if ((_t(o, p), (u = p.name), p.type === "radio" && u != null)) {
            for (p = o; p.parentNode; ) p = p.parentNode;
            for (
              p = p.querySelectorAll(
                "input[name=" + JSON.stringify("" + u) + '][type="radio"]'
              ),
                u = 0;
              u < p.length;
              u++
            ) {
              var y = p[u];
              if (y !== o && y.form === o.form) {
                var b = Vl(y);
                if (!b) throw Error(t(90));
                Ue(y), _t(y, b);
              }
            }
          }
          break;
        case "textarea":
          ge(o, p);
          break;
        case "select":
          (u = p.value), u != null && ee(o, !!p.multiple, u, !1);
      }
    }),
    (Oi = Eh),
    (Vs = li);
  var LE = { usingClientEntryPoint: !1, Events: [no, qi, Vl, fr, us, Eh] },
    vo = {
      findFiberByHostInstance: ei,
      bundleType: 0,
      version: "18.3.1",
      rendererPackageName: "react-dom",
    },
    DE = {
      bundleType: vo.bundleType,
      version: vo.version,
      rendererPackageName: vo.rendererPackageName,
      rendererConfig: vo.rendererConfig,
      overrideHookState: null,
      overrideHookStateDeletePath: null,
      overrideHookStateRenamePath: null,
      overrideProps: null,
      overridePropsDeletePath: null,
      overridePropsRenamePath: null,
      setErrorHandler: null,
      setSuspenseHandler: null,
      scheduleUpdate: null,
      currentDispatcherRef: E.ReactCurrentDispatcher,
      findHostInstanceByFiber: function (o) {
        return (o = qs(o)), o === null ? null : o.stateNode;
      },
      findFiberByHostInstance: vo.findFiberByHostInstance || IE,
      findHostInstancesForRefresh: null,
      scheduleRefresh: null,
      scheduleRoot: null,
      setRefreshHandler: null,
      getCurrentFiber: null,
      reconcilerVersion: "18.3.1-next-f1338f8080-20240426",
    };
  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var Ac = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!Ac.isDisabled && Ac.supportsFiber)
      try {
        (jl = Ac.inject(DE)), (Ns = Ac);
      } catch {}
  }
  return (
    (Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = LE),
    (Br.createPortal = function (o, u) {
      var p =
        2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
      if (!Fh(u)) throw Error(t(200));
      return FE(o, u, null, p);
    }),
    (Br.createRoot = function (o, u) {
      if (!Fh(o)) throw Error(t(299));
      var p = !1,
        y = "",
        b = vy;
      return (
        u != null &&
          (u.unstable_strictMode === !0 && (p = !0),
          u.identifierPrefix !== void 0 && (y = u.identifierPrefix),
          u.onRecoverableError !== void 0 && (b = u.onRecoverableError)),
        (u = Nh(o, 1, !1, null, null, p, !1, y, b)),
        (o[Xs] = u.current),
        to(o.nodeType === 8 ? o.parentNode : o),
        new Bh(u)
      );
    }),
    (Br.findDOMNode = function (o) {
      if (o == null) return null;
      if (o.nodeType === 1) return o;
      var u = o._reactInternals;
      if (u === void 0)
        throw typeof o.render == "function"
          ? Error(t(188))
          : ((o = Object.keys(o).join(",")), Error(t(268, o)));
      return (o = qs(u)), (o = o === null ? null : o.stateNode), o;
    }),
    (Br.flushSync = function (o) {
      return li(o);
    }),
    (Br.hydrate = function (o, u, p) {
      if (!kc(u)) throw Error(t(200));
      return Pc(null, o, u, !0, p);
    }),
    (Br.hydrateRoot = function (o, u, p) {
      if (!Fh(o)) throw Error(t(405));
      var y = (p != null && p.hydratedSources) || null,
        b = !1,
        C = "",
        P = vy;
      if (
        (p != null &&
          (p.unstable_strictMode === !0 && (b = !0),
          p.identifierPrefix !== void 0 && (C = p.identifierPrefix),
          p.onRecoverableError !== void 0 && (P = p.onRecoverableError)),
        (u = xy(u, null, o, 1, p ?? null, b, !1, C, P)),
        (o[Xs] = u.current),
        to(o),
        y)
      )
        for (o = 0; o < y.length; o++)
          (p = y[o]),
            (b = p._getVersion),
            (b = b(p._source)),
            u.mutableSourceEagerHydrationData == null
              ? (u.mutableSourceEagerHydrationData = [p, b])
              : u.mutableSourceEagerHydrationData.push(p, b);
      return new jc(u);
    }),
    (Br.render = function (o, u, p) {
      if (!kc(u)) throw Error(t(200));
      return Pc(null, o, u, !1, p);
    }),
    (Br.unmountComponentAtNode = function (o) {
      if (!kc(o)) throw Error(t(40));
      return o._reactRootContainer
        ? (li(function () {
            Pc(null, null, o, !1, function () {
              (o._reactRootContainer = null), (o[Xs] = null);
            });
          }),
          !0)
        : !1;
    }),
    (Br.unstable_batchedUpdates = Eh),
    (Br.unstable_renderSubtreeIntoContainer = function (o, u, p, y) {
      if (!kc(p)) throw Error(t(200));
      if (o == null || o._reactInternals === void 0) throw Error(t(38));
      return Pc(o, u, p, !1, y);
    }),
    (Br.version = "18.3.1-next-f1338f8080-20240426"),
    Br
  );
}
var Rb;
function iT() {
  if (Rb) return jp.exports;
  Rb = 1;
  function r() {
    if (
      !(
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
      )
    )
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r);
      } catch (e) {
        console.error(e);
      }
  }
  return r(), (jp.exports = oF()), jp.exports;
}
var Bb;
function lF() {
  if (Bb) return Kc;
  Bb = 1;
  var r = iT();
  return (Kc.createRoot = r.createRoot), (Kc.hydrateRoot = r.hydrateRoot), Kc;
}
var cF = lF();
window.axios = Ge;
const uF = "Weizhen Gamming";
_P({
  title: (r) => `${r} - ${uF}`,
  resolve: (r) =>
    wP(
      `./Pages/${r}.jsx`,
      Object.assign({
        "./Pages/Auth/ConfirmPassword.jsx": () =>
          Je(() => Promise.resolve().then(() => pF), void 0),
        "./Pages/Auth/ForgotPassword.jsx": () =>
          Je(() => Promise.resolve().then(() => gF), void 0),
        "./Pages/Auth/Login.jsx": () =>
          Je(() => Promise.resolve().then(() => yF), void 0),
        "./Pages/Auth/Register.jsx": () =>
          Je(() => Promise.resolve().then(() => _F), void 0),
        "./Pages/Auth/ResetPassword.jsx": () =>
          Je(() => Promise.resolve().then(() => wF), void 0),
        "./Pages/Auth/VerifyEmail.jsx": () =>
          Je(() => Promise.resolve().then(() => CF), void 0),
        "./Pages/Dashboard.jsx": () =>
          Je(() => Promise.resolve().then(() => RF), void 0),
        "./Pages/Game.jsx": () =>
          Je(() => Promise.resolve().then(() => BF), void 0),
        "./Pages/Profile/Edit.jsx": () =>
          Je(() => Promise.resolve().then(() => WI), void 0),
        "./Pages/Profile/Partials/DeleteUserForm.jsx": () =>
          Je(() => Promise.resolve().then(() => zI), void 0),
        "./Pages/Profile/Partials/UpdatePasswordForm.jsx": () =>
          Je(() => Promise.resolve().then(() => GI), void 0),
        "./Pages/Profile/Partials/UpdateProfileInformationForm.jsx": () =>
          Je(() => Promise.resolve().then(() => $I), void 0),
        "./Pages/Tenant/Admin/Deposits.jsx": () =>
          Je(() => Promise.resolve().then(() => dO), void 0),
        "./Pages/Tenant/Admin/Jackpot.jsx": () =>
          Je(() => Promise.resolve().then(() => pO), void 0),
        "./Pages/Tenant/Admin/Layout/AdminLayout.jsx": () =>
          Je(() => Promise.resolve().then(() => sO), void 0),
        "./Pages/Tenant/Admin/Partials/ChangePasswordModal.jsx": () =>
          Je(() => Promise.resolve().then(() => VI), void 0),
        "./Pages/Tenant/Admin/Partials/EditUserModal.jsx": () =>
          Je(() => Promise.resolve().then(() => wO), void 0),
        "./Pages/Tenant/Admin/Partials/ResetPasswordModal.jsx": () =>
          Je(() => Promise.resolve().then(() => SO), void 0),
        "./Pages/Tenant/Admin/Partials/TransactionModal.jsx": () =>
          Je(() => Promise.resolve().then(() => nO), void 0),
        "./Pages/Tenant/Admin/Settings.jsx": () =>
          Je(() => Promise.resolve().then(() => MO), void 0),
        "./Pages/Tenant/Admin/Users.jsx": () =>
          Je(() => Promise.resolve().then(() => DO), void 0),
        "./Pages/Tenant/Admin/WeizhenManager.jsx": () =>
          Je(() => Promise.resolve().then(() => eL), void 0),
        "./Pages/Tenant/Admin/Withdrawals.jsx": () =>
          Je(() => Promise.resolve().then(() => oL), void 0),
        "./Pages/Tenant/Auth/Login.jsx": () =>
          Je(() => Promise.resolve().then(() => cL), void 0),
        "./Pages/Tenant/Auth/Register.jsx": () =>
          Je(() => Promise.resolve().then(() => dL), void 0),
        "./Pages/Tenant/Game/InGame.jsx": () =>
          Je(() => Promise.resolve().then(() => CL), void 0),
        "./Pages/Tenant/Game/Launch.jsx": () =>
          Je(() => Promise.resolve().then(() => UL), void 0),
        "./Pages/Tenant/Game/LobbyUI.jsx": () =>
          Je(() => Promise.resolve().then(() => GL), void 0),
        "./Pages/Tenant/Game/Main.jsx": () =>
          Je(() => Promise.resolve().then(() => OL), void 0),
        "./Pages/Tenant/Unauthorized.jsx": () =>
          Je(() => Promise.resolve().then(() => HL), void 0),
        "./Pages/Tenants/Create.jsx": () =>
          Je(() => Promise.resolve().then(() => VL), void 0),
        "./Pages/Welcome.jsx": () =>
          Je(() => Promise.resolve().then(() => XL), void 0),
      })
    ),
  setup({ el: r, App: e, props: t }) {
    cF.createRoot(r).render(a.jsx(e, { ...t }));
  },
  progress: { color: "#4B5563" },
});
Ie.add(NA);
Ie.mixin(Ye, RA);
Ie.add(kw);
Ie.add(Pw);
Ie.add(nS);
Ie.mixin(Ye, o6);
Ie.add(sS);
Ie.add(OC);
Ie.add(wg);
Ie.add(UC);
Ie.add(GC);
Ie.add($C);
Ie.add(JC);
Ie.add(ZC);
Ie.add(XC);
Ie.add(QC);
Ie.add(YC);
Ie.add(qC);
Ie.add(VC);
Ie.add(cS);
Ie.add(lS);
const dF = Object.freeze(
    Object.defineProperty({ __proto__: null }, Symbol.toStringTag, {
      value: "Module",
    })
  ),
  hF = Object.freeze(
    Object.defineProperty({ __proto__: null }, Symbol.toStringTag, {
      value: "Module",
    })
  );
function qt({ message: r, className: e = "", ...t }) {
  return r
    ? a.jsx("p", { ...t, className: "text-sm text-red-600 " + e, children: r })
    : null;
}
function rr({ value: r, className: e = "", children: t, ...s }) {
  return a.jsx("label", {
    ...s,
    className: "block text-sm font-medium text-gray-700 " + e,
    children: r || t,
  });
}
function mn({ className: r = "", disabled: e, children: t, ...s }) {
  return a.jsx("button", {
    ...s,
    className:
      `inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 ${
        e && "opacity-25"
      } ` + r,
    disabled: e,
    children: t,
  });
}
const Xt = k.forwardRef(function (
  { type: e = "text", className: t = "", isFocused: s = !1, ...n },
  i
) {
  const l = k.useRef(null);
  return (
    k.useImperativeHandle(i, () => ({ focus: () => l.current?.focus() })),
    k.useEffect(() => {
      s && l.current?.focus();
    }, [s]),
    a.jsx("input", {
      ...n,
      type: e,
      className:
        "rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 " +
        t,
      ref: l,
    })
  );
});
function aT(r) {
  return a.jsx("svg", {
    ...r,
    xmlns: "http://www.w3.org/2000/svg",
    width: "800px",
    height: "800px",
    viewBox: "0 0 16 16",
    fill: "none",
    children: a.jsx("path", {
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M8 16L3.54223 12.3383C1.93278 11.0162 1 9.04287 1 6.96005C1 3.11612 4.15607 0 8 0C11.8439 0 15 3.11612 15 6.96005C15 9.04287 14.0672 11.0162 12.4578 12.3383L8 16ZM3 6H5C6.10457 6 7 6.89543 7 8V9L3 7.5V6ZM11 6C9.89543 6 9 6.89543 9 8V9L13 7.5V6H11Z",
      fill: "#000000",
    }),
  });
}
function Ra({ children: r }) {
  return a.jsxs("div", {
    className:
      "flex min-h-screen flex-col items-center bg-gray-100 pt-6 sm:justify-center sm:pt-0",
    children: [
      a.jsx("div", {
        children: a.jsx(br, {
          href: "/",
          children: a.jsx(aT, {
            className: "h-20 w-20 fill-current text-gray-500",
          }),
        }),
      }),
      a.jsx("div", {
        className:
          "mt-6 w-full overflow-hidden bg-white px-6 py-4 shadow-md sm:max-w-md sm:rounded-lg",
        children: r,
      }),
    ],
  });
}
function fF() {
  const {
      data: r,
      setData: e,
      post: t,
      processing: s,
      errors: n,
      reset: i,
    } = sr({ password: "" }),
    l = (c) => {
      c.preventDefault(),
        t(route("password.confirm"), { onFinish: () => i("password") });
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Confirm Password" }),
      a.jsx("div", {
        className: "mb-4 text-sm text-gray-600",
        children:
          "This is a secure area of the application. Please confirm your password before continuing.",
      }),
      a.jsxs("form", {
        onSubmit: l,
        children: [
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, { htmlFor: "password", value: "Password" }),
              a.jsx(Xt, {
                id: "password",
                type: "password",
                name: "password",
                value: r.password,
                className: "mt-1 block w-full",
                isFocused: !0,
                onChange: (c) => e("password", c.target.value),
              }),
              a.jsx(qt, { message: n.password, className: "mt-2" }),
            ],
          }),
          a.jsx("div", {
            className: "mt-4 flex items-center justify-end",
            children: a.jsx(mn, {
              className: "ms-4",
              disabled: s,
              children: "Confirm",
            }),
          }),
        ],
      }),
    ],
  });
}
const pF = Object.freeze(
  Object.defineProperty({ __proto__: null, default: fF }, Symbol.toStringTag, {
    value: "Module",
  })
);
function mF({ status: r }) {
  const {
      data: e,
      setData: t,
      post: s,
      processing: n,
      errors: i,
    } = sr({ email: "" }),
    l = (c) => {
      c.preventDefault(), s(route("password.email"));
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Forgot Password" }),
      a.jsx("div", {
        className: "mb-4 text-sm text-gray-600",
        children:
          "Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one.",
      }),
      r &&
        a.jsx("div", {
          className: "mb-4 text-sm font-medium text-green-600",
          children: r,
        }),
      a.jsxs("form", {
        onSubmit: l,
        children: [
          a.jsx(Xt, {
            id: "email",
            type: "email",
            name: "email",
            value: e.email,
            className: "mt-1 block w-full",
            isFocused: !0,
            onChange: (c) => t("email", c.target.value),
          }),
          a.jsx(qt, { message: i.email, className: "mt-2" }),
          a.jsx("div", {
            className: "mt-4 flex items-center justify-end",
            children: a.jsx(mn, {
              className: "ms-4",
              disabled: n,
              children: "Email Password Reset Link",
            }),
          }),
        ],
      }),
    ],
  });
}
const gF = Object.freeze(
  Object.defineProperty({ __proto__: null, default: mF }, Symbol.toStringTag, {
    value: "Module",
  })
);
function oT({ className: r = "", ...e }) {
  return a.jsx("input", {
    ...e,
    type: "checkbox",
    className:
      "rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 " +
      r,
  });
}
function xF({ status: r, canResetPassword: e }) {
  const {
      data: t,
      setData: s,
      post: n,
      processing: i,
      errors: l,
      reset: c,
    } = sr({ email: "", password: "", remember: !1 }),
    d = (f) => {
      f.preventDefault(), n(route("login"), { onFinish: () => c("password") });
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Log in" }),
      r &&
        a.jsx("div", {
          className: "mb-4 text-sm font-medium text-green-600",
          children: r,
        }),
      a.jsxs("form", {
        onSubmit: d,
        children: [
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "email", value: "Email" }),
              a.jsx(Xt, {
                id: "email",
                type: "email",
                name: "email",
                value: t.email,
                className: "mt-1 block w-full",
                autoComplete: "username",
                isFocused: !0,
                onChange: (f) => s("email", f.target.value),
              }),
              a.jsx(qt, { message: l.email, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, { htmlFor: "password", value: "Password" }),
              a.jsx(Xt, {
                id: "password",
                type: "password",
                name: "password",
                value: t.password,
                className: "mt-1 block w-full",
                autoComplete: "current-password",
                onChange: (f) => s("password", f.target.value),
              }),
              a.jsx(qt, { message: l.password, className: "mt-2" }),
            ],
          }),
          a.jsx("div", {
            className: "mt-4 block",
            children: a.jsxs("label", {
              className: "flex items-center",
              children: [
                a.jsx(oT, {
                  name: "remember",
                  checked: t.remember,
                  onChange: (f) => s("remember", f.target.checked),
                }),
                a.jsx("span", {
                  className: "ms-2 text-sm text-gray-600",
                  children: "Remember me",
                }),
              ],
            }),
          }),
          a.jsxs("div", {
            className: "mt-4 flex items-center justify-end",
            children: [
              e &&
                a.jsx(br, {
                  href: route("password.request"),
                  className:
                    "rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",
                  children: "Forgot your password?",
                }),
              a.jsx(mn, { className: "ms-4", disabled: i, children: "Log in" }),
            ],
          }),
        ],
      }),
    ],
  });
}
const yF = Object.freeze(
  Object.defineProperty({ __proto__: null, default: xF }, Symbol.toStringTag, {
    value: "Module",
  })
);
function vF() {
  const {
      data: r,
      setData: e,
      post: t,
      processing: s,
      errors: n,
      reset: i,
    } = sr({ name: "", email: "", password: "", password_confirmation: "" }),
    l = (c) => {
      c.preventDefault(),
        t(route("register"), {
          onFinish: () => i("password", "password_confirmation"),
        });
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Register" }),
      a.jsxs("form", {
        onSubmit: l,
        children: [
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "name", value: "Name" }),
              a.jsx(Xt, {
                id: "name",
                name: "name",
                value: r.name,
                className: "mt-1 block w-full",
                autoComplete: "name",
                isFocused: !0,
                onChange: (c) => e("name", c.target.value),
                required: !0,
              }),
              a.jsx(qt, { message: n.name, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, { htmlFor: "email", value: "Email" }),
              a.jsx(Xt, {
                id: "email",
                type: "email",
                name: "email",
                value: r.email,
                className: "mt-1 block w-full",
                autoComplete: "username",
                onChange: (c) => e("email", c.target.value),
                required: !0,
              }),
              a.jsx(qt, { message: n.email, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, { htmlFor: "password", value: "Password" }),
              a.jsx(Xt, {
                id: "password",
                type: "password",
                name: "password",
                value: r.password,
                className: "mt-1 block w-full",
                autoComplete: "new-password",
                onChange: (c) => e("password", c.target.value),
                required: !0,
              }),
              a.jsx(qt, { message: n.password, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, {
                htmlFor: "password_confirmation",
                value: "Confirm Password",
              }),
              a.jsx(Xt, {
                id: "password_confirmation",
                type: "password",
                name: "password_confirmation",
                value: r.password_confirmation,
                className: "mt-1 block w-full",
                autoComplete: "new-password",
                onChange: (c) => e("password_confirmation", c.target.value),
                required: !0,
              }),
              a.jsx(qt, {
                message: n.password_confirmation,
                className: "mt-2",
              }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4 flex items-center justify-end",
            children: [
              a.jsx(br, {
                href: route("login"),
                className:
                  "rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",
                children: "Already registered?",
              }),
              a.jsx(mn, {
                className: "ms-4",
                disabled: s,
                children: "Register",
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const _F = Object.freeze(
  Object.defineProperty({ __proto__: null, default: vF }, Symbol.toStringTag, {
    value: "Module",
  })
);
function bF({ token: r, email: e }) {
  const {
      data: t,
      setData: s,
      post: n,
      processing: i,
      errors: l,
      reset: c,
    } = sr({ token: r, email: e, password: "", password_confirmation: "" }),
    d = (f) => {
      f.preventDefault(),
        n(route("password.store"), {
          onFinish: () => c("password", "password_confirmation"),
        });
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Reset Password" }),
      a.jsxs("form", {
        onSubmit: d,
        children: [
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "email", value: "Email" }),
              a.jsx(Xt, {
                id: "email",
                type: "email",
                name: "email",
                value: t.email,
                className: "mt-1 block w-full",
                autoComplete: "username",
                onChange: (f) => s("email", f.target.value),
              }),
              a.jsx(qt, { message: l.email, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, { htmlFor: "password", value: "Password" }),
              a.jsx(Xt, {
                id: "password",
                type: "password",
                name: "password",
                value: t.password,
                className: "mt-1 block w-full",
                autoComplete: "new-password",
                isFocused: !0,
                onChange: (f) => s("password", f.target.value),
              }),
              a.jsx(qt, { message: l.password, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            className: "mt-4",
            children: [
              a.jsx(rr, {
                htmlFor: "password_confirmation",
                value: "Confirm Password",
              }),
              a.jsx(Xt, {
                type: "password",
                id: "password_confirmation",
                name: "password_confirmation",
                value: t.password_confirmation,
                className: "mt-1 block w-full",
                autoComplete: "new-password",
                onChange: (f) => s("password_confirmation", f.target.value),
              }),
              a.jsx(qt, {
                message: l.password_confirmation,
                className: "mt-2",
              }),
            ],
          }),
          a.jsx("div", {
            className: "mt-4 flex items-center justify-end",
            children: a.jsx(mn, {
              className: "ms-4",
              disabled: i,
              children: "Reset Password",
            }),
          }),
        ],
      }),
    ],
  });
}
const wF = Object.freeze(
  Object.defineProperty({ __proto__: null, default: bF }, Symbol.toStringTag, {
    value: "Module",
  })
);
function SF({ status: r }) {
  const { post: e, processing: t } = sr({}),
    s = (n) => {
      n.preventDefault(), e(route("verification.send"));
    };
  return a.jsxs(Ra, {
    children: [
      a.jsx(qr, { title: "Email Verification" }),
      a.jsx("div", {
        className: "mb-4 text-sm text-gray-600",
        children:
          "Thanks for signing up! Before getting started, could you verify your email address by clicking on the link we just emailed to you? If you didn't receive the email, we will gladly send you another.",
      }),
      r === "verification-link-sent" &&
        a.jsx("div", {
          className: "mb-4 text-sm font-medium text-green-600",
          children:
            "A new verification link has been sent to the email address you provided during registration.",
        }),
      a.jsx("form", {
        onSubmit: s,
        children: a.jsxs("div", {
          className: "mt-4 flex items-center justify-between",
          children: [
            a.jsx(mn, { disabled: t, children: "Resend Verification Email" }),
            a.jsx(br, {
              href: route("logout"),
              method: "post",
              as: "button",
              className:
                "rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",
              children: "Log Out",
            }),
          ],
        }),
      }),
    ],
  });
}
const CF = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: SF },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  TF = ({ href: r, active: e, children: t, onClick: s }) =>
    a.jsx(br, {
      href: r,
      onClick: s,
      className: `flex items-center p-3 text-gray-300 hover:bg-gray-800/60 rounded-lg transition-colors duration-200 ${
        e ? "bg-gray-800/90 text-white" : ""
      }`,
      children: t,
    }),
  EF = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z",
      }),
    }),
  jF = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M4 6h16M4 12h16M4 18h16",
      }),
    }),
  kF = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M6 18L18 6M6 6l12 12",
      }),
    }),
  PF = ({ user: r }) =>
    a.jsx("div", {
      className:
        "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white ring-2 ring-gray-700",
      children: r.name.charAt(0),
    }),
  AF = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-4 w-4 ml-1 text-gray-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M19 9l-7 7-7-7",
      }),
    });
function MF({ children: r, title: e }) {
  const { auth: t, flash: s } = Pa().props,
    [n, i] = k.useState(!1),
    [l, c] = k.useState(!1),
    [d, f] = k.useState(!1),
    m = k.useRef(null),
    h = k.useRef(null);
  k.useEffect(() => {
    const x = (v) => {
      m.current && !m.current.contains(v.target) && i(!1),
        h.current && !h.current.contains(v.target) && c(!1);
    };
    return (
      document.addEventListener("mousedown", x),
      () => document.removeEventListener("mousedown", x)
    );
  }, []),
    k.useEffect(() => {
      if (s && (s.success || s.error)) {
        f(!0);
        const x = setTimeout(() => f(!1), 5e3);
        return () => clearTimeout(x);
      }
    }, [s]);
  const g = () => c(!1);
  return a.jsxs("div", {
    className: "bg-black text-white flex relative font-sans overflow-hidden",
    style: { height: "100vh" },
    children: [
      a.jsx("div", {
        className:
          "absolute top-0 left-0 -translate-x-1/4 -translate-y-1/4 w-96 h-96 bg-purple-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      a.jsx("div", {
        className:
          "absolute bottom-0 right-0 translate-x-1/4 translate-y-1/4 w-96 h-96 bg-blue-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      l &&
        a.jsx("div", {
          className: "fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",
          onClick: g,
        }),
      a.jsxs("aside", {
        ref: h,
        className: `fixed lg:static inset-y-0 left-0 w-64 bg-black/30 backdrop-blur-lg p-4 lg:p-6 z-50 border-r border-gray-800/50 flex flex-col transform transition-transform duration-300 ease-in-out ${
          l ? "translate-x-0" : "-translate-x-full lg:translate-x-0"
        }`,
        children: [
          a.jsxs("div", {
            className: "flex justify-between items-center mb-6 lg:mb-10",
            children: [
              a.jsx("h1", {
                className:
                  "text-xl lg:text-2xl font-bold bg-gradient-to-r from-purple-500 to-blue-500 text-transparent bg-clip-text",
                children: "Central Admin",
              }),
              a.jsx("button", {
                onClick: g,
                className:
                  "lg:hidden text-gray-400 hover:text-white transition-colors",
                children: a.jsx(kF, {}),
              }),
            ],
          }),
          a.jsx("nav", {
            className: "flex flex-col space-y-2 flex-grow",
            children: a.jsxs(TF, {
              href: route("dashboard"),
              active: route().current("dashboard"),
              onClick: g,
              children: [
                a.jsx(EF, {}),
                a.jsx("span", { children: "Dashboard" }),
              ],
            }),
          }),
        ],
      }),
      a.jsxs("main", {
        className: "flex-1 flex flex-col w-full min-w-0",
        children: [
          a.jsx("header", {
            className:
              "flex-shrink-0 bg-black/20 backdrop-blur-lg border-b border-gray-800/50 z-20",
            children: a.jsxs("div", {
              className: "flex items-center justify-between h-16 px-4 lg:px-8",
              children: [
                a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("button", {
                      onClick: () => c(!0),
                      className:
                        "lg:hidden mr-4 text-gray-400 hover:text-white transition-colors",
                      children: a.jsx(jF, {}),
                    }),
                    e &&
                      a.jsx("h1", {
                        className:
                          "text-lg lg:text-xl font-bold text-gray-200 truncate",
                        children: e,
                      }),
                  ],
                }),
                a.jsxs("div", {
                  className: "relative",
                  ref: m,
                  children: [
                    a.jsxs("button", {
                      onClick: () => i((x) => !x),
                      className:
                        "flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-800/60 transition-colors",
                      children: [
                        a.jsx(PF, { user: t.user }),
                        a.jsx("span", {
                          className:
                            "text-gray-300 font-medium hidden sm:block truncate max-w-32",
                          children: t.user.name,
                        }),
                        a.jsx(AF, {}),
                      ],
                    }),
                    n &&
                      a.jsxs("div", {
                        className:
                          "absolute right-0 mt-2 w-48 bg-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-md shadow-lg z-30 py-1",
                        children: [
                          a.jsx(br, {
                            href: route("profile.edit"),
                            className:
                              "block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800/60",
                            children: "Perfil",
                          }),
                          a.jsx("div", {
                            className: "border-t border-gray-700/50 my-1",
                          }),
                          a.jsx(br, {
                            href: route("logout"),
                            method: "post",
                            as: "button",
                            className:
                              "w-full text-left block px-4 py-2 text-sm text-red-400 hover:bg-red-500/20",
                            children: "Sair",
                          }),
                        ],
                      }),
                  ],
                }),
              ],
            }),
          }),
          a.jsxs("div", {
            className: "flex-1 p-4 lg:p-8 overflow-y-auto relative",
            children: [
              d &&
                s.success &&
                a.jsx("div", {
                  className:
                    "absolute top-8 right-8 z-50 p-4 bg-green-900/50 border border-green-700/50 text-green-300 rounded-lg shadow-lg",
                  children: s.success,
                }),
              d &&
                s.error &&
                a.jsx("div", {
                  className:
                    "absolute top-8 right-8 z-50 p-4 bg-red-900/50 border border-red-700/50 text-red-300 rounded-lg shadow-lg",
                  children: s.error,
                }),
              a.jsx("div", { className: "max-w-full mx-auto", children: r }),
            ],
          }),
        ],
      }),
    ],
  });
}
function Ap({ open: r, onClose: e, title: t, children: s }) {
  return r
    ? a.jsx("div", {
        className:
          "fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",
        onClick: e,
        children: a.jsxs("div", {
          className:
            "bg-gray-900 border border-gray-700 rounded-xl shadow-2xl w-full max-w-md m-4 overflow-hidden",
          onClick: (n) => n.stopPropagation(),
          children: [
            a.jsxs("div", {
              className:
                "flex justify-between items-center p-6 border-b border-gray-700",
              children: [
                a.jsx("h3", {
                  className: "text-lg font-semibold text-white",
                  children: t,
                }),
                a.jsx("button", {
                  className:
                    "text-gray-400 hover:text-gray-300 transition-colors p-1 rounded-md hover:bg-gray-800",
                  onClick: e,
                  children: a.jsx("svg", {
                    xmlns: "http://www.w3.org/2000/svg",
                    className: "h-5 w-5",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: a.jsx("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M6 18L18 6M6 6l12 12",
                    }),
                  }),
                }),
              ],
            }),
            a.jsx("div", { className: "p-6", children: s }),
          ],
        }),
      })
    : null;
}
function NF() {
  const { tenants: r = [], flash: e = {} } = Pa().props,
    [t, s] = k.useState(null),
    [n, i] = k.useState(null),
    [l, c] = k.useState({ all: !1, single: null }),
    {
      data: d,
      setData: f,
      post: m,
      put: h,
      processing: g,
      errors: x,
      reset: v,
    } = sr({ id: "", domain: "" }),
    w = () => {
      v(), s("create");
    },
    _ = (R) => {
      f({ id: R.id, domain: R.domains[0]?.domain || "" }), i(R), s("edit");
    },
    S = (R) => {
      i(R), s("delete");
    },
    T = (R) => {
      R.preventDefault(),
        m(route("tenants.store"), {
          onSuccess: () => {
            s(null), v();
          },
        });
    },
    j = (R) => {
      R.preventDefault(),
        h(route("tenants.update", n.id), {
          onSuccess: () => {
            s(null), v();
          },
        });
    },
    E = () => {
      vr.delete(route("tenants.destroy", n.id), {
        onSuccess: () => s(null),
        onFinish: () => i(null),
      });
    },
    A = () => {
      c({ ...l, all: !0 }),
        vr.post(
          route("tenants.migrateAll"),
          {},
          { onFinish: () => c({ ...l, all: !1 }) }
        );
    },
    M = r.reduce(
      (R, O) => ({
        totalUsers: R.totalUsers + (O.total_users || 0),
        onlineUsers: R.onlineUsers + (O.online_users || 0),
        totalDeposits: R.totalDeposits + (O.total_deposits || 0),
        totalWithdrawals: R.totalWithdrawals + (O.total_withdrawals || 0),
        totalDepositAmount:
          R.totalDepositAmount + (parseFloat(O.deposit_amount) || 0),
        totalWithdrawalAmount:
          R.totalWithdrawalAmount + (parseFloat(O.withdrawal_amount) || 0),
        pendingDeposits: R.pendingDeposits + (O.pending_deposits || 0),
        pendingWithdrawals: R.pendingWithdrawals + (O.pending_withdrawals || 0),
        firstTimeDeposits: R.firstTimeDeposits + (O.first_time_deposits || 0),
        totalJackpotAmount:
          R.totalJackpotAmount + (parseFloat(O.jackpot_amount) || 0),
      }),
      {
        totalUsers: 0,
        onlineUsers: 0,
        totalDeposits: 0,
        totalWithdrawals: 0,
        totalDepositAmount: 0,
        totalWithdrawalAmount: 0,
        pendingDeposits: 0,
        pendingWithdrawals: 0,
        firstTimeDeposits: 0,
        totalJackpotAmount: 0,
      }
    ),
    N = (R) =>
      new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(R);
  return a.jsxs(MF, {
    title: "Dashboard Central",
    children: [
      a.jsx(qr, { title: "Dashboard Central" }),
      a.jsxs("div", {
        className: "space-y-8",
        children: [
          e.success &&
            a.jsx("div", {
              className:
                "p-4 bg-green-900/50 border border-green-700 text-green-300 rounded-lg backdrop-blur-sm",
              children: a.jsxs("div", {
                className: "flex items-center",
                children: [
                  a.jsx("svg", {
                    className: "w-5 h-5 mr-3",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: a.jsx("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M5 13l4 4L19 7",
                    }),
                  }),
                  e.success,
                ],
              }),
            }),
          e.error &&
            a.jsx("div", {
              className:
                "p-4 bg-red-900/50 border border-red-700 text-red-300 rounded-lg backdrop-blur-sm",
              children: a.jsxs("div", {
                className: "flex items-center",
                children: [
                  a.jsx("svg", {
                    className: "w-5 h-5 mr-3",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: a.jsx("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
                    }),
                  }),
                  e.error,
                ],
              }),
            }),
          a.jsxs("div", {
            className:
              "flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx("h1", {
                    className: "text-2xl font-bold text-white",
                    children: "Dashboard Central",
                  }),
                  a.jsx("p", {
                    className: "mt-1 text-sm text-gray-400",
                    children: "Visão geral de todos os tenants",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "flex items-center space-x-3",
                children: [
                  a.jsxs("button", {
                    onClick: A,
                    disabled: l.all,
                    className:
                      "inline-flex items-center px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg font-medium text-sm text-gray-300 hover:bg-gray-600/50 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-all duration-200",
                    children: [
                      a.jsx("svg", {
                        className: "w-4 h-4 mr-2",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",
                        }),
                      }),
                      l.all ? "Executando..." : "Migrar Todos",
                    ],
                  }),
                  a.jsxs("button", {
                    onClick: w,
                    className:
                      "inline-flex items-center px-4 py-2 bg-blue-600/80 border border-transparent rounded-lg font-medium text-sm text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",
                    children: [
                      a.jsx("svg", {
                        className: "w-4 h-4 mr-2",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M12 4v16m8-8H4",
                        }),
                      }),
                      "Novo Tenant",
                    ],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",
            children: [
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-blue-500/20",
                      children: a.jsx("svg", {
                        className: "w-6 h-6 text-blue-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
                        }),
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Total de Tenants",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-white",
                          children: r.length,
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-green-500/20",
                      children: a.jsx("svg", {
                        className: "w-6 h-6 text-green-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 1.803M15 21a9 9 0 10-9-9",
                        }),
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Total de Usuários",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-white",
                          children: M.totalUsers,
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-emerald-500/20",
                      children: a.jsx("svg", {
                        className: "w-6 h-6 text-emerald-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",
                        }),
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Usuários Online",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-emerald-400",
                          children: M.onlineUsers,
                        }),
                        a.jsx("p", {
                          className: "text-xs text-gray-500",
                          children: "últimos 5 minutos",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-yellow-500/20",
                      children: a.jsxs("svg", {
                        className: "w-6 h-6 text-yellow-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: [
                          a.jsx("circle", {
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            strokeWidth: "2",
                            fill: "none",
                          }),
                          a.jsx("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            d: "M8 15h8M9 9h6M10 12h4",
                          }),
                        ],
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Total Jackpots",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-yellow-400",
                          children: N(M.totalJackpotAmount),
                        }),
                        a.jsx("p", {
                          className: "text-xs text-gray-500",
                          children: "todos os tenants",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-purple-500/20",
                      children: a.jsx("svg", {
                        className: "w-6 h-6 text-purple-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10",
                        }),
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Total Depósitos",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-white",
                          children: N(M.totalDepositAmount),
                        }),
                        a.jsxs("p", {
                          className: "text-xs text-gray-500",
                          children: [M.totalDeposits, " transações"],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className:
                  "bg-gray-900/50 border border-gray-700/50 rounded-xl p-6 backdrop-blur-sm",
                children: a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("div", {
                      className: "p-3 rounded-lg bg-orange-500/20",
                      children: a.jsx("svg", {
                        className: "w-6 h-6 text-orange-400",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 2,
                          d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",
                        }),
                      }),
                    }),
                    a.jsxs("div", {
                      className: "ml-4",
                      children: [
                        a.jsx("p", {
                          className: "text-sm font-medium text-gray-400",
                          children: "Total Saques",
                        }),
                        a.jsx("p", {
                          className: "text-2xl font-bold text-white",
                          children: N(M.totalWithdrawalAmount),
                        }),
                        a.jsxs("p", {
                          className: "text-xs text-gray-500",
                          children: [M.totalWithdrawals, " transações"],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
          a.jsxs("div", {
            className:
              "bg-gray-900/50 border border-gray-700/50 rounded-xl overflow-hidden backdrop-blur-sm",
            children: [
              a.jsx("div", {
                className: "px-6 py-4 border-b border-gray-700/50",
                children: a.jsx("h3", {
                  className: "text-lg font-semibold text-white",
                  children: "Tenants Detalhados",
                }),
              }),
              a.jsx("div", {
                className: "overflow-x-auto",
                children: a.jsxs("table", {
                  className: "min-w-full divide-y divide-gray-700/50",
                  children: [
                    a.jsx("thead", {
                      className: "bg-gray-800/30",
                      children: a.jsxs("tr", {
                        children: [
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Tenant",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Usuários",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Online",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Jackpot",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Depósitos",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Saques",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Pendentes",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Status",
                          }),
                          a.jsx("th", {
                            className:
                              "px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",
                            children: "Ações",
                          }),
                        ],
                      }),
                    }),
                    a.jsxs("tbody", {
                      className: "divide-y divide-gray-700/50",
                      children: [
                        r.length === 0 &&
                          a.jsx("tr", {
                            children: a.jsx("td", {
                              colSpan: 9,
                              className: "px-6 py-12 text-center",
                              children: a.jsxs("div", {
                                className: "text-center",
                                children: [
                                  a.jsx("svg", {
                                    className:
                                      "mx-auto h-12 w-12 text-gray-600",
                                    fill: "none",
                                    viewBox: "0 0 24 24",
                                    stroke: "currentColor",
                                    children: a.jsx("path", {
                                      strokeLinecap: "round",
                                      strokeLinejoin: "round",
                                      strokeWidth: 2,
                                      d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",
                                    }),
                                  }),
                                  a.jsx("h3", {
                                    className:
                                      "mt-4 text-lg font-medium text-gray-300",
                                    children: "Nenhum tenant encontrado",
                                  }),
                                  a.jsx("p", {
                                    className: "mt-2 text-sm text-gray-500",
                                    children:
                                      "Comece criando seu primeiro tenant.",
                                  }),
                                ],
                              }),
                            }),
                          }),
                        r.map((R) =>
                          a.jsxs(
                            "tr",
                            {
                              className:
                                "hover:bg-gray-800/30 transition-colors",
                              children: [
                                a.jsx("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: a.jsxs("div", {
                                    className: "flex items-center",
                                    children: [
                                      a.jsx("div", {
                                        className:
                                          "w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg flex items-center justify-center mr-3",
                                        children: a.jsx("span", {
                                          className:
                                            "text-sm font-bold text-white",
                                          children: R.id
                                            .charAt(0)
                                            .toUpperCase(),
                                        }),
                                      }),
                                      a.jsxs("div", {
                                        children: [
                                          a.jsx("div", {
                                            className:
                                              "text-sm font-medium text-white",
                                            children: R.id,
                                          }),
                                          a.jsx("div", {
                                            className: "text-sm text-gray-400",
                                            children:
                                              R.domains[0]?.domain || "N/A",
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: [
                                    a.jsx("div", {
                                      className:
                                        "text-sm text-white font-medium",
                                      children: R.total_users || 0,
                                    }),
                                    a.jsxs("div", {
                                      className: "text-xs text-gray-400",
                                      children: [
                                        R.active_users_last_30_days || 0,
                                        " ativos (30d)",
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: [
                                    a.jsxs("div", {
                                      className: "flex items-center",
                                      children: [
                                        a.jsx("div", {
                                          className: `w-2 h-2 rounded-full mr-2 ${
                                            (R.online_users || 0) > 0
                                              ? "bg-green-400 animate-pulse"
                                              : "bg-gray-500"
                                          }`,
                                        }),
                                        a.jsx("div", {
                                          className:
                                            "text-sm text-emerald-400 font-medium",
                                          children: R.online_users || 0,
                                        }),
                                      ],
                                    }),
                                    a.jsx("div", {
                                      className: "text-xs text-gray-500",
                                      children: "últimos 5min",
                                    }),
                                  ],
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: [
                                    a.jsx("div", {
                                      className:
                                        "text-sm text-yellow-400 font-medium",
                                      children: N(R.jackpot_amount || 0),
                                    }),
                                    a.jsx("div", {
                                      className: "text-xs text-gray-400",
                                      children: "prêmio acumulado",
                                    }),
                                  ],
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: [
                                    a.jsx("div", {
                                      className:
                                        "text-sm text-white font-medium",
                                      children: N(R.deposit_amount || 0),
                                    }),
                                    a.jsxs("div", {
                                      className: "text-xs text-gray-400",
                                      children: [
                                        R.total_deposits || 0,
                                        " transações",
                                      ],
                                    }),
                                    a.jsxs("div", {
                                      className: "text-xs text-green-400",
                                      children: [
                                        R.first_time_deposits || 0,
                                        " primeiros depósitos",
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: [
                                    a.jsx("div", {
                                      className:
                                        "text-sm text-white font-medium",
                                      children: N(R.withdrawal_amount || 0),
                                    }),
                                    a.jsxs("div", {
                                      className: "text-xs text-gray-400",
                                      children: [
                                        R.total_withdrawals || 0,
                                        " transações",
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: a.jsxs("div", {
                                    className: "space-y-1",
                                    children: [
                                      (R.pending_deposits || 0) > 0 &&
                                        a.jsxs("div", {
                                          className:
                                            "inline-flex items-center px-2 py-1 rounded-full text-xs bg-yellow-900/50 text-yellow-300",
                                          children: [
                                            R.pending_deposits,
                                            " depósitos",
                                          ],
                                        }),
                                      (R.pending_withdrawals || 0) > 0 &&
                                        a.jsxs("div", {
                                          className:
                                            "inline-flex items-center px-2 py-1 rounded-full text-xs bg-orange-900/50 text-orange-300",
                                          children: [
                                            R.pending_withdrawals,
                                            " saques",
                                          ],
                                        }),
                                      (R.pending_deposits || 0) === 0 &&
                                        (R.pending_withdrawals || 0) === 0 &&
                                        a.jsx("div", {
                                          className: "text-xs text-gray-500",
                                          children: "Nenhum pendente",
                                        }),
                                    ],
                                  }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 whitespace-nowrap",
                                  children: a.jsxs("span", {
                                    className:
                                      "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/50 text-green-300",
                                    children: [
                                      a.jsx("div", {
                                        className:
                                          "w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5",
                                      }),
                                      "Ativo",
                                    ],
                                  }),
                                }),
                                a.jsx("td", {
                                  className:
                                    "px-6 py-4 whitespace-nowrap text-right text-sm font-medium",
                                  children: a.jsxs("div", {
                                    className:
                                      "flex items-center justify-end space-x-2",
                                    children: [
                                      a.jsx(br, {
                                        href: `http://${R.domains[0]?.domain}/admin/weizhen-manager`,
                                        target: "_blank",
                                        className:
                                          "inline-flex items-center p-1.5 text-gray-400 hover:text-purple-400 rounded-md hover:bg-gray-800/50 transition-colors",
                                        title: "Acessar Admin",
                                        children: a.jsx("svg", {
                                          className: "w-4 h-4",
                                          fill: "none",
                                          stroke: "currentColor",
                                          viewBox: "0 0 24 24",
                                          children: a.jsx("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14",
                                          }),
                                        }),
                                      }),
                                      a.jsx("button", {
                                        onClick: () => _(R),
                                        className:
                                          "inline-flex items-center p-1.5 text-gray-400 hover:text-blue-400 rounded-md hover:bg-gray-800/50 transition-colors",
                                        title: "Editar",
                                        children: a.jsx("svg", {
                                          className: "w-4 h-4",
                                          fill: "none",
                                          stroke: "currentColor",
                                          viewBox: "0 0 24 24",
                                          children: a.jsx("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
                                          }),
                                        }),
                                      }),
                                      a.jsx("button", {
                                        onClick: () => S(R),
                                        className:
                                          "inline-flex items-center p-1.5 text-gray-400 hover:text-red-400 rounded-md hover:bg-gray-800/50 transition-colors",
                                        title: "Remover",
                                        children: a.jsx("svg", {
                                          className: "w-4 h-4",
                                          fill: "none",
                                          stroke: "currentColor",
                                          viewBox: "0 0 24 24",
                                          children: a.jsx("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",
                                          }),
                                        }),
                                      }),
                                    ],
                                  }),
                                }),
                              ],
                            },
                            R.id
                          )
                        ),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        ],
      }),
      a.jsx(Ap, {
        open: t === "create",
        onClose: () => s(null),
        title: "Criar Novo Tenant",
        children: a.jsxs("form", {
          onSubmit: T,
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  htmlFor: "create-id",
                  className: "block text-sm font-medium text-gray-300 mb-2",
                  children: "ID do Tenant",
                }),
                a.jsx("input", {
                  id: "create-id",
                  type: "text",
                  value: d.id,
                  onChange: (R) => f("id", R.target.value),
                  className:
                    "w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                  placeholder: "ex: empresa1",
                }),
                x.id &&
                  a.jsx("p", {
                    className: "mt-2 text-sm text-red-400",
                    children: x.id,
                  }),
              ],
            }),
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  htmlFor: "create-domain",
                  className: "block text-sm font-medium text-gray-300 mb-2",
                  children: "Domínio",
                }),
                a.jsx("input", {
                  id: "create-domain",
                  type: "text",
                  value: d.domain,
                  onChange: (R) => f("domain", R.target.value),
                  className:
                    "w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                  placeholder: "ex: empresa1.exemplo.com",
                }),
                x.domain &&
                  a.jsx("p", {
                    className: "mt-2 text-sm text-red-400",
                    children: x.domain,
                  }),
              ],
            }),
            a.jsxs("div", {
              className: "flex justify-end space-x-3 pt-4",
              children: [
                a.jsx("button", {
                  type: "button",
                  onClick: () => s(null),
                  className:
                    "px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 transition-colors",
                  children: "Cancelar",
                }),
                a.jsx("button", {
                  type: "submit",
                  disabled: g,
                  className:
                    "px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",
                  children: g ? "Criando..." : "Criar Tenant",
                }),
              ],
            }),
          ],
        }),
      }),
      a.jsx(Ap, {
        open: t === "edit",
        onClose: () => s(null),
        title: "Editar Tenant",
        children: a.jsxs("form", {
          onSubmit: j,
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  className: "block text-sm font-medium text-gray-300 mb-2",
                  children: "ID do Tenant",
                }),
                a.jsx("input", {
                  type: "text",
                  value: d.id,
                  disabled: !0,
                  className:
                    "w-full px-3 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-gray-400",
                }),
              ],
            }),
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  htmlFor: "edit-domain",
                  className: "block text-sm font-medium text-gray-300 mb-2",
                  children: "Domínio",
                }),
                a.jsx("input", {
                  id: "edit-domain",
                  type: "text",
                  value: d.domain,
                  onChange: (R) => f("domain", R.target.value),
                  className:
                    "w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                }),
                x.domain &&
                  a.jsx("p", {
                    className: "mt-2 text-sm text-red-400",
                    children: x.domain,
                  }),
              ],
            }),
            a.jsxs("div", {
              className: "flex justify-end space-x-3 pt-4",
              children: [
                a.jsx("button", {
                  type: "button",
                  onClick: () => s(null),
                  className:
                    "px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 transition-colors",
                  children: "Cancelar",
                }),
                a.jsx("button", {
                  type: "submit",
                  disabled: g,
                  className:
                    "px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",
                  children: g ? "Salvando..." : "Salvar Alterações",
                }),
              ],
            }),
          ],
        }),
      }),
      a.jsx(Ap, {
        open: t === "delete",
        onClose: () => s(null),
        title: "Remover Tenant",
        children: a.jsxs("div", {
          className: "space-y-4",
          children: [
            a.jsxs("div", {
              className: "flex items-center space-x-3",
              children: [
                a.jsx("div", {
                  className: "flex-shrink-0",
                  children: a.jsx("svg", {
                    className: "h-10 w-10 text-red-400",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: a.jsx("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z",
                    }),
                  }),
                }),
                a.jsxs("div", {
                  children: [
                    a.jsx("h3", {
                      className: "text-lg font-medium text-white",
                      children: "Confirmar remoção",
                    }),
                    a.jsxs("p", {
                      className: "text-sm text-gray-400",
                      children: [
                        "Tem certeza que deseja remover o tenant ",
                        a.jsx("span", {
                          className: "font-semibold text-white",
                          children: n?.id,
                        }),
                        "? Esta ação não pode ser desfeita.",
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs("div", {
              className: "flex justify-end space-x-3 pt-4",
              children: [
                a.jsx("button", {
                  type: "button",
                  onClick: () => s(null),
                  className:
                    "px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 transition-colors",
                  children: "Cancelar",
                }),
                a.jsx("button", {
                  type: "button",
                  onClick: E,
                  className:
                    "px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 transition-colors",
                  children: "Remover Tenant",
                }),
              ],
            }),
          ],
        }),
      }),
    ],
  });
}
const RF = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: NF },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  BF = Object.freeze(
    Object.defineProperty({ __proto__: null }, Symbol.toStringTag, {
      value: "Module",
    })
  );
function FF({ active: r = !1, className: e = "", children: t, ...s }) {
  return a.jsx(br, {
    ...s,
    className:
      "inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none " +
      (r
        ? "border-indigo-400 dark:border-indigo-600 text-gray-900 dark:text-gray-100 focus:border-indigo-700"
        : "border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-700 focus:text-gray-700 dark:focus:text-gray-300 focus:border-gray-300 dark:focus:border-gray-700 ") +
      e,
    children: t,
  });
}
var IF = iT(),
  OF = Object.defineProperty,
  LF = (r, e, t) =>
    e in r
      ? OF(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Mp = (r, e, t) => (LF(r, typeof e != "symbol" ? e + "" : e, t), t);
let DF = class {
    constructor() {
      Mp(this, "current", this.detect()),
        Mp(this, "handoffState", "pending"),
        Mp(this, "currentId", 0);
    }
    set(e) {
      this.current !== e &&
        ((this.handoffState = "pending"),
        (this.currentId = 0),
        (this.current = e));
    }
    reset() {
      this.set(this.detect());
    }
    nextId() {
      return ++this.currentId;
    }
    get isServer() {
      return this.current === "server";
    }
    get isClient() {
      return this.current === "client";
    }
    detect() {
      return typeof window > "u" || typeof document > "u" ? "server" : "client";
    }
    handoff() {
      this.handoffState === "pending" && (this.handoffState = "complete");
    }
    get isHandoffComplete() {
      return this.handoffState === "complete";
    }
  },
  Gs = new DF();
function Vu(r) {
  var e, t;
  return Gs.isServer
    ? null
    : r
    ? "ownerDocument" in r
      ? r.ownerDocument
      : "current" in r
      ? (t = (e = r.current) == null ? void 0 : e.ownerDocument) != null
        ? t
        : document
      : null
    : document;
}
function qu(r) {
  typeof queueMicrotask == "function"
    ? queueMicrotask(r)
    : Promise.resolve()
        .then(r)
        .catch((e) =>
          setTimeout(() => {
            throw e;
          })
        );
}
function gn() {
  let r = [],
    e = {
      addEventListener(t, s, n, i) {
        return (
          t.addEventListener(s, n, i),
          e.add(() => t.removeEventListener(s, n, i))
        );
      },
      requestAnimationFrame(...t) {
        let s = requestAnimationFrame(...t);
        return e.add(() => cancelAnimationFrame(s));
      },
      nextFrame(...t) {
        return e.requestAnimationFrame(() => e.requestAnimationFrame(...t));
      },
      setTimeout(...t) {
        let s = setTimeout(...t);
        return e.add(() => clearTimeout(s));
      },
      microTask(...t) {
        let s = { current: !0 };
        return (
          qu(() => {
            s.current && t[0]();
          }),
          e.add(() => {
            s.current = !1;
          })
        );
      },
      style(t, s, n) {
        let i = t.style.getPropertyValue(s);
        return (
          Object.assign(t.style, { [s]: n }),
          this.add(() => {
            Object.assign(t.style, { [s]: i });
          })
        );
      },
      group(t) {
        let s = gn();
        return t(s), this.add(() => s.dispose());
      },
      add(t) {
        return (
          r.includes(t) || r.push(t),
          () => {
            let s = r.indexOf(t);
            if (s >= 0) for (let n of r.splice(s, 1)) n();
          }
        );
      },
      dispose() {
        for (let t of r.splice(0)) t();
      },
    };
  return e;
}
function $g() {
  let [r] = k.useState(gn);
  return k.useEffect(() => () => r.dispose(), [r]), r;
}
let _r = (r, e) => {
  Gs.isServer ? k.useEffect(r, e) : k.useLayoutEffect(r, e);
};
function Fi(r) {
  let e = k.useRef(r);
  return (
    _r(() => {
      e.current = r;
    }, [r]),
    e
  );
}
let gt = function (r) {
    let e = Fi(r);
    return Fe.useCallback((...t) => e.current(...t), [e]);
  },
  UF = k.createContext(void 0);
function zF() {
  return k.useContext(UF);
}
function Um(...r) {
  return Array.from(
    new Set(r.flatMap((e) => (typeof e == "string" ? e.split(" ") : [])))
  )
    .filter(Boolean)
    .join(" ");
}
function fn(r, e, ...t) {
  if (r in e) {
    let n = e[r];
    return typeof n == "function" ? n(...t) : n;
  }
  let s = new Error(
    `Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(
      e
    )
      .map((n) => `"${n}"`)
      .join(", ")}.`
  );
  throw (Error.captureStackTrace && Error.captureStackTrace(s, fn), s);
}
var ju = ((r) => (
    (r[(r.None = 0)] = "None"),
    (r[(r.RenderStrategy = 1)] = "RenderStrategy"),
    (r[(r.Static = 2)] = "Static"),
    r
  ))(ju || {}),
  Hn = ((r) => (
    (r[(r.Unmount = 0)] = "Unmount"), (r[(r.Hidden = 1)] = "Hidden"), r
  ))(Hn || {});
function cs() {
  let r = $F();
  return k.useCallback((e) => GF({ mergeRefs: r, ...e }), [r]);
}
function GF({
  ourProps: r,
  theirProps: e,
  slot: t,
  defaultTag: s,
  features: n,
  visible: i = !0,
  name: l,
  mergeRefs: c,
}) {
  c = c ?? HF;
  let d = lT(e, r);
  if (i) return Qc(d, t, s, l, c);
  let f = n ?? 0;
  if (f & 2) {
    let { static: m = !1, ...h } = d;
    if (m) return Qc(h, t, s, l, c);
  }
  if (f & 1) {
    let { unmount: m = !0, ...h } = d;
    return fn(m ? 0 : 1, {
      0() {
        return null;
      },
      1() {
        return Qc({ ...h, hidden: !0, style: { display: "none" } }, t, s, l, c);
      },
    });
  }
  return Qc(d, t, s, l, c);
}
function Qc(r, e = {}, t, s, n) {
  let {
      as: i = t,
      children: l,
      refName: c = "ref",
      ...d
    } = Np(r, ["unmount", "static"]),
    f = r.ref !== void 0 ? { [c]: r.ref } : {},
    m = typeof l == "function" ? l(e) : l;
  "className" in d &&
    d.className &&
    typeof d.className == "function" &&
    (d.className = d.className(e)),
    d["aria-labelledby"] &&
      d["aria-labelledby"] === d.id &&
      (d["aria-labelledby"] = void 0);
  let h = {};
  if (e) {
    let g = !1,
      x = [];
    for (let [v, w] of Object.entries(e))
      typeof w == "boolean" && (g = !0),
        w === !0 && x.push(v.replace(/([A-Z])/g, (_) => `-${_.toLowerCase()}`));
    if (g) {
      h["data-headlessui-state"] = x.join(" ");
      for (let v of x) h[`data-${v}`] = "";
    }
  }
  if (
    i === k.Fragment &&
    (Object.keys(_i(d)).length > 0 || Object.keys(_i(h)).length > 0)
  )
    if (!k.isValidElement(m) || (Array.isArray(m) && m.length > 1)) {
      if (Object.keys(_i(d)).length > 0)
        throw new Error(
          [
            'Passing props on "Fragment"!',
            "",
            `The current component <${s} /> is rendering a "Fragment".`,
            "However we need to passthrough the following props:",
            Object.keys(_i(d))
              .concat(Object.keys(_i(h)))
              .map((g) => `  - ${g}`).join(`
`),
            "",
            "You can apply a few solutions:",
            [
              'Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',
              "Render a single element as the child so that we can forward the props onto that element.",
            ].map((g) => `  - ${g}`).join(`
`),
          ].join(`
`)
        );
    } else {
      let g = m.props,
        x = g?.className,
        v =
          typeof x == "function"
            ? (...S) => Um(x(...S), d.className)
            : Um(x, d.className),
        w = v ? { className: v } : {},
        _ = lT(m.props, _i(Np(d, ["ref"])));
      for (let S in h) S in _ && delete h[S];
      return k.cloneElement(
        m,
        Object.assign({}, _, h, f, { ref: n(WF(m), f.ref) }, w)
      );
    }
  return k.createElement(
    i,
    Object.assign(
      {},
      Np(d, ["ref"]),
      i !== k.Fragment && f,
      i !== k.Fragment && h
    ),
    m
  );
}
function $F() {
  let r = k.useRef([]),
    e = k.useCallback((t) => {
      for (let s of r.current)
        s != null && (typeof s == "function" ? s(t) : (s.current = t));
    }, []);
  return (...t) => {
    if (!t.every((s) => s == null)) return (r.current = t), e;
  };
}
function HF(...r) {
  return r.every((e) => e == null)
    ? void 0
    : (e) => {
        for (let t of r)
          t != null && (typeof t == "function" ? t(e) : (t.current = e));
      };
}
function lT(...r) {
  if (r.length === 0) return {};
  if (r.length === 1) return r[0];
  let e = {},
    t = {};
  for (let s of r)
    for (let n in s)
      n.startsWith("on") && typeof s[n] == "function"
        ? (t[n] != null || (t[n] = []), t[n].push(s[n]))
        : (e[n] = s[n]);
  if (e.disabled || e["aria-disabled"])
    for (let s in t)
      /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s) &&
        (t[s] = [
          (n) => {
            var i;
            return (i = n?.preventDefault) == null ? void 0 : i.call(n);
          },
        ]);
  for (let s in t)
    Object.assign(e, {
      [s](n, ...i) {
        let l = t[s];
        for (let c of l) {
          if (
            (n instanceof Event || n?.nativeEvent instanceof Event) &&
            n.defaultPrevented
          )
            return;
          c(n, ...i);
        }
      },
    });
  return e;
}
function Dr(r) {
  var e;
  return Object.assign(k.forwardRef(r), {
    displayName: (e = r.displayName) != null ? e : r.name,
  });
}
function _i(r) {
  let e = Object.assign({}, r);
  for (let t in e) e[t] === void 0 && delete e[t];
  return e;
}
function Np(r, e = []) {
  let t = Object.assign({}, r);
  for (let s of e) s in t && delete t[s];
  return t;
}
function WF(r) {
  return Fe.version.split(".")[0] >= "19" ? r.props.ref : r.ref;
}
let VF = "span";
var ku = ((r) => (
  (r[(r.None = 1)] = "None"),
  (r[(r.Focusable = 2)] = "Focusable"),
  (r[(r.Hidden = 4)] = "Hidden"),
  r
))(ku || {});
function qF(r, e) {
  var t;
  let { features: s = 1, ...n } = r,
    i = {
      ref: e,
      "aria-hidden":
        (s & 2) === 2 ? !0 : (t = n["aria-hidden"]) != null ? t : void 0,
      hidden: (s & 4) === 4 ? !0 : void 0,
      style: {
        position: "fixed",
        top: 1,
        left: 1,
        width: 1,
        height: 0,
        padding: 0,
        margin: -1,
        overflow: "hidden",
        clip: "rect(0, 0, 0, 0)",
        whiteSpace: "nowrap",
        borderWidth: "0",
        ...((s & 4) === 4 && (s & 2) !== 2 && { display: "none" }),
      },
    };
  return cs()({
    ourProps: i,
    theirProps: n,
    slot: {},
    defaultTag: VF,
    name: "Hidden",
  });
}
let zm = Dr(qF);
function cT(r) {
  return typeof r != "object" || r === null ? !1 : "nodeType" in r;
}
function Vn(r) {
  return cT(r) && "tagName" in r;
}
function Ri(r) {
  return Vn(r) && "accessKey" in r;
}
function Wn(r) {
  return Vn(r) && "tabIndex" in r;
}
function XF(r) {
  return Vn(r) && "style" in r;
}
function YF(r) {
  return Ri(r) && r.nodeName === "IFRAME";
}
function KF(r) {
  return Ri(r) && r.nodeName === "INPUT";
}
let uT = Symbol();
function QF(r, e = !0) {
  return Object.assign(r, { [uT]: e });
}
function Ws(...r) {
  let e = k.useRef(r);
  k.useEffect(() => {
    e.current = r;
  }, [r]);
  let t = gt((s) => {
    for (let n of e.current)
      n != null && (typeof n == "function" ? n(s) : (n.current = s));
  });
  return r.every((s) => s == null || s?.[uT]) ? void 0 : t;
}
let Hg = k.createContext(null);
Hg.displayName = "DescriptionContext";
function dT() {
  let r = k.useContext(Hg);
  if (r === null) {
    let e = new Error(
      "You used a <Description /> component, but it is not inside a relevant parent."
    );
    throw (Error.captureStackTrace && Error.captureStackTrace(e, dT), e);
  }
  return r;
}
function ZF() {
  let [r, e] = k.useState([]);
  return [
    r.length > 0 ? r.join(" ") : void 0,
    k.useMemo(
      () =>
        function (t) {
          let s = gt(
              (i) => (
                e((l) => [...l, i]),
                () =>
                  e((l) => {
                    let c = l.slice(),
                      d = c.indexOf(i);
                    return d !== -1 && c.splice(d, 1), c;
                  })
              )
            ),
            n = k.useMemo(
              () => ({
                register: s,
                slot: t.slot,
                name: t.name,
                props: t.props,
                value: t.value,
              }),
              [s, t.slot, t.name, t.props, t.value]
            );
          return Fe.createElement(Hg.Provider, { value: n }, t.children);
        },
      [e]
    ),
  ];
}
let JF = "p";
function e8(r, e) {
  let t = k.useId(),
    s = zF(),
    { id: n = `headlessui-description-${t}`, ...i } = r,
    l = dT(),
    c = Ws(e);
  _r(() => l.register(n), [n, l.register]);
  let d = s || !1,
    f = k.useMemo(() => ({ ...l.slot, disabled: d }), [l.slot, d]),
    m = { ref: c, ...l.props, id: n };
  return cs()({
    ourProps: m,
    theirProps: i,
    slot: f,
    defaultTag: JF,
    name: l.name || "Description",
  });
}
let t8 = Dr(e8),
  r8 = Object.assign(t8, {});
var hT = ((r) => (
  (r.Space = " "),
  (r.Enter = "Enter"),
  (r.Escape = "Escape"),
  (r.Backspace = "Backspace"),
  (r.Delete = "Delete"),
  (r.ArrowLeft = "ArrowLeft"),
  (r.ArrowUp = "ArrowUp"),
  (r.ArrowRight = "ArrowRight"),
  (r.ArrowDown = "ArrowDown"),
  (r.Home = "Home"),
  (r.End = "End"),
  (r.PageUp = "PageUp"),
  (r.PageDown = "PageDown"),
  (r.Tab = "Tab"),
  r
))(hT || {});
let s8 = k.createContext(() => {});
function n8({ value: r, children: e }) {
  return Fe.createElement(s8.Provider, { value: r }, e);
}
let fT = class extends Map {
  constructor(e) {
    super(), (this.factory = e);
  }
  get(e) {
    let t = super.get(e);
    return t === void 0 && ((t = this.factory(e)), this.set(e, t)), t;
  }
};
var i8 = Object.defineProperty,
  a8 = (r, e, t) =>
    e in r
      ? i8(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  o8 = (r, e, t) => (a8(r, e + "", t), t),
  pT = (r, e, t) => {
    if (!e.has(r)) throw TypeError("Cannot " + t);
  },
  rs = (r, e, t) => (
    pT(r, e, "read from private field"), t ? t.call(r) : e.get(r)
  ),
  Rp = (r, e, t) => {
    if (e.has(r))
      throw TypeError("Cannot add the same private member more than once");
    e instanceof WeakSet ? e.add(r) : e.set(r, t);
  },
  Fb = (r, e, t, s) => (pT(r, e, "write to private field"), e.set(r, t), t),
  zs,
  Oo,
  Lo;
let l8 = class {
  constructor(e) {
    Rp(this, zs, {}),
      Rp(this, Oo, new fT(() => new Set())),
      Rp(this, Lo, new Set()),
      o8(this, "disposables", gn()),
      Fb(this, zs, e),
      Gs.isServer &&
        this.disposables.microTask(() => {
          this.dispose();
        });
  }
  dispose() {
    this.disposables.dispose();
  }
  get state() {
    return rs(this, zs);
  }
  subscribe(e, t) {
    if (Gs.isServer) return () => {};
    let s = { selector: e, callback: t, current: e(rs(this, zs)) };
    return (
      rs(this, Lo).add(s),
      this.disposables.add(() => {
        rs(this, Lo).delete(s);
      })
    );
  }
  on(e, t) {
    return Gs.isServer
      ? () => {}
      : (rs(this, Oo).get(e).add(t),
        this.disposables.add(() => {
          rs(this, Oo).get(e).delete(t);
        }));
  }
  send(e) {
    let t = this.reduce(rs(this, zs), e);
    if (t !== rs(this, zs)) {
      Fb(this, zs, t);
      for (let s of rs(this, Lo)) {
        let n = s.selector(rs(this, zs));
        mT(s.current, n) || ((s.current = n), s.callback(n));
      }
      for (let s of rs(this, Oo).get(e.type)) s(rs(this, zs), e);
    }
  }
};
(zs = new WeakMap()), (Oo = new WeakMap()), (Lo = new WeakMap());
function mT(r, e) {
  return Object.is(r, e)
    ? !0
    : typeof r != "object" || r === null || typeof e != "object" || e === null
    ? !1
    : Array.isArray(r) && Array.isArray(e)
    ? r.length !== e.length
      ? !1
      : Bp(r[Symbol.iterator](), e[Symbol.iterator]())
    : (r instanceof Map && e instanceof Map) ||
      (r instanceof Set && e instanceof Set)
    ? r.size !== e.size
      ? !1
      : Bp(r.entries(), e.entries())
    : Ib(r) && Ib(e)
    ? Bp(
        Object.entries(r)[Symbol.iterator](),
        Object.entries(e)[Symbol.iterator]()
      )
    : !1;
}
function Bp(r, e) {
  do {
    let t = r.next(),
      s = e.next();
    if (t.done && s.done) return !0;
    if (t.done || s.done || !Object.is(t.value, s.value)) return !1;
  } while (!0);
}
function Ib(r) {
  if (Object.prototype.toString.call(r) !== "[object Object]") return !1;
  let e = Object.getPrototypeOf(r);
  return e === null || Object.getPrototypeOf(e) === null;
}
var c8 = Object.defineProperty,
  u8 = (r, e, t) =>
    e in r
      ? c8(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ob = (r, e, t) => (u8(r, typeof e != "symbol" ? e + "" : e, t), t),
  d8 = ((r) => ((r[(r.Push = 0)] = "Push"), (r[(r.Pop = 1)] = "Pop"), r))(
    d8 || {}
  );
let h8 = {
    0(r, e) {
      let t = e.id,
        s = r.stack,
        n = r.stack.indexOf(t);
      if (n !== -1) {
        let i = r.stack.slice();
        return i.splice(n, 1), i.push(t), (s = i), { ...r, stack: s };
      }
      return { ...r, stack: [...r.stack, t] };
    },
    1(r, e) {
      let t = e.id,
        s = r.stack.indexOf(t);
      if (s === -1) return r;
      let n = r.stack.slice();
      return n.splice(s, 1), { ...r, stack: n };
    },
  },
  f8 = class gT extends l8 {
    constructor() {
      super(...arguments),
        Ob(this, "actions", {
          push: (e) => this.send({ type: 0, id: e }),
          pop: (e) => this.send({ type: 1, id: e }),
        }),
        Ob(this, "selectors", {
          isTop: (e, t) => e.stack[e.stack.length - 1] === t,
          inStack: (e, t) => e.stack.includes(t),
        });
    }
    static new() {
      return new gT({ stack: [] });
    }
    reduce(e, t) {
      return fn(t.type, h8, e, t);
    }
  };
const xT = new fT(() => f8.new());
var Fp = { exports: {} },
  Ip = {};
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Lb;
function p8() {
  if (Lb) return Ip;
  Lb = 1;
  var r = Au();
  function e(d, f) {
    return (d === f && (d !== 0 || 1 / d === 1 / f)) || (d !== d && f !== f);
  }
  var t = typeof Object.is == "function" ? Object.is : e,
    s = r.useSyncExternalStore,
    n = r.useRef,
    i = r.useEffect,
    l = r.useMemo,
    c = r.useDebugValue;
  return (
    (Ip.useSyncExternalStoreWithSelector = function (d, f, m, h, g) {
      var x = n(null);
      if (x.current === null) {
        var v = { hasValue: !1, value: null };
        x.current = v;
      } else v = x.current;
      x = l(
        function () {
          function _(A) {
            if (!S) {
              if (((S = !0), (T = A), (A = h(A)), g !== void 0 && v.hasValue)) {
                var M = v.value;
                if (g(M, A)) return (j = M);
              }
              return (j = A);
            }
            if (((M = j), t(T, A))) return M;
            var N = h(A);
            return g !== void 0 && g(M, N) ? ((T = A), M) : ((T = A), (j = N));
          }
          var S = !1,
            T,
            j,
            E = m === void 0 ? null : m;
          return [
            function () {
              return _(f());
            },
            E === null
              ? void 0
              : function () {
                  return _(E());
                },
          ];
        },
        [f, m, h, g]
      );
      var w = s(d, x[0], x[1]);
      return (
        i(
          function () {
            (v.hasValue = !0), (v.value = w);
          },
          [w]
        ),
        c(w),
        w
      );
    }),
    Ip
  );
}
var Db;
function m8() {
  return Db || ((Db = 1), (Fp.exports = p8())), Fp.exports;
}
var g8 = m8();
function yT(r, e, t = mT) {
  return g8.useSyncExternalStoreWithSelector(
    gt((s) => r.subscribe(x8, s)),
    gt(() => r.state),
    gt(() => r.state),
    gt(e),
    t
  );
}
function x8(r) {
  return r;
}
function _l(r, e) {
  let t = k.useId(),
    s = xT.get(e),
    [n, i] = yT(
      s,
      k.useCallback(
        (l) => [s.selectors.isTop(l, t), s.selectors.inStack(l, t)],
        [s, t]
      )
    );
  return (
    _r(() => {
      if (r) return s.actions.push(t), () => s.actions.pop(t);
    }, [s, r, t]),
    r ? (i ? n : !0) : !1
  );
}
let Gm = new Map(),
  Ko = new Map();
function Ub(r) {
  var e;
  let t = (e = Ko.get(r)) != null ? e : 0;
  return (
    Ko.set(r, t + 1),
    t !== 0
      ? () => zb(r)
      : (Gm.set(r, {
          "aria-hidden": r.getAttribute("aria-hidden"),
          inert: r.inert,
        }),
        r.setAttribute("aria-hidden", "true"),
        (r.inert = !0),
        () => zb(r))
  );
}
function zb(r) {
  var e;
  let t = (e = Ko.get(r)) != null ? e : 1;
  if ((t === 1 ? Ko.delete(r) : Ko.set(r, t - 1), t !== 1)) return;
  let s = Gm.get(r);
  s &&
    (s["aria-hidden"] === null
      ? r.removeAttribute("aria-hidden")
      : r.setAttribute("aria-hidden", s["aria-hidden"]),
    (r.inert = s.inert),
    Gm.delete(r));
}
function y8(r, { allowed: e, disallowed: t } = {}) {
  let s = _l(r, "inert-others");
  _r(() => {
    var n, i;
    if (!s) return;
    let l = gn();
    for (let d of (n = t?.()) != null ? n : []) d && l.add(Ub(d));
    let c = (i = e?.()) != null ? i : [];
    for (let d of c) {
      if (!d) continue;
      let f = Vu(d);
      if (!f) continue;
      let m = d.parentElement;
      for (; m && m !== f.body; ) {
        for (let h of m.children) c.some((g) => h.contains(g)) || l.add(Ub(h));
        m = m.parentElement;
      }
    }
    return l.dispose;
  }, [s, e, t]);
}
function v8(r, e, t) {
  let s = Fi((n) => {
    let i = n.getBoundingClientRect();
    i.x === 0 && i.y === 0 && i.width === 0 && i.height === 0 && t();
  });
  k.useEffect(() => {
    if (!r) return;
    let n = e === null ? null : Ri(e) ? e : e.current;
    if (!n) return;
    let i = gn();
    if (typeof ResizeObserver < "u") {
      let l = new ResizeObserver(() => s.current(n));
      l.observe(n), i.add(() => l.disconnect());
    }
    if (typeof IntersectionObserver < "u") {
      let l = new IntersectionObserver(() => s.current(n));
      l.observe(n), i.add(() => l.disconnect());
    }
    return () => i.dispose();
  }, [e, s, r]);
}
let Pu = [
    "[contentEditable=true]",
    "[tabindex]",
    "a[href]",
    "area[href]",
    "button:not([disabled])",
    "iframe",
    "input:not([disabled])",
    "select:not([disabled])",
    "textarea:not([disabled])",
  ]
    .map((r) => `${r}:not([tabindex='-1'])`)
    .join(","),
  _8 = ["[data-autofocus]"].map((r) => `${r}:not([tabindex='-1'])`).join(",");
var on = ((r) => (
    (r[(r.First = 1)] = "First"),
    (r[(r.Previous = 2)] = "Previous"),
    (r[(r.Next = 4)] = "Next"),
    (r[(r.Last = 8)] = "Last"),
    (r[(r.WrapAround = 16)] = "WrapAround"),
    (r[(r.NoScroll = 32)] = "NoScroll"),
    (r[(r.AutoFocus = 64)] = "AutoFocus"),
    r
  ))(on || {}),
  $m = ((r) => (
    (r[(r.Error = 0)] = "Error"),
    (r[(r.Overflow = 1)] = "Overflow"),
    (r[(r.Success = 2)] = "Success"),
    (r[(r.Underflow = 3)] = "Underflow"),
    r
  ))($m || {}),
  b8 = ((r) => (
    (r[(r.Previous = -1)] = "Previous"), (r[(r.Next = 1)] = "Next"), r
  ))(b8 || {});
function w8(r = document.body) {
  return r == null
    ? []
    : Array.from(r.querySelectorAll(Pu)).sort((e, t) =>
        Math.sign(
          (e.tabIndex || Number.MAX_SAFE_INTEGER) -
            (t.tabIndex || Number.MAX_SAFE_INTEGER)
        )
      );
}
function S8(r = document.body) {
  return r == null
    ? []
    : Array.from(r.querySelectorAll(_8)).sort((e, t) =>
        Math.sign(
          (e.tabIndex || Number.MAX_SAFE_INTEGER) -
            (t.tabIndex || Number.MAX_SAFE_INTEGER)
        )
      );
}
var vT = ((r) => (
  (r[(r.Strict = 0)] = "Strict"), (r[(r.Loose = 1)] = "Loose"), r
))(vT || {});
function C8(r, e = 0) {
  var t;
  return r === ((t = Vu(r)) == null ? void 0 : t.body)
    ? !1
    : fn(e, {
        0() {
          return r.matches(Pu);
        },
        1() {
          let s = r;
          for (; s !== null; ) {
            if (s.matches(Pu)) return !0;
            s = s.parentElement;
          }
          return !1;
        },
      });
}
var T8 = ((r) => (
  (r[(r.Keyboard = 0)] = "Keyboard"), (r[(r.Mouse = 1)] = "Mouse"), r
))(T8 || {});
typeof window < "u" &&
  typeof document < "u" &&
  (document.addEventListener(
    "keydown",
    (r) => {
      r.metaKey ||
        r.altKey ||
        r.ctrlKey ||
        (document.documentElement.dataset.headlessuiFocusVisible = "");
    },
    !0
  ),
  document.addEventListener(
    "click",
    (r) => {
      r.detail === 1
        ? delete document.documentElement.dataset.headlessuiFocusVisible
        : r.detail === 0 &&
          (document.documentElement.dataset.headlessuiFocusVisible = "");
    },
    !0
  ));
function dn(r) {
  r?.focus({ preventScroll: !0 });
}
let E8 = ["textarea", "input"].join(",");
function j8(r) {
  var e, t;
  return (t = (e = r?.matches) == null ? void 0 : e.call(r, E8)) != null
    ? t
    : !1;
}
function k8(r, e = (t) => t) {
  return r.slice().sort((t, s) => {
    let n = e(t),
      i = e(s);
    if (n === null || i === null) return 0;
    let l = n.compareDocumentPosition(i);
    return l & Node.DOCUMENT_POSITION_FOLLOWING
      ? -1
      : l & Node.DOCUMENT_POSITION_PRECEDING
      ? 1
      : 0;
  });
}
function Qo(
  r,
  e,
  { sorted: t = !0, relativeTo: s = null, skipElements: n = [] } = {}
) {
  let i = Array.isArray(r)
      ? r.length > 0
        ? r[0].ownerDocument
        : document
      : r.ownerDocument,
    l = Array.isArray(r) ? (t ? k8(r) : r) : e & 64 ? S8(r) : w8(r);
  n.length > 0 &&
    l.length > 1 &&
    (l = l.filter(
      (x) =>
        !n.some((v) =>
          v != null && "current" in v ? v?.current === x : v === x
        )
    )),
    (s = s ?? i.activeElement);
  let c = (() => {
      if (e & 5) return 1;
      if (e & 10) return -1;
      throw new Error(
        "Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last"
      );
    })(),
    d = (() => {
      if (e & 1) return 0;
      if (e & 2) return Math.max(0, l.indexOf(s)) - 1;
      if (e & 4) return Math.max(0, l.indexOf(s)) + 1;
      if (e & 8) return l.length - 1;
      throw new Error(
        "Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last"
      );
    })(),
    f = e & 32 ? { preventScroll: !0 } : {},
    m = 0,
    h = l.length,
    g;
  do {
    if (m >= h || m + h <= 0) return 0;
    let x = d + m;
    if (e & 16) x = (x + h) % h;
    else {
      if (x < 0) return 3;
      if (x >= h) return 1;
    }
    (g = l[x]), g?.focus(f), (m += c);
  } while (g !== i.activeElement);
  return e & 6 && j8(g) && g.select(), 2;
}
function _T() {
  return (
    /iPhone/gi.test(window.navigator.platform) ||
    (/Mac/gi.test(window.navigator.platform) &&
      window.navigator.maxTouchPoints > 0)
  );
}
function P8() {
  return /Android/gi.test(window.navigator.userAgent);
}
function Gb() {
  return _T() || P8();
}
function Zc(r, e, t, s) {
  let n = Fi(t);
  k.useEffect(() => {
    if (!r) return;
    function i(l) {
      n.current(l);
    }
    return (
      document.addEventListener(e, i, s),
      () => document.removeEventListener(e, i, s)
    );
  }, [r, e, s]);
}
function bT(r, e, t, s) {
  let n = Fi(t);
  k.useEffect(() => {
    if (!r) return;
    function i(l) {
      n.current(l);
    }
    return (
      window.addEventListener(e, i, s),
      () => window.removeEventListener(e, i, s)
    );
  }, [r, e, s]);
}
const $b = 30;
function A8(r, e, t) {
  let s = Fi(t),
    n = k.useCallback(
      function (c, d) {
        if (c.defaultPrevented) return;
        let f = d(c);
        if (f === null || !f.getRootNode().contains(f) || !f.isConnected)
          return;
        let m = (function h(g) {
          return typeof g == "function"
            ? h(g())
            : Array.isArray(g) || g instanceof Set
            ? g
            : [g];
        })(e);
        for (let h of m)
          if (
            h !== null &&
            (h.contains(f) || (c.composed && c.composedPath().includes(h)))
          )
            return;
        return (
          !C8(f, vT.Loose) && f.tabIndex !== -1 && c.preventDefault(),
          s.current(c, f)
        );
      },
      [s, e]
    ),
    i = k.useRef(null);
  Zc(
    r,
    "pointerdown",
    (c) => {
      var d, f;
      Gb() ||
        (i.current =
          ((f = (d = c.composedPath) == null ? void 0 : d.call(c)) == null
            ? void 0
            : f[0]) || c.target);
    },
    !0
  ),
    Zc(
      r,
      "pointerup",
      (c) => {
        if (Gb() || !i.current) return;
        let d = i.current;
        return (i.current = null), n(c, () => d);
      },
      !0
    );
  let l = k.useRef({ x: 0, y: 0 });
  Zc(
    r,
    "touchstart",
    (c) => {
      (l.current.x = c.touches[0].clientX),
        (l.current.y = c.touches[0].clientY);
    },
    !0
  ),
    Zc(
      r,
      "touchend",
      (c) => {
        let d = {
          x: c.changedTouches[0].clientX,
          y: c.changedTouches[0].clientY,
        };
        if (
          !(
            Math.abs(d.x - l.current.x) >= $b ||
            Math.abs(d.y - l.current.y) >= $b
          )
        )
          return n(c, () => (Wn(c.target) ? c.target : null));
      },
      !0
    ),
    bT(
      r,
      "blur",
      (c) =>
        n(c, () =>
          YF(window.document.activeElement)
            ? window.document.activeElement
            : null
        ),
      !0
    );
}
function Xu(...r) {
  return k.useMemo(() => Vu(...r), [...r]);
}
function wT(r, e, t, s) {
  let n = Fi(t);
  k.useEffect(() => {
    r = r ?? window;
    function i(l) {
      n.current(l);
    }
    return r.addEventListener(e, i, s), () => r.removeEventListener(e, i, s);
  }, [r, e, s]);
}
function M8(r) {
  return k.useSyncExternalStore(r.subscribe, r.getSnapshot, r.getSnapshot);
}
function N8(r, e) {
  let t = r(),
    s = new Set();
  return {
    getSnapshot() {
      return t;
    },
    subscribe(n) {
      return s.add(n), () => s.delete(n);
    },
    dispatch(n, ...i) {
      let l = e[n].call(t, ...i);
      l && ((t = l), s.forEach((c) => c()));
    },
  };
}
function R8() {
  let r;
  return {
    before({ doc: e }) {
      var t;
      let s = e.documentElement,
        n = (t = e.defaultView) != null ? t : window;
      r = Math.max(0, n.innerWidth - s.clientWidth);
    },
    after({ doc: e, d: t }) {
      let s = e.documentElement,
        n = Math.max(0, s.clientWidth - s.offsetWidth),
        i = Math.max(0, r - n);
      t.style(s, "paddingRight", `${i}px`);
    },
  };
}
function B8() {
  return _T()
    ? {
        before({ doc: r, d: e, meta: t }) {
          function s(n) {
            return t.containers.flatMap((i) => i()).some((i) => i.contains(n));
          }
          e.microTask(() => {
            var n;
            if (
              window.getComputedStyle(r.documentElement).scrollBehavior !==
              "auto"
            ) {
              let c = gn();
              c.style(r.documentElement, "scrollBehavior", "auto"),
                e.add(() => e.microTask(() => c.dispose()));
            }
            let i = (n = window.scrollY) != null ? n : window.pageYOffset,
              l = null;
            e.addEventListener(
              r,
              "click",
              (c) => {
                if (Wn(c.target))
                  try {
                    let d = c.target.closest("a");
                    if (!d) return;
                    let { hash: f } = new URL(d.href),
                      m = r.querySelector(f);
                    Wn(m) && !s(m) && (l = m);
                  } catch {}
              },
              !0
            ),
              e.addEventListener(r, "touchstart", (c) => {
                if (Wn(c.target) && XF(c.target))
                  if (s(c.target)) {
                    let d = c.target;
                    for (; d.parentElement && s(d.parentElement); )
                      d = d.parentElement;
                    e.style(d, "overscrollBehavior", "contain");
                  } else e.style(c.target, "touchAction", "none");
              }),
              e.addEventListener(
                r,
                "touchmove",
                (c) => {
                  if (Wn(c.target)) {
                    if (KF(c.target)) return;
                    if (s(c.target)) {
                      let d = c.target;
                      for (
                        ;
                        d.parentElement &&
                        d.dataset.headlessuiPortal !== "" &&
                        !(
                          d.scrollHeight > d.clientHeight ||
                          d.scrollWidth > d.clientWidth
                        );

                      )
                        d = d.parentElement;
                      d.dataset.headlessuiPortal === "" && c.preventDefault();
                    } else c.preventDefault();
                  }
                },
                { passive: !1 }
              ),
              e.add(() => {
                var c;
                let d = (c = window.scrollY) != null ? c : window.pageYOffset;
                i !== d && window.scrollTo(0, i),
                  l &&
                    l.isConnected &&
                    (l.scrollIntoView({ block: "nearest" }), (l = null));
              });
          });
        },
      }
    : {};
}
function F8() {
  return {
    before({ doc: r, d: e }) {
      e.style(r.documentElement, "overflow", "hidden");
    },
  };
}
function I8(r) {
  let e = {};
  for (let t of r) Object.assign(e, t(e));
  return e;
}
let ki = N8(() => new Map(), {
  PUSH(r, e) {
    var t;
    let s =
      (t = this.get(r)) != null
        ? t
        : { doc: r, count: 0, d: gn(), meta: new Set() };
    return s.count++, s.meta.add(e), this.set(r, s), this;
  },
  POP(r, e) {
    let t = this.get(r);
    return t && (t.count--, t.meta.delete(e)), this;
  },
  SCROLL_PREVENT({ doc: r, d: e, meta: t }) {
    let s = { doc: r, d: e, meta: I8(t) },
      n = [B8(), R8(), F8()];
    n.forEach(({ before: i }) => i?.(s)), n.forEach(({ after: i }) => i?.(s));
  },
  SCROLL_ALLOW({ d: r }) {
    r.dispose();
  },
  TEARDOWN({ doc: r }) {
    this.delete(r);
  },
});
ki.subscribe(() => {
  let r = ki.getSnapshot(),
    e = new Map();
  for (let [t] of r) e.set(t, t.documentElement.style.overflow);
  for (let t of r.values()) {
    let s = e.get(t.doc) === "hidden",
      n = t.count !== 0;
    ((n && !s) || (!n && s)) &&
      ki.dispatch(t.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", t),
      t.count === 0 && ki.dispatch("TEARDOWN", t);
  }
});
function O8(r, e, t = () => ({ containers: [] })) {
  let s = M8(ki),
    n = e ? s.get(e) : void 0,
    i = n ? n.count > 0 : !1;
  return (
    _r(() => {
      if (!(!e || !r))
        return ki.dispatch("PUSH", e, t), () => ki.dispatch("POP", e, t);
    }, [r, e]),
    i
  );
}
function L8(r, e, t = () => [document.body]) {
  let s = _l(r, "scroll-lock");
  O8(s, e, (n) => {
    var i;
    return { containers: [...((i = n.containers) != null ? i : []), t] };
  });
}
function D8(r = 0) {
  let [e, t] = k.useState(r),
    s = k.useCallback((d) => t(d), [e]),
    n = k.useCallback((d) => t((f) => f | d), [e]),
    i = k.useCallback((d) => (e & d) === d, [e]),
    l = k.useCallback((d) => t((f) => f & ~d), [t]),
    c = k.useCallback((d) => t((f) => f ^ d), [t]);
  return {
    flags: e,
    setFlag: s,
    addFlag: n,
    hasFlag: i,
    removeFlag: l,
    toggleFlag: c,
  };
}
var U8 = {},
  Hb,
  Wb;
typeof process < "u" &&
  typeof globalThis < "u" &&
  typeof Element < "u" &&
  ((Hb = process == null ? void 0 : U8) == null ? void 0 : Hb.NODE_ENV) ===
    "test" &&
  typeof ((Wb = Element?.prototype) == null ? void 0 : Wb.getAnimations) >
    "u" &&
  (Element.prototype.getAnimations = function () {
    return (
      console.warn(
        [
          "Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.",
          "Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.",
          "",
          "Example usage:",
          "```js",
          "import { mockAnimationsApi } from 'jsdom-testing-mocks'",
          "mockAnimationsApi()",
          "```",
        ].join(`
`)
      ),
      []
    );
  });
var z8 = ((r) => (
  (r[(r.None = 0)] = "None"),
  (r[(r.Closed = 1)] = "Closed"),
  (r[(r.Enter = 2)] = "Enter"),
  (r[(r.Leave = 4)] = "Leave"),
  r
))(z8 || {});
function G8(r) {
  let e = {};
  for (let t in r) r[t] === !0 && (e[`data-${t}`] = "");
  return e;
}
function $8(r, e, t, s) {
  let [n, i] = k.useState(t),
    { hasFlag: l, addFlag: c, removeFlag: d } = D8(r && n ? 3 : 0),
    f = k.useRef(!1),
    m = k.useRef(!1),
    h = $g();
  return (
    _r(() => {
      var g;
      if (r) {
        if ((t && i(!0), !e)) {
          t && c(3);
          return;
        }
        return (
          (g = s?.start) == null || g.call(s, t),
          H8(e, {
            inFlight: f,
            prepare() {
              m.current ? (m.current = !1) : (m.current = f.current),
                (f.current = !0),
                !m.current && (t ? (c(3), d(4)) : (c(4), d(2)));
            },
            run() {
              m.current ? (t ? (d(3), c(4)) : (d(4), c(3))) : t ? d(1) : c(1);
            },
            done() {
              var x;
              (m.current &&
                typeof e.getAnimations == "function" &&
                e.getAnimations().length > 0) ||
                ((f.current = !1),
                d(7),
                t || i(!1),
                (x = s?.end) == null || x.call(s, t));
            },
          })
        );
      }
    }, [r, t, e, h]),
    r
      ? [
          n,
          { closed: l(1), enter: l(2), leave: l(4), transition: l(2) || l(4) },
        ]
      : [
          t,
          { closed: void 0, enter: void 0, leave: void 0, transition: void 0 },
        ]
  );
}
function H8(r, { prepare: e, run: t, done: s, inFlight: n }) {
  let i = gn();
  return (
    V8(r, { prepare: e, inFlight: n }),
    i.nextFrame(() => {
      t(),
        i.requestAnimationFrame(() => {
          i.add(W8(r, s));
        });
    }),
    i.dispose
  );
}
function W8(r, e) {
  var t, s;
  let n = gn();
  if (!r) return n.dispose;
  let i = !1;
  n.add(() => {
    i = !0;
  });
  let l =
    (s =
      (t = r.getAnimations) == null
        ? void 0
        : t.call(r).filter((c) => c instanceof CSSTransition)) != null
      ? s
      : [];
  return l.length === 0
    ? (e(), n.dispose)
    : (Promise.allSettled(l.map((c) => c.finished)).then(() => {
        i || e();
      }),
      n.dispose);
}
function V8(r, { inFlight: e, prepare: t }) {
  if (e != null && e.current) {
    t();
    return;
  }
  let s = r.style.transition;
  (r.style.transition = "none"), t(), r.offsetHeight, (r.style.transition = s);
}
function Wg(r, e) {
  let t = k.useRef([]),
    s = gt(r);
  k.useEffect(() => {
    let n = [...t.current];
    for (let [i, l] of e.entries())
      if (t.current[i] !== l) {
        let c = s(e, n);
        return (t.current = e), c;
      }
  }, [s, ...e]);
}
let Yu = k.createContext(null);
Yu.displayName = "OpenClosedContext";
var js = ((r) => (
  (r[(r.Open = 1)] = "Open"),
  (r[(r.Closed = 2)] = "Closed"),
  (r[(r.Closing = 4)] = "Closing"),
  (r[(r.Opening = 8)] = "Opening"),
  r
))(js || {});
function Ku() {
  return k.useContext(Yu);
}
function q8({ value: r, children: e }) {
  return Fe.createElement(Yu.Provider, { value: r }, e);
}
function X8({ children: r }) {
  return Fe.createElement(Yu.Provider, { value: null }, r);
}
function Y8(r) {
  function e() {
    document.readyState !== "loading" &&
      (r(), document.removeEventListener("DOMContentLoaded", e));
  }
  typeof window < "u" &&
    typeof document < "u" &&
    (document.addEventListener("DOMContentLoaded", e), e());
}
let zn = [];
Y8(() => {
  function r(e) {
    if (!Wn(e.target) || e.target === document.body || zn[0] === e.target)
      return;
    let t = e.target;
    (t = t.closest(Pu)),
      zn.unshift(t ?? e.target),
      (zn = zn.filter((s) => s != null && s.isConnected)),
      zn.splice(10);
  }
  window.addEventListener("click", r, { capture: !0 }),
    window.addEventListener("mousedown", r, { capture: !0 }),
    window.addEventListener("focus", r, { capture: !0 }),
    document.body.addEventListener("click", r, { capture: !0 }),
    document.body.addEventListener("mousedown", r, { capture: !0 }),
    document.body.addEventListener("focus", r, { capture: !0 });
});
function ST(r) {
  let e = gt(r),
    t = k.useRef(!1);
  k.useEffect(
    () => (
      (t.current = !1),
      () => {
        (t.current = !0),
          qu(() => {
            t.current && e();
          });
      }
    ),
    [e]
  );
}
function K8() {
  let r = typeof document > "u";
  return ((e) => e.useSyncExternalStore)(uP)(
    () => () => {},
    () => !1,
    () => !r
  );
}
function bl() {
  let r = K8(),
    [e, t] = k.useState(Gs.isHandoffComplete);
  return (
    e && Gs.isHandoffComplete === !1 && t(!1),
    k.useEffect(() => {
      e !== !0 && t(!0);
    }, [e]),
    k.useEffect(() => Gs.handoff(), []),
    r ? !1 : e
  );
}
let CT = k.createContext(!1);
function Q8() {
  return k.useContext(CT);
}
function Vb(r) {
  return Fe.createElement(CT.Provider, { value: r.force }, r.children);
}
function Z8(r) {
  let e = Q8(),
    t = k.useContext(ET),
    [s, n] = k.useState(() => {
      var i;
      if (!e && t !== null) return (i = t.current) != null ? i : null;
      if (Gs.isServer) return null;
      let l = r?.getElementById("headlessui-portal-root");
      if (l) return l;
      if (r === null) return null;
      let c = r.createElement("div");
      return (
        c.setAttribute("id", "headlessui-portal-root"), r.body.appendChild(c)
      );
    });
  return (
    k.useEffect(() => {
      s !== null &&
        ((r != null && r.body.contains(s)) ||
          r == null ||
          r.body.appendChild(s));
    }, [s, r]),
    k.useEffect(() => {
      e || (t !== null && n(t.current));
    }, [t, n, e]),
    s
  );
}
let TT = k.Fragment,
  J8 = Dr(function (r, e) {
    let { ownerDocument: t = null, ...s } = r,
      n = k.useRef(null),
      i = Ws(
        QF((x) => {
          n.current = x;
        }),
        e
      ),
      l = Xu(n),
      c = t ?? l,
      d = Z8(c),
      [f] = k.useState(() => {
        var x;
        return Gs.isServer
          ? null
          : (x = c?.createElement("div")) != null
          ? x
          : null;
      }),
      m = k.useContext(Hm),
      h = bl();
    _r(() => {
      !d ||
        !f ||
        d.contains(f) ||
        (f.setAttribute("data-headlessui-portal", ""), d.appendChild(f));
    }, [d, f]),
      _r(() => {
        if (f && m) return m.register(f);
      }, [m, f]),
      ST(() => {
        var x;
        !d ||
          !f ||
          (cT(f) && d.contains(f) && d.removeChild(f),
          d.childNodes.length <= 0 &&
            ((x = d.parentElement) == null || x.removeChild(d)));
      });
    let g = cs();
    return h
      ? !d || !f
        ? null
        : IF.createPortal(
            g({
              ourProps: { ref: i },
              theirProps: s,
              slot: {},
              defaultTag: TT,
              name: "Portal",
            }),
            f
          )
      : null;
  });
function eI(r, e) {
  let t = Ws(e),
    { enabled: s = !0, ownerDocument: n, ...i } = r,
    l = cs();
  return s
    ? Fe.createElement(J8, { ...i, ownerDocument: n, ref: t })
    : l({
        ourProps: { ref: t },
        theirProps: i,
        slot: {},
        defaultTag: TT,
        name: "Portal",
      });
}
let tI = k.Fragment,
  ET = k.createContext(null);
function rI(r, e) {
  let { target: t, ...s } = r,
    n = { ref: Ws(e) },
    i = cs();
  return Fe.createElement(
    ET.Provider,
    { value: t },
    i({ ourProps: n, theirProps: s, defaultTag: tI, name: "Popover.Group" })
  );
}
let Hm = k.createContext(null);
function sI() {
  let r = k.useContext(Hm),
    e = k.useRef([]),
    t = gt((i) => (e.current.push(i), r && r.register(i), () => s(i))),
    s = gt((i) => {
      let l = e.current.indexOf(i);
      l !== -1 && e.current.splice(l, 1), r && r.unregister(i);
    }),
    n = k.useMemo(
      () => ({ register: t, unregister: s, portals: e }),
      [t, s, e]
    );
  return [
    e,
    k.useMemo(
      () =>
        function ({ children: i }) {
          return Fe.createElement(Hm.Provider, { value: n }, i);
        },
      [n]
    ),
  ];
}
let nI = Dr(eI),
  jT = Dr(rI),
  iI = Object.assign(nI, { Group: jT });
function aI(r, e = typeof document < "u" ? document.defaultView : null, t) {
  let s = _l(r, "escape");
  wT(e, "keydown", (n) => {
    s && (n.defaultPrevented || (n.key === hT.Escape && t(n)));
  });
}
function oI() {
  var r;
  let [e] = k.useState(() =>
      typeof window < "u" && typeof window.matchMedia == "function"
        ? window.matchMedia("(pointer: coarse)")
        : null
    ),
    [t, s] = k.useState((r = e?.matches) != null ? r : !1);
  return (
    _r(() => {
      if (!e) return;
      function n(i) {
        s(i.matches);
      }
      return (
        e.addEventListener("change", n),
        () => e.removeEventListener("change", n)
      );
    }, [e]),
    t
  );
}
function lI({ defaultContainers: r = [], portals: e, mainTreeNode: t } = {}) {
  let s = Xu(t),
    n = gt(() => {
      var i, l;
      let c = [];
      for (let d of r)
        d !== null &&
          (Vn(d)
            ? c.push(d)
            : "current" in d && Vn(d.current) && c.push(d.current));
      if (e != null && e.current) for (let d of e.current) c.push(d);
      for (let d of (i = s?.querySelectorAll("html > *, body > *")) != null
        ? i
        : [])
        d !== document.body &&
          d !== document.head &&
          Vn(d) &&
          d.id !== "headlessui-portal-root" &&
          ((t &&
            (d.contains(t) ||
              d.contains((l = t?.getRootNode()) == null ? void 0 : l.host))) ||
            c.some((f) => d.contains(f)) ||
            c.push(d));
      return c;
    });
  return {
    resolveContainers: n,
    contains: gt((i) => n().some((l) => l.contains(i))),
  };
}
let kT = k.createContext(null);
function qb({ children: r, node: e }) {
  let [t, s] = k.useState(null),
    n = PT(e ?? t);
  return Fe.createElement(
    kT.Provider,
    { value: n },
    r,
    n === null &&
      Fe.createElement(zm, {
        features: ku.Hidden,
        ref: (i) => {
          var l, c;
          if (i) {
            for (let d of (c =
              (l = Vu(i)) == null
                ? void 0
                : l.querySelectorAll("html > *, body > *")) != null
              ? c
              : [])
              if (
                d !== document.body &&
                d !== document.head &&
                Vn(d) &&
                d != null &&
                d.contains(i)
              ) {
                s(d);
                break;
              }
          }
        },
      })
  );
}
function PT(r = null) {
  var e;
  return (e = k.useContext(kT)) != null ? e : r;
}
function Vg() {
  let r = k.useRef(!1);
  return (
    _r(
      () => (
        (r.current = !0),
        () => {
          r.current = !1;
        }
      ),
      []
    ),
    r
  );
}
var Do = ((r) => (
  (r[(r.Forwards = 0)] = "Forwards"), (r[(r.Backwards = 1)] = "Backwards"), r
))(Do || {});
function cI() {
  let r = k.useRef(0);
  return (
    bT(
      !0,
      "keydown",
      (e) => {
        e.key === "Tab" && (r.current = e.shiftKey ? 1 : 0);
      },
      !0
    ),
    r
  );
}
function AT(r) {
  if (!r) return new Set();
  if (typeof r == "function") return new Set(r());
  let e = new Set();
  for (let t of r.current) Vn(t.current) && e.add(t.current);
  return e;
}
let uI = "div";
var wi = ((r) => (
  (r[(r.None = 0)] = "None"),
  (r[(r.InitialFocus = 1)] = "InitialFocus"),
  (r[(r.TabLock = 2)] = "TabLock"),
  (r[(r.FocusLock = 4)] = "FocusLock"),
  (r[(r.RestoreFocus = 8)] = "RestoreFocus"),
  (r[(r.AutoFocus = 16)] = "AutoFocus"),
  r
))(wi || {});
function dI(r, e) {
  let t = k.useRef(null),
    s = Ws(t, e),
    {
      initialFocus: n,
      initialFocusFallback: i,
      containers: l,
      features: c = 15,
      ...d
    } = r;
  bl() || (c = 0);
  let f = Xu(t);
  mI(c, { ownerDocument: f });
  let m = gI(c, {
    ownerDocument: f,
    container: t,
    initialFocus: n,
    initialFocusFallback: i,
  });
  xI(c, {
    ownerDocument: f,
    container: t,
    containers: l,
    previousActiveElement: m,
  });
  let h = cI(),
    g = gt((T) => {
      if (!Ri(t.current)) return;
      let j = t.current;
      ((E) => E())(() => {
        fn(h.current, {
          [Do.Forwards]: () => {
            Qo(j, on.First, { skipElements: [T.relatedTarget, i] });
          },
          [Do.Backwards]: () => {
            Qo(j, on.Last, { skipElements: [T.relatedTarget, i] });
          },
        });
      });
    }),
    x = _l(!!(c & 2), "focus-trap#tab-lock"),
    v = $g(),
    w = k.useRef(!1),
    _ = {
      ref: s,
      onKeyDown(T) {
        T.key == "Tab" &&
          ((w.current = !0),
          v.requestAnimationFrame(() => {
            w.current = !1;
          }));
      },
      onBlur(T) {
        if (!(c & 4)) return;
        let j = AT(l);
        Ri(t.current) && j.add(t.current);
        let E = T.relatedTarget;
        Wn(E) &&
          E.dataset.headlessuiFocusGuard !== "true" &&
          (MT(j, E) ||
            (w.current
              ? Qo(
                  t.current,
                  fn(h.current, {
                    [Do.Forwards]: () => on.Next,
                    [Do.Backwards]: () => on.Previous,
                  }) | on.WrapAround,
                  { relativeTo: T.target }
                )
              : Wn(T.target) && dn(T.target)));
      },
    },
    S = cs();
  return Fe.createElement(
    Fe.Fragment,
    null,
    x &&
      Fe.createElement(zm, {
        as: "button",
        type: "button",
        "data-headlessui-focus-guard": !0,
        onFocus: g,
        features: ku.Focusable,
      }),
    S({ ourProps: _, theirProps: d, defaultTag: uI, name: "FocusTrap" }),
    x &&
      Fe.createElement(zm, {
        as: "button",
        type: "button",
        "data-headlessui-focus-guard": !0,
        onFocus: g,
        features: ku.Focusable,
      })
  );
}
let hI = Dr(dI),
  fI = Object.assign(hI, { features: wi });
function pI(r = !0) {
  let e = k.useRef(zn.slice());
  return (
    Wg(
      ([t], [s]) => {
        s === !0 &&
          t === !1 &&
          qu(() => {
            e.current.splice(0);
          }),
          s === !1 && t === !0 && (e.current = zn.slice());
      },
      [r, zn, e]
    ),
    gt(() => {
      var t;
      return (t = e.current.find((s) => s != null && s.isConnected)) != null
        ? t
        : null;
    })
  );
}
function mI(r, { ownerDocument: e }) {
  let t = !!(r & 8),
    s = pI(t);
  Wg(() => {
    t || (e?.activeElement === e?.body && dn(s()));
  }, [t]),
    ST(() => {
      t && dn(s());
    });
}
function gI(
  r,
  { ownerDocument: e, container: t, initialFocus: s, initialFocusFallback: n }
) {
  let i = k.useRef(null),
    l = _l(!!(r & 1), "focus-trap#initial-focus"),
    c = Vg();
  return (
    Wg(() => {
      if (r === 0) return;
      if (!l) {
        n != null && n.current && dn(n.current);
        return;
      }
      let d = t.current;
      d &&
        qu(() => {
          if (!c.current) return;
          let f = e?.activeElement;
          if (s != null && s.current) {
            if (s?.current === f) {
              i.current = f;
              return;
            }
          } else if (d.contains(f)) {
            i.current = f;
            return;
          }
          if (s != null && s.current) dn(s.current);
          else {
            if (r & 16) {
              if (Qo(d, on.First | on.AutoFocus) !== $m.Error) return;
            } else if (Qo(d, on.First) !== $m.Error) return;
            if (
              n != null &&
              n.current &&
              (dn(n.current), e?.activeElement === n.current)
            )
              return;
            console.warn(
              "There are no focusable elements inside the <FocusTrap />"
            );
          }
          i.current = e?.activeElement;
        });
    }, [n, l, r]),
    i
  );
}
function xI(
  r,
  { ownerDocument: e, container: t, containers: s, previousActiveElement: n }
) {
  let i = Vg(),
    l = !!(r & 4);
  wT(
    e?.defaultView,
    "focus",
    (c) => {
      if (!l || !i.current) return;
      let d = AT(s);
      Ri(t.current) && d.add(t.current);
      let f = n.current;
      if (!f) return;
      let m = c.target;
      Ri(m)
        ? MT(d, m)
          ? ((n.current = m), dn(m))
          : (c.preventDefault(), c.stopPropagation(), dn(f))
        : dn(n.current);
    },
    !0
  );
}
function MT(r, e) {
  for (let t of r) if (t.contains(e)) return !0;
  return !1;
}
function NT(r) {
  var e;
  return (
    !!(
      r.enter ||
      r.enterFrom ||
      r.enterTo ||
      r.leave ||
      r.leaveFrom ||
      r.leaveTo
    ) ||
    ((e = r.as) != null ? e : BT) !== k.Fragment ||
    Fe.Children.count(r.children) === 1
  );
}
let Qu = k.createContext(null);
Qu.displayName = "TransitionContext";
var yI = ((r) => ((r.Visible = "visible"), (r.Hidden = "hidden"), r))(yI || {});
function vI() {
  let r = k.useContext(Qu);
  if (r === null)
    throw new Error(
      "A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />."
    );
  return r;
}
function _I() {
  let r = k.useContext(Zu);
  if (r === null)
    throw new Error(
      "A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />."
    );
  return r;
}
let Zu = k.createContext(null);
Zu.displayName = "NestingContext";
function Ju(r) {
  return "children" in r
    ? Ju(r.children)
    : r.current
        .filter(({ el: e }) => e.current !== null)
        .filter(({ state: e }) => e === "visible").length > 0;
}
function RT(r, e) {
  let t = Fi(r),
    s = k.useRef([]),
    n = Vg(),
    i = $g(),
    l = gt((x, v = Hn.Hidden) => {
      let w = s.current.findIndex(({ el: _ }) => _ === x);
      w !== -1 &&
        (fn(v, {
          [Hn.Unmount]() {
            s.current.splice(w, 1);
          },
          [Hn.Hidden]() {
            s.current[w].state = "hidden";
          },
        }),
        i.microTask(() => {
          var _;
          !Ju(s) && n.current && ((_ = t.current) == null || _.call(t));
        }));
    }),
    c = gt((x) => {
      let v = s.current.find(({ el: w }) => w === x);
      return (
        v
          ? v.state !== "visible" && (v.state = "visible")
          : s.current.push({ el: x, state: "visible" }),
        () => l(x, Hn.Unmount)
      );
    }),
    d = k.useRef([]),
    f = k.useRef(Promise.resolve()),
    m = k.useRef({ enter: [], leave: [] }),
    h = gt((x, v, w) => {
      d.current.splice(0),
        e &&
          (e.chains.current[v] = e.chains.current[v].filter(([_]) => _ !== x)),
        e?.chains.current[v].push([
          x,
          new Promise((_) => {
            d.current.push(_);
          }),
        ]),
        e?.chains.current[v].push([
          x,
          new Promise((_) => {
            Promise.all(m.current[v].map(([S, T]) => T)).then(() => _());
          }),
        ]),
        v === "enter"
          ? (f.current = f.current.then(() => e?.wait.current).then(() => w(v)))
          : w(v);
    }),
    g = gt((x, v, w) => {
      Promise.all(m.current[v].splice(0).map(([_, S]) => S))
        .then(() => {
          var _;
          (_ = d.current.shift()) == null || _();
        })
        .then(() => w(v));
    });
  return k.useMemo(
    () => ({
      children: s,
      register: c,
      unregister: l,
      onStart: h,
      onStop: g,
      wait: f,
      chains: m,
    }),
    [c, l, s, h, g, m, f]
  );
}
let BT = k.Fragment,
  FT = ju.RenderStrategy;
function bI(r, e) {
  var t, s;
  let {
      transition: n = !0,
      beforeEnter: i,
      afterEnter: l,
      beforeLeave: c,
      afterLeave: d,
      enter: f,
      enterFrom: m,
      enterTo: h,
      entered: g,
      leave: x,
      leaveFrom: v,
      leaveTo: w,
      ..._
    } = r,
    [S, T] = k.useState(null),
    j = k.useRef(null),
    E = NT(r),
    A = Ws(...(E ? [j, e, T] : e === null ? [] : [e])),
    M = (t = _.unmount) == null || t ? Hn.Unmount : Hn.Hidden,
    { show: N, appear: R, initial: O } = vI(),
    [U, q] = k.useState(N ? "visible" : "hidden"),
    Q = _I(),
    { register: z, unregister: Z } = Q;
  _r(() => z(j), [z, j]),
    _r(() => {
      if (M === Hn.Hidden && j.current) {
        if (N && U !== "visible") {
          q("visible");
          return;
        }
        return fn(U, { hidden: () => Z(j), visible: () => z(j) });
      }
    }, [U, j, z, Z, N, M]);
  let pe = bl();
  _r(() => {
    if (E && pe && U === "visible" && j.current === null)
      throw new Error(
        "Did you forget to passthrough the `ref` to the actual DOM node?"
      );
  }, [j, U, pe, E]);
  let se = O && !R,
    ie = R && N && O,
    Y = k.useRef(!1),
    re = RT(() => {
      Y.current || (q("hidden"), Z(j));
    }, Q),
    J = gt((ae) => {
      Y.current = !0;
      let me = ae ? "enter" : "leave";
      re.onStart(j, me, (oe) => {
        oe === "enter" ? i?.() : oe === "leave" && c?.();
      });
    }),
    F = gt((ae) => {
      let me = ae ? "enter" : "leave";
      (Y.current = !1),
        re.onStop(j, me, (oe) => {
          oe === "enter" ? l?.() : oe === "leave" && d?.();
        }),
        me === "leave" && !Ju(re) && (q("hidden"), Z(j));
    });
  k.useEffect(() => {
    (E && n) || (J(N), F(N));
  }, [N, E, n]);
  let W = !(!n || !E || !pe || se),
    [, te] = $8(W, S, N, { start: J, end: F }),
    de = _i({
      ref: A,
      className:
        ((s = Um(
          _.className,
          ie && f,
          ie && m,
          te.enter && f,
          te.enter && te.closed && m,
          te.enter && !te.closed && h,
          te.leave && x,
          te.leave && !te.closed && v,
          te.leave && te.closed && w,
          !te.transition && N && g
        )) == null
          ? void 0
          : s.trim()) || void 0,
      ...G8(te),
    }),
    ne = 0;
  U === "visible" && (ne |= js.Open),
    U === "hidden" && (ne |= js.Closed),
    N && U === "hidden" && (ne |= js.Opening),
    !N && U === "visible" && (ne |= js.Closing);
  let ue = cs();
  return Fe.createElement(
    Zu.Provider,
    { value: re },
    Fe.createElement(
      q8,
      { value: ne },
      ue({
        ourProps: de,
        theirProps: _,
        defaultTag: BT,
        features: FT,
        visible: U === "visible",
        name: "Transition.Child",
      })
    )
  );
}
function wI(r, e) {
  let { show: t, appear: s = !1, unmount: n = !0, ...i } = r,
    l = k.useRef(null),
    c = NT(r),
    d = Ws(...(c ? [l, e] : e === null ? [] : [e]));
  bl();
  let f = Ku();
  if (
    (t === void 0 && f !== null && (t = (f & js.Open) === js.Open),
    t === void 0)
  )
    throw new Error(
      "A <Transition /> is used but it is missing a `show={true | false}` prop."
    );
  let [m, h] = k.useState(t ? "visible" : "hidden"),
    g = RT(() => {
      t || h("hidden");
    }),
    [x, v] = k.useState(!0),
    w = k.useRef([t]);
  _r(() => {
    x !== !1 &&
      w.current[w.current.length - 1] !== t &&
      (w.current.push(t), v(!1));
  }, [w, t]);
  let _ = k.useMemo(() => ({ show: t, appear: s, initial: x }), [t, s, x]);
  _r(() => {
    t ? h("visible") : !Ju(g) && l.current !== null && h("hidden");
  }, [t, g]);
  let S = { unmount: n },
    T = gt(() => {
      var A;
      x && v(!1), (A = r.beforeEnter) == null || A.call(r);
    }),
    j = gt(() => {
      var A;
      x && v(!1), (A = r.beforeLeave) == null || A.call(r);
    }),
    E = cs();
  return Fe.createElement(
    Zu.Provider,
    { value: g },
    Fe.createElement(
      Qu.Provider,
      { value: _ },
      E({
        ourProps: {
          ...S,
          as: k.Fragment,
          children: Fe.createElement(IT, {
            ref: d,
            ...S,
            ...i,
            beforeEnter: T,
            beforeLeave: j,
          }),
        },
        theirProps: {},
        defaultTag: k.Fragment,
        features: FT,
        visible: m === "visible",
        name: "Transition",
      })
    )
  );
}
function SI(r, e) {
  let t = k.useContext(Qu) !== null,
    s = Ku() !== null;
  return Fe.createElement(
    Fe.Fragment,
    null,
    !t && s
      ? Fe.createElement(Wm, { ref: e, ...r })
      : Fe.createElement(IT, { ref: e, ...r })
  );
}
let Wm = Dr(wI),
  IT = Dr(bI),
  qg = Dr(SI),
  ya = Object.assign(Wm, { Child: qg, Root: Wm });
var CI = ((r) => (
    (r[(r.Open = 0)] = "Open"), (r[(r.Closed = 1)] = "Closed"), r
  ))(CI || {}),
  TI = ((r) => ((r[(r.SetTitleId = 0)] = "SetTitleId"), r))(TI || {});
let EI = {
    0(r, e) {
      return r.titleId === e.id ? r : { ...r, titleId: e.id };
    },
  },
  Xg = k.createContext(null);
Xg.displayName = "DialogContext";
function ed(r) {
  let e = k.useContext(Xg);
  if (e === null) {
    let t = new Error(`<${r} /> is missing a parent <Dialog /> component.`);
    throw (Error.captureStackTrace && Error.captureStackTrace(t, ed), t);
  }
  return e;
}
function jI(r, e) {
  return fn(e.type, EI, r, e);
}
let Xb = Dr(function (r, e) {
    let t = k.useId(),
      {
        id: s = `headlessui-dialog-${t}`,
        open: n,
        onClose: i,
        initialFocus: l,
        role: c = "dialog",
        autoFocus: d = !0,
        __demoMode: f = !1,
        unmount: m = !1,
        ...h
      } = r,
      g = k.useRef(!1);
    c = (function () {
      return c === "dialog" || c === "alertdialog"
        ? c
        : (g.current ||
            ((g.current = !0),
            console.warn(
              `Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`
            )),
          "dialog");
    })();
    let x = Ku();
    n === void 0 && x !== null && (n = (x & js.Open) === js.Open);
    let v = k.useRef(null),
      w = Ws(v, e),
      _ = Xu(v),
      S = n ? 0 : 1,
      [T, j] = k.useReducer(jI, {
        titleId: null,
        descriptionId: null,
        panelRef: k.createRef(),
      }),
      E = gt(() => i(!1)),
      A = gt((te) => j({ type: 0, id: te })),
      M = bl() ? S === 0 : !1,
      [N, R] = sI(),
      O = {
        get current() {
          var te;
          return (te = T.panelRef.current) != null ? te : v.current;
        },
      },
      U = PT(),
      { resolveContainers: q } = lI({
        mainTreeNode: U,
        portals: N,
        defaultContainers: [O],
      }),
      Q = x !== null ? (x & js.Closing) === js.Closing : !1;
    y8(f || Q ? !1 : M, {
      allowed: gt(() => {
        var te, de;
        return [
          (de =
            (te = v.current) == null
              ? void 0
              : te.closest("[data-headlessui-portal]")) != null
            ? de
            : null,
        ];
      }),
      disallowed: gt(() => {
        var te;
        return [
          (te = U?.closest("body > *:not(#headlessui-portal-root)")) != null
            ? te
            : null,
        ];
      }),
    });
    let z = xT.get(null);
    _r(() => {
      if (M) return z.actions.push(s), () => z.actions.pop(s);
    }, [z, s, M]);
    let Z = yT(
      z,
      k.useCallback((te) => z.selectors.isTop(te, s), [z, s])
    );
    A8(Z, q, (te) => {
      te.preventDefault(), E();
    }),
      aI(Z, _?.defaultView, (te) => {
        te.preventDefault(),
          te.stopPropagation(),
          document.activeElement &&
            "blur" in document.activeElement &&
            typeof document.activeElement.blur == "function" &&
            document.activeElement.blur(),
          E();
      }),
      L8(f || Q ? !1 : M, _, q),
      v8(M, v, E);
    let [pe, se] = ZF(),
      ie = k.useMemo(
        () => [{ dialogState: S, close: E, setTitleId: A, unmount: m }, T],
        [S, T, E, A, m]
      ),
      Y = k.useMemo(() => ({ open: S === 0 }), [S]),
      re = {
        ref: w,
        id: s,
        role: c,
        tabIndex: -1,
        "aria-modal": f ? void 0 : S === 0 ? !0 : void 0,
        "aria-labelledby": T.titleId,
        "aria-describedby": pe,
        unmount: m,
      },
      J = !oI(),
      F = wi.None;
    M &&
      !f &&
      ((F |= wi.RestoreFocus),
      (F |= wi.TabLock),
      d && (F |= wi.AutoFocus),
      J && (F |= wi.InitialFocus));
    let W = cs();
    return Fe.createElement(
      X8,
      null,
      Fe.createElement(
        Vb,
        { force: !0 },
        Fe.createElement(
          iI,
          null,
          Fe.createElement(
            Xg.Provider,
            { value: ie },
            Fe.createElement(
              jT,
              { target: v },
              Fe.createElement(
                Vb,
                { force: !1 },
                Fe.createElement(
                  se,
                  { slot: Y },
                  Fe.createElement(
                    R,
                    null,
                    Fe.createElement(
                      fI,
                      {
                        initialFocus: l,
                        initialFocusFallback: v,
                        containers: q,
                        features: F,
                      },
                      Fe.createElement(
                        n8,
                        { value: E },
                        W({
                          ourProps: re,
                          theirProps: h,
                          slot: Y,
                          defaultTag: kI,
                          features: PI,
                          visible: S === 0,
                          name: "Dialog",
                        })
                      )
                    )
                  )
                )
              )
            )
          )
        )
      )
    );
  }),
  kI = "div",
  PI = ju.RenderStrategy | ju.Static;
function AI(r, e) {
  let { transition: t = !1, open: s, ...n } = r,
    i = Ku(),
    l = r.hasOwnProperty("open") || i !== null,
    c = r.hasOwnProperty("onClose");
  if (!l && !c)
    throw new Error(
      "You have to provide an `open` and an `onClose` prop to the `Dialog` component."
    );
  if (!l)
    throw new Error(
      "You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop."
    );
  if (!c)
    throw new Error(
      "You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop."
    );
  if (!i && typeof r.open != "boolean")
    throw new Error(
      `You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r.open}`
    );
  if (typeof r.onClose != "function")
    throw new Error(
      `You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r.onClose}`
    );
  return (s !== void 0 || t) && !n.static
    ? Fe.createElement(
        qb,
        null,
        Fe.createElement(
          ya,
          { show: s, transition: t, unmount: n.unmount },
          Fe.createElement(Xb, { ref: e, ...n })
        )
      )
    : Fe.createElement(
        qb,
        null,
        Fe.createElement(Xb, { ref: e, open: s, ...n })
      );
}
let MI = "div";
function NI(r, e) {
  let t = k.useId(),
    { id: s = `headlessui-dialog-panel-${t}`, transition: n = !1, ...i } = r,
    [{ dialogState: l, unmount: c }, d] = ed("Dialog.Panel"),
    f = Ws(e, d.panelRef),
    m = k.useMemo(() => ({ open: l === 0 }), [l]),
    h = gt((_) => {
      _.stopPropagation();
    }),
    g = { ref: f, id: s, onClick: h },
    x = n ? qg : k.Fragment,
    v = n ? { unmount: c } : {},
    w = cs();
  return Fe.createElement(
    x,
    { ...v },
    w({
      ourProps: g,
      theirProps: i,
      slot: m,
      defaultTag: MI,
      name: "Dialog.Panel",
    })
  );
}
let RI = "div";
function BI(r, e) {
  let { transition: t = !1, ...s } = r,
    [{ dialogState: n, unmount: i }] = ed("Dialog.Backdrop"),
    l = k.useMemo(() => ({ open: n === 0 }), [n]),
    c = { ref: e, "aria-hidden": !0 },
    d = t ? qg : k.Fragment,
    f = t ? { unmount: i } : {},
    m = cs();
  return Fe.createElement(
    d,
    { ...f },
    m({
      ourProps: c,
      theirProps: s,
      slot: l,
      defaultTag: RI,
      name: "Dialog.Backdrop",
    })
  );
}
let FI = "h2";
function II(r, e) {
  let t = k.useId(),
    { id: s = `headlessui-dialog-title-${t}`, ...n } = r,
    [{ dialogState: i, setTitleId: l }] = ed("Dialog.Title"),
    c = Ws(e);
  k.useEffect(() => (l(s), () => l(null)), [s, l]);
  let d = k.useMemo(() => ({ open: i === 0 }), [i]),
    f = { ref: c, id: s };
  return cs()({
    ourProps: f,
    theirProps: n,
    slot: d,
    defaultTag: FI,
    name: "Dialog.Title",
  });
}
let OI = Dr(AI),
  LI = Dr(NI);
Dr(BI);
let DI = Dr(II),
  Yb = Object.assign(OI, { Panel: LI, Title: DI, Description: r8 });
k.createContext();
function OT({ open: r, onClose: e, children: t }) {
  return a.jsx(ya, {
    appear: !0,
    show: r,
    as: k.Fragment,
    children: a.jsxs(Yb, {
      as: "div",
      className: "relative z-50",
      onClose: e,
      children: [
        a.jsx(ya.Child, {
          as: k.Fragment,
          enter: "ease-out duration-200",
          enterFrom: "opacity-0",
          enterTo: "opacity-100",
          leave: "ease-in duration-150",
          leaveFrom: "opacity-100",
          leaveTo: "opacity-0",
          children: a.jsx("div", {
            className: "fixed inset-0 bg-black bg-opacity-50",
          }),
        }),
        a.jsx("div", {
          className: "fixed inset-0 overflow-y-auto",
          children: a.jsx("div", {
            className:
              "flex min-h-full items-center justify-center p-4 text-center",
            children: a.jsx(ya.Child, {
              as: k.Fragment,
              enter: "ease-out duration-200",
              enterFrom: "opacity-0 translate-y-4",
              enterTo: "opacity-100 translate-y-0",
              leave: "ease-in duration-150",
              leaveFrom: "opacity-100 translate-y-0",
              leaveTo: "opacity-0 translate-y-4",
              children: a.jsx(Yb.Panel, {
                className:
                  "w-full max-w-xs transform overflow-hidden rounded bg-gray-800 p-6 text-left shadow-xl transition-all",
                children: t,
              }),
            }),
          }),
        }),
      ],
    }),
  });
}
function LT({ header: r, children: e }) {
  const { auth: t } = Pa().props,
    [s, n] = k.useState(!1),
    [i, l] = k.useState(!1),
    c = () =>
      a.jsxs("div", {
        className:
          "flex grow flex-col gap-y-5 overflow-y-auto bg-gray-900 px-6 pb-4",
        children: [
          a.jsxs("div", {
            className: "flex h-16 shrink-0 items-center",
            children: [
              a.jsx(aT, { className: "h-8 w-auto text-white" }),
              a.jsxs("div", {
                className: "ml-3",
                children: [
                  a.jsx("p", {
                    className: "text-base font-semibold text-white",
                    children: "Weizhen",
                  }),
                  a.jsx("p", {
                    className: "text-xs text-gray-400",
                    children: "Provider",
                  }),
                ],
              }),
            ],
          }),
          a.jsx("nav", {
            className: "flex flex-1 flex-col",
            children: a.jsxs("ul", {
              role: "list",
              className: "flex flex-1 flex-col gap-y-7",
              children: [
                a.jsxs("li", {
                  children: [
                    a.jsx("div", {
                      className:
                        "text-xs font-semibold leading-6 text-gray-400",
                      children: "Overview",
                    }),
                    a.jsx("ul", {
                      role: "list",
                      className: "-mx-2 mt-2 space-y-1",
                      children: a.jsx("li", {
                        children: a.jsxs(FF, {
                          href: route("dashboard"),
                          active: route().current("dashboard"),
                          className:
                            "group flex gap-x-2 p-2 text-sm leading-6 font-semibold w-full text-gray-200 hover:text-gray-600 hover:text-white",
                          children: [
                            a.jsx("svg", {
                              className: "h-6 w-6 shrink-0",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              strokeWidth: 1.5,
                              stroke: "currentColor",
                              "aria-hidden": "true",
                              children: a.jsx("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                d: "M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5",
                              }),
                            }),
                            "Dashboard",
                          ],
                        }),
                      }),
                    }),
                  ],
                }),
                a.jsxs("li", {
                  className: "mt-auto",
                  children: [
                    a.jsxs("button", {
                      className:
                        "group -mx-2 flex w-full items-center gap-x-3 rounded-md p-2 text-sm font-semibold leading-6 text-gray-200 hover:bg-gray-800 hover:text-white",
                      onClick: () => l(!0),
                      children: [
                        a.jsx("div", {
                          className:
                            "flex h-8 w-8 items-center justify-center rounded-full bg-gray-700",
                          children: a.jsx("span", {
                            className: "text-sm font-medium text-white",
                            children: t.user.name.charAt(0).toUpperCase(),
                          }),
                        }),
                        a.jsx("span", {
                          className: "truncate",
                          children: t.user.name,
                        }),
                      ],
                    }),
                    a.jsx(OT, {
                      open: i,
                      onClose: () => l(!1),
                      children: a.jsxs("div", {
                        className: "flex flex-col gap-y-2",
                        children: [
                          a.jsx(br, {
                            href: route("profile.edit"),
                            className:
                              "block p-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded",
                            children: "Profile",
                          }),
                          a.jsx("form", {
                            method: "post",
                            action: route("logout"),
                            children: a.jsx("button", {
                              type: "submit",
                              className:
                                "block w-full p-2 text-left text-gray-300 hover:bg-gray-700 hover:text-white rounded",
                              children: "Log Out",
                            }),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
          }),
        ],
      });
  return a.jsxs("div", {
    className: "min-h-screen bg-gray-950",
    children: [
      a.jsxs("div", {
        className: `relative z-50 lg:hidden ${s ? "block" : "hidden"}`,
        role: "dialog",
        "aria-modal": "true",
        children: [
          a.jsx("div", {
            className: "fixed inset-0 bg-gray-900/80",
            onClick: () => n(!1),
          }),
          a.jsx("div", {
            className: "fixed inset-0 flex",
            children: a.jsxs("div", {
              className: "relative mr-16 flex w-full max-w-xs flex-1",
              children: [
                a.jsx("div", {
                  className:
                    "absolute left-full top-0 flex w-16 justify-center pt-5",
                  children: a.jsx("button", {
                    type: "button",
                    className: "-m-2.5 p-2.5",
                    onClick: () => n(!1),
                    children: a.jsx("svg", {
                      className: "h-6 w-6 text-white",
                      fill: "none",
                      viewBox: "0 0 24 24",
                      strokeWidth: "1.5",
                      stroke: "currentColor",
                      "aria-hidden": "true",
                      children: a.jsx("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M6 18L18 6M6 6l12 12",
                      }),
                    }),
                  }),
                }),
                a.jsx(c, {}),
              ],
            }),
          }),
        ],
      }),
      a.jsx("div", {
        className:
          "hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",
        children: a.jsx(c, {}),
      }),
      a.jsxs("div", {
        className: "lg:pl-64",
        children: [
          a.jsxs("div", {
            className:
              "sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-800 bg-gray-900 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",
            children: [
              a.jsx("button", {
                type: "button",
                className: "-m-2.5 p-2.5 text-gray-400 lg:hidden",
                onClick: () => n(!0),
                children: a.jsx("svg", {
                  className: "h-6 w-6",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  strokeWidth: "1.5",
                  stroke: "currentColor",
                  "aria-hidden": "true",
                  children: a.jsx("path", {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    d: "M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5",
                  }),
                }),
              }),
              a.jsx("div", {
                className: "h-6 w-px bg-gray-900/10 lg:hidden",
                "aria-hidden": "true",
              }),
              a.jsxs("div", {
                className: "flex flex-1 gap-x-4 self-stretch lg:gap-x-6",
                children: [
                  a.jsx("div", { className: "relative flex flex-1" }),
                  a.jsx("div", {
                    className: "flex items-center gap-x-4 lg:gap-x-6",
                    children: a.jsx("button", {
                      type: "button",
                      className:
                        "-m-2.5 p-2.5 text-gray-400 hover:text-gray-300",
                      children: a.jsx("svg", {
                        className: "h-6 w-6",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        strokeWidth: "1.5",
                        stroke: "currentColor",
                        "aria-hidden": "true",
                        children: a.jsx("path", {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0",
                        }),
                      }),
                    }),
                  }),
                ],
              }),
            ],
          }),
          a.jsx("main", {
            className: "py-10",
            children: a.jsxs("div", {
              className: "px-4 sm:px-6 lg:px-8",
              children: [
                r && a.jsx("div", { className: "mb-8", children: r }),
                e,
              ],
            }),
          }),
        ],
      }),
    ],
  });
}
function Kb({ className: r = "", disabled: e, children: t, ...s }) {
  return a.jsx("button", {
    ...s,
    className:
      `inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700 ${
        e && "opacity-25"
      } ` + r,
    disabled: e,
    children: t,
  });
}
function UI({
  type: r = "button",
  className: e = "",
  disabled: t,
  children: s,
  ...n
}) {
  return a.jsx("button", {
    ...n,
    type: r,
    className:
      `inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 ${
        t && "opacity-25"
      } ` + e,
    disabled: t,
    children: s,
  });
}
function DT({ className: r = "" }) {
  const [e, t] = k.useState(!1),
    s = k.useRef(),
    {
      data: n,
      setData: i,
      delete: l,
      processing: c,
      reset: d,
      errors: f,
      clearErrors: m,
    } = sr({ password: "" }),
    h = () => {
      t(!0);
    },
    g = (v) => {
      v.preventDefault(),
        l(route("profile.destroy"), {
          preserveScroll: !0,
          onSuccess: () => x(),
          onError: () => s.current.focus(),
          onFinish: () => d(),
        });
    },
    x = () => {
      t(!1), m(), d();
    };
  return a.jsxs("section", {
    className: `space-y-6 ${r}`,
    children: [
      a.jsxs("header", {
        children: [
          a.jsx("h2", {
            className: "text-lg font-medium text-gray-900",
            children: "Delete Account",
          }),
          a.jsx("p", {
            className: "mt-1 text-sm text-gray-600",
            children:
              "Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain.",
          }),
        ],
      }),
      a.jsx(Kb, { onClick: h, children: "Delete Account" }),
      a.jsx(OT, {
        open: e,
        onClose: x,
        children: a.jsxs("form", {
          onSubmit: g,
          className: "p-6",
          children: [
            a.jsx("h2", {
              className: "text-lg font-medium text-gray-900",
              children: "Are you sure you want to delete your account?",
            }),
            a.jsx("p", {
              className: "mt-1 text-sm text-gray-600",
              children:
                "Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account.",
            }),
            a.jsxs("div", {
              className: "mt-6",
              children: [
                a.jsx(rr, {
                  htmlFor: "password",
                  value: "Password",
                  className: "sr-only",
                }),
                a.jsx(Xt, {
                  id: "password",
                  type: "password",
                  name: "password",
                  ref: s,
                  value: n.password,
                  onChange: (v) => i("password", v.target.value),
                  className: "mt-1 block w-3/4",
                  isFocused: !0,
                  placeholder: "Password",
                }),
                a.jsx(qt, { message: f.password, className: "mt-2" }),
              ],
            }),
            a.jsxs("div", {
              className: "mt-6 flex justify-end",
              children: [
                a.jsx(UI, { onClick: x, children: "Cancel" }),
                a.jsx(Kb, {
                  className: "ms-3",
                  disabled: c,
                  children: "Delete Account",
                }),
              ],
            }),
          ],
        }),
      }),
    ],
  });
}
const zI = Object.freeze(
  Object.defineProperty({ __proto__: null, default: DT }, Symbol.toStringTag, {
    value: "Module",
  })
);
function UT({ className: r = "" }) {
  const e = k.useRef(),
    t = k.useRef(),
    {
      data: s,
      setData: n,
      errors: i,
      put: l,
      reset: c,
      processing: d,
      recentlySuccessful: f,
    } = sr({ current_password: "", password: "", password_confirmation: "" }),
    m = (h) => {
      h.preventDefault(),
        l(route("password.update"), {
          preserveScroll: !0,
          onSuccess: () => c(),
          onError: (g) => {
            g.password &&
              (c("password", "password_confirmation"), e.current.focus()),
              g.current_password && (c("current_password"), t.current.focus());
          },
        });
    };
  return a.jsxs("section", {
    className: r,
    children: [
      a.jsxs("header", {
        children: [
          a.jsx("h2", {
            className: "text-lg font-medium text-gray-900",
            children: "Update Password",
          }),
          a.jsx("p", {
            className: "mt-1 text-sm text-gray-600",
            children:
              "Ensure your account is using a long, random password to stay secure.",
          }),
        ],
      }),
      a.jsxs("form", {
        onSubmit: m,
        className: "mt-6 space-y-6",
        children: [
          a.jsxs("div", {
            children: [
              a.jsx(rr, {
                htmlFor: "current_password",
                value: "Current Password",
              }),
              a.jsx(Xt, {
                id: "current_password",
                ref: t,
                value: s.current_password,
                onChange: (h) => n("current_password", h.target.value),
                type: "password",
                className:
                  "mt-1 block w-full bg-gray-50 dark:bg-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-700 focus:border-indigo-500 focus:ring-indigo-500",
                autoComplete: "current-password",
              }),
              a.jsx(qt, { message: i.current_password, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "password", value: "New Password" }),
              a.jsx(Xt, {
                id: "password",
                ref: e,
                value: s.password,
                onChange: (h) => n("password", h.target.value),
                type: "password",
                className:
                  "mt-1 block w-full bg-gray-50 dark:bg-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-700 focus:border-indigo-500 focus:ring-indigo-500",
                autoComplete: "new-password",
              }),
              a.jsx(qt, { message: i.password, className: "mt-2" }),
            ],
          }),
          a.jsxs("div", {
            children: [
              a.jsx(rr, {
                htmlFor: "password_confirmation",
                value: "Confirm Password",
              }),
              a.jsx(Xt, {
                id: "password_confirmation",
                value: s.password_confirmation,
                onChange: (h) => n("password_confirmation", h.target.value),
                type: "password",
                className:
                  "mt-1 block w-full bg-gray-50 dark:bg-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-700 focus:border-indigo-500 focus:ring-indigo-500",
                autoComplete: "new-password",
              }),
              a.jsx(qt, {
                message: i.password_confirmation,
                className: "mt-2",
              }),
            ],
          }),
          a.jsxs("div", {
            className: "flex items-center gap-4",
            children: [
              a.jsx(mn, { disabled: d, children: "Save" }),
              a.jsx(ya, {
                show: f,
                enter: "transition ease-in-out",
                enterFrom: "opacity-0",
                leave: "transition ease-in-out",
                leaveTo: "opacity-0",
                children: a.jsx("p", {
                  className: "text-sm text-gray-600",
                  children: "Saved.",
                }),
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const GI = Object.freeze(
  Object.defineProperty({ __proto__: null, default: UT }, Symbol.toStringTag, {
    value: "Module",
  })
);
function zT({ mustVerifyEmail: r, status: e, className: t = "" }) {
  const s = Pa().props.auth.user,
    {
      data: n,
      setData: i,
      patch: l,
      errors: c,
      processing: d,
      recentlySuccessful: f,
    } = sr({ name: s.name, email: s.email }),
    m = (h) => {
      h.preventDefault(), l(route("profile.update"));
    };
  return a.jsxs("section", {
    className: t,
    children: [
      a.jsxs("header", {
        children: [
          a.jsx("h2", {
            className: "text-lg font-medium text-gray-900",
            children: "Profile Information",
          }),
          a.jsx("p", {
            className: "mt-1 text-sm text-gray-600",
            children:
              "Update your account's profile information and email address.",
          }),
        ],
      }),
      a.jsxs("form", {
        onSubmit: m,
        className: "mt-6 space-y-6",
        children: [
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "name", value: "Name" }),
              a.jsx(Xt, {
                id: "name",
                className:
                  "mt-1 block w-full bg-gray-50 dark:bg-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-700 focus:border-indigo-500 focus:ring-indigo-500",
                value: n.name,
                onChange: (h) => i("name", h.target.value),
                required: !0,
                isFocused: !0,
                autoComplete: "name",
              }),
              a.jsx(qt, { className: "mt-2", message: c.name }),
            ],
          }),
          a.jsxs("div", {
            children: [
              a.jsx(rr, { htmlFor: "email", value: "Email" }),
              a.jsx(Xt, {
                id: "email",
                type: "email",
                className:
                  "mt-1 block w-full bg-gray-50 dark:bg-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-700 focus:border-indigo-500 focus:ring-indigo-500",
                value: n.email,
                onChange: (h) => i("email", h.target.value),
                required: !0,
                autoComplete: "username",
              }),
              a.jsx(qt, { className: "mt-2", message: c.email }),
            ],
          }),
          r &&
            s.email_verified_at === null &&
            a.jsxs("div", {
              children: [
                a.jsxs("p", {
                  className: "mt-2 text-sm text-gray-800",
                  children: [
                    "Your email address is unverified.",
                    a.jsx(br, {
                      href: route("verification.send"),
                      method: "post",
                      as: "button",
                      className:
                        "rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",
                      children: "Click here to re-send the verification email.",
                    }),
                  ],
                }),
                e === "verification-link-sent" &&
                  a.jsx("div", {
                    className: "mt-2 text-sm font-medium text-green-600",
                    children:
                      "A new verification link has been sent to your email address.",
                  }),
              ],
            }),
          a.jsxs("div", {
            className: "flex items-center gap-4",
            children: [
              a.jsx(mn, { disabled: d, children: "Save" }),
              a.jsx(ya, {
                show: f,
                enter: "transition ease-in-out",
                enterFrom: "opacity-0",
                leave: "transition ease-in-out",
                leaveTo: "opacity-0",
                children: a.jsx("p", {
                  className: "text-sm text-gray-600",
                  children: "Saved.",
                }),
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const $I = Object.freeze(
  Object.defineProperty({ __proto__: null, default: zT }, Symbol.toStringTag, {
    value: "Module",
  })
);
function HI({ mustVerifyEmail: r, status: e }) {
  const { auth: t } = Pa().props;
  return (
    sr({}),
    a.jsxs(LT, {
      header: a.jsx("div", {
        className:
          "flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",
        children: a.jsxs("div", {
          children: [
            a.jsx("h1", {
              className: "text-2xl font-bold text-white",
              children: "Profile",
            }),
            a.jsx("p", {
              className: "mt-1 text-sm text-gray-400",
              children: "Manage your account information",
            }),
          ],
        }),
      }),
      children: [
        a.jsx(qr, { title: "Profile" }),
        e === "profile-updated" &&
          a.jsx("div", {
            className:
              "mb-6 p-4 bg-green-900/50 border border-green-700 text-green-300 rounded-lg backdrop-blur-sm",
            children: "Profile updated successfully.",
          }),
        a.jsx("div", {
          className: "py-12",
          children: a.jsxs("div", {
            className: "mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",
            children: [
              a.jsx("section", {
                className: "mb-6",
                children: a.jsxs("div", {
                  className:
                    "bg-gray-900 border border-gray-700 rounded-xl p-6",
                  children: [
                    a.jsxs("header", {
                      children: [
                        a.jsx("h2", {
                          className: "text-lg font-medium text-white",
                          children: "Profile Information",
                        }),
                        a.jsx("p", {
                          className: "mt-1 text-sm text-gray-400",
                          children:
                            "Update your account's profile information and email address.",
                        }),
                      ],
                    }),
                    a.jsx(zT, {
                      mustVerifyEmail: r,
                      status: e,
                      className: "max-w-xl",
                    }),
                  ],
                }),
              }),
              a.jsx("section", {
                className: "mb-6",
                children: a.jsxs("div", {
                  className:
                    "bg-gray-900 border border-gray-700 rounded-xl p-6",
                  children: [
                    a.jsxs("header", {
                      children: [
                        a.jsx("h2", {
                          className: "text-lg font-medium text-white",
                          children: "Update Password",
                        }),
                        a.jsx("p", {
                          className: "mt-1 text-sm text-gray-400",
                          children:
                            "Ensure your account is using a long, random password to stay secure.",
                        }),
                      ],
                    }),
                    a.jsx(UT, { className: "max-w-xl" }),
                  ],
                }),
              }),
              a.jsx("section", {
                className: "mb-6",
                children: a.jsx("div", {
                  className:
                    "bg-gray-900 border border-gray-700 rounded-xl p-6",
                  children: a.jsx(DT, { className: "max-w-xl" }),
                }),
              }),
            ],
          }),
        }),
      ],
    })
  );
}
const WI = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: HI },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Op = ({
    label: r,
    name: e,
    value: t,
    onChange: s,
    error: n,
    type: i = "password",
  }) =>
    a.jsxs("div", {
      children: [
        a.jsx("label", {
          htmlFor: e,
          className: "block text-sm font-medium text-gray-400 mb-2",
          children: r,
        }),
        a.jsx("input", {
          id: e,
          name: e,
          type: i,
          value: t,
          onChange: s,
          autoComplete: i === "password" ? "new-password" : "off",
          className:
            "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500",
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    }),
  GT = ({ show: r, onClose: e }) => {
    const {
      data: t,
      setData: s,
      put: n,
      processing: i,
      errors: l,
      reset: c,
      wasSuccessful: d,
    } = sr({ current_password: "", password: "", password_confirmation: "" });
    k.useEffect(() => {
      d && e();
    }, [d]),
      k.useEffect(() => {
        r || c();
      }, [r]);
    const f = (m) => {
      m.preventDefault(),
        n(route("tenant.profile.changePassword"), {
          preserveScroll: !0,
          onSuccess: () => {},
          onError: () => {},
        });
    };
    return r
      ? a.jsx("div", {
          className: "fixed inset-0 z-50 overflow-y-auto",
          children: a.jsxs("div", {
            className: "flex items-center justify-center min-h-screen",
            children: [
              a.jsx("div", {
                className: "fixed inset-0 bg-black opacity-85",
                onClick: e,
              }),
              a.jsxs("div", {
                className:
                  "relative bg-gray-950 rounded-lg shadow-xl transform transition-all sm:max-w-md sm:w-full border border-gray-800 p-6",
                children: [
                  a.jsxs("div", {
                    className: "flex justify-between items-center mb-4",
                    children: [
                      a.jsx("h3", {
                        className: "text-lg font-medium text-white",
                        children: "Alterar Senha",
                      }),
                      a.jsx("button", {
                        onClick: e,
                        className:
                          "text-gray-400 hover:text-gray-300 transition-colors",
                        children: a.jsx("svg", {
                          className: "w-6 h-6",
                          fill: "none",
                          stroke: "currentColor",
                          viewBox: "0 0 24 24",
                          children: a.jsx("path", {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M6 18L18 6M6 6l12 12",
                          }),
                        }),
                      }),
                    ],
                  }),
                  a.jsxs("form", {
                    onSubmit: f,
                    className: "space-y-4",
                    children: [
                      a.jsx(Op, {
                        label: "Senha Atual",
                        name: "current_password",
                        value: t.current_password,
                        onChange: (m) => s("current_password", m.target.value),
                        error: l.current_password,
                      }),
                      a.jsx(Op, {
                        label: "Nova Senha",
                        name: "password",
                        value: t.password,
                        onChange: (m) => s("password", m.target.value),
                        error: l.password,
                      }),
                      a.jsx(Op, {
                        label: "Confirmar Nova Senha",
                        name: "password_confirmation",
                        value: t.password_confirmation,
                        onChange: (m) =>
                          s("password_confirmation", m.target.value),
                        error: l.password_confirmation,
                      }),
                      a.jsxs("div", {
                        className: "flex justify-end space-x-4 pt-4",
                        children: [
                          a.jsx("button", {
                            type: "button",
                            onClick: e,
                            className:
                              "px-4 py-2 rounded-md bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50",
                            children: "Cancelar",
                          }),
                          a.jsx("button", {
                            type: "submit",
                            disabled: i,
                            className:
                              "px-6 py-2 bg-purple-600 text-white hover:bg-purple-700 rounded-md font-semibold disabled:opacity-50",
                            children: i ? "Salvando..." : "Salvar Senha",
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
        })
      : null;
  },
  VI = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: GT },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  da = ({ href: r, active: e, children: t, onClick: s }) =>
    a.jsx(br, {
      href: r,
      onClick: s,
      className: `flex items-center p-3 text-gray-300 hover:bg-gray-800/60 rounded-lg transition-colors duration-200 ${
        e ? "bg-gray-800/90 text-white" : ""
      }`,
      children: t,
    }),
  qI = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z",
      }),
    }),
  XI = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 1.803M15 21a9 9 0 10-9-9",
      }),
    }),
  YI = () =>
    a.jsxs("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: [
        a.jsx("path", {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",
        }),
        a.jsx("path", {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z",
        }),
      ],
    }),
  KI = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10",
      }),
    }),
  QI = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",
      }),
    }),
  ZI = () =>
    a.jsxs("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-3",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: [
        a.jsx("circle", {
          cx: "12",
          cy: "12",
          r: "10",
          stroke: "currentColor",
          strokeWidth: "2",
          fill: "none",
        }),
        a.jsx("path", {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M8 15h8M9 9h6M10 12h4",
        }),
      ],
    }),
  JI = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M4 6h16M4 12h16M4 18h16",
      }),
    }),
  eO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M6 18L18 6M6 6l12 12",
      }),
    }),
  tO = ({ user: r }) =>
    a.jsx("div", {
      className:
        "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white ring-2 ring-gray-700",
      children: r.name.charAt(0),
    }),
  rO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-4 w-4 ml-1 text-gray-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M19 9l-7 7-7-7",
      }),
    });
function Ii({ children: r, title: e }) {
  const { auth: t, flash: s } = Pa().props,
    [n, i] = k.useState(!1),
    [l, c] = k.useState(!1),
    [d, f] = k.useState(!1),
    [m, h] = k.useState(!1),
    g = k.useRef(null),
    x = k.useRef(null);
  k.useEffect(() => {
    const w = (_) => {
      g.current && !g.current.contains(_.target) && i(!1),
        x.current && !x.current.contains(_.target) && c(!1);
    };
    return (
      document.addEventListener("mousedown", w),
      () => document.removeEventListener("mousedown", w)
    );
  }, []),
    k.useEffect(() => {
      if (s && (s.success || s.error)) {
        h(!0);
        const w = setTimeout(() => h(!1), 5e3);
        return () => clearTimeout(w);
      }
    }, [s]);
  const v = () => c(!1);
  return a.jsxs("div", {
    className: "bg-black text-white flex relative font-sans overflow-hidden",
    style: { height: "100vh" },
    children: [
      a.jsx("div", {
        className:
          "absolute top-0 left-0 -translate-x-1/4 -translate-y-1/4 w-96 h-96 bg-purple-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      a.jsx("div", {
        className:
          "absolute bottom-0 right-0 translate-x-1/4 translate-y-1/4 w-96 h-96 bg-blue-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      l &&
        a.jsx("div", {
          className: "fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",
          onClick: v,
        }),
      a.jsxs("aside", {
        ref: x,
        className: `fixed lg:static inset-y-0 left-0 w-64 bg-black/30 backdrop-blur-lg p-4 lg:p-6 z-50 border-r border-gray-800/50 flex flex-col transform transition-transform duration-300 ease-in-out ${
          l ? "translate-x-0" : "-translate-x-full lg:translate-x-0"
        }`,
        children: [
          a.jsxs("div", {
            className: "flex justify-between items-center mb-6 lg:mb-10",
            children: [
              a.jsx("h1", {
                className:
                  "text-xl lg:text-2xl font-bold bg-gradient-to-r from-purple-500 to-blue-500 text-transparent bg-clip-text",
                children: "Weizhen Manager",
              }),
              a.jsx("button", {
                onClick: v,
                className:
                  "lg:hidden text-gray-400 hover:text-white transition-colors",
                children: a.jsx(eO, {}),
              }),
            ],
          }),
          a.jsxs("nav", {
            className: "flex flex-col space-y-2 flex-grow",
            children: [
              a.jsxs(da, {
                href: route("tenant.admin.weizhen-manager"),
                active: route().current("tenant.admin.weizhen-manager"),
                onClick: v,
                children: [
                  a.jsx(qI, {}),
                  a.jsx("span", { children: "Dashboard" }),
                ],
              }),
              a.jsxs(da, {
                href: route("tenant.admin.users.index"),
                active: route().current("tenant.admin.users.index"),
                onClick: v,
                children: [
                  a.jsx(XI, {}),
                  a.jsx("span", { children: "Usuários" }),
                ],
              }),
              a.jsxs(da, {
                href: route("tenant.admin.deposits.index"),
                active: route().current("tenant.admin.deposits.index"),
                onClick: v,
                children: [
                  a.jsx(KI, {}),
                  a.jsx("span", { children: "Depósitos" }),
                ],
              }),
              a.jsxs(da, {
                href: route("tenant.admin.withdrawals.index"),
                active: route().current("tenant.admin.withdrawals.index"),
                onClick: v,
                children: [
                  a.jsx(QI, {}),
                  a.jsx("span", { children: "Saques" }),
                ],
              }),
              a.jsxs(da, {
                href: route("tenant.admin.jackpot.index"),
                active: route().current("tenant.admin.jackpot.index"),
                onClick: v,
                children: [
                  a.jsx(ZI, {}),
                  a.jsx("span", { children: "Jackpot" }),
                ],
              }),
              a.jsxs(da, {
                href: route("tenant.admin.settings.index"),
                active: route().current("tenant.admin.settings.index"),
                onClick: v,
                children: [
                  a.jsx(YI, {}),
                  a.jsx("span", { children: "Configurações" }),
                ],
              }),
            ],
          }),
        ],
      }),
      a.jsxs("main", {
        className: "flex-1 flex flex-col w-full min-w-0",
        children: [
          a.jsx("header", {
            className:
              "flex-shrink-0 bg-black/20 backdrop-blur-lg border-b border-gray-800/50 z-20",
            children: a.jsxs("div", {
              className: "flex items-center justify-between h-16 px-4 lg:px-8",
              children: [
                a.jsxs("div", {
                  className: "flex items-center",
                  children: [
                    a.jsx("button", {
                      onClick: () => c(!0),
                      className:
                        "lg:hidden mr-4 text-gray-400 hover:text-white transition-colors",
                      children: a.jsx(JI, {}),
                    }),
                    e &&
                      a.jsx("h1", {
                        className:
                          "text-lg lg:text-xl font-bold text-gray-200 truncate",
                        children: e,
                      }),
                  ],
                }),
                a.jsxs("div", {
                  className: "relative",
                  ref: g,
                  children: [
                    a.jsxs("button", {
                      onClick: () => i((w) => !w),
                      className:
                        "flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-800/60 transition-colors",
                      children: [
                        a.jsx(tO, { user: t.user }),
                        a.jsx("span", {
                          className:
                            "text-gray-300 font-medium hidden sm:block truncate max-w-32",
                          children: t.user.name,
                        }),
                        a.jsx(rO, {}),
                      ],
                    }),
                    n &&
                      a.jsxs("div", {
                        className:
                          "absolute right-0 mt-2 w-48 bg-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-md shadow-lg z-30 py-1",
                        children: [
                          a.jsx("button", {
                            onClick: () => {
                              f(!0), i(!1);
                            },
                            className:
                              "w-full text-left block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800/60",
                            children: "Alterar Senha",
                          }),
                          a.jsx("div", {
                            className: "border-t border-gray-700/50 my-1",
                          }),
                          a.jsx(br, {
                            href: route("tenant.logout"),
                            method: "post",
                            as: "button",
                            className:
                              "w-full text-left block px-4 py-2 text-sm text-red-400 hover:bg-red-500/20",
                            children: "Sair",
                          }),
                        ],
                      }),
                  ],
                }),
              ],
            }),
          }),
          a.jsxs("div", {
            className: "flex-1 p-4 lg:p-8 overflow-y-auto relative",
            children: [
              m &&
                s.success &&
                a.jsx("div", {
                  className:
                    "absolute top-8 right-8 z-50 p-4 bg-green-900/50 border border-green-700/50 text-green-300 rounded-lg shadow-lg",
                  children: s.success,
                }),
              m &&
                s.error &&
                a.jsx("div", {
                  className:
                    "absolute top-8 right-8 z-50 p-4 bg-red-900/50 border border-red-700/50 text-red-300 rounded-lg shadow-lg",
                  children: s.error,
                }),
              a.jsx("div", { className: "max-w-full mx-auto", children: r }),
            ],
          }),
        ],
      }),
      a.jsx(GT, { show: d, onClose: () => f(!1) }),
    ],
  });
}
const sO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Ii },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Yg = ({ transaction: r, show: e, onClose: t, type: s = "deposit" }) => {
    const {
      data: n,
      setData: i,
      put: l,
      processing: c,
      errors: d,
    } = sr({
      status: r?.status || "pending",
      admin_notes: r?.admin_notes || "",
    });
    Fe.useEffect(() => {
      r &&
        i({ status: r.status || "pending", admin_notes: r.admin_notes || "" });
    }, [r]);
    const f = (g) => {
        g.preventDefault();
        const x =
          s === "deposit"
            ? "tenant.admin.deposits.update"
            : "tenant.admin.withdrawals.update";
        l(route(x, r.id), {
          preserveState: !0,
          preserveScroll: !0,
          onSuccess: () => {
            t();
          },
        });
      },
      m = (g) =>
        new Intl.NumberFormat("pt-BR", {
          style: "currency",
          currency: "BRL",
        }).format(g || 0),
      h = (g) =>
        ({
          pending: "text-yellow-400",
          approved: "text-green-400",
          denied: "text-red-400",
        }[g] || "text-gray-400");
    return !e || !r
      ? null
      : a.jsx("div", {
          className: "fixed inset-0 z-50 overflow-y-auto",
          children: a.jsxs("div", {
            className:
              "flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",
            children: [
              a.jsx("div", {
                className: "fixed inset-0 transition-opacity",
                "aria-hidden": "true",
                children: a.jsx("div", {
                  className: "absolute inset-0 bg-black opacity-85",
                  onClick: t,
                }),
              }),
              a.jsx("div", {
                className:
                  "inline-block align-bottom bg-gray-950 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full border border-gray-800",
                children: a.jsxs("div", {
                  className: "bg-gray-900/20 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",
                  children: [
                    a.jsxs("div", {
                      className: "flex justify-between items-center mb-6",
                      children: [
                        a.jsxs("h3", {
                          className: "text-lg font-medium text-white",
                          children: [
                            s === "deposit"
                              ? "Detalhes do Depósito"
                              : "Detalhes do Saque",
                            " #",
                            r.id,
                          ],
                        }),
                        a.jsx("button", {
                          onClick: t,
                          className:
                            "text-gray-400 hover:text-gray-300 transition-colors",
                          children: a.jsx("svg", {
                            className: "w-6 h-6",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: a.jsx("path", {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              strokeWidth: 2,
                              d: "M6 18L18 6M6 6l12 12",
                            }),
                          }),
                        }),
                      ],
                    }),
                    a.jsx("div", {
                      className:
                        "bg-gray-950/80 border border-gray-800 rounded-lg p-6 backdrop-blur-sm mb-6",
                      children: a.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [
                          a.jsxs("div", {
                            className: "flex items-center space-x-4",
                            children: [
                              a.jsx("div", {
                                className:
                                  "w-16 h-16 rounded-full bg-purple-600 flex items-center justify-center text-xl font-bold text-white",
                                children: r.user.name.charAt(0),
                              }),
                              a.jsxs("div", {
                                className: "flex-1",
                                children: [
                                  a.jsx("h2", {
                                    className: "text-xl font-bold text-white",
                                    children: r.user.name,
                                  }),
                                  a.jsx("p", {
                                    className: "text-gray-400",
                                    children: r.user.email,
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex items-center space-x-4 mt-2",
                                    children: [
                                      a.jsx("span", {
                                        className:
                                          "px-2 py-1 text-xs rounded-full bg-blue-900/50 text-blue-400 border border-blue-700/50",
                                        children: "Conta Real",
                                      }),
                                      a.jsxs("span", {
                                        className: "text-sm text-gray-400",
                                        children: ["Transação #", r.id],
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "text-right",
                            children: [
                              a.jsx("p", {
                                className: "text-sm text-gray-400",
                                children:
                                  s === "deposit"
                                    ? "Valor do Depósito"
                                    : "Valor do Saque",
                              }),
                              a.jsx("p", {
                                className: `text-2xl font-bold ${
                                  s === "deposit"
                                    ? "text-green-400"
                                    : "text-red-400"
                                }`,
                                children: m(r.amount),
                              }),
                            ],
                          }),
                        ],
                      }),
                    }),
                    a.jsxs("div", {
                      className:
                        "bg-gray-950/80 border border-gray-800 rounded-lg p-6 backdrop-blur-sm mb-6",
                      children: [
                        a.jsxs("div", {
                          className: "flex items-center mb-4",
                          children: [
                            a.jsx("svg", {
                              xmlns: "http://www.w3.org/2000/svg",
                              className: "h-5 w-5 text-purple-400 mr-2",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              stroke: "currentColor",
                              strokeWidth: 2,
                              children: a.jsx("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",
                              }),
                            }),
                            a.jsx("h3", {
                              className: "text-lg font-semibold text-white",
                              children: "Informações da Transação",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                          children: [
                            a.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "ID:",
                                    }),
                                    a.jsxs("span", {
                                      className: "text-white",
                                      children: ["#", r.id],
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Valor:",
                                    }),
                                    a.jsx("span", {
                                      className: `font-semibold ${
                                        s === "deposit"
                                          ? "text-green-400"
                                          : "text-red-400"
                                      }`,
                                      children: m(r.amount),
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Referência:",
                                    }),
                                    a.jsx("span", {
                                      className: "text-white",
                                      children: r.reference || "-",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Data:",
                                    }),
                                    a.jsx("span", {
                                      className: "text-white",
                                      children: new Date(
                                        r.created_at
                                      ).toLocaleString("pt-BR"),
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Status Atual:",
                                    }),
                                    a.jsx("span", {
                                      className: `font-medium ${h(r.status)}`,
                                      children:
                                        r.status === "pending"
                                          ? "Pendente"
                                          : r.status === "approved"
                                          ? "Aprovado"
                                          : "Negado",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Tipo:",
                                    }),
                                    a.jsx("span", {
                                      className: "text-white",
                                      children:
                                        s === "deposit" ? "Depósito" : "Saque",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    r.admin_notes &&
                      a.jsxs("div", {
                        className:
                          "bg-gray-950/80 border border-gray-800 rounded-lg p-6 backdrop-blur-sm mb-6",
                        children: [
                          a.jsx("h4", {
                            className: "text-sm font-medium text-gray-400 mb-3",
                            children: "Observações Administrativas Existentes",
                          }),
                          a.jsx("div", {
                            className:
                              "bg-gray-900/60 border border-gray-700 rounded-md p-3",
                            children: a.jsx("p", {
                              className: "text-white text-sm",
                              children: r.admin_notes,
                            }),
                          }),
                        ],
                      }),
                    a.jsxs("div", {
                      style: { display: "none" },
                      className:
                        "bg-gray-950/80 border border-gray-800 rounded-lg p-6 backdrop-blur-sm",
                      children: [
                        a.jsxs("div", {
                          className: "flex items-center mb-4",
                          children: [
                            a.jsx("svg", {
                              xmlns: "http://www.w3.org/2000/svg",
                              className: "h-5 w-5 text-purple-400 mr-2",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              stroke: "currentColor",
                              strokeWidth: 2,
                              children: a.jsx("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                d: "M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z",
                              }),
                            }),
                            a.jsx("h3", {
                              className: "text-lg font-semibold text-white",
                              children: "Atualizar Status",
                            }),
                          ],
                        }),
                        a.jsxs("form", {
                          onSubmit: f,
                          className: "space-y-6",
                          children: [
                            a.jsxs("div", {
                              children: [
                                a.jsx("label", {
                                  htmlFor: "status",
                                  className:
                                    "block text-sm font-medium text-gray-400 mb-2",
                                  children: "Alterar Status",
                                }),
                                a.jsxs("select", {
                                  id: "status",
                                  value: n.status,
                                  onChange: (g) => i("status", g.target.value),
                                  className:
                                    "w-full bg-gray-900/80 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500",
                                  style: {
                                    color: "white",
                                    backgroundColor: "rgba(17, 24, 39, 0.8)",
                                    colorScheme: "dark",
                                  },
                                  children: [
                                    a.jsx("option", {
                                      value: "pending",
                                      style: {
                                        color: "white",
                                        backgroundColor: "rgb(17, 24, 39)",
                                      },
                                      children: "Pendente",
                                    }),
                                    a.jsx("option", {
                                      value: "approved",
                                      style: {
                                        color: "white",
                                        backgroundColor: "rgb(17, 24, 39)",
                                      },
                                      children: "Aprovado",
                                    }),
                                    a.jsx("option", {
                                      value: "denied",
                                      style: {
                                        color: "white",
                                        backgroundColor: "rgb(17, 24, 39)",
                                      },
                                      children: "Negado",
                                    }),
                                  ],
                                }),
                                d.status &&
                                  a.jsx("p", {
                                    className: "text-red-500 text-xs mt-1",
                                    children: d.status,
                                  }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx("label", {
                                  htmlFor: "admin_notes",
                                  className:
                                    "block text-sm font-medium text-gray-400 mb-2",
                                  children: "Observações Administrativas",
                                }),
                                a.jsx("textarea", {
                                  id: "admin_notes",
                                  value: n.admin_notes,
                                  onChange: (g) =>
                                    i("admin_notes", g.target.value),
                                  rows: 4,
                                  placeholder:
                                    "Adicione observações sobre esta transação...",
                                  className:
                                    "w-full bg-gray-900/80 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-purple-500 focus:border-purple-500",
                                }),
                                d.admin_notes &&
                                  a.jsx("p", {
                                    className: "text-red-500 text-xs mt-1",
                                    children: d.admin_notes,
                                  }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "flex justify-end space-x-4 pt-4",
                              children: [
                                a.jsx("button", {
                                  type: "button",
                                  onClick: t,
                                  className:
                                    "px-4 py-2 rounded-md bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50 transition-colors",
                                  children: "Cancelar",
                                }),
                                a.jsx("button", {
                                  type: "submit",
                                  disabled: c,
                                  className:
                                    "px-6 py-2 bg-purple-600 text-white hover:bg-purple-700 rounded-md font-semibold disabled:opacity-50 transition-colors flex items-center",
                                  children: c
                                    ? a.jsxs(a.Fragment, {
                                        children: [
                                          a.jsxs("svg", {
                                            className:
                                              "animate-spin -ml-1 mr-2 h-4 w-4 text-white",
                                            xmlns: "http://www.w3.org/2000/svg",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            children: [
                                              a.jsx("circle", {
                                                className: "opacity-25",
                                                cx: "12",
                                                cy: "12",
                                                r: "10",
                                                stroke: "currentColor",
                                                strokeWidth: "4",
                                              }),
                                              a.jsx("path", {
                                                className: "opacity-75",
                                                fill: "currentColor",
                                                d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",
                                              }),
                                            ],
                                          }),
                                          "Salvando...",
                                        ],
                                      })
                                    : "Salvar Alterações",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        });
  },
  nO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: Yg },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  iO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10",
      }),
    }),
  aO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-gray-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",
      }),
    }),
  oO = ({ direction: r }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `h-4 w-4 ml-1 transition-transform ${
        r === "desc" ? "rotate-180" : ""
      }`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M19 9l-7 7-7-7",
      }),
    }),
  lO = ({ status: r }) => {
    const e = {
        0: {
          bg: "bg-yellow-900/50",
          text: "text-yellow-400",
          border: "border-yellow-700/50",
          label: "Pendente",
        },
        1: {
          bg: "bg-green-900/50",
          text: "text-green-400",
          border: "border-green-700/50",
          label: "Aprovado",
        },
        2: {
          bg: "bg-red-900/50",
          text: "text-red-400",
          border: "border-red-700/50",
          label: "Negado",
        },
      },
      t = e[r] || e.pending;
    return a.jsx("span", {
      className: `inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${t.bg} ${t.text} border ${t.border}`,
      children: t.label,
    });
  },
  cO = ({ user: r }) =>
    a.jsx("div", {
      className:
        "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white ring-2 ring-gray-700",
      children: r.name.charAt(0),
    });
function uO({ deposits: r, filters: e, summary: t }) {
  const [s, n] = k.useState(null),
    [i, l] = k.useState(!1),
    [c, d] = k.useState(e?.search || ""),
    [f, m] = k.useState(e?.filter_type || "user"),
    [h, g] = k.useState(e?.status || ""),
    x = (j) =>
      new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(j || 0),
    v = (j) => {
      n(j), l(!0);
    },
    w = (j) => {
      j.preventDefault(),
        vr.get(
          route("tenant.admin.deposits.index"),
          { search: c, filter_type: f, status: h },
          { preserveState: !0, replace: !0 }
        );
    },
    _ = () => {
      d(""),
        m("user"),
        g(""),
        vr.get(
          route("tenant.admin.deposits.index"),
          {},
          { preserveState: !0, replace: !0 }
        );
    },
    S = (j) => {
      const E = e?.sort_by,
        A = e?.sort_direction;
      let M = "desc";
      E === j && A === "desc" && (M = "asc"),
        vr.get(
          route("tenant.admin.deposits.index"),
          {
            search: c,
            filter_type: f,
            status: h,
            sort_by: j,
            sort_direction: M,
          },
          { preserveState: !0, replace: !0 }
        );
    },
    T = ({ column: j, children: E }) =>
      a.jsx("th", {
        scope: "col",
        className:
          "px-6 py-4 cursor-pointer hover:bg-gray-700/50 transition-colors select-none",
        onClick: () => S(j),
        children: a.jsxs("div", {
          className: "flex items-center",
          children: [
            E,
            e?.sort_by === j && a.jsx(oO, { direction: e?.sort_direction }),
          ],
        }),
      });
  return a.jsxs(Ii, {
    title: "Gerenciar Depósitos",
    children: [
      a.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
        children: [
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-yellow-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Pendentes",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-yellow-400 mt-2",
                    children: x(t.total_pending),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.pending_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-green-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Aprovados",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-green-400 mt-2",
                    children: x(t.total_approved),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.approved_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-red-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Negados",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-red-400 mt-2",
                    children: x(t.total_denied),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.denied_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(iO, {}),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400 ml-2",
                        children: "Total Geral",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-blue-400 mt-2",
                    children: x(
                      t.total_approved + t.total_pending + t.total_denied
                    ),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.total_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
        ],
      }),
      a.jsx("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg p-6 mb-6",
        children: a.jsxs("form", {
          onSubmit: w,
          className: "flex flex-col md:flex-row gap-4",
          children: [
            a.jsx("div", {
              className: "flex-1",
              children: a.jsxs("div", {
                className: "relative",
                children: [
                  a.jsx("div", {
                    className:
                      "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",
                    children: a.jsx(aO, {}),
                  }),
                  a.jsx("input", {
                    type: "text",
                    value: c,
                    onChange: (j) => d(j.target.value),
                    placeholder: "Pesquisar depósitos...",
                    className:
                      "w-full bg-gray-900/50 border border-gray-700 rounded-md pl-10 pr-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500",
                  }),
                ],
              }),
            }),
            a.jsxs("div", {
              className: "flex gap-3",
              children: [
                a.jsxs("select", {
                  value: f,
                  onChange: (j) => m(j.target.value),
                  className:
                    "bg-gray-900/50 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-gray-500 focus:border-gray-500",
                  style: {
                    color: "white",
                    backgroundColor: "rgba(17, 24, 39, 0.5)",
                    colorScheme: "dark",
                  },
                  children: [
                    a.jsx("option", {
                      value: "user",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Usuário",
                    }),
                    a.jsx("option", {
                      value: "id",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "ID",
                    }),
                    a.jsx("option", {
                      value: "amount",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Valor",
                    }),
                    a.jsx("option", {
                      value: "reference",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Referência",
                    }),
                  ],
                }),
                a.jsxs("select", {
                  value: h,
                  onChange: (j) => g(j.target.value),
                  className:
                    "bg-gray-900/50 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-gray-500 focus:border-gray-500",
                  style: {
                    color: "white",
                    backgroundColor: "rgba(17, 24, 39, 0.5)",
                    colorScheme: "dark",
                  },
                  children: [
                    a.jsx("option", {
                      value: "",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Todos os Status",
                    }),
                    a.jsx("option", {
                      value: "pending",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Pendente",
                    }),
                    a.jsx("option", {
                      value: "approved",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Aprovado",
                    }),
                    a.jsx("option", {
                      value: "denied",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Negado",
                    }),
                  ],
                }),
                a.jsx("button", {
                  type: "submit",
                  className:
                    "px-4 py-2 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold transition-colors",
                  children: "Buscar",
                }),
                (c || f !== "user" || h || e?.sort_by) &&
                  a.jsx("button", {
                    type: "button",
                    onClick: _,
                    className:
                      "px-4 py-2 bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50 rounded-md transition-colors",
                    children: "Limpar",
                  }),
              ],
            }),
          ],
        }),
      }),
      a.jsxs("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg overflow-hidden",
        children: [
          a.jsx("div", {
            className: "overflow-x-auto",
            children: a.jsxs("table", {
              className: "w-full text-sm text-left text-gray-300",
              children: [
                a.jsx("thead", {
                  className: "text-xs text-gray-200 uppercase bg-gray-800/60",
                  children: a.jsxs("tr", {
                    children: [
                      a.jsx(T, { column: "id", children: "ID" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Usuário",
                      }),
                      a.jsx(T, { column: "amount", children: "Valor" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Referência",
                      }),
                      a.jsx(T, { column: "status", children: "Status" }),
                      a.jsx(T, { column: "created_at", children: "Data" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4 text-right",
                        children: "Ações",
                      }),
                    ],
                  }),
                }),
                a.jsx("tbody", {
                  children:
                    r.data.length === 0
                      ? a.jsx("tr", {
                          children: a.jsx("td", {
                            colSpan: "7",
                            className: "px-6 py-8 text-center text-gray-500",
                            children: "Nenhum depósito encontrado.",
                          }),
                        })
                      : r.data.map((j) =>
                          a.jsxs(
                            "tr",
                            {
                              className:
                                "border-b border-gray-700/50 hover:bg-gray-800/40 transition-colors",
                              children: [
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-gray-400",
                                  children: ["#", j.id],
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsxs("div", {
                                    className: "flex items-center",
                                    children: [
                                      a.jsx(cO, { user: j.user }),
                                      a.jsxs("div", {
                                        className: "ml-3",
                                        children: [
                                          a.jsx("div", {
                                            className: "text-white font-medium",
                                            children: j.user.name,
                                          }),
                                          a.jsx("div", {
                                            className: "text-gray-400 text-xs",
                                            children: j.user.email,
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                }),
                                a.jsx("td", {
                                  className:
                                    "px-6 py-4 text-green-400 font-semibold",
                                  children: x(j.amount),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: j.reference || "-",
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsx(lO, { status: j.status }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: new Date(
                                    j.created_at
                                  ).toLocaleString("pt-BR"),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-right",
                                  children: a.jsx("button", {
                                    onClick: () => v(j),
                                    className:
                                      "p-2 rounded-md text-blue-400 hover:text-blue-300 hover:bg-gray-800/60 transition-all",
                                    title: "Ver/Editar Depósito",
                                    children: a.jsxs("svg", {
                                      xmlns: "http://www.w3.org/2000/svg",
                                      className: "h-5 w-5",
                                      fill: "none",
                                      viewBox: "0 0 24 24",
                                      stroke: "currentColor",
                                      strokeWidth: 2,
                                      children: [
                                        a.jsx("path", {
                                          strokeLinecap: "round",
                                          strokeLinejoin: "round",
                                          d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z",
                                        }),
                                        a.jsx("path", {
                                          strokeLinecap: "round",
                                          strokeLinejoin: "round",
                                          d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",
                                        }),
                                      ],
                                    }),
                                  }),
                                }),
                              ],
                            },
                            j.id
                          )
                        ),
                }),
              ],
            }),
          }),
          r.links &&
            r.links.length > 3 &&
            a.jsx("div", {
              className: "px-6 py-4 border-t border-gray-700/50 bg-gray-800/30",
              children: a.jsxs("div", {
                className: "flex items-center justify-between",
                children: [
                  a.jsxs("div", {
                    className: "text-sm text-gray-400",
                    children: [
                      "Mostrando ",
                      r.from,
                      " a ",
                      r.to,
                      " de ",
                      r.total,
                      " resultados",
                    ],
                  }),
                  a.jsx("div", {
                    className: "flex space-x-1",
                    children: r.links.map((j, E) =>
                      a.jsx(
                        "button",
                        {
                          onClick: () => j.url && vr.get(j.url),
                          disabled: !j.url,
                          className: `px-3 py-1 text-sm rounded transition-colors ${
                            j.active
                              ? "bg-gray-700 text-white"
                              : j.url
                              ? "text-gray-400 hover:text-white hover:bg-gray-800/50"
                              : "text-gray-600 cursor-not-allowed"
                          }`,
                          dangerouslySetInnerHTML: { __html: j.label },
                        },
                        E
                      )
                    ),
                  }),
                ],
              }),
            }),
        ],
      }),
      a.jsx(Yg, {
        transaction: s,
        show: i,
        onClose: () => l(!1),
        type: "deposit",
      }),
    ],
  });
}
const dO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: uO },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  hO = () =>
    a.jsxs("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-yellow-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: [
        a.jsx("circle", {
          cx: "12",
          cy: "12",
          r: "10",
          stroke: "currentColor",
          strokeWidth: "2",
          fill: "none",
        }),
        a.jsx("path", {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M8 15h8M9 9h6M10 12h4",
        }),
      ],
    }),
  Lp = ({
    label: r,
    name: e,
    value: t,
    onChange: s,
    error: n,
    type: i = "text",
    placeholder: l,
  }) =>
    a.jsxs("div", {
      children: [
        a.jsx("label", {
          htmlFor: e,
          className: "block text-sm font-medium text-gray-400 mb-2",
          children: r,
        }),
        a.jsx("input", {
          id: e,
          name: e,
          type: i,
          value: t,
          onChange: s,
          placeholder: l,
          className:
            "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500",
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    });
function fO({ jackpot: r, rtp_settings: e, rtp_revshare: t }) {
  const {
      data: s,
      setData: n,
      put: i,
      processing: l,
      errors: c,
    } = sr({ jackpot: r, rtp_settings: e, rtp_revshare: t }),
    d = (m) => {
      m.preventDefault(),
        i(route("tenant.admin.jackpot.update"), {
          preserveState: !0,
          preserveScroll: !0,
        });
    },
    f = (m) => {
      n(m.target.name, m.target.value);
    };
  return a.jsx(Ii, {
    title: "Jackpot",
    children: a.jsxs("form", {
      onSubmit: d,
      className: "space-y-8 mx-auto",
      children: [
        a.jsxs("div", {
          className:
            "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
          children: [
            a.jsxs("div", {
              className: "flex items-center mb-4",
              children: [
                a.jsx(hO, {}),
                a.jsx("h3", {
                  className: "text-lg font-semibold text-white ml-2",
                  children: "Configurações do Jackpot",
                }),
              ],
            }),
            a.jsx("p", {
              className: "text-gray-400 text-sm mb-4",
              children:
                "Defina o valor do jackpot e as regras de RTP (configurações genéricas).",
            }),
            a.jsx(Lp, {
              label: "Jackpot Atual (R$)",
              name: "jackpot",
              type: "number",
              value: s.jackpot,
              onChange: f,
              error: c.jackpot,
              placeholder: "Ex: 1000",
            }),
            a.jsx("br", {}),
            a.jsx(Lp, {
              label:
                "Porcentagem máxima para pagamento em uma única partida do jackpot (%)",
              name: "rtp_settings",
              value: s.rtp_settings,
              onChange: f,
              error: c.rtp_settings,
              placeholder: "Ex: 0.3",
            }),
            a.jsx("br", {}),
            a.jsx(Lp, {
              label:
                "Porcentagem que acrescenta ao jackpot sobre a perda de algum jogador (%)",
              name: "rtp_revshare",
              value: s.rtp_revshare,
              onChange: f,
              error: c.rtp_revshare,
              placeholder: "Ex: 0.3",
            }),
          ],
        }),
        a.jsx("div", {
          className: "flex justify-end",
          children: a.jsx("button", {
            type: "submit",
            disabled: l,
            className:
              "px-6 py-3 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",
            children: l
              ? a.jsxs(a.Fragment, {
                  children: [
                    a.jsxs("svg", {
                      className: "animate-spin -ml-1 mr-3 h-5 w-5 text-white",
                      xmlns: "http://www.w3.org/2000/svg",
                      fill: "none",
                      viewBox: "0 0 24 24",
                      children: [
                        a.jsx("circle", {
                          className: "opacity-25",
                          cx: "12",
                          cy: "12",
                          r: "10",
                          stroke: "currentColor",
                          strokeWidth: "4",
                        }),
                        a.jsx("path", {
                          className: "opacity-75",
                          fill: "currentColor",
                          d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",
                        }),
                      ],
                    }),
                    "Salvando...",
                  ],
                })
              : "Salvar Configurações",
          }),
        }),
      ],
    }),
  });
}
const pO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: fO },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  mO = ({ show: r, onClose: e, children: t, title: s }) =>
    r
      ? a.jsx("div", {
          className: "fixed inset-0 z-50 overflow-y-auto",
          children: a.jsxs("div", {
            className:
              "flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",
            children: [
              a.jsx("div", {
                className: "fixed inset-0 transition-opacity",
                "aria-hidden": "true",
                children: a.jsx("div", {
                  className: "absolute inset-0 bg-black opacity-85",
                  onClick: e,
                }),
              }),
              a.jsx("div", {
                className:
                  "inline-block align-bottom bg-gray-950 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full border border-gray-800",
                children: a.jsxs("div", {
                  className: "bg-gray-900/20 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",
                  children: [
                    a.jsxs("div", {
                      className: "flex justify-between items-center mb-6",
                      children: [
                        a.jsx("h3", {
                          className: "text-lg font-medium text-white",
                          children: s,
                        }),
                        a.jsx("button", {
                          onClick: e,
                          className:
                            "text-gray-400 hover:text-gray-300 transition-colors",
                          children: a.jsx("svg", {
                            className: "w-6 h-6",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: a.jsx("path", {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              strokeWidth: 2,
                              d: "M6 18L18 6M6 6l12 12",
                            }),
                          }),
                        }),
                      ],
                    }),
                    t,
                  ],
                }),
              }),
            ],
          }),
        })
      : null,
  gO = ({ active: r, onClick: e, children: t, icon: s }) =>
    a.jsxs("button", {
      type: "button",
      onClick: e,
      className: `flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${
        r
          ? "bg-purple-600 text-white"
          : "text-gray-400 hover:bg-gray-800/50 hover:text-gray-300"
      }`,
      children: [s, t],
    }),
  mi = ({
    title: r,
    value: e,
    subtitle: t,
    color: s = "text-white",
    icon: n,
  }) =>
    a.jsx("div", {
      className: "bg-gray-900/80 border border-gray-800 rounded-lg p-4",
      children: a.jsxs("div", {
        className: "flex items-center justify-between",
        children: [
          a.jsxs("div", {
            children: [
              a.jsx("h4", {
                className: "text-sm font-medium text-gray-400",
                children: r,
              }),
              a.jsx("p", {
                className: `text-2xl font-bold mt-1 ${s}`,
                children: e,
              }),
              t &&
                a.jsx("p", {
                  className: "text-xs text-gray-500 mt-1",
                  children: t,
                }),
            ],
          }),
          n && a.jsx("div", { className: "text-gray-500", children: n }),
        ],
      }),
    }),
  xO = ({ transaction: r }) =>
    a.jsxs("div", {
      className:
        "flex items-center justify-between py-2 border-b border-gray-700/30 last:border-b-0",
      children: [
        a.jsxs("div", {
          className: "flex items-center space-x-3",
          children: [
            a.jsx("div", {
              className: `w-2 h-2 rounded-full ${
                r.type === "deposit" ? "bg-green-400" : "bg-red-400"
              }`,
            }),
            a.jsxs("div", {
              children: [
                a.jsx("p", {
                  className: "text-sm font-medium text-white",
                  children: r.type === "deposit" ? "Depósito" : "Saque",
                }),
                a.jsx("p", {
                  className: "text-xs text-gray-500",
                  children: new Date(r.created_at).toLocaleDateString("pt-BR"),
                }),
              ],
            }),
          ],
        }),
        a.jsxs("div", {
          className: "text-right",
          children: [
            a.jsxs("p", {
              className: `text-sm font-semibold ${
                r.type === "deposit" ? "text-green-400" : "text-red-400"
              }`,
              children: [r.type === "deposit" ? "+" : "-", "R$ ", r.amount],
            }),
            a.jsx("p", {
              className: `text-xs ${
                r.status === 1
                  ? "text-green-400"
                  : r.status === 2
                  ? "text-red-400"
                  : "text-yellow-400"
              }`,
              children:
                r.status === 1
                  ? "Aprovado"
                  : r.status === 2
                  ? "Negado"
                  : "Pendente",
            }),
          ],
        }),
      ],
    }),
  yO = ({ referral: r }) =>
    a.jsxs("div", {
      className:
        "flex items-center justify-between py-2 border-b border-gray-700/30 last:border-b-0",
      children: [
        a.jsxs("div", {
          className: "flex items-center space-x-3",
          children: [
            a.jsx("div", {
              className:
                "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white",
              children: r.name.charAt(0),
            }),
            a.jsxs("div", {
              children: [
                a.jsx("p", {
                  className: "text-sm font-medium text-white",
                  children: r.name,
                }),
                a.jsx("p", {
                  className: "text-xs text-gray-500",
                  children: r.email,
                }),
              ],
            }),
          ],
        }),
        a.jsxs("div", {
          className: "text-right",
          children: [
            a.jsx("p", {
              className: `text-xs px-2 py-1 rounded-full ${
                r.account_type === "Demo"
                  ? "bg-yellow-900/50 text-yellow-400"
                  : "bg-green-900/50 text-green-400"
              }`,
              children: r.account_type,
            }),
            a.jsxs("p", {
              className: "text-xs text-gray-500 mt-1",
              children: [r.referrals_count, " indicações"],
            }),
          ],
        }),
      ],
    }),
  Dp = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",
      }),
    }),
  vO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",
      }),
    }),
  Up = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  zp = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M16 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  Gp = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",
      }),
    }),
  Qb = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  _O = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 mr-2",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",
      }),
    }),
  bs = ({ title: r, children: e, icon: t }) =>
    a.jsxs("div", {
      className:
        "bg-gray-950/80 border border-gray-800 rounded-lg p-6 backdrop-blur-sm",
      children: [
        a.jsxs("div", {
          className: "flex items-center mb-4",
          children: [
            t,
            a.jsx("h3", {
              className: "text-lg font-semibold text-white ml-2",
              children: r,
            }),
          ],
        }),
        e,
      ],
    }),
  ws = ({
    label: r,
    name: e,
    value: t,
    onChange: s,
    error: n,
    type: i = "text",
    placeholder: l,
    disabled: c = !1,
  }) =>
    a.jsxs("div", {
      children: [
        a.jsx("label", {
          htmlFor: e,
          className: "block text-sm font-medium text-gray-400 mb-2",
          children: r,
        }),
        a.jsx("input", {
          id: e,
          name: e,
          type: i,
          value: t,
          onChange: s,
          placeholder: l,
          disabled: c,
          className: `w-full bg-gray-900/80 border border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-purple-500 focus:border-purple-500 ${
            c ? "opacity-50 cursor-not-allowed" : ""
          }`,
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    }),
  bO = ({
    label: r,
    name: e,
    checked: t,
    onChange: s,
    error: n,
    description: i,
  }) =>
    a.jsxs("div", {
      children: [
        a.jsxs("div", {
          className: "flex items-center justify-between",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  htmlFor: e,
                  className: "block text-sm font-medium text-gray-400 mb-1",
                  children: r,
                }),
                i &&
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mb-2",
                    children: i,
                  }),
              ],
            }),
            a.jsx("button", {
              type: "button",
              onClick: () => s({ target: { name: e, value: !t } }),
              className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${
                t ? "bg-green-600" : "bg-gray-600"
              }`,
              children: a.jsx("span", {
                className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${
                  t ? "translate-x-6" : "translate-x-1"
                }`,
              }),
            }),
          ],
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    });
function $T({ user: r, show: e, onClose: t }) {
  const [s, n] = k.useState("edit"),
    [i, l] = k.useState(null),
    [c, d] = k.useState(!1),
    {
      data: f,
      setData: m,
      put: h,
      processing: g,
      errors: x,
      reset: v,
    } = sr({
      name: "",
      email: "",
      balance: "",
      rollover: "",
      cpa_lv1: "",
      cpa_lv2: "",
      cpa_lv3: "",
      revshare_lv1: "",
      revshare_lv2: "",
      revshare_lv3: "",
      demo_account: !1,
      pix_document: "",
    });
  k.useEffect(() => {
    r &&
      (m({
        name: r.name,
        email: r.email,
        balance: (r.balance || 0).toString().replace(".", ","),
        rollover: (r.rollover || 0).toString().replace(".", ","),
        cpa_lv1: (r.cpa_lv1 || "").toString(),
        cpa_lv2: (r.cpa_lv2 || "").toString(),
        cpa_lv3: (r.cpa_lv3 || "").toString(),
        revshare_lv1: (r.revshare_lv1 || "").toString(),
        revshare_lv2: (r.revshare_lv2 || "").toString(),
        revshare_lv3: (r.revshare_lv3 || "").toString(),
        demo_account: r.demo_account === 1,
        pix_document: r.pix_document || "",
      }),
      n("edit"),
      l(null));
  }, [r]),
    k.useEffect(() => {
      e && r && s !== "edit" && !i && w();
    }, [e, r, s]);
  const w = async () => {
      d(!0);
      try {
        const A = await (
          await fetch(route("tenant.admin.users.details", r.id))
        ).json();
        l(A);
      } catch (E) {
        console.error("Error fetching user details:", E);
      } finally {
        d(!1);
      }
    },
    _ = (E) =>
      new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(E || 0),
    S = (E) => `${(Number(E) || 0).toFixed(1)}%`,
    T = (E) => {
      if ((E.preventDefault(), !r)) return;
      const A = { ...f };
      A.balance && (A.balance = A.balance.replace(",", ".")),
        A.rollover && (A.rollover = A.rollover.replace(",", ".")),
        h(route("tenant.admin.users.update", r.id), {
          data: A,
          onSuccess: () => {
            t(), v();
          },
          preserveState: !0,
          preserveScroll: !0,
        });
    };
  if (!e || !r) return null;
  const j = [
    { id: "edit", label: "Editar", icon: a.jsx(Dp, {}) },
    { id: "overview", label: "Visão Geral", icon: a.jsx(vO, {}) },
    { id: "transactions", label: "Transações", icon: a.jsx(Up, {}) },
    { id: "games", label: "Jogos", icon: a.jsx(zp, {}) },
    { id: "referrals", label: "Indicações", icon: a.jsx(Gp, {}) },
  ];
  return a.jsxs(mO, {
    show: e,
    onClose: t,
    title: `Usuário: ${r.name} (#${r.id})`,
    children: [
      a.jsx(bs, {
        title: "Informações do Usuário",
        icon: a.jsx(Dp, {}),
        children: a.jsxs("div", {
          className: "flex items-center space-x-4",
          children: [
            a.jsx("div", {
              className:
                "w-16 h-16 rounded-full bg-purple-600 flex items-center justify-center text-xl font-bold text-white",
              children: r.name.charAt(0),
            }),
            a.jsxs("div", {
              className: "flex-1",
              children: [
                a.jsx("h2", {
                  className: "text-xl font-bold text-white",
                  children: r.name,
                }),
                a.jsx("p", { className: "text-gray-400", children: r.email }),
                a.jsxs("div", {
                  className: "flex items-center space-x-4 mt-2",
                  children: [
                    a.jsx("span", {
                      className: `px-2 py-1 text-xs rounded-full ${
                        r.demo_account
                          ? "bg-yellow-900/50 text-yellow-400"
                          : "bg-green-900/50 text-green-400"
                      }`,
                      children: r.demo_account ? "Conta Demo" : "Conta Real",
                    }),
                    a.jsxs("span", {
                      className: "text-sm text-gray-400",
                      children: [
                        "Membro desde: ",
                        new Date(r.created_at).toLocaleDateString("pt-BR"),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs("div", {
              className: "text-right",
              children: [
                a.jsx("p", {
                  className: "text-sm text-gray-400",
                  children: "Saldo Atual",
                }),
                a.jsx("p", {
                  className: "text-2xl font-bold text-green-400",
                  children: _(r.balance),
                }),
              ],
            }),
          ],
        }),
      }),
      a.jsx("div", {
        className: "mt-6",
        children: a.jsx("nav", {
          className:
            "flex space-x-2 mb-6 bg-gray-900/60 p-2 rounded-lg border border-gray-800",
          children: j.map((E) =>
            a.jsx(
              gO,
              {
                active: s === E.id,
                onClick: () => n(E.id),
                icon: E.icon,
                children: E.label,
              },
              E.id
            )
          ),
        }),
      }),
      a.jsxs("div", {
        className: "max-h-96 overflow-y-auto space-y-6",
        children: [
          s === "edit" &&
            a.jsx(bs, {
              title: "Editar Dados",
              icon: a.jsx(Dp, {}),
              children: a.jsxs("form", {
                onSubmit: T,
                children: [
                  a.jsxs("div", {
                    className: "space-y-6",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("h4", {
                            className: "text-lg font-medium text-white mb-4",
                            children: "Informações Básicas",
                          }),
                          a.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                            children: [
                              a.jsx(ws, {
                                label: "Nome",
                                name: "name",
                                value: f.name,
                                onChange: (E) => m("name", E.target.value),
                                error: x.name,
                              }),
                              a.jsx(ws, {
                                label: "Email",
                                name: "email",
                                type: "email",
                                value: f.email,
                                onChange: (E) => m("email", E.target.value),
                                error: x.email,
                              }),
                              a.jsx(ws, {
                                label: "Saldo (R$)",
                                name: "balance",
                                value: f.balance,
                                onChange: (E) => m("balance", E.target.value),
                                error: x.balance,
                                placeholder: "0,00",
                              }),
                              a.jsx(ws, {
                                label: "Rollover (R$)",
                                name: "rollover",
                                value: f.rollover,
                                onChange: (E) => m("rollover", E.target.value),
                                error: x.rollover,
                                placeholder: "0,00",
                              }),
                              a.jsx(ws, {
                                label: "Chave PIX",
                                name: "pix_document",
                                value: f.pix_document,
                                onChange: (E) =>
                                  m("pix_document", E.target.value),
                                error: x.pix_document,
                                placeholder: "CPF, Email, Telefone, etc.",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "border-t border-gray-700/50 pt-6",
                        children: [
                          a.jsx("h4", {
                            className: "text-lg font-medium text-white mb-4",
                            children: "Tipo de Conta",
                          }),
                          a.jsx(bO, {
                            label: "Conta Demo",
                            name: "demo_account",
                            checked: f.demo_account,
                            onChange: (E) => m("demo_account", E.target.value),
                            error: x.demo_account,
                            description:
                              "Ativar para definir como conta de demonstração",
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "border-t border-gray-700/50 pt-6",
                        children: [
                          a.jsx("h4", {
                            className: "text-lg font-medium text-white mb-4",
                            children: "CPA Personalizado",
                          }),
                          a.jsx("p", {
                            className: "text-sm text-gray-400 mb-4",
                            children:
                              "Configure comissões específicas para este usuário. Deixe em zero para usar valores padrão do sistema.",
                          }),
                          a.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                            children: [
                              a.jsx(ws, {
                                label: "CPA Nível 1 (R$)",
                                name: "cpa_lv1",
                                type: "number",
                                value: f.cpa_lv1,
                                onChange: (E) => m("cpa_lv1", E.target.value),
                                error: x.cpa_lv1,
                                placeholder: "Padrão do sistema",
                              }),
                              a.jsx(ws, {
                                label: "CPA Nível 2 (R$)",
                                name: "cpa_lv2",
                                type: "number",
                                value: f.cpa_lv2,
                                onChange: (E) => m("cpa_lv2", E.target.value),
                                error: x.cpa_lv2,
                                placeholder: "Padrão do sistema",
                              }),
                              a.jsx(ws, {
                                label: "CPA Nível 3 (R$)",
                                name: "cpa_lv3",
                                type: "number",
                                value: f.cpa_lv3,
                                onChange: (E) => m("cpa_lv3", E.target.value),
                                error: x.cpa_lv3,
                                placeholder: "Padrão do sistema",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "border-t border-gray-700/50 pt-6",
                        children: [
                          a.jsx("h4", {
                            className: "text-lg font-medium text-white mb-4",
                            children: "RevShare Personalizado",
                          }),
                          a.jsx("p", {
                            className: "text-sm text-gray-400 mb-4",
                            children:
                              "Configure participação nas receitas específica para este usuário. Deixe em branco para usar valores padrão do sistema.",
                          }),
                          a.jsxs("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                            children: [
                              a.jsx(ws, {
                                label: "RevShare Nível 1 (%)",
                                name: "revshare_lv1",
                                type: "number",
                                value: f.revshare_lv1,
                                onChange: (E) =>
                                  m("revshare_lv1", E.target.value),
                                error: x.revshare_lv1,
                                placeholder: "Padrão do sistema",
                              }),
                              a.jsx(ws, {
                                label: "RevShare Nível 2 (%)",
                                name: "revshare_lv2",
                                type: "number",
                                value: f.revshare_lv2,
                                onChange: (E) =>
                                  m("revshare_lv2", E.target.value),
                                error: x.revshare_lv2,
                                placeholder: "Padrão do sistema",
                              }),
                              a.jsx(ws, {
                                label: "RevShare Nível 3 (%)",
                                name: "revshare_lv3",
                                type: "number",
                                value: f.revshare_lv3,
                                onChange: (E) =>
                                  m("revshare_lv3", E.target.value),
                                error: x.revshare_lv3,
                                placeholder: "Padrão do sistema",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "mt-8 flex justify-end space-x-4",
                    children: [
                      a.jsx("button", {
                        type: "button",
                        onClick: t,
                        className:
                          "px-4 py-2 rounded-md bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50 transition-colors",
                        children: "Cancelar",
                      }),
                      a.jsx("button", {
                        type: "submit",
                        disabled: g,
                        className:
                          "px-6 py-2 bg-purple-600 text-white hover:bg-purple-700 rounded-md font-semibold disabled:opacity-50 transition-colors",
                        children: g ? "Salvando..." : "Salvar Alterações",
                      }),
                    ],
                  }),
                ],
              }),
            }),
          s === "overview" &&
            (c
              ? a.jsx("div", {
                  className: "flex items-center justify-center py-12",
                  children: a.jsx("div", {
                    className:
                      "animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500",
                  }),
                })
              : i &&
                a.jsxs("div", {
                  className: "space-y-6",
                  children: [
                    a.jsx(bs, {
                      title: "Estatísticas Financeiras",
                      icon: a.jsx(Up, {}),
                      children: a.jsxs("div", {
                        className: "grid grid-cols-2 lg:grid-cols-4 gap-4",
                        children: [
                          a.jsx(mi, {
                            title: "Total Depositado",
                            value: _(i.total_deposits),
                            subtitle: `Este mês: ${_(i.monthly_deposits)}`,
                            color: "text-green-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                fillRule: "evenodd",
                                d: "M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",
                                clipRule: "evenodd",
                              }),
                            }),
                          }),
                          a.jsx(mi, {
                            title: "Total Sacado",
                            value: _(i.total_withdrawals),
                            subtitle: `Diferença: ${_(
                              i.total_deposits - i.total_withdrawals
                            )}`,
                            color: "text-red-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                fillRule: "evenodd",
                                d: "M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",
                                clipRule: "evenodd",
                              }),
                            }),
                          }),
                          a.jsx(mi, {
                            title: "Total Apostado",
                            value: _(i.total_bets),
                            subtitle: `Média por jogo: ${
                              i.total_games > 0
                                ? _(i.total_bets / i.total_games)
                                : "R$ 0,00"
                            }`,
                            color: "text-blue-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",
                              }),
                            }),
                          }),
                          a.jsx(mi, {
                            title: "Total Ganho",
                            value: _(i.total_wins),
                            subtitle: `RTP: ${
                              i.total_bets > 0
                                ? ((i.total_wins / i.total_bets) * 100).toFixed(
                                    1
                                  )
                                : 0
                            }%`,
                            color: "text-purple-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                fillRule: "evenodd",
                                d: "M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",
                                clipRule: "evenodd",
                              }),
                            }),
                          }),
                        ],
                      }),
                    }),
                    a.jsx(bs, {
                      title: "Configuração de Comissões",
                      icon: a.jsx(Qb, {}),
                      children: a.jsxs("div", {
                        className: "grid grid-cols-1 lg:grid-cols-2 gap-6",
                        children: [
                          a.jsxs("div", {
                            className: "bg-gray-900/60 rounded-lg p-4",
                            children: [
                              a.jsxs("h4", {
                                className:
                                  "text-sm font-semibold text-gray-300 mb-3 flex items-center",
                                children: [
                                  a.jsx("svg", {
                                    className: "h-4 w-4 mr-2 text-green-400",
                                    fill: "currentColor",
                                    viewBox: "0 0 20 20",
                                    children: a.jsx("path", {
                                      fillRule: "evenodd",
                                      d: "M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",
                                      clipRule: "evenodd",
                                    }),
                                  }),
                                  "CPA (Cost Per Acquisition)",
                                ],
                              }),
                              a.jsxs("div", {
                                className: "space-y-2",
                                children: [
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 1",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: _(
                                              i.commission_config.cpa_lv1
                                            ),
                                          }),
                                          a.jsxs("div", {
                                            className: "text-xs text-gray-500",
                                            children: [
                                              i.referrals_level_1,
                                              " indicados",
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 2",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: _(
                                              i.commission_config.cpa_lv2
                                            ),
                                          }),
                                          a.jsxs("div", {
                                            className: "text-xs text-gray-500",
                                            children: [
                                              i.referrals_level_2,
                                              " indicados",
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 3",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: _(
                                              i.commission_config.cpa_lv3
                                            ),
                                          }),
                                          a.jsxs("div", {
                                            className: "text-xs text-gray-500",
                                            children: [
                                              i.referrals_level_3,
                                              " indicados",
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className:
                                      "border-t border-gray-700/50 pt-2 mt-3",
                                    children: a.jsxs("div", {
                                      className:
                                        "flex justify-between items-center",
                                      children: [
                                        a.jsx("span", {
                                          className:
                                            "text-green-300 font-medium",
                                          children: "Total CPA Ganho",
                                        }),
                                        a.jsx("span", {
                                          className: "text-green-400 font-bold",
                                          children: _(i.total_cpa_earnings),
                                        }),
                                      ],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "bg-gray-900/60 rounded-lg p-4",
                            children: [
                              a.jsxs("h4", {
                                className:
                                  "text-sm font-semibold text-gray-300 mb-3 flex items-center",
                                children: [
                                  a.jsx("svg", {
                                    className: "h-4 w-4 mr-2 text-blue-400",
                                    fill: "currentColor",
                                    viewBox: "0 0 20 20",
                                    children: a.jsx("path", {
                                      d: "M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z",
                                    }),
                                  }),
                                  "RevShare (Revenue Sharing)",
                                ],
                              }),
                              a.jsxs("div", {
                                className: "space-y-2",
                                children: [
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 1",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: S(
                                              i.commission_config.revshare_lv1
                                            ),
                                          }),
                                          a.jsx("div", {
                                            className: "text-xs text-gray-500",
                                            children: "da receita",
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 2",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: S(
                                              i.commission_config.revshare_lv2
                                            ),
                                          }),
                                          a.jsx("div", {
                                            className: "text-xs text-gray-500",
                                            children: "da receita",
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex justify-between items-center",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400 text-sm",
                                        children: "Nível 3",
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("span", {
                                            className:
                                              "text-white font-semibold",
                                            children: S(
                                              i.commission_config.revshare_lv3
                                            ),
                                          }),
                                          a.jsx("div", {
                                            className: "text-xs text-gray-500",
                                            children: "da receita",
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className:
                                      "border-t border-gray-700/50 pt-2 mt-3",
                                    children: a.jsxs("div", {
                                      className:
                                        "flex justify-between items-center",
                                      children: [
                                        a.jsx("span", {
                                          className:
                                            "text-blue-300 font-medium",
                                          children: "Total RevShare Ganho",
                                        }),
                                        a.jsx("span", {
                                          className: "text-blue-400 font-bold",
                                          children: _(
                                            i.total_revshare_earnings
                                          ),
                                        }),
                                      ],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                    }),
                    a.jsxs("div", {
                      className: "grid grid-cols-1 lg:grid-cols-3 gap-6",
                      children: [
                        a.jsx(bs, {
                          title: "Estatísticas de Jogo",
                          icon: a.jsx(zp, {}),
                          children: a.jsxs("div", {
                            className: "space-y-3",
                            children: [
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Total de Jogos",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.total_games,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Este Mês",
                                  }),
                                  a.jsx("span", {
                                    className: "text-blue-400 font-semibold",
                                    children: i.monthly_games,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Taxa de Vitória",
                                  }),
                                  a.jsx("span", {
                                    className: "text-green-400 font-semibold",
                                    children: S(i.win_rate),
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Lucro/Prejuízo",
                                  }),
                                  a.jsx("span", {
                                    className: `font-semibold ${
                                      i.net_result >= 0
                                        ? "text-green-400"
                                        : "text-red-400"
                                    }`,
                                    children: _(i.net_result),
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Último Jogo",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.last_game
                                      ? new Date(
                                          i.last_game
                                        ).toLocaleDateString("pt-BR")
                                      : "Nunca",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        }),
                        a.jsx(bs, {
                          title: "Rede de Indicações",
                          icon: a.jsx(Gp, {}),
                          children: a.jsxs("div", {
                            className: "space-y-3",
                            children: [
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Nível 1",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.referrals_level_1,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Nível 2",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.referrals_level_2,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Nível 3",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.referrals_level_3,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Este Mês",
                                  }),
                                  a.jsx("span", {
                                    className: "text-green-400 font-semibold",
                                    children: i.monthly_referrals,
                                  }),
                                ],
                              }),
                              a.jsx("div", {
                                className: "border-t border-gray-700/50 pt-2",
                                children: a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-300 font-medium",
                                      children: "Total de Indicações",
                                    }),
                                    a.jsx("span", {
                                      className: "text-purple-400 font-bold",
                                      children: i.total_referrals,
                                    }),
                                  ],
                                }),
                              }),
                              r.referrer &&
                                a.jsx("div", {
                                  className: "border-t border-gray-700/50 pt-2",
                                  children: a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        className: "text-gray-400",
                                        children: "Indicado por",
                                      }),
                                      a.jsx("span", {
                                        className:
                                          "text-blue-400 font-semibold",
                                        children: r.referrer.name,
                                      }),
                                    ],
                                  }),
                                }),
                            ],
                          }),
                        }),
                        a.jsx(bs, {
                          title: "Atividade & Recorrência",
                          icon: a.jsx(_O, {}),
                          children: a.jsxs("div", {
                            className: "space-y-3",
                            children: [
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Dias Ativo",
                                  }),
                                  a.jsx("span", {
                                    className: "text-white font-semibold",
                                    children: i.days_active,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Dias Cadastrado",
                                  }),
                                  a.jsx("span", {
                                    className: "text-gray-300 font-semibold",
                                    children: i.days_since_registration,
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Taxa de Atividade",
                                  }),
                                  a.jsx("span", {
                                    className: `font-semibold ${
                                      i.activity_rate >= 50
                                        ? "text-green-400"
                                        : i.activity_rate >= 25
                                        ? "text-yellow-400"
                                        : "text-red-400"
                                    }`,
                                    children: S(i.activity_rate),
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-gray-400",
                                    children: "Tipo de Conta",
                                  }),
                                  a.jsx("span", {
                                    className: `font-semibold px-2 py-1 rounded-full text-xs ${
                                      r.demo_account
                                        ? "bg-yellow-900/50 text-yellow-400"
                                        : "bg-green-900/50 text-green-400"
                                    }`,
                                    children: r.demo_account ? "Demo" : "Real",
                                  }),
                                ],
                              }),
                              a.jsx("div", {
                                className: "border-t border-gray-700/50 pt-2",
                                children: a.jsxs("div", {
                                  className: "flex justify-between",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-gray-400",
                                      children: "Status",
                                    }),
                                    a.jsx("span", {
                                      className: "text-green-400 font-semibold",
                                      children: "Ativo",
                                    }),
                                  ],
                                }),
                              }),
                            ],
                          }),
                        }),
                      ],
                    }),
                    a.jsx(bs, {
                      title: "Resumo de Ganhos com Comissões",
                      icon: a.jsx(Qb, {}),
                      children: a.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                        children: [
                          a.jsx(mi, {
                            title: "Total CPA",
                            value: _(i.total_cpa_earnings),
                            subtitle: `De ${i.total_referrals} indicações`,
                            color: "text-green-400",
                            icon: a.jsxs("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: [
                                a.jsx("path", {
                                  d: "M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z",
                                }),
                                a.jsx("path", {
                                  fillRule: "evenodd",
                                  d: "M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",
                                  clipRule: "evenodd",
                                }),
                              ],
                            }),
                          }),
                          a.jsx(mi, {
                            title: "Total RevShare",
                            value: _(i.total_revshare_earnings),
                            subtitle: "Participação na receita",
                            color: "text-blue-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                d: "M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z",
                              }),
                            }),
                          }),
                          a.jsx(mi, {
                            title: "Total Comissões",
                            value: _(
                              i.total_cpa_earnings + i.total_revshare_earnings
                            ),
                            subtitle: "CPA + RevShare",
                            color: "text-purple-400",
                            icon: a.jsx("svg", {
                              className: "h-5 w-5",
                              fill: "currentColor",
                              viewBox: "0 0 20 20",
                              children: a.jsx("path", {
                                fillRule: "evenodd",
                                d: "M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",
                                clipRule: "evenodd",
                              }),
                            }),
                          }),
                        ],
                      }),
                    }),
                  ],
                })),
          s === "transactions" &&
            (c
              ? a.jsx("div", {
                  className: "flex items-center justify-center py-12",
                  children: a.jsx("div", {
                    className:
                      "animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500",
                  }),
                })
              : i &&
                a.jsxs(bs, {
                  title: "Transações Recentes",
                  icon: a.jsx(Up, {}),
                  children: [
                    a.jsx("div", {
                      className: "flex justify-between items-center mb-4",
                      children: a.jsxs("div", {
                        className: "flex space-x-4 text-sm",
                        children: [
                          a.jsxs("span", {
                            className: "text-green-400",
                            children: ["Depósitos: ", _(i.total_deposits)],
                          }),
                          a.jsxs("span", {
                            className: "text-red-400",
                            children: ["Saques: ", _(i.total_withdrawals)],
                          }),
                        ],
                      }),
                    }),
                    a.jsx("div", {
                      className: "bg-gray-900/60 rounded-lg p-4",
                      children:
                        i.recent_transactions.length === 0
                          ? a.jsx("p", {
                              className: "text-center text-gray-500 py-8",
                              children: "Nenhuma transação encontrada",
                            })
                          : a.jsx("div", {
                              className: "space-y-1",
                              children: i.recent_transactions.map((E) =>
                                a.jsx(xO, { transaction: E }, E.id)
                              ),
                            }),
                    }),
                  ],
                })),
          s === "games" &&
            (c
              ? a.jsx("div", {
                  className: "flex items-center justify-center py-12",
                  children: a.jsx("div", {
                    className:
                      "animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500",
                  }),
                })
              : i &&
                a.jsxs(bs, {
                  title: "Histórico de Jogos",
                  icon: a.jsx(zp, {}),
                  children: [
                    a.jsx("div", {
                      className: "flex justify-between items-center mb-4",
                      children: a.jsxs("div", {
                        className: "flex space-x-4 text-sm",
                        children: [
                          a.jsxs("span", {
                            className: "text-blue-400",
                            children: ["Total: ", i.total_games, " jogos"],
                          }),
                          a.jsxs("span", {
                            className: "text-green-400",
                            children: ["Vitórias: ", S(i.win_rate)],
                          }),
                        ],
                      }),
                    }),
                    a.jsx("div", {
                      className: "bg-gray-900/60 rounded-lg p-4",
                      children:
                        i.recent_games.length === 0
                          ? a.jsx("p", {
                              className: "text-center text-gray-500 py-8",
                              children: "Nenhum jogo encontrado",
                            })
                          : a.jsx("div", {
                              className: "space-y-1",
                              children: i.recent_games.map((E, A) =>
                                a.jsxs(
                                  "div",
                                  {
                                    className:
                                      "flex items-center justify-between py-2 border-b border-gray-700/30 last:border-b-0",
                                    children: [
                                      a.jsxs("div", {
                                        className:
                                          "flex items-center space-x-3",
                                        children: [
                                          a.jsx("div", {
                                            className: `w-2 h-2 rounded-full ${
                                              E.win > E.amount
                                                ? "bg-green-400"
                                                : "bg-red-400"
                                            }`,
                                          }),
                                          a.jsxs("div", {
                                            children: [
                                              a.jsxs("p", {
                                                className:
                                                  "text-sm font-medium text-white",
                                                children: [
                                                  "Aposta: ",
                                                  _(E.amount),
                                                ],
                                              }),
                                              a.jsx("p", {
                                                className:
                                                  "text-xs text-gray-500",
                                                children: new Date(
                                                  E.created_at
                                                ).toLocaleDateString("pt-BR"),
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                      a.jsxs("div", {
                                        className: "text-right",
                                        children: [
                                          a.jsx("p", {
                                            className: `text-sm font-semibold ${
                                              E.win > E.amount
                                                ? "text-green-400"
                                                : "text-red-400"
                                            }`,
                                            children: _(E.win),
                                          }),
                                          a.jsxs("p", {
                                            className: `text-xs ${
                                              E.win > E.amount
                                                ? "text-green-400"
                                                : "text-red-400"
                                            }`,
                                            children: [
                                              E.win > E.amount ? "+" : "",
                                              _(E.win - E.amount),
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  },
                                  A
                                )
                              ),
                            }),
                    }),
                  ],
                })),
          s === "referrals" &&
            (c
              ? a.jsx("div", {
                  className: "flex items-center justify-center py-12",
                  children: a.jsx("div", {
                    className:
                      "animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500",
                  }),
                })
              : i &&
                a.jsxs(bs, {
                  title: "Indicações Diretas",
                  icon: a.jsx(Gp, {}),
                  children: [
                    a.jsx("div", {
                      className: "flex justify-between items-center mb-4",
                      children: a.jsxs("span", {
                        className: "text-purple-400 font-semibold",
                        children: [i.direct_referrals.length, " usuários"],
                      }),
                    }),
                    a.jsx("div", {
                      className: "bg-gray-900/60 rounded-lg p-4",
                      children:
                        i.direct_referrals.length === 0
                          ? a.jsx("p", {
                              className: "text-center text-gray-500 py-8",
                              children: "Nenhuma indicação encontrada",
                            })
                          : a.jsx("div", {
                              className: "space-y-1",
                              children: i.direct_referrals.map((E) =>
                                a.jsx(yO, { referral: E }, E.id)
                              ),
                            }),
                    }),
                  ],
                })),
        ],
      }),
    ],
  });
}
const wO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: $T },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  HT = ({ user: r, show: e, onClose: t }) => {
    const [s, n] = k.useState(""),
      [i, l] = k.useState(!1),
      [c, d] = k.useState(""),
      [f, m] = k.useState(!1);
    k.useEffect(() => {
      e ||
        setTimeout(() => {
          n(""), l(!1), d(""), m(!1);
        }, 300);
    }, [e]);
    const h = async () => {
        l(!0), d("");
        try {
          const x = await Ge.post(
            route("tenant.admin.users.reset-password", r.id)
          );
          n(x.data.new_password);
        } catch (x) {
          d("Ocorreu um erro ao redefinir a senha. Tente novamente."),
            console.error(x);
        } finally {
          l(!1);
        }
      },
      g = () => {
        if (!navigator.clipboard) {
          const x = document.createElement("textarea");
          (x.value = s),
            (x.style.position = "fixed"),
            (x.style.top = 0),
            (x.style.left = 0),
            (x.style.width = "2em"),
            (x.style.height = "2em"),
            (x.style.padding = 0),
            (x.style.border = "none"),
            (x.style.outline = "none"),
            (x.style.boxShadow = "none"),
            (x.style.background = "transparent"),
            document.body.appendChild(x),
            x.focus(),
            x.select();
          try {
            document.execCommand("copy"), m(!0), setTimeout(() => m(!1), 2e3);
          } catch (v) {
            console.error("Fallback: Oops, unable to copy", v);
          }
          document.body.removeChild(x);
          return;
        }
        navigator.clipboard.writeText(s).then(
          () => {
            m(!0), setTimeout(() => m(!1), 2e3);
          },
          (x) => {
            console.error("Async: Could not copy text: ", x);
          }
        );
      };
    return !e || !r
      ? null
      : a.jsx("div", {
          className: "fixed inset-0 z-50 overflow-y-auto",
          children: a.jsxs("div", {
            className:
              "flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",
            children: [
              a.jsx("div", {
                className: "fixed inset-0 transition-opacity",
                "aria-hidden": "true",
                children: a.jsx("div", {
                  className: "absolute inset-0 bg-black opacity-85",
                  onClick: t,
                }),
              }),
              a.jsxs("div", {
                className:
                  "inline-block align-bottom bg-gray-950 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-800",
                children: [
                  a.jsxs("div", {
                    className: "bg-gray-900/20 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",
                    children: [
                      a.jsxs("div", {
                        className: "flex justify-between items-center mb-4",
                        children: [
                          a.jsx("h3", {
                            className: "text-lg font-medium text-white",
                            children: "Redefinir Senha",
                          }),
                          a.jsx("button", {
                            onClick: t,
                            className:
                              "text-gray-400 hover:text-gray-300 transition-colors",
                            children: a.jsx("svg", {
                              className: "w-6 h-6",
                              fill: "none",
                              stroke: "currentColor",
                              viewBox: "0 0 24 24",
                              children: a.jsx("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M6 18L18 6M6 6l12 12",
                              }),
                            }),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "mt-4",
                        children: [
                          s
                            ? a.jsxs("div", {
                                className: "text-center",
                                children: [
                                  a.jsx("p", {
                                    className: "text-sm text-green-400 mb-2",
                                    children: "Senha redefinida com sucesso!",
                                  }),
                                  a.jsxs("p", {
                                    className: "text-sm text-gray-300 mb-4",
                                    children: [
                                      "A nova senha para ",
                                      a.jsx("strong", { children: r.name }),
                                      " é:",
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "relative bg-gray-900/80 border border-gray-700 rounded-md p-3",
                                    children: [
                                      a.jsx("code", {
                                        className:
                                          "text-lg font-mono text-white tracking-widest",
                                        children: s,
                                      }),
                                      a.jsx("button", {
                                        onClick: g,
                                        className:
                                          "absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-white",
                                        title:
                                          "Copiar para a área de transferência",
                                        children: f
                                          ? a.jsx("svg", {
                                              xmlns:
                                                "http://www.w3.org/2000/svg",
                                              className:
                                                "h-5 w-5 text-green-400",
                                              fill: "none",
                                              viewBox: "0 0 24 24",
                                              stroke: "currentColor",
                                              strokeWidth: 2,
                                              children: a.jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M5 13l4 4L19 7",
                                              }),
                                            })
                                          : a.jsx("svg", {
                                              xmlns:
                                                "http://www.w3.org/2000/svg",
                                              className: "h-5 w-5",
                                              fill: "none",
                                              viewBox: "0 0 24 24",
                                              stroke: "currentColor",
                                              strokeWidth: 2,
                                              children: a.jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",
                                              }),
                                            }),
                                      }),
                                    ],
                                  }),
                                  a.jsx("p", {
                                    className: "text-xs text-gray-500 mt-3",
                                    children:
                                      "Copie a senha e forneça ao usuário. Esta senha não será exibida novamente.",
                                  }),
                                ],
                              })
                            : a.jsxs("div", {
                                className: "text-center",
                                children: [
                                  a.jsxs("p", {
                                    className: "text-sm text-gray-300",
                                    children: [
                                      "Você tem certeza que deseja redefinir a senha para o usuário ",
                                      a.jsx("strong", { children: r.name }),
                                      "?",
                                    ],
                                  }),
                                  a.jsx("p", {
                                    className: "text-sm text-yellow-400 mt-2",
                                    children:
                                      "Uma nova senha aleatória será gerada e a senha atual será perdida permanentemente.",
                                  }),
                                ],
                              }),
                          c &&
                            a.jsx("p", {
                              className:
                                "text-red-500 text-xs mt-2 text-center",
                              children: c,
                            }),
                        ],
                      }),
                    ],
                  }),
                  a.jsx("div", {
                    className:
                      "bg-gray-950/80 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",
                    children: s
                      ? a.jsx("button", {
                          type: "button",
                          onClick: t,
                          className:
                            "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",
                          children: "Fechar",
                        })
                      : a.jsxs(a.Fragment, {
                          children: [
                            a.jsx("button", {
                              type: "button",
                              disabled: i,
                              onClick: h,
                              className:
                                "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-600 text-base font-medium text-white hover:bg-yellow-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",
                              children: i
                                ? "Redefinindo..."
                                : "Sim, Redefinir Senha",
                            }),
                            a.jsx("button", {
                              type: "button",
                              onClick: t,
                              disabled: i,
                              className:
                                "mt-3 w-full inline-flex justify-center rounded-md border border-gray-700 shadow-sm px-4 py-2 bg-gray-800 text-base font-medium text-gray-300 hover:bg-gray-700 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",
                              children: "Cancelar",
                            }),
                          ],
                        }),
                  }),
                ],
              }),
            ],
          }),
        });
  },
  SO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: HT },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Ls = ({ title: r, children: e, icon: t, isLocked: s = !1, onUnlock: n }) =>
    a.jsxs("div", {
      className:
        "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm relative",
      children: [
        a.jsxs("div", {
          className: "flex items-center mb-4",
          children: [
            t,
            a.jsx("h3", {
              className: "text-lg font-semibold text-white ml-2",
              children: r,
            }),
          ],
        }),
        a.jsx("div", { className: s ? "blur-sm" : "", children: e }),
        s &&
          a.jsxs("div", {
            className:
              "absolute inset-0 bg-black/60 flex flex-col items-center justify-center rounded-lg",
            children: [
              a.jsx("svg", {
                xmlns: "http://www.w3.org/2000/svg",
                className: "h-12 w-12 text-gray-400 mb-4",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                strokeWidth: 2,
                children: a.jsx("path", {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z",
                }),
              }),
              a.jsx("button", {
                type: "button",
                onClick: n,
                className:
                  "px-4 py-2 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold transition-colors",
                children: "Desbloquear",
              }),
            ],
          }),
      ],
    }),
  Mt = ({
    label: r,
    name: e,
    value: t,
    onChange: s,
    error: n,
    type: i = "text",
    placeholder: l,
    disabled: c = !1,
  }) =>
    a.jsxs("div", {
      children: [
        a.jsx("label", {
          htmlFor: e,
          className: "block text-sm font-medium text-gray-400 mb-2",
          children: r,
        }),
        a.jsx("input", {
          id: e,
          name: e,
          type: i,
          value: t,
          onChange: s,
          placeholder: l,
          disabled: c,
          className: `w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500 ${
            c ? "opacity-50 cursor-not-allowed" : ""
          }`,
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    }),
  CO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-green-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1",
      }),
    }),
  TO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-blue-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",
      }),
    }),
  EO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-purple-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",
      }),
    }),
  jO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-cyan-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a1 1 0 01-1-1V9a1 1 0 011-1h1a2 2 0 100-4H4a1 1 0 01-1-1V4a1 1 0 011-1h3a1 1 0 001-1z",
      }),
    }),
  kO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-red-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",
      }),
    }),
  Zb = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-orange-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.102m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",
      }),
    }),
  $p = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-yellow-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z",
      }),
    }),
  Jb = ({
    label: r,
    name: e,
    checked: t,
    onChange: s,
    error: n,
    description: i,
  }) =>
    a.jsxs("div", {
      children: [
        a.jsxs("div", {
          className: "flex items-center justify-between",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("label", {
                  htmlFor: e,
                  className: "block text-sm font-medium text-gray-400 mb-1",
                  children: r,
                }),
                i &&
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mb-2",
                    children: i,
                  }),
              ],
            }),
            a.jsx("button", {
              type: "button",
              onClick: () => s({ target: { name: e, value: !t } }),
              className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 ${
                t ? "bg-green-600" : "bg-gray-600"
              }`,
              children: a.jsx("span", {
                className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${
                  t ? "translate-x-6" : "translate-x-1"
                }`,
              }),
            }),
          ],
        }),
        n &&
          a.jsx("p", { className: "text-red-500 text-xs mt-1", children: n }),
      ],
    }),
  PO = ({ show: r, onClose: e, onSubmit: t, error: s, processing: n }) => {
    const [i, l] = k.useState("");
    if (!r) return null;
    const c = (d) => {
      d.preventDefault(), t(i);
    };
    return a.jsx("div", {
      className: "fixed inset-0 z-50 overflow-y-auto",
      children: a.jsxs("div", {
        className: "flex items-center justify-center min-h-screen",
        children: [
          a.jsx("div", {
            className: "fixed inset-0 bg-black opacity-85",
            onClick: e,
          }),
          a.jsxs("div", {
            className:
              "relative bg-gray-950 rounded-lg shadow-xl transform transition-all sm:max-w-md sm:w-full border border-gray-800 p-6",
            children: [
              a.jsx("h3", {
                className: "text-lg font-medium text-white mb-4",
                children: "Acesso Restrito",
              }),
              a.jsx("p", {
                className: "text-sm text-gray-400 mb-4",
                children: "Insira a senha de desenvolvedor para continuar.",
              }),
              a.jsxs("form", {
                onSubmit: c,
                children: [
                  a.jsx(Mt, {
                    label: "Senha",
                    name: "password",
                    type: "password",
                    value: i,
                    onChange: (d) => l(d.target.value),
                    error: s,
                  }),
                  a.jsxs("div", {
                    className: "flex justify-end space-x-4 mt-6",
                    children: [
                      a.jsx("button", {
                        type: "button",
                        onClick: e,
                        className:
                          "px-4 py-2 rounded-md bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50",
                        children: "Cancelar",
                      }),
                      a.jsx("button", {
                        type: "submit",
                        disabled: n,
                        className:
                          "px-6 py-2 bg-red-600 text-white hover:bg-red-700 rounded-md font-semibold disabled:opacity-50",
                        children: n ? "Verificando..." : "Desbloquear",
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    });
  };
function AO({ settings: r }) {
  const {
      data: e,
      setData: t,
      put: s,
      processing: n,
      errors: i,
    } = sr({
      cpa_level1: r.cpa.cpa_level1,
      cpa_level2: r.cpa.cpa_level2,
      cpa_level3: r.cpa.cpa_level3,
      revshare_level1: r.revshare.revshare_level1,
      revshare_level2: r.revshare.revshare_level2,
      revshare_level3: r.revshare.revshare_level3,
      gateway_secret_horse: r.gateway.gateway_secret_horse,
      gateway_public_horse: r.gateway.gateway_public_horse,
      enable_live_chat: r.features.enable_live_chat === "1",
      enable_chests: r.features.enable_chests === "1",
      chests_rules: r.features.chests_rules,
      chests_prizes: r.features.chests_prizes,
      splituser1: r.developer.splituser1,
      splituser2: r.developer.splituser2,
      splitpercent1: r.developer.splitpercent1,
      splitpercent2: r.developer.splitpercent2,
      ui_social_link: r.ui?.ui_social_link || "",
      ui_support_link: r.ui?.ui_support_link || "",
      min_saq: r.limits.min_saq,
      max_saq: r.limits.max_saq,
      min_dep: r.limits.min_dep,
      max_dep: r.limits.max_dep,
      hide_phone_login: r.ui?.hide_phone_login || "1",
      dep_recommend_list: r.dep_recommend_list || "",
      rollover: r.rollover || "1",
    }),
    [l, c] = k.useState(!1),
    [d, f] = k.useState(!1),
    [m, h] = k.useState(""),
    [g, x] = k.useState(!1),
    v = (j) => {
      j.preventDefault(),
        s(route("tenant.admin.settings.update"), {
          preserveState: !0,
          preserveScroll: !0,
        });
    },
    w = (j) => {
      const { name: E, value: A } = j.target;
      t(E, A);
    },
    _ = (j) => {
      const { name: E, value: A } = j.target;
      t(E, A);
    },
    S = (j) => {
      t("hide_phone_login", j.target.value);
    },
    T = async (j) => {
      x(!0), h("");
      try {
        await Ge.post(route("tenant.admin.settings.unlockDeveloper"), {
          password: j,
        }),
          c(!0),
          f(!1);
      } catch (E) {
        h(E.response?.data?.message || "Erro ao verificar a senha.");
      } finally {
        x(!1);
      }
    };
  return a.jsxs(Ii, {
    title: "Configurações do Sistema",
    children: [
      a.jsxs("form", {
        onSubmit: v,
        className: "space-y-8",
        children: [
          a.jsxs(Ls, {
            title: "Configurações CPA",
            icon: a.jsx(CO, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure as comissões por primeiro depósito para cada nível de indicação.",
              }),
              a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                children: [
                  a.jsx(Mt, {
                    label: "CPA Nível 1 (fixo)",
                    name: "cpa_level1",
                    type: "number",
                    value: e.cpa_level1,
                    onChange: w,
                    error: i.cpa_level1,
                    placeholder: "20",
                  }),
                  a.jsx(Mt, {
                    label: "CPA Nível 2 (fixo)",
                    name: "cpa_level2",
                    type: "number",
                    value: e.cpa_level2,
                    onChange: w,
                    error: i.cpa_level2,
                    placeholder: "10",
                  }),
                  a.jsx(Mt, {
                    label: "CPA Nível 3 (fixo)",
                    name: "cpa_level3",
                    type: "number",
                    value: e.cpa_level3,
                    onChange: w,
                    error: i.cpa_level3,
                    placeholder: "5",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Configurações RevShare",
            icon: a.jsx(TO, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure a participação nas receitas para cada nível de indicação.",
              }),
              a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-6",
                children: [
                  a.jsx(Mt, {
                    label: "RevShare Nível 1 (%)",
                    name: "revshare_level1",
                    type: "number",
                    value: e.revshare_level1,
                    onChange: w,
                    error: i.revshare_level1,
                    placeholder: "4",
                  }),
                  a.jsx(Mt, {
                    label: "RevShare Nível 2 (%)",
                    name: "revshare_level2",
                    type: "number",
                    value: e.revshare_level2,
                    onChange: w,
                    error: i.revshare_level2,
                    placeholder: "2",
                  }),
                  a.jsx(Mt, {
                    label: "RevShare Nível 3 (%)",
                    name: "revshare_level3",
                    type: "number",
                    value: e.revshare_level3,
                    onChange: w,
                    error: i.revshare_level3,
                    placeholder: "1",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Limites de Saque e Depósito",
            icon: a.jsx($p, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure os valores mínimos e máximos para saques e depósitos.",
              }),
              a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                children: [
                  a.jsxs("div", {
                    className: "space-y-4",
                    children: [
                      a.jsx("h4", {
                        className:
                          "text-sm font-semibold text-gray-300 border-b border-gray-700 pb-2",
                        children: "Configurações de Saque",
                      }),
                      a.jsx(Mt, {
                        label: "Saque Mínimo (R$)",
                        name: "min_saq",
                        type: "number",
                        value: e.min_saq,
                        onChange: w,
                        error: i.min_saq,
                        placeholder: "10",
                      }),
                      a.jsx(Mt, {
                        label: "Saque Máximo (R$)",
                        name: "max_saq",
                        type: "number",
                        value: e.max_saq,
                        onChange: w,
                        error: i.max_saq,
                        placeholder: "5000",
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "space-y-4",
                    children: [
                      a.jsx("h4", {
                        className:
                          "text-sm font-semibold text-gray-300 border-b border-gray-700 pb-2",
                        children: "Configurações de Depósito",
                      }),
                      a.jsx(Mt, {
                        label: "Depósito Mínimo (R$)",
                        name: "min_dep",
                        type: "number",
                        value: e.min_dep,
                        onChange: w,
                        error: i.min_dep,
                        placeholder: "5",
                      }),
                      a.jsx(Mt, {
                        label: "Depósito Máximo (R$)",
                        name: "max_dep",
                        type: "number",
                        value: e.max_dep,
                        onChange: w,
                        error: i.max_dep,
                        placeholder: "10000",
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Configurações de Gateway",
            icon: a.jsx(EO, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure as credenciais do gateway de pagamento Horse.",
              }),
              a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                children: [
                  a.jsx(Mt, {
                    label: "Chave Pública Horse",
                    name: "gateway_public_horse",
                    value: e.gateway_public_horse,
                    onChange: w,
                    error: i.gateway_public_horse,
                    placeholder: "Chave pública do gateway",
                  }),
                  a.jsx(Mt, {
                    label: "Chave Secreta Horse",
                    name: "gateway_secret_horse",
                    type: "password",
                    value: e.gateway_secret_horse,
                    onChange: w,
                    error: i.gateway_secret_horse,
                    placeholder: "Chave secreta do gateway",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Lista de depósitos recomendados",
            icon: a.jsx($p, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure os valores sugeridos para depósito que aparecerão para o usuário.",
              }),
              a.jsx(Mt, {
                label: "Valores recomendados (separados por vírgula)",
                name: "dep_recommend_list",
                value: e.dep_recommend_list,
                onChange: w,
                error: i.dep_recommend_list,
                placeholder: "20,50,100,200,500",
              }),
              a.jsx("div", {
                className: "mt-2 text-xs text-gray-400",
                children: "Exemplo: 20,50,100,200,500",
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Configuração de Rollover",
            icon: a.jsx($p, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Defina a porcentagem de rollover necessária para sacar após depositar, esse valor é uma porcentagem do depósito.",
              }),
              a.jsx(Mt, {
                label: "Rollover (%)",
                name: "rollover",
                type: "number",
                value: e.rollover,
                onChange: w,
                error: i.rollover,
                placeholder: "1",
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Links Flutuantes",
            icon: a.jsx(Zb, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Configure os links flutuantes que aparecerão na interface do usuário.",
              }),
              a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                children: [
                  a.jsx(Mt, {
                    label: "Link Social",
                    name: "ui_social_link",
                    value: e.ui_social_link,
                    onChange: w,
                    error: i.ui_social_link,
                    placeholder: "https://t.me/seucanaloficial",
                  }),
                  a.jsx(Mt, {
                    label: "Link de Suporte",
                    name: "ui_support_link",
                    value: e.ui_support_link,
                    onChange: w,
                    error: i.ui_support_link,
                    placeholder: "https://wa.me/5511999999999",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Funcionalidades do Sistema",
            icon: a.jsx(jO, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-6",
                children:
                  "Configure as funcionalidades disponíveis na plataforma.",
              }),
              a.jsxs("div", {
                className: "space-y-6",
                children: [
                  a.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                    children: [
                      a.jsx(Jb, {
                        label: "Chat ao Vivo",
                        name: "enable_live_chat",
                        checked: e.enable_live_chat,
                        onChange: _,
                        error: i.enable_live_chat,
                        description: "Ativar sistema de chat ao vivo",
                      }),
                      a.jsx(Jb, {
                        label: "Sistema de Baús",
                        name: "enable_chests",
                        checked: e.enable_chests,
                        onChange: _,
                        error: i.enable_chests,
                        description: "Ativar baús de evento por indicações",
                      }),
                    ],
                  }),
                  e.enable_chests &&
                    a.jsxs("div", {
                      className: "border-t border-gray-700 pt-6",
                      children: [
                        a.jsx("h4", {
                          className: "text-md font-semibold text-white mb-4",
                          children: "Configuração dos Baús",
                        }),
                        a.jsxs("div", {
                          className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                          children: [
                            a.jsx(Mt, {
                              label: "Regras dos Baús",
                              name: "chests_rules",
                              value: e.chests_rules,
                              onChange: w,
                              error: i.chests_rules,
                              placeholder: "5,50,100,200,250,500",
                              description:
                                "Número de indicações necessárias (separados por vírgula)",
                            }),
                            a.jsx(Mt, {
                              label: "Prêmios dos Baús",
                              name: "chests_prizes",
                              value: e.chests_prizes,
                              onChange: w,
                              error: i.chests_prizes,
                              placeholder: "5,50,200,250,300,500",
                              description:
                                "Valores dos prêmios em R$ (separados por vírgula)",
                            }),
                          ],
                        }),
                        a.jsx("div", {
                          className:
                            "mt-4 p-3 bg-blue-900/20 border border-blue-700/50 rounded-md",
                          children: a.jsxs("p", {
                            className: "text-xs text-blue-300",
                            children: [
                              a.jsx("strong", { children: "Exemplo:" }),
                              ' Com as regras "5,50,100" e prêmios "10,100,500", o usuário ganha R$ 10 ao indicar 5 pessoas, R$ 100 ao indicar 50 pessoas, etc.',
                            ],
                          }),
                        }),
                      ],
                    }),
                ],
              }),
            ],
          }),
          a.jsxs(Ls, {
            title: "Ocultar número de telefone no cadastro",
            icon: a.jsx(Zb, {}),
            children: [
              a.jsx("p", {
                className: "text-gray-400 text-sm mb-4",
                children:
                  "Se ativado, o campo de telefone será ocultado no cadastro e preenchido automaticamente.",
              }),
              a.jsxs("div", {
                className: "flex space-x-6",
                children: [
                  a.jsxs("label", {
                    className: "flex items-center space-x-2",
                    children: [
                      a.jsx("input", {
                        type: "radio",
                        name: "hide_phone_login",
                        value: "1",
                        checked: e.hide_phone_login === "1",
                        onChange: S,
                      }),
                      a.jsx("span", {
                        className: "text-white",
                        children: "Sim",
                      }),
                    ],
                  }),
                  a.jsxs("label", {
                    className: "flex items-center space-x-2",
                    children: [
                      a.jsx("input", {
                        type: "radio",
                        name: "hide_phone_login",
                        value: "2",
                        checked: e.hide_phone_login === "2",
                        onChange: S,
                      }),
                      a.jsx("span", {
                        className: "text-white",
                        children: "Não",
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
          a.jsx(Ls, {
            title: "Opções de Desenvolvedor",
            icon: a.jsx(kO, {}),
            isLocked: !l,
            onUnlock: () => f(!0),
            children: l
              ? a.jsxs(a.Fragment, {
                  children: [
                    a.jsx("p", {
                      className: "text-gray-400 text-sm mb-4",
                      children:
                        "Configure o split de pagamentos para usuários específicos.",
                    }),
                    a.jsxs("div", {
                      className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                      children: [
                        a.jsx(Mt, {
                          label: "Usuário Split 1",
                          name: "splituser1",
                          value: e.splituser1,
                          onChange: w,
                          error: i.splituser1,
                          placeholder: "ID do usuário na HorsePay",
                        }),
                        a.jsx(Mt, {
                          label: "Percentual Split 1 (%)",
                          name: "splitpercent1",
                          type: "number",
                          value: e.splitpercent1,
                          onChange: w,
                          error: i.splitpercent1,
                          placeholder: "0",
                        }),
                        a.jsx(Mt, {
                          label: "Usuário Split 2",
                          name: "splituser2",
                          value: e.splituser2,
                          onChange: w,
                          error: i.splituser2,
                          placeholder: "ID do usuário na HorsePay",
                        }),
                        a.jsx(Mt, {
                          label: "Percentual Split 2 (%)",
                          name: "splitpercent2",
                          type: "number",
                          value: e.splitpercent2,
                          onChange: w,
                          error: i.splitpercent2,
                          placeholder: "0",
                        }),
                      ],
                    }),
                  ],
                })
              : a.jsxs("div", {
                  children: [
                    a.jsx("p", {
                      className: "text-gray-400 text-sm mb-4",
                      children:
                        "Nunc sagittis, elit et vehicula congue, lectus justo.",
                    }),
                    a.jsxs("div", {
                      className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                      children: [
                        a.jsxs("div", {
                          children: [
                            a.jsx("div", {
                              className:
                                "block text-sm font-medium text-gray-400 mb-2",
                              children: "asdfghjkl-zxcvbnm",
                            }),
                            a.jsx("div", {
                              className:
                                "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-gray-600",
                              children: "********************",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("div", {
                              className:
                                "block text-sm font-medium text-gray-400 mb-2",
                              children: "qwerty-uiop-asdfg",
                            }),
                            a.jsx("div", {
                              className:
                                "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-gray-600",
                              children: "********************",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("div", {
                              className:
                                "block text-sm font-medium text-gray-400 mb-2",
                              children: "zxcvbnm-poiuyt-rewq",
                            }),
                            a.jsx("div", {
                              className:
                                "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-gray-600",
                              children: "********************",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("div", {
                              className:
                                "block text-sm font-medium text-gray-400 mb-2",
                              children: "lkjhgfdsa-mnbvcxz",
                            }),
                            a.jsx("div", {
                              className:
                                "w-full bg-gray-800/50 border-gray-700 rounded-md px-3 py-2 text-gray-600",
                              children: "********************",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
          }),
          a.jsx("div", {
            className: "flex justify-end",
            children: a.jsx("button", {
              type: "submit",
              disabled: n,
              className:
                "px-6 py-3 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",
              children: n
                ? a.jsxs(a.Fragment, {
                    children: [
                      a.jsxs("svg", {
                        className: "animate-spin -ml-1 mr-3 h-5 w-5 text-white",
                        xmlns: "http://www.w3.org/2000/svg",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        children: [
                          a.jsx("circle", {
                            className: "opacity-25",
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            strokeWidth: "4",
                          }),
                          a.jsx("path", {
                            className: "opacity-75",
                            fill: "currentColor",
                            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",
                          }),
                        ],
                      }),
                      "Salvando...",
                    ],
                  })
                : "Salvar Configurações",
            }),
          }),
        ],
      }),
      a.jsx(PO, {
        show: d,
        onClose: () => f(!1),
        onSubmit: T,
        error: m,
        processing: g,
      }),
    ],
  });
}
const MO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: AO },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  NO = ({ user: r }) =>
    a.jsx("div", {
      className:
        "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white ring-2 ring-gray-700",
      children: r.name.charAt(0),
    }),
  RO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M15 7a2 2 0 012 2m4 0a6 6 0 01-7.623 5.873M15 7a2 2 0 00-2-2M15 7h.01M4.93 19.07A10 10 0 1119.07 4.93 10 10 0 014.93 19.07z",
      }),
    }),
  BO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-gray-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",
      }),
    }),
  FO = ({ direction: r }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `h-4 w-4 ml-1 transition-transform ${
        r === "desc" ? "rotate-180" : ""
      }`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M19 9l-7 7-7-7",
      }),
    }),
  IO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",
      }),
    }),
  OO = ({ referrer: r }) =>
    r
      ? a.jsx("div", {
          className: "flex flex-col",
          children: a.jsxs("span", {
            style: { width: "max-content" },
            className:
              "inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-900/50 text-green-400 border border-green-700/50 mb-1",
            children: [
              a.jsx(IO, {}),
              a.jsx("div", {
                className: "text-gray-400 ml-1",
                children: r.name,
              }),
            ],
          }),
        })
      : a.jsxs("span", {
          className:
            "inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-gray-800/50 text-gray-400 border border-gray-700/50",
          children: [
            a.jsx("svg", {
              xmlns: "http://www.w3.org/2000/svg",
              className: "h-3 w-3 mr-1",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              strokeWidth: 2,
              children: a.jsx("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728",
              }),
            }),
            "Sem indicação",
          ],
        });
function LO({ users: r, filters: e }) {
  const [t, s] = k.useState(null),
    [n, i] = k.useState(!1),
    [l, c] = k.useState(e?.search || ""),
    [d, f] = k.useState(e?.filter_type || "name"),
    [m, h] = k.useState(null),
    [g, x] = k.useState(!1),
    v = (E) => {
      s(E), i(!0);
    },
    w = (E) => {
      h(E), x(!0);
    },
    _ = (E) => {
      E.preventDefault(),
        vr.get(
          route("tenant.admin.users.index"),
          { search: l, filter_type: d },
          { preserveState: !0, replace: !0 }
        );
    },
    S = () => {
      c(""),
        f("name"),
        vr.get(
          route("tenant.admin.users.index"),
          {},
          { preserveState: !0, replace: !0 }
        );
    },
    T = (E) => {
      const A = e?.sort_by,
        M = e?.sort_direction;
      let N = "asc";
      A === E && M === "asc" && (N = "desc"),
        vr.get(
          route("tenant.admin.users.index"),
          { search: l, filter_type: d, sort_by: E, sort_direction: N },
          { preserveState: !0, replace: !0 }
        );
    },
    j = ({ column: E, children: A }) =>
      a.jsx("th", {
        scope: "col",
        className:
          "px-6 py-4 cursor-pointer hover:bg-gray-700/50 transition-colors select-none",
        onClick: () => T(E),
        children: a.jsxs("div", {
          className: "flex items-center",
          children: [
            A,
            e?.sort_by === E && a.jsx(FO, { direction: e?.sort_direction }),
          ],
        }),
      });
  return a.jsxs(Ii, {
    title: "Gerenciamento de Usuários",
    children: [
      a.jsx("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg p-6 mb-6",
        children: a.jsxs("form", {
          onSubmit: _,
          className: "flex flex-col md:flex-row gap-4",
          children: [
            a.jsx("div", {
              className: "flex-1",
              children: a.jsxs("div", {
                className: "relative",
                children: [
                  a.jsx("div", {
                    className:
                      "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",
                    children: a.jsx(BO, {}),
                  }),
                  a.jsx("input", {
                    type: "text",
                    value: l,
                    onChange: (E) => c(E.target.value),
                    placeholder: "Pesquisar usuários...",
                    className:
                      "w-full bg-gray-900/50 border border-gray-700 rounded-md pl-10 pr-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500",
                  }),
                ],
              }),
            }),
            a.jsxs("div", {
              className: "flex gap-3",
              children: [
                a.jsxs("select", {
                  value: d,
                  onChange: (E) => f(E.target.value),
                  className:
                    "bg-gray-900/50 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-gray-500 focus:border-gray-500",
                  style: {
                    color: "white",
                    backgroundColor: "rgba(17, 24, 39, 0.5)",
                    colorScheme: "dark",
                  },
                  children: [
                    a.jsx("option", {
                      value: "name",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Nome",
                    }),
                    a.jsx("option", {
                      value: "id",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "ID",
                    }),
                    a.jsx("option", {
                      value: "email",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Email",
                    }),
                    a.jsx("option", {
                      value: "referrer",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Indicado por",
                    }),
                  ],
                }),
                a.jsx("button", {
                  type: "submit",
                  className:
                    "px-4 py-2 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold transition-colors",
                  children: "Buscar",
                }),
                (l || d !== "name" || e?.sort_by) &&
                  a.jsx("button", {
                    type: "button",
                    onClick: S,
                    className:
                      "px-4 py-2 bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50 rounded-md transition-colors",
                    children: "Limpar",
                  }),
              ],
            }),
          ],
        }),
      }),
      a.jsxs("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg overflow-hidden",
        children: [
          a.jsx("div", {
            className: "overflow-x-auto",
            children: a.jsxs("table", {
              className: "w-full text-sm text-left text-gray-300",
              children: [
                a.jsx("thead", {
                  className: "text-xs text-gray-200 uppercase bg-gray-800/60",
                  children: a.jsxs("tr", {
                    children: [
                      a.jsx(j, { column: "id", children: "ID" }),
                      a.jsx(j, { column: "name", children: "Nome" }),
                      a.jsx(j, { column: "email", children: "Telefone" }),
                      a.jsx(j, { column: "balance", children: "Saldo" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Rollover",
                      }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Tipo",
                      }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Indicação",
                      }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Status",
                      }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4 text-right",
                        children: "Ações",
                      }),
                    ],
                  }),
                }),
                a.jsx("tbody", {
                  children:
                    r.data.length === 0
                      ? a.jsx("tr", {
                          children: a.jsx("td", {
                            colSpan: "8",
                            className: "px-6 py-8 text-center text-gray-500",
                            children: "Nenhum usuário encontrado.",
                          }),
                        })
                      : r.data.map((E) =>
                          a.jsxs(
                            "tr",
                            {
                              className:
                                "border-b border-gray-700/50 hover:bg-gray-800/40 transition-colors",
                              children: [
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-gray-400",
                                  children: ["#", E.id],
                                }),
                                a.jsx("th", {
                                  scope: "row",
                                  className:
                                    "px-6 py-4 font-medium text-white whitespace-nowrap",
                                  children: a.jsxs("button", {
                                    onClick: () => v(E),
                                    className:
                                      "flex items-center hover:text-purple-400 transition-colors",
                                    children: [
                                      a.jsx(NO, { user: E }),
                                      a.jsx("span", {
                                        className: "ml-3",
                                        children: E.name,
                                      }),
                                    ],
                                  }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: E.phone,
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: ["R$ ", E.balance || "0,00"],
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: ["R$ ", E.rollover || "0,00"],
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsx("span", {
                                    className: `px-2 py-1 text-xs font-semibold rounded-full ${
                                      E.demo_account
                                        ? "bg-yellow-900/50 text-yellow-400 border border-yellow-700/50"
                                        : "bg-blue-900/50 text-blue-400 border border-blue-700/50"
                                    }`,
                                    children: E.demo_account ? "Demo" : "Real",
                                  }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsx(OO, { referrer: E.referrer }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsx("span", {
                                    className:
                                      "px-2 py-1 text-xs font-semibold rounded-full bg-green-900/50 text-green-400 border border-green-700/50",
                                    children: "Ativo",
                                  }),
                                }),
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-right space-x-2",
                                  children: [
                                    a.jsx("button", {
                                      onClick: () => v(E),
                                      className:
                                        "p-2 rounded-md text-blue-400 hover:text-blue-300 hover:bg-gray-800/60 transition-all",
                                      title: "Ver/Editar Usuário",
                                      children: a.jsxs("svg", {
                                        xmlns: "http://www.w3.org/2000/svg",
                                        className: "h-5 w-5",
                                        fill: "none",
                                        viewBox: "0 0 24 24",
                                        stroke: "currentColor",
                                        strokeWidth: 2,
                                        children: [
                                          a.jsx("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z",
                                          }),
                                          a.jsx("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",
                                          }),
                                        ],
                                      }),
                                    }),
                                    a.jsx("button", {
                                      onClick: () => w(E),
                                      className:
                                        "p-2 rounded-md text-yellow-500 hover:text-yellow-400 hover:bg-gray-800/60 transition-all",
                                      title: "Redefinir Senha",
                                      children: a.jsx(RO, {}),
                                    }),
                                  ],
                                }),
                              ],
                            },
                            E.id
                          )
                        ),
                }),
              ],
            }),
          }),
          r.links &&
            r.links.length > 3 &&
            a.jsx("div", {
              className: "px-6 py-4 border-t border-gray-700/50 bg-gray-800/30",
              children: a.jsxs("div", {
                className: "flex items-center justify-between",
                children: [
                  a.jsxs("div", {
                    className: "text-sm text-gray-400",
                    children: [
                      "Mostrando ",
                      r.from,
                      " a ",
                      r.to,
                      " de ",
                      r.total,
                      " resultados",
                    ],
                  }),
                  a.jsx("div", {
                    className: "flex space-x-1",
                    children: r.links.map((E, A) =>
                      a.jsx(
                        "button",
                        {
                          onClick: () => E.url && vr.get(E.url),
                          disabled: !E.url,
                          className: `px-3 py-1 text-sm rounded transition-colors ${
                            E.active
                              ? "bg-gray-700 text-white"
                              : E.url
                              ? "text-gray-400 hover:text-white hover:bg-gray-800/50"
                              : "text-gray-600 cursor-not-allowed"
                          }`,
                          dangerouslySetInnerHTML: { __html: E.label },
                        },
                        A
                      )
                    ),
                  }),
                ],
              }),
            }),
        ],
      }),
      a.jsx($T, { user: t, show: n, onClose: () => i(!1) }),
      a.jsx(HT, {
        user: m,
        show: g,
        onClose: () => {
          x(!1), h(null);
        },
      }),
    ],
  });
}
const DO = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: LO },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  UO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-blue-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",
      }),
    }),
  zO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-blue-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M16 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  GO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-emerald-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",
      }),
    }),
  $O = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-green-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10",
      }),
    }),
  HO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-red-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",
      }),
    }),
  WO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-cyan-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",
      }),
    }),
  VO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-yellow-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  qO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6 text-blue-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M16 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  XO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6 text-purple-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",
      }),
    }),
  YO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-6 w-6 text-orange-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",
      }),
    }),
  KO = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-8 w-8 text-purple-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3",
      }),
    }),
  QO = ({ className: r = "h-4 w-4" }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `${r} text-green-400`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 17l9.2-9.2M17 17V7m0 10H7",
      }),
    }),
  ZO = ({ className: r = "h-4 w-4" }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `${r} text-red-400`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M17 7l-9.2 9.2M7 7v10m0-10h10",
      }),
    }),
  e1 = ({ className: r = "h-4 w-4" }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `${r} text-gray-400`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M5 12h14",
      }),
    });
function JO({ stats: r = {} }) {
  const e = (_) =>
      new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(_ || 0),
    t = (_) => `${(_ || 0).toFixed(1)}%`,
    s = (_, S) => {
      if (!S || S === 0)
        return { text: "N/A", color: "text-gray-400", icon: a.jsx(e1, {}) };
      const T = ((_ - S) / S) * 100;
      return T > 0
        ? {
            text: `+${T.toFixed(1)}%`,
            color: "text-green-400",
            icon: a.jsx(QO, {}),
          }
        : T < 0
        ? {
            text: `${T.toFixed(1)}%`,
            color: "text-red-400",
            icon: a.jsx(ZO, {}),
          }
        : { text: "0%", color: "text-gray-400", icon: a.jsx(e1, {}) };
    },
    n = {
      total_users: 0,
      real_users: 0,
      demo_users: 0,
      total_deposits: 0,
      total_withdrawals: 0,
      active_players: 0,
      today_losses: 0,
      yesterday_losses: 0,
      house_edge: 0,
      win_rate: 0,
      player_win_rate: 0,
      total_bets: 0,
      total_wins: 0,
      total_games: 0,
      this_week_revenue: 0,
      last_week_revenue: 0,
      house_revenue: 0,
      ...r,
    },
    i = s(n.this_week_revenue, n.last_week_revenue),
    l = s(n.today_losses, n.yesterday_losses),
    [c, d] = k.useState([]),
    [f, m] = k.useState(1),
    [h, g] = k.useState(0),
    [x, v] = k.useState(10);
  k.useEffect(() => {
    w(f, x);
  }, [f, x]);
  const w = async (_ = 1, S = 10) => {
    try {
      const T = await Ge.get("/admin/online-users", {
        params: { page: _, per_page: S },
      });
      T.data.success && (d(T.data.users.data), g(T.data.users.total));
    } catch {}
  };
  return a.jsxs(Ii, {
    title: "Dashboard",
    children: [
      a.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
        children: [
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(UO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Total de Usuários",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-white mt-2",
                    children: n.total_users.toLocaleString(),
                  }),
                  a.jsxs("div", {
                    className: "flex items-center space-x-4 mt-2 text-sm",
                    children: [
                      a.jsxs("span", {
                        className: "text-green-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-green-400 mr-1",
                          }),
                          "Real: ",
                          n.real_users,
                        ],
                      }),
                      a.jsxs("span", {
                        className: "text-yellow-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className:
                              "w-2 h-2 rounded-full bg-yellow-400 mr-1",
                          }),
                          "Demo: ",
                          n.demo_users,
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(zO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Jogadores Ativos",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-blue-400 mt-2",
                    children: n.active_players,
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1 flex items-center",
                    children: [
                      a.jsx("div", {
                        className:
                          "w-2 h-2 rounded-full bg-blue-400 mr-1 animate-pulse",
                      }),
                      "Jogando agora",
                    ],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(GO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Perdas Hoje",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-green-400 mt-2",
                    children: e(n.today_losses),
                  }),
                  a.jsxs("div", {
                    className: "flex items-center mt-1",
                    children: [
                      a.jsx("span", {
                        className: "text-xs text-gray-500",
                        children: "vs ontem: ",
                      }),
                      a.jsxs("div", {
                        className: "flex items-center ml-1",
                        children: [
                          l.icon,
                          a.jsx("span", {
                            className: `text-xs ml-1 ${l.color}`,
                            children: l.text,
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(KO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Margem da Casa",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-purple-400 mt-2",
                    children: t(n.house_edge),
                  }),
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: "Todos os tempos",
                  }),
                ],
              }),
            }),
          }),
        ],
      }),
      a.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
        children: [
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx($O, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Total Depósitos",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-green-400 mt-2",
                    children: e(n.total_deposits),
                  }),
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: "Apenas contas reais",
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(HO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Total Saques",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-red-400 mt-2",
                    children: e(n.total_withdrawals),
                  }),
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: "Apenas contas reais",
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(WO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Receita Semanal",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-3xl font-bold text-cyan-400 mt-2",
                    children: e(n.this_week_revenue),
                  }),
                  a.jsxs("div", {
                    className: "flex items-center mt-1",
                    children: [
                      a.jsx("span", {
                        className: "text-xs text-gray-500",
                        children: "vs semana passada: ",
                      }),
                      a.jsxs("div", {
                        className: "flex items-center ml-1",
                        children: [
                          i.icon,
                          a.jsx("span", {
                            className: `text-xs ml-1 ${i.color}`,
                            children: i.text,
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(VO, {}),
                      a.jsx("h3", {
                        className: "text-lg font-semibold text-gray-400 ml-3",
                        children: "Saldo Líquido",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: `text-3xl font-bold mt-2 ${
                      n.total_deposits - n.total_withdrawals >= 0
                        ? "text-green-400"
                        : "text-red-400"
                    }`,
                    children: e(n.total_deposits - n.total_withdrawals),
                  }),
                  a.jsx("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: "Depósitos - Saques",
                  }),
                ],
              }),
            }),
          }),
        ],
      }),
      a.jsxs("div", {
        className: "grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",
        children: [
          a.jsxs("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: [
              a.jsxs("div", {
                className: "flex items-center mb-4",
                children: [
                  a.jsx(qO, {}),
                  a.jsx("h3", {
                    className: "text-lg font-semibold text-white ml-2",
                    children: "Estatísticas de Jogo",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-4",
                children: [
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-blue-400 mr-2",
                          }),
                          "Total de Jogos",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-white font-semibold",
                        children: n.total_games.toLocaleString(),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-green-400 mr-2",
                          }),
                          "Taxa de Vitória (Casa)",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-green-400 font-semibold",
                        children: t(n.win_rate),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-red-400 mr-2",
                          }),
                          "Taxa de Vitória (Jogadores)",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-red-400 font-semibold",
                        children: t(n.player_win_rate),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "border-t border-gray-700 pt-3",
                    children: [
                      a.jsxs("div", {
                        className: "flex justify-between items-center",
                        children: [
                          a.jsx("span", {
                            className: "text-gray-400",
                            children: "Total Apostado",
                          }),
                          a.jsx("span", {
                            className: "text-white font-semibold",
                            children: e(n.total_bets),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "flex justify-between items-center mt-2",
                        children: [
                          a.jsx("span", {
                            className: "text-gray-400",
                            children: "Total Pago (Prêmios)",
                          }),
                          a.jsx("span", {
                            className: "text-white font-semibold",
                            children: e(n.total_wins),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "flex justify-between items-center mt-2",
                        children: [
                          a.jsx("span", {
                            className: "text-gray-400",
                            children: "Lucro da Casa",
                          }),
                          a.jsx("span", {
                            className: "text-green-400 font-semibold",
                            children: e(n.house_revenue),
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: [
              a.jsxs("div", {
                className: "flex items-center mb-4",
                children: [
                  a.jsx(XO, {}),
                  a.jsx("h3", {
                    className: "text-lg font-semibold text-white ml-2",
                    children: "Resumo de Usuários",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-3",
                children: [
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-green-400 mr-2",
                          }),
                          "Contas Reais",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-white font-semibold",
                        children: n.real_users,
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className:
                              "w-2 h-2 rounded-full bg-yellow-400 mr-2",
                          }),
                          "Contas Demo",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-white font-semibold",
                        children: n.demo_users,
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className:
                              "w-2 h-2 rounded-full bg-blue-400 mr-2 animate-pulse",
                          }),
                          "Jogadores Ativos",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-blue-400 font-semibold",
                        children: n.active_players,
                      }),
                    ],
                  }),
                  a.jsx("div", {
                    className: "border-t border-gray-700 pt-2",
                    children: a.jsxs("div", {
                      className: "flex justify-between items-center",
                      children: [
                        a.jsx("span", {
                          className: "text-gray-300 font-medium",
                          children: "Total",
                        }),
                        a.jsx("span", {
                          className: "text-white font-bold",
                          children: n.total_users,
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200",
            children: [
              a.jsxs("div", {
                className: "flex items-center mb-4",
                children: [
                  a.jsx(YO, {}),
                  a.jsx("h3", {
                    className: "text-lg font-semibold text-white ml-2",
                    children: "Perdas por Período",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-3",
                children: [
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-green-400 mr-2",
                          }),
                          "Hoje",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-green-400 font-semibold",
                        children: e(n.today_losses),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-gray-400 mr-2",
                          }),
                          "Ontem",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-gray-300 font-semibold",
                        children: e(n.yesterday_losses),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-cyan-400 mr-2",
                          }),
                          "Esta Semana",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-cyan-400 font-semibold",
                        children: e(n.this_week_revenue),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex justify-between items-center",
                    children: [
                      a.jsxs("span", {
                        className: "text-gray-400 flex items-center",
                        children: [
                          a.jsx("div", {
                            className: "w-2 h-2 rounded-full bg-gray-400 mr-2",
                          }),
                          "Semana Passada",
                        ],
                      }),
                      a.jsx("span", {
                        className: "text-gray-300 font-semibold",
                        children: e(n.last_week_revenue),
                      }),
                    ],
                  }),
                  a.jsx("div", {
                    className: "border-t border-gray-700 pt-2",
                    children: a.jsxs("div", {
                      className: "flex justify-between items-center",
                      children: [
                        a.jsx("span", {
                          className: "text-gray-300 font-medium",
                          children: "Margem Total",
                        }),
                        a.jsx("span", {
                          className: "text-purple-400 font-bold",
                          children: t(n.house_edge),
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
      a.jsxs("div", {
        className:
          "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm hover:bg-gray-900/60 transition-all duration-200 mb-8",
        children: [
          a.jsxs("div", {
            className: "flex items-center justify-between mb-6",
            children: [
              a.jsxs("div", {
                className: "flex items-center",
                children: [
                  a.jsx("div", {
                    className:
                      "w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3",
                  }),
                  a.jsx("h3", {
                    className: "text-xl font-semibold text-white",
                    children: "Usuários Online",
                  }),
                  a.jsxs("span", {
                    className:
                      "ml-3 px-3 py-1 bg-green-400/20 text-green-400 rounded-full text-sm font-medium",
                    children: [r.online_users, " ativos"],
                  }),
                ],
              }),
              a.jsx("div", {
                className: "flex items-center space-x-4",
                children: a.jsxs("label", {
                  className: "text-gray-400 text-sm",
                  children: [
                    "Por página:",
                    a.jsx("select", {
                      value: x,
                      onChange: (_) => v(Number(_.target.value)),
                      className:
                        "ml-2 bg-gray-800 border border-gray-700 text-white rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",
                      children: [10, 20, 50].map((_) =>
                        a.jsx("option", { value: _, children: _ }, _)
                      ),
                    }),
                  ],
                }),
              }),
            ],
          }),
          a.jsx("div", {
            className: "overflow-x-auto rounded-lg border border-gray-700",
            children: a.jsxs("table", {
              className: "min-w-full bg-gray-800/50",
              children: [
                a.jsx("thead", {
                  className: "bg-gray-800",
                  children: a.jsxs("tr", {
                    children: [
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "ID",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Nome",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Total Depósitos",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Total Apostas",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Total Ganhos",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Tipo",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Rollover",
                      }),
                      a.jsx("th", {
                        className:
                          "py-4 px-6 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",
                        children: "Saldo",
                      }),
                    ],
                  }),
                }),
                a.jsx("tbody", {
                  className: "divide-y divide-gray-700",
                  children: c.map((_, S) =>
                    a.jsxs(
                      "tr",
                      {
                        className:
                          "hover:bg-gray-700/50 transition-colors duration-150",
                        children: [
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap",
                            children: a.jsxs("span", {
                              className: "text-blue-400 font-medium",
                              children: ["#", _.id],
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap",
                            children: a.jsxs("div", {
                              className: "flex items-center",
                              children: [
                                a.jsx("div", {
                                  className:
                                    "w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse",
                                }),
                                a.jsx("span", {
                                  className: "text-white font-medium",
                                  children: _.name,
                                }),
                              ],
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap text-right",
                            children: a.jsx("span", {
                              className: "text-green-400 font-semibold",
                              children: e(_.total_deposits || 0),
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap text-right",
                            children: a.jsx("span", {
                              className: "text-blue-400 font-semibold",
                              children: e(_.total_bet || 0),
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap text-right",
                            children: a.jsx("span", {
                              className: "text-purple-400 font-semibold",
                              children: e(_.total_win || 0),
                            }),
                          }),
                          a.jsx("td", {
                            className:
                              "py-4 px-6 whitespace-nowrap text-center",
                            children: a.jsx("span", {
                              className: `px-3 py-1 rounded-full text-xs font-medium ${
                                _.demo_account === 1
                                  ? "bg-yellow-400/20 text-yellow-400"
                                  : "bg-green-400/20 text-green-400"
                              }`,
                              children: _.demo_account === 1 ? "Demo" : "Real",
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap text-right",
                            children: a.jsx("span", {
                              className: "text-orange-400 font-semibold",
                              children: e(_.rollover || 0),
                            }),
                          }),
                          a.jsx("td", {
                            className: "py-4 px-6 whitespace-nowrap text-right",
                            children: a.jsx("span", {
                              className: `font-semibold ${
                                (_.balance || 0) >= 0
                                  ? "text-cyan-400"
                                  : "text-red-400"
                              }`,
                              children: e(_.balance || 0),
                            }),
                          }),
                        ],
                      },
                      _.id
                    )
                  ),
                }),
              ],
            }),
          }),
          c.length === 0 &&
            a.jsxs("div", {
              className: "text-center py-8",
              children: [
                a.jsx("div", {
                  className: "text-gray-400 text-lg",
                  children: "Nenhum usuário online no momento",
                }),
                a.jsx("div", {
                  className: "text-gray-500 text-sm mt-1",
                  children:
                    "Os usuários aparecerão aqui quando estiverem ativos",
                }),
              ],
            }),
          a.jsxs("div", {
            className:
              "flex justify-between items-center mt-6 pt-4 border-t border-gray-700",
            children: [
              a.jsxs("div", {
                className: "text-sm text-gray-400",
                children: [
                  "Mostrando ",
                  c.length,
                  " de ",
                  h,
                  " usuários online",
                ],
              }),
              a.jsxs("div", {
                className: "flex items-center space-x-2",
                children: [
                  a.jsx("button", {
                    disabled: f <= 1,
                    onClick: () => m(f - 1),
                    className:
                      "px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-md text-sm transition-colors duration-150 disabled:cursor-not-allowed",
                    children: "Anterior",
                  }),
                  a.jsxs("span", {
                    className: "text-gray-400 text-sm",
                    children: [f, " de ", Math.ceil(h / x)],
                  }),
                  a.jsx("button", {
                    disabled: f >= Math.ceil(h / x),
                    onClick: () => m(f + 1),
                    className:
                      "px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-md text-sm transition-colors duration-150 disabled:cursor-not-allowed",
                    children: "Próxima",
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const eL = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: JO },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  tL = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12",
      }),
    }),
  rL = () =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: "h-5 w-5 text-gray-400",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",
      }),
    }),
  sL = ({ direction: r }) =>
    a.jsx("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      className: `h-4 w-4 ml-1 transition-transform ${
        r === "desc" ? "rotate-180" : ""
      }`,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: a.jsx("path", {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M19 9l-7 7-7-7",
      }),
    }),
  nL = ({ status: r }) => {
    const e = {
        0: {
          bg: "bg-yellow-900/50",
          text: "text-yellow-400",
          border: "border-yellow-700/50",
          label: "Pendente",
        },
        1: {
          bg: "bg-green-900/50",
          text: "text-green-400",
          border: "border-green-700/50",
          label: "Aprovado",
        },
        2: {
          bg: "bg-red-900/50",
          text: "text-red-400",
          border: "border-red-700/50",
          label: "Negado",
        },
      },
      t = e[r] || e.pending;
    return a.jsx("span", {
      className: `inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${t.bg} ${t.text} border ${t.border}`,
      children: t.label,
    });
  },
  iL = ({ user: r }) =>
    a.jsx("div", {
      className:
        "w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-bold text-white ring-2 ring-gray-700",
      children: r.name.charAt(0),
    });
function aL({
  withdrawals: r,
  filters: e,
  summary: t,
  flash: s = {},
  errors: n = {},
}) {
  const [i, l] = k.useState(null),
    [c, d] = k.useState(!1),
    [f, m] = k.useState(e?.search || ""),
    [h, g] = k.useState(e?.filter_type || "user"),
    [x, v] = k.useState(e?.status || ""),
    [w, _] = k.useState(null),
    S = (R) =>
      new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(R || 0),
    T = (R) => {
      l(R), d(!0);
    },
    j = (R, O) => {
      _(R),
        vr.put(
          route("tenant.admin.withdrawals.update", R),
          { status: O },
          { preserveScroll: !0, onFinish: () => _(null) }
        );
    },
    E = (R) => {
      R.preventDefault(),
        vr.get(
          route("tenant.admin.withdrawals.index"),
          { search: f, filter_type: h, status: x },
          { preserveState: !0, replace: !0 }
        );
    },
    A = () => {
      m(""),
        g("user"),
        v(""),
        vr.get(
          route("tenant.admin.withdrawals.index"),
          {},
          { preserveState: !0, replace: !0 }
        );
    },
    M = (R) => {
      const O = e?.sort_by,
        U = e?.sort_direction;
      let q = "desc";
      O === R && U === "desc" && (q = "asc"),
        vr.get(
          route("tenant.admin.withdrawals.index"),
          {
            search: f,
            filter_type: h,
            status: x,
            sort_by: R,
            sort_direction: q,
          },
          { preserveState: !0, replace: !0 }
        );
    },
    N = ({ column: R, children: O }) =>
      a.jsx("th", {
        scope: "col",
        className:
          "px-6 py-4 cursor-pointer hover:bg-gray-700/50 transition-colors select-none",
        onClick: () => M(R),
        children: a.jsxs("div", {
          className: "flex items-center",
          children: [
            O,
            e?.sort_by === R && a.jsx(sL, { direction: e?.sort_direction }),
          ],
        }),
      });
  return a.jsxs(Ii, {
    title: "Gerenciar Saques",
    children: [
      s.success &&
        a.jsx("div", {
          className:
            "mb-6 p-4 bg-green-900/50 border border-green-700/50 text-green-300 rounded-lg shadow-lg",
          children: s.success,
        }),
      n.error &&
        a.jsx("div", {
          className:
            "mb-6 p-4 bg-red-900/50 border border-red-700/50 text-red-300 rounded-lg shadow-lg",
          children: n.error,
        }),
      a.jsxs("div", {
        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",
        children: [
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-yellow-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Pendentes",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-yellow-400 mt-2",
                    children: S(t.total_pending),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.pending_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-green-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Aprovados",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-green-400 mt-2",
                    children: S(t.total_approved),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.approved_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx("div", {
                        className: "w-2 h-2 rounded-full bg-red-400 mr-2",
                      }),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400",
                        children: "Negados",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-red-400 mt-2",
                    children: S(t.total_denied),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.denied_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
          a.jsx("div", {
            className:
              "bg-gray-900/50 border border-gray-800/50 rounded-lg p-6 backdrop-blur-sm",
            children: a.jsx("div", {
              className: "flex items-center justify-between",
              children: a.jsxs("div", {
                className: "flex-1",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center",
                    children: [
                      a.jsx(tL, {}),
                      a.jsx("h3", {
                        className: "text-sm font-medium text-gray-400 ml-2",
                        children: "Total Geral",
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-2xl font-bold text-red-400 mt-2",
                    children: S(
                      t.total_approved + t.total_pending + t.total_denied
                    ),
                  }),
                  a.jsxs("p", {
                    className: "text-xs text-gray-500 mt-1",
                    children: [t.total_count, " transações"],
                  }),
                ],
              }),
            }),
          }),
        ],
      }),
      a.jsx("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg p-6 mb-6",
        children: a.jsxs("form", {
          onSubmit: E,
          className: "flex flex-col md:flex-row gap-4",
          children: [
            a.jsx("div", {
              className: "flex-1",
              children: a.jsxs("div", {
                className: "relative",
                children: [
                  a.jsx("div", {
                    className:
                      "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",
                    children: a.jsx(rL, {}),
                  }),
                  a.jsx("input", {
                    type: "text",
                    value: f,
                    onChange: (R) => m(R.target.value),
                    placeholder: "Pesquisar saques...",
                    className:
                      "w-full bg-gray-900/50 border border-gray-700 rounded-md pl-10 pr-3 py-2 text-white placeholder-gray-400 focus:ring-gray-500 focus:border-gray-500",
                  }),
                ],
              }),
            }),
            a.jsxs("div", {
              className: "flex gap-3",
              children: [
                a.jsxs("select", {
                  value: h,
                  onChange: (R) => g(R.target.value),
                  className:
                    "bg-gray-900/50 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-gray-500 focus:border-gray-500",
                  style: {
                    color: "white",
                    backgroundColor: "rgba(17, 24, 39, 0.5)",
                    colorScheme: "dark",
                  },
                  children: [
                    a.jsx("option", {
                      value: "user",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Usuário",
                    }),
                    a.jsx("option", {
                      value: "id",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "ID",
                    }),
                    a.jsx("option", {
                      value: "amount",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Valor",
                    }),
                    a.jsx("option", {
                      value: "reference",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Referência",
                    }),
                  ],
                }),
                a.jsxs("select", {
                  value: x,
                  onChange: (R) => v(R.target.value),
                  className:
                    "bg-gray-900/50 border border-gray-700 rounded-md px-3 py-2 text-white focus:ring-gray-500 focus:border-gray-500",
                  style: {
                    color: "white",
                    backgroundColor: "rgba(17, 24, 39, 0.5)",
                    colorScheme: "dark",
                  },
                  children: [
                    a.jsx("option", {
                      value: "",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Todos os Status",
                    }),
                    a.jsx("option", {
                      value: "pending",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Pendente",
                    }),
                    a.jsx("option", {
                      value: "approved",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Aprovado",
                    }),
                    a.jsx("option", {
                      value: "denied",
                      style: {
                        color: "white",
                        backgroundColor: "rgb(17, 24, 39)",
                      },
                      children: "Negado",
                    }),
                  ],
                }),
                a.jsx("button", {
                  type: "submit",
                  className:
                    "px-4 py-2 bg-black text-white border border-gray-700 hover:bg-gray-900 rounded-md font-semibold transition-colors",
                  children: "Buscar",
                }),
                (f || h !== "user" || x || e?.sort_by) &&
                  a.jsx("button", {
                    type: "button",
                    onClick: A,
                    className:
                      "px-4 py-2 bg-gray-800/50 text-gray-300 border border-gray-700 hover:bg-gray-700/50 rounded-md transition-colors",
                    children: "Limpar",
                  }),
              ],
            }),
          ],
        }),
      }),
      a.jsxs("div", {
        className:
          "bg-black/50 backdrop-blur-xl border border-gray-700/50 rounded-lg overflow-hidden",
        children: [
          a.jsx("div", {
            className: "overflow-x-auto",
            children: a.jsxs("table", {
              className: "w-full text-sm text-left text-gray-300",
              children: [
                a.jsx("thead", {
                  className: "text-xs text-gray-200 uppercase bg-gray-800/60",
                  children: a.jsxs("tr", {
                    children: [
                      a.jsx(N, { column: "id", children: "ID" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Usuário",
                      }),
                      a.jsx(N, { column: "amount", children: "Valor" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4",
                        children: "Referência",
                      }),
                      a.jsx(N, { column: "status", children: "Status" }),
                      a.jsx(N, { column: "created_at", children: "Data" }),
                      a.jsx("th", {
                        scope: "col",
                        className: "px-6 py-4 text-right",
                        children: "Ações",
                      }),
                    ],
                  }),
                }),
                a.jsx("tbody", {
                  children:
                    r.data.length === 0
                      ? a.jsx("tr", {
                          children: a.jsx("td", {
                            colSpan: "7",
                            className: "px-6 py-8 text-center text-gray-500",
                            children: "Nenhum saque encontrado.",
                          }),
                        })
                      : r.data.map((R) =>
                          a.jsxs(
                            "tr",
                            {
                              className:
                                "border-b border-gray-700/50 hover:bg-gray-800/40 transition-colors",
                              children: [
                                a.jsxs("td", {
                                  className: "px-6 py-4 text-gray-400",
                                  children: ["#", R.id],
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsxs("div", {
                                    className: "flex items-center",
                                    children: [
                                      a.jsx(iL, { user: R.user }),
                                      a.jsxs("div", {
                                        className: "ml-3",
                                        children: [
                                          a.jsx("div", {
                                            className: "text-white font-medium",
                                            children: R.user.name,
                                          }),
                                          a.jsx("div", {
                                            className: "text-gray-400 text-xs",
                                            children: R.user.phone,
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                }),
                                a.jsx("td", {
                                  className:
                                    "px-6 py-4 text-red-400 font-semibold",
                                  children: S(R.amount),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: R.user.referrer
                                    ? R.user.referrer.name
                                    : "-",
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4",
                                  children: a.jsx(nL, { status: R.status }),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-gray-300",
                                  children: new Date(
                                    R.created_at
                                  ).toLocaleString("pt-BR"),
                                }),
                                a.jsx("td", {
                                  className: "px-6 py-4 text-right",
                                  children:
                                    R.status === 0
                                      ? w === R.id
                                        ? a.jsx("span", {
                                            className:
                                              "text-sm text-gray-400 italic",
                                            children: "Processando...",
                                          })
                                        : a.jsxs("div", {
                                            className: "flex gap-2 justify-end",
                                            children: [
                                              a.jsx("button", {
                                                onClick: () => j(R.id, 1),
                                                className:
                                                  "px-3 py-1 text-xs font-semibold text-green-300 bg-green-900/50 border border-green-700/50 rounded-md hover:bg-green-800/50 transition-colors disabled:opacity-50",
                                                disabled: w,
                                                children: "Aprovar",
                                              }),
                                              a.jsx("button", {
                                                onClick: () => j(R.id, 2),
                                                className:
                                                  "px-3 py-1 text-xs font-semibold text-red-300 bg-red-900/50 border border-red-700/50 rounded-md hover:bg-red-800/50 transition-colors disabled:opacity-50",
                                                disabled: w,
                                                children: "Negar",
                                              }),
                                            ],
                                          })
                                      : a.jsx("button", {
                                          onClick: () => T(R),
                                          className:
                                            "p-2 rounded-md text-blue-400 hover:text-blue-300 hover:bg-gray-800/60 transition-all",
                                          title: "Ver Detalhes",
                                          children: a.jsxs("svg", {
                                            xmlns: "http://www.w3.org/2000/svg",
                                            className: "h-5 w-5",
                                            fill: "none",
                                            viewBox: "0 0 24 24",
                                            stroke: "currentColor",
                                            strokeWidth: 2,
                                            children: [
                                              a.jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z",
                                              }),
                                              a.jsx("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",
                                              }),
                                            ],
                                          }),
                                        }),
                                }),
                              ],
                            },
                            R.id
                          )
                        ),
                }),
              ],
            }),
          }),
          r.links &&
            r.links.length > 3 &&
            a.jsx("div", {
              className: "px-6 py-4 border-t border-gray-700/50 bg-gray-800/30",
              children: a.jsxs("div", {
                className: "flex items-center justify-between",
                children: [
                  a.jsxs("div", {
                    className: "text-sm text-gray-400",
                    children: [
                      "Mostrando ",
                      r.from,
                      " a ",
                      r.to,
                      " de ",
                      r.total,
                      " resultados",
                    ],
                  }),
                  a.jsx("div", {
                    className: "flex space-x-1",
                    children: r.links.map((R, O) =>
                      a.jsx(
                        "button",
                        {
                          onClick: () => R.url && vr.get(R.url),
                          disabled: !R.url,
                          className: `px-3 py-1 text-sm rounded transition-colors ${
                            R.active
                              ? "bg-gray-700 text-white"
                              : R.url
                              ? "text-gray-400 hover:text-white hover:bg-gray-800/50"
                              : "text-gray-600 cursor-not-allowed"
                          }`,
                          dangerouslySetInnerHTML: { __html: R.label },
                        },
                        O
                      )
                    ),
                  }),
                ],
              }),
            }),
        ],
      }),
      a.jsx(Yg, {
        transaction: i,
        show: c,
        onClose: () => d(!1),
        type: "withdrawal",
      }),
    ],
  });
}
const oL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: aL }, Symbol.toStringTag, {
    value: "Module",
  })
);
function lL({ status: r, canResetPassword: e }) {
  const {
    data: t,
    setData: s,
    post: n,
    processing: i,
    errors: l,
    reset: c,
  } = sr({ email: "", password: "", remember: !1 });
  k.useEffect(
    () => () => {
      c("password");
    },
    []
  );
  const d = (f) => {
    f.preventDefault(), n(route("login-to-manager.store"));
  };
  return a.jsxs("div", {
    className:
      "bg-black text-white min-h-screen flex flex-col items-center justify-center p-4 relative font-sans overflow-hidden",
    children: [
      a.jsx(qr, { title: "Log in" }),
      a.jsx("div", {
        className:
          "absolute top-0 left-0 -translate-x-1/4 -translate-y-1/4 w-96 h-96 bg-purple-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      a.jsx("div", {
        className:
          "absolute bottom-0 right-0 translate-x-1/4 translate-y-1/4 w-96 h-96 bg-blue-700 rounded-full filter blur-3xl opacity-30 pointer-events-none",
      }),
      a.jsxs("div", {
        className:
          "w-full max-w-md bg-black/30 backdrop-blur-lg p-8 rounded-2xl border border-gray-800/50 z-10",
        children: [
          a.jsxs("div", {
            className: "text-center mb-8",
            children: [
              a.jsxs("h1", {
                className:
                  "text-3xl font-bold bg-gradient-to-r from-purple-500 to-blue-500 text-transparent bg-clip-text",
                children: [
                  a.jsx("center", {
                    children: a.jsxs("svg", {
                      fill: "#681ca6",
                      width: "93px",
                      height: "93px",
                      viewBox: "-3.2 -3.2 38.40 38.40",
                      version: "1.1",
                      xmlns: "http://www.w3.org/2000/svg",
                      stroke: "#681ca6",
                      transform: "matrix(-1, 0, 0, 1, 0, 0)",
                      "stroke-width": "1.408",
                      children: [
                        a.jsx("g", {
                          id: "SVGRepo_bgCarrier",
                          "stroke-width": "0",
                        }),
                        a.jsx("g", {
                          id: "SVGRepo_tracerCarrier",
                          "stroke-linecap": "round",
                          "stroke-linejoin": "round",
                        }),
                        a.jsxs("g", {
                          id: "SVGRepo_iconCarrier",
                          children: [
                            " ",
                            a.jsx("title", { children: "codeigniter" }),
                            " ",
                            a.jsx("path", {
                              d: "M15.333 1.004c1.1 1.778-0.35 4.131-1.508 5.446-1.123 1.275-2.489 2.341-3.73 3.499-1.344 1.223-2.559 2.536-3.655 3.945l-0.052 0.070c-1.75 2.074-2.814 4.776-2.814 7.727 0 0.892 0.097 1.762 0.282 2.599l-0.015-0.080c1.123 3.498 4.043 6.111 7.646 6.775l0.061 0.009c-1.922-0.827-3.285-2.62-3.485-4.751l-0.002-0.023c0.13-2.236 1.336-4.165 3.103-5.29l0.027-0.016c-0.117 0.273-0.185 0.59-0.185 0.923 0 0.48 0.141 0.928 0.384 1.303l-0.006-0.009c0.381 0.518 0.988 0.85 1.673 0.85 1.143 0 2.070-0.927 2.070-2.070 0-0.654-0.303-1.237-0.777-1.616l-0.004-0.003c-1.079-0.86-1.765-2.174-1.765-3.648 0-0.202 0.013-0.401 0.038-0.596l-0.002 0.023c0.241-0.898 0.733-1.66 1.395-2.228l0.006-0.005c-0.512 1.347 0.943 2.674 1.903 3.337 1.937 1.142 3.575 2.251 5.142 3.449l-0.123-0.090c1.567 1.206 2.567 3.083 2.567 5.194 0 0.123-0.003 0.244-0.010 0.365l0.001-0.017c-0.42 2.337-2.083 4.202-4.267 4.906l-0.045 0.012c4.526-1 9.204-4.511 9.297-9.531 0.116-3.789-2.378-7.144-6.446-9.227 0.081 0.15 0.129 0.329 0.129 0.518 0 0.238-0.075 0.459-0.204 0.64l0.002-0.003c-0.397 0.616-1.079 1.018-1.856 1.018-0.676 0-1.281-0.305-1.684-0.785l-0.003-0.003c-1.506-1.934 0.031-4.019 0.246-6.067 0.002-0.068 0.003-0.147 0.003-0.227 0-2.616-1.312-4.926-3.314-6.307l-0.026-0.017z",
                            }),
                            " ",
                          ],
                        }),
                      ],
                    }),
                  }),
                  "  ",
                ],
              }),
              a.jsx("br", {}),
              a.jsx("p", {
                className: "text-gray-400",
                children: "Faça login para acessar o painel",
              }),
            ],
          }),
          r &&
            a.jsx("div", {
              className: "mb-4 font-medium text-sm text-green-400",
              children: r,
            }),
          a.jsxs("form", {
            onSubmit: d,
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx(rr, {
                    htmlFor: "email",
                    value: "Email",
                    className: "text-gray-300",
                  }),
                  a.jsx(Xt, {
                    id: "email",
                    type: "email",
                    name: "email",
                    value: t.email,
                    className:
                      "mt-1 block w-full bg-gray-900/50 border-gray-700 text-gray-300 focus:border-purple-500 focus:ring-purple-500",
                    autoComplete: "username",
                    isFocused: !0,
                    onChange: (f) => s("email", f.target.value),
                  }),
                  a.jsx(qt, { message: l.email, className: "mt-2" }),
                ],
              }),
              a.jsxs("div", {
                className: "mt-4",
                children: [
                  a.jsx(rr, {
                    htmlFor: "password",
                    value: "Password",
                    className: "text-gray-300",
                  }),
                  a.jsx(Xt, {
                    id: "password",
                    type: "password",
                    name: "password",
                    value: t.password,
                    className:
                      "mt-1 block w-full bg-gray-900/50 border-gray-700 text-gray-300 focus:border-purple-500 focus:ring-purple-500",
                    autoComplete: "current-password",
                    onChange: (f) => s("password", f.target.value),
                  }),
                  a.jsx(qt, { message: l.password, className: "mt-2" }),
                ],
              }),
              a.jsx("div", {
                className: "block mt-4",
                children: a.jsxs("label", {
                  className: "flex items-center",
                  children: [
                    a.jsx(oT, {
                      name: "remember",
                      checked: t.remember,
                      onChange: (f) => s("remember", f.target.checked),
                      className:
                        "bg-gray-900/50 border-gray-700 text-purple-500 focus:ring-purple-500",
                    }),
                    a.jsx("span", {
                      className: "ms-2 text-sm text-gray-400",
                      children: "Remember me",
                    }),
                  ],
                }),
              }),
              a.jsx("div", {
                className: "flex items-center justify-end mt-6",
                children: a.jsx(mn, {
                  className:
                    "w-full justify-center bg-purple-600 hover:bg-purple-700 focus:bg-purple-700 active:bg-purple-800 focus:ring-purple-500",
                  disabled: i,
                  children: "Log in",
                }),
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const cL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: lL }, Symbol.toStringTag, {
    value: "Module",
  })
);
function uL() {}
const dL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: uL }, Symbol.toStringTag, {
    value: "Module",
  })
);
var Hp = {};
/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */ var t1;
function hL() {
  return (
    t1 ||
      ((t1 = 1),
      (function (r) {
        (function () {
          var e = function () {
            this.init();
          };
          e.prototype = {
            init: function () {
              var h = this || t;
              return (
                (h._counter = 1e3),
                (h._html5AudioPool = []),
                (h.html5PoolSize = 10),
                (h._codecs = {}),
                (h._howls = []),
                (h._muted = !1),
                (h._volume = 1),
                (h._canPlayEvent = "canplaythrough"),
                (h._navigator =
                  typeof window < "u" && window.navigator
                    ? window.navigator
                    : null),
                (h.masterGain = null),
                (h.noAudio = !1),
                (h.usingWebAudio = !0),
                (h.autoSuspend = !0),
                (h.ctx = null),
                (h.autoUnlock = !0),
                h._setup(),
                h
              );
            },
            volume: function (h) {
              var g = this || t;
              if (
                ((h = parseFloat(h)),
                g.ctx || m(),
                typeof h < "u" && h >= 0 && h <= 1)
              ) {
                if (((g._volume = h), g._muted)) return g;
                g.usingWebAudio &&
                  g.masterGain.gain.setValueAtTime(h, t.ctx.currentTime);
                for (var x = 0; x < g._howls.length; x++)
                  if (!g._howls[x]._webAudio)
                    for (
                      var v = g._howls[x]._getSoundIds(), w = 0;
                      w < v.length;
                      w++
                    ) {
                      var _ = g._howls[x]._soundById(v[w]);
                      _ && _._node && (_._node.volume = _._volume * h);
                    }
                return g;
              }
              return g._volume;
            },
            mute: function (h) {
              var g = this || t;
              g.ctx || m(),
                (g._muted = h),
                g.usingWebAudio &&
                  g.masterGain.gain.setValueAtTime(
                    h ? 0 : g._volume,
                    t.ctx.currentTime
                  );
              for (var x = 0; x < g._howls.length; x++)
                if (!g._howls[x]._webAudio)
                  for (
                    var v = g._howls[x]._getSoundIds(), w = 0;
                    w < v.length;
                    w++
                  ) {
                    var _ = g._howls[x]._soundById(v[w]);
                    _ && _._node && (_._node.muted = h ? !0 : _._muted);
                  }
              return g;
            },
            stop: function () {
              for (var h = this || t, g = 0; g < h._howls.length; g++)
                h._howls[g].stop();
              return h;
            },
            unload: function () {
              for (var h = this || t, g = h._howls.length - 1; g >= 0; g--)
                h._howls[g].unload();
              return (
                h.usingWebAudio &&
                  h.ctx &&
                  typeof h.ctx.close < "u" &&
                  (h.ctx.close(), (h.ctx = null), m()),
                h
              );
            },
            codecs: function (h) {
              return (this || t)._codecs[h.replace(/^x-/, "")];
            },
            _setup: function () {
              var h = this || t;
              if (
                ((h.state = (h.ctx && h.ctx.state) || "suspended"),
                h._autoSuspend(),
                !h.usingWebAudio)
              )
                if (typeof Audio < "u")
                  try {
                    var g = new Audio();
                    typeof g.oncanplaythrough > "u" &&
                      (h._canPlayEvent = "canplay");
                  } catch {
                    h.noAudio = !0;
                  }
                else h.noAudio = !0;
              try {
                var g = new Audio();
                g.muted && (h.noAudio = !0);
              } catch {}
              return h.noAudio || h._setupCodecs(), h;
            },
            _setupCodecs: function () {
              var h = this || t,
                g = null;
              try {
                g = typeof Audio < "u" ? new Audio() : null;
              } catch {
                return h;
              }
              if (!g || typeof g.canPlayType != "function") return h;
              var x = g.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                v = h._navigator ? h._navigator.userAgent : "",
                w = v.match(/OPR\/(\d+)/g),
                _ = w && parseInt(w[0].split("/")[1], 10) < 33,
                S = v.indexOf("Safari") !== -1 && v.indexOf("Chrome") === -1,
                T = v.match(/Version\/(.*?) /),
                j = S && T && parseInt(T[1], 10) < 15;
              return (
                (h._codecs = {
                  mp3: !!(
                    !_ &&
                    (x || g.canPlayType("audio/mp3;").replace(/^no$/, ""))
                  ),
                  mpeg: !!x,
                  opus: !!g
                    .canPlayType('audio/ogg; codecs="opus"')
                    .replace(/^no$/, ""),
                  ogg: !!g
                    .canPlayType('audio/ogg; codecs="vorbis"')
                    .replace(/^no$/, ""),
                  oga: !!g
                    .canPlayType('audio/ogg; codecs="vorbis"')
                    .replace(/^no$/, ""),
                  wav: !!(
                    g.canPlayType('audio/wav; codecs="1"') ||
                    g.canPlayType("audio/wav")
                  ).replace(/^no$/, ""),
                  aac: !!g.canPlayType("audio/aac;").replace(/^no$/, ""),
                  caf: !!g.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                  m4a: !!(
                    g.canPlayType("audio/x-m4a;") ||
                    g.canPlayType("audio/m4a;") ||
                    g.canPlayType("audio/aac;")
                  ).replace(/^no$/, ""),
                  m4b: !!(
                    g.canPlayType("audio/x-m4b;") ||
                    g.canPlayType("audio/m4b;") ||
                    g.canPlayType("audio/aac;")
                  ).replace(/^no$/, ""),
                  mp4: !!(
                    g.canPlayType("audio/x-mp4;") ||
                    g.canPlayType("audio/mp4;") ||
                    g.canPlayType("audio/aac;")
                  ).replace(/^no$/, ""),
                  weba: !!(
                    !j &&
                    g
                      .canPlayType('audio/webm; codecs="vorbis"')
                      .replace(/^no$/, "")
                  ),
                  webm: !!(
                    !j &&
                    g
                      .canPlayType('audio/webm; codecs="vorbis"')
                      .replace(/^no$/, "")
                  ),
                  dolby: !!g
                    .canPlayType('audio/mp4; codecs="ec-3"')
                    .replace(/^no$/, ""),
                  flac: !!(
                    g.canPlayType("audio/x-flac;") ||
                    g.canPlayType("audio/flac;")
                  ).replace(/^no$/, ""),
                }),
                h
              );
            },
            _unlockAudio: function () {
              var h = this || t;
              if (!(h._audioUnlocked || !h.ctx)) {
                (h._audioUnlocked = !1),
                  (h.autoUnlock = !1),
                  !h._mobileUnloaded &&
                    h.ctx.sampleRate !== 44100 &&
                    ((h._mobileUnloaded = !0), h.unload()),
                  (h._scratchBuffer = h.ctx.createBuffer(1, 1, 22050));
                var g = function (x) {
                  for (; h._html5AudioPool.length < h.html5PoolSize; )
                    try {
                      var v = new Audio();
                      (v._unlocked = !0), h._releaseHtml5Audio(v);
                    } catch {
                      h.noAudio = !0;
                      break;
                    }
                  for (var w = 0; w < h._howls.length; w++)
                    if (!h._howls[w]._webAudio)
                      for (
                        var _ = h._howls[w]._getSoundIds(), S = 0;
                        S < _.length;
                        S++
                      ) {
                        var T = h._howls[w]._soundById(_[S]);
                        T &&
                          T._node &&
                          !T._node._unlocked &&
                          ((T._node._unlocked = !0), T._node.load());
                      }
                  h._autoResume();
                  var j = h.ctx.createBufferSource();
                  (j.buffer = h._scratchBuffer),
                    j.connect(h.ctx.destination),
                    typeof j.start > "u" ? j.noteOn(0) : j.start(0),
                    typeof h.ctx.resume == "function" && h.ctx.resume(),
                    (j.onended = function () {
                      j.disconnect(0),
                        (h._audioUnlocked = !0),
                        document.removeEventListener("touchstart", g, !0),
                        document.removeEventListener("touchend", g, !0),
                        document.removeEventListener("click", g, !0),
                        document.removeEventListener("keydown", g, !0);
                      for (var E = 0; E < h._howls.length; E++)
                        h._howls[E]._emit("unlock");
                    });
                };
                return (
                  document.addEventListener("touchstart", g, !0),
                  document.addEventListener("touchend", g, !0),
                  document.addEventListener("click", g, !0),
                  document.addEventListener("keydown", g, !0),
                  h
                );
              }
            },
            _obtainHtml5Audio: function () {
              var h = this || t;
              if (h._html5AudioPool.length) return h._html5AudioPool.pop();
              var g = new Audio().play();
              return (
                g &&
                  typeof Promise < "u" &&
                  (g instanceof Promise || typeof g.then == "function") &&
                  g.catch(function () {
                    console.warn(
                      "HTML5 Audio pool exhausted, returning potentially locked audio object."
                    );
                  }),
                new Audio()
              );
            },
            _releaseHtml5Audio: function (h) {
              var g = this || t;
              return h._unlocked && g._html5AudioPool.push(h), g;
            },
            _autoSuspend: function () {
              var h = this;
              if (
                !(
                  !h.autoSuspend ||
                  !h.ctx ||
                  typeof h.ctx.suspend > "u" ||
                  !t.usingWebAudio
                )
              ) {
                for (var g = 0; g < h._howls.length; g++)
                  if (h._howls[g]._webAudio) {
                    for (var x = 0; x < h._howls[g]._sounds.length; x++)
                      if (!h._howls[g]._sounds[x]._paused) return h;
                  }
                return (
                  h._suspendTimer && clearTimeout(h._suspendTimer),
                  (h._suspendTimer = setTimeout(function () {
                    if (h.autoSuspend) {
                      (h._suspendTimer = null), (h.state = "suspending");
                      var v = function () {
                        (h.state = "suspended"),
                          h._resumeAfterSuspend &&
                            (delete h._resumeAfterSuspend, h._autoResume());
                      };
                      h.ctx.suspend().then(v, v);
                    }
                  }, 3e4)),
                  h
                );
              }
            },
            _autoResume: function () {
              var h = this;
              if (!(!h.ctx || typeof h.ctx.resume > "u" || !t.usingWebAudio))
                return (
                  h.state === "running" &&
                  h.ctx.state !== "interrupted" &&
                  h._suspendTimer
                    ? (clearTimeout(h._suspendTimer), (h._suspendTimer = null))
                    : h.state === "suspended" ||
                      (h.state === "running" && h.ctx.state === "interrupted")
                    ? (h.ctx.resume().then(function () {
                        h.state = "running";
                        for (var g = 0; g < h._howls.length; g++)
                          h._howls[g]._emit("resume");
                      }),
                      h._suspendTimer &&
                        (clearTimeout(h._suspendTimer),
                        (h._suspendTimer = null)))
                    : h.state === "suspending" && (h._resumeAfterSuspend = !0),
                  h
                );
            },
          };
          var t = new e(),
            s = function (h) {
              var g = this;
              if (!h.src || h.src.length === 0) {
                console.error(
                  "An array of source files must be passed with any new Howl."
                );
                return;
              }
              g.init(h);
            };
          s.prototype = {
            init: function (h) {
              var g = this;
              return (
                t.ctx || m(),
                (g._autoplay = h.autoplay || !1),
                (g._format =
                  typeof h.format != "string" ? h.format : [h.format]),
                (g._html5 = h.html5 || !1),
                (g._muted = h.mute || !1),
                (g._loop = h.loop || !1),
                (g._pool = h.pool || 5),
                (g._preload =
                  typeof h.preload == "boolean" || h.preload === "metadata"
                    ? h.preload
                    : !0),
                (g._rate = h.rate || 1),
                (g._sprite = h.sprite || {}),
                (g._src = typeof h.src != "string" ? h.src : [h.src]),
                (g._volume = h.volume !== void 0 ? h.volume : 1),
                (g._xhr = {
                  method: h.xhr && h.xhr.method ? h.xhr.method : "GET",
                  headers: h.xhr && h.xhr.headers ? h.xhr.headers : null,
                  withCredentials:
                    h.xhr && h.xhr.withCredentials ? h.xhr.withCredentials : !1,
                }),
                (g._duration = 0),
                (g._state = "unloaded"),
                (g._sounds = []),
                (g._endTimers = {}),
                (g._queue = []),
                (g._playLock = !1),
                (g._onend = h.onend ? [{ fn: h.onend }] : []),
                (g._onfade = h.onfade ? [{ fn: h.onfade }] : []),
                (g._onload = h.onload ? [{ fn: h.onload }] : []),
                (g._onloaderror = h.onloaderror ? [{ fn: h.onloaderror }] : []),
                (g._onplayerror = h.onplayerror ? [{ fn: h.onplayerror }] : []),
                (g._onpause = h.onpause ? [{ fn: h.onpause }] : []),
                (g._onplay = h.onplay ? [{ fn: h.onplay }] : []),
                (g._onstop = h.onstop ? [{ fn: h.onstop }] : []),
                (g._onmute = h.onmute ? [{ fn: h.onmute }] : []),
                (g._onvolume = h.onvolume ? [{ fn: h.onvolume }] : []),
                (g._onrate = h.onrate ? [{ fn: h.onrate }] : []),
                (g._onseek = h.onseek ? [{ fn: h.onseek }] : []),
                (g._onunlock = h.onunlock ? [{ fn: h.onunlock }] : []),
                (g._onresume = []),
                (g._webAudio = t.usingWebAudio && !g._html5),
                typeof t.ctx < "u" && t.ctx && t.autoUnlock && t._unlockAudio(),
                t._howls.push(g),
                g._autoplay &&
                  g._queue.push({
                    event: "play",
                    action: function () {
                      g.play();
                    },
                  }),
                g._preload && g._preload !== "none" && g.load(),
                g
              );
            },
            load: function () {
              var h = this,
                g = null;
              if (t.noAudio) {
                h._emit("loaderror", null, "No audio support.");
                return;
              }
              typeof h._src == "string" && (h._src = [h._src]);
              for (var x = 0; x < h._src.length; x++) {
                var v, w;
                if (h._format && h._format[x]) v = h._format[x];
                else {
                  if (((w = h._src[x]), typeof w != "string")) {
                    h._emit(
                      "loaderror",
                      null,
                      "Non-string found in selected audio sources - ignoring."
                    );
                    continue;
                  }
                  (v = /^data:audio\/([^;,]+);/i.exec(w)),
                    v || (v = /\.([^.]+)$/.exec(w.split("?", 1)[0])),
                    v && (v = v[1].toLowerCase());
                }
                if (
                  (v ||
                    console.warn(
                      'No file extension was found. Consider using the "format" property or specify an extension.'
                    ),
                  v && t.codecs(v))
                ) {
                  g = h._src[x];
                  break;
                }
              }
              if (!g) {
                h._emit(
                  "loaderror",
                  null,
                  "No codec support for selected audio sources."
                );
                return;
              }
              return (
                (h._src = g),
                (h._state = "loading"),
                window.location.protocol === "https:" &&
                  g.slice(0, 5) === "http:" &&
                  ((h._html5 = !0), (h._webAudio = !1)),
                new n(h),
                h._webAudio && l(h),
                h
              );
            },
            play: function (h, g) {
              var x = this,
                v = null;
              if (typeof h == "number") (v = h), (h = null);
              else {
                if (
                  typeof h == "string" &&
                  x._state === "loaded" &&
                  !x._sprite[h]
                )
                  return null;
                if (typeof h > "u" && ((h = "__default"), !x._playLock)) {
                  for (var w = 0, _ = 0; _ < x._sounds.length; _++)
                    x._sounds[_]._paused &&
                      !x._sounds[_]._ended &&
                      (w++, (v = x._sounds[_]._id));
                  w === 1 ? (h = null) : (v = null);
                }
              }
              var S = v ? x._soundById(v) : x._inactiveSound();
              if (!S) return null;
              if (
                (v && !h && (h = S._sprite || "__default"),
                x._state !== "loaded")
              ) {
                (S._sprite = h), (S._ended = !1);
                var T = S._id;
                return (
                  x._queue.push({
                    event: "play",
                    action: function () {
                      x.play(T);
                    },
                  }),
                  T
                );
              }
              if (v && !S._paused) return g || x._loadQueue("play"), S._id;
              x._webAudio && t._autoResume();
              var j = Math.max(
                  0,
                  S._seek > 0 ? S._seek : x._sprite[h][0] / 1e3
                ),
                E = Math.max(0, (x._sprite[h][0] + x._sprite[h][1]) / 1e3 - j),
                A = (E * 1e3) / Math.abs(S._rate),
                M = x._sprite[h][0] / 1e3,
                N = (x._sprite[h][0] + x._sprite[h][1]) / 1e3;
              (S._sprite = h), (S._ended = !1);
              var R = function () {
                (S._paused = !1),
                  (S._seek = j),
                  (S._start = M),
                  (S._stop = N),
                  (S._loop = !!(S._loop || x._sprite[h][2]));
              };
              if (j >= N) {
                x._ended(S);
                return;
              }
              var O = S._node;
              if (x._webAudio) {
                var U = function () {
                  (x._playLock = !1), R(), x._refreshBuffer(S);
                  var Z = S._muted || x._muted ? 0 : S._volume;
                  O.gain.setValueAtTime(Z, t.ctx.currentTime),
                    (S._playStart = t.ctx.currentTime),
                    typeof O.bufferSource.start > "u"
                      ? S._loop
                        ? O.bufferSource.noteGrainOn(0, j, 86400)
                        : O.bufferSource.noteGrainOn(0, j, E)
                      : S._loop
                      ? O.bufferSource.start(0, j, 86400)
                      : O.bufferSource.start(0, j, E),
                    A !== 1 / 0 &&
                      (x._endTimers[S._id] = setTimeout(
                        x._ended.bind(x, S),
                        A
                      )),
                    g ||
                      setTimeout(function () {
                        x._emit("play", S._id), x._loadQueue();
                      }, 0);
                };
                t.state === "running" && t.ctx.state !== "interrupted"
                  ? U()
                  : ((x._playLock = !0),
                    x.once("resume", U),
                    x._clearTimer(S._id));
              } else {
                var q = function () {
                  (O.currentTime = j),
                    (O.muted = S._muted || x._muted || t._muted || O.muted),
                    (O.volume = S._volume * t.volume()),
                    (O.playbackRate = S._rate);
                  try {
                    var Z = O.play();
                    if (
                      (Z &&
                      typeof Promise < "u" &&
                      (Z instanceof Promise || typeof Z.then == "function")
                        ? ((x._playLock = !0),
                          R(),
                          Z.then(function () {
                            (x._playLock = !1),
                              (O._unlocked = !0),
                              g ? x._loadQueue() : x._emit("play", S._id);
                          }).catch(function () {
                            (x._playLock = !1),
                              x._emit(
                                "playerror",
                                S._id,
                                "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."
                              ),
                              (S._ended = !0),
                              (S._paused = !0);
                          }))
                        : g ||
                          ((x._playLock = !1), R(), x._emit("play", S._id)),
                      (O.playbackRate = S._rate),
                      O.paused)
                    ) {
                      x._emit(
                        "playerror",
                        S._id,
                        "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."
                      );
                      return;
                    }
                    h !== "__default" || S._loop
                      ? (x._endTimers[S._id] = setTimeout(
                          x._ended.bind(x, S),
                          A
                        ))
                      : ((x._endTimers[S._id] = function () {
                          x._ended(S),
                            O.removeEventListener(
                              "ended",
                              x._endTimers[S._id],
                              !1
                            );
                        }),
                        O.addEventListener("ended", x._endTimers[S._id], !1));
                  } catch (pe) {
                    x._emit("playerror", S._id, pe);
                  }
                };
                O.src ===
                  "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" &&
                  ((O.src = x._src), O.load());
                var Q =
                  (window && window.ejecta) ||
                  (!O.readyState && t._navigator.isCocoonJS);
                if (O.readyState >= 3 || Q) q();
                else {
                  (x._playLock = !0), (x._state = "loading");
                  var z = function () {
                    (x._state = "loaded"),
                      q(),
                      O.removeEventListener(t._canPlayEvent, z, !1);
                  };
                  O.addEventListener(t._canPlayEvent, z, !1),
                    x._clearTimer(S._id);
                }
              }
              return S._id;
            },
            pause: function (h) {
              var g = this;
              if (g._state !== "loaded" || g._playLock)
                return (
                  g._queue.push({
                    event: "pause",
                    action: function () {
                      g.pause(h);
                    },
                  }),
                  g
                );
              for (var x = g._getSoundIds(h), v = 0; v < x.length; v++) {
                g._clearTimer(x[v]);
                var w = g._soundById(x[v]);
                if (
                  w &&
                  !w._paused &&
                  ((w._seek = g.seek(x[v])),
                  (w._rateSeek = 0),
                  (w._paused = !0),
                  g._stopFade(x[v]),
                  w._node)
                )
                  if (g._webAudio) {
                    if (!w._node.bufferSource) continue;
                    typeof w._node.bufferSource.stop > "u"
                      ? w._node.bufferSource.noteOff(0)
                      : w._node.bufferSource.stop(0),
                      g._cleanBuffer(w._node);
                  } else
                    (!isNaN(w._node.duration) || w._node.duration === 1 / 0) &&
                      w._node.pause();
                arguments[1] || g._emit("pause", w ? w._id : null);
              }
              return g;
            },
            stop: function (h, g) {
              var x = this;
              if (x._state !== "loaded" || x._playLock)
                return (
                  x._queue.push({
                    event: "stop",
                    action: function () {
                      x.stop(h);
                    },
                  }),
                  x
                );
              for (var v = x._getSoundIds(h), w = 0; w < v.length; w++) {
                x._clearTimer(v[w]);
                var _ = x._soundById(v[w]);
                _ &&
                  ((_._seek = _._start || 0),
                  (_._rateSeek = 0),
                  (_._paused = !0),
                  (_._ended = !0),
                  x._stopFade(v[w]),
                  _._node &&
                    (x._webAudio
                      ? _._node.bufferSource &&
                        (typeof _._node.bufferSource.stop > "u"
                          ? _._node.bufferSource.noteOff(0)
                          : _._node.bufferSource.stop(0),
                        x._cleanBuffer(_._node))
                      : (!isNaN(_._node.duration) ||
                          _._node.duration === 1 / 0) &&
                        ((_._node.currentTime = _._start || 0),
                        _._node.pause(),
                        _._node.duration === 1 / 0 && x._clearSound(_._node))),
                  g || x._emit("stop", _._id));
              }
              return x;
            },
            mute: function (h, g) {
              var x = this;
              if (x._state !== "loaded" || x._playLock)
                return (
                  x._queue.push({
                    event: "mute",
                    action: function () {
                      x.mute(h, g);
                    },
                  }),
                  x
                );
              if (typeof g > "u")
                if (typeof h == "boolean") x._muted = h;
                else return x._muted;
              for (var v = x._getSoundIds(g), w = 0; w < v.length; w++) {
                var _ = x._soundById(v[w]);
                _ &&
                  ((_._muted = h),
                  _._interval && x._stopFade(_._id),
                  x._webAudio && _._node
                    ? _._node.gain.setValueAtTime(
                        h ? 0 : _._volume,
                        t.ctx.currentTime
                      )
                    : _._node && (_._node.muted = t._muted ? !0 : h),
                  x._emit("mute", _._id));
              }
              return x;
            },
            volume: function () {
              var h = this,
                g = arguments,
                x,
                v;
              if (g.length === 0) return h._volume;
              if (g.length === 1 || (g.length === 2 && typeof g[1] > "u")) {
                var w = h._getSoundIds(),
                  _ = w.indexOf(g[0]);
                _ >= 0 ? (v = parseInt(g[0], 10)) : (x = parseFloat(g[0]));
              } else
                g.length >= 2 &&
                  ((x = parseFloat(g[0])), (v = parseInt(g[1], 10)));
              var S;
              if (typeof x < "u" && x >= 0 && x <= 1) {
                if (h._state !== "loaded" || h._playLock)
                  return (
                    h._queue.push({
                      event: "volume",
                      action: function () {
                        h.volume.apply(h, g);
                      },
                    }),
                    h
                  );
                typeof v > "u" && (h._volume = x), (v = h._getSoundIds(v));
                for (var T = 0; T < v.length; T++)
                  (S = h._soundById(v[T])),
                    S &&
                      ((S._volume = x),
                      g[2] || h._stopFade(v[T]),
                      h._webAudio && S._node && !S._muted
                        ? S._node.gain.setValueAtTime(x, t.ctx.currentTime)
                        : S._node &&
                          !S._muted &&
                          (S._node.volume = x * t.volume()),
                      h._emit("volume", S._id));
              } else
                return (
                  (S = v ? h._soundById(v) : h._sounds[0]), S ? S._volume : 0
                );
              return h;
            },
            fade: function (h, g, x, v) {
              var w = this;
              if (w._state !== "loaded" || w._playLock)
                return (
                  w._queue.push({
                    event: "fade",
                    action: function () {
                      w.fade(h, g, x, v);
                    },
                  }),
                  w
                );
              (h = Math.min(Math.max(0, parseFloat(h)), 1)),
                (g = Math.min(Math.max(0, parseFloat(g)), 1)),
                (x = parseFloat(x)),
                w.volume(h, v);
              for (var _ = w._getSoundIds(v), S = 0; S < _.length; S++) {
                var T = w._soundById(_[S]);
                if (T) {
                  if ((v || w._stopFade(_[S]), w._webAudio && !T._muted)) {
                    var j = t.ctx.currentTime,
                      E = j + x / 1e3;
                    (T._volume = h),
                      T._node.gain.setValueAtTime(h, j),
                      T._node.gain.linearRampToValueAtTime(g, E);
                  }
                  w._startFadeInterval(T, h, g, x, _[S], typeof v > "u");
                }
              }
              return w;
            },
            _startFadeInterval: function (h, g, x, v, w, _) {
              var S = this,
                T = g,
                j = x - g,
                E = Math.abs(j / 0.01),
                A = Math.max(4, E > 0 ? v / E : v),
                M = Date.now();
              (h._fadeTo = x),
                (h._interval = setInterval(function () {
                  var N = (Date.now() - M) / v;
                  (M = Date.now()),
                    (T += j * N),
                    (T = Math.round(T * 100) / 100),
                    j < 0 ? (T = Math.max(x, T)) : (T = Math.min(x, T)),
                    S._webAudio ? (h._volume = T) : S.volume(T, h._id, !0),
                    _ && (S._volume = T),
                    ((x < g && T <= x) || (x > g && T >= x)) &&
                      (clearInterval(h._interval),
                      (h._interval = null),
                      (h._fadeTo = null),
                      S.volume(x, h._id),
                      S._emit("fade", h._id));
                }, A));
            },
            _stopFade: function (h) {
              var g = this,
                x = g._soundById(h);
              return (
                x &&
                  x._interval &&
                  (g._webAudio &&
                    x._node.gain.cancelScheduledValues(t.ctx.currentTime),
                  clearInterval(x._interval),
                  (x._interval = null),
                  g.volume(x._fadeTo, h),
                  (x._fadeTo = null),
                  g._emit("fade", h)),
                g
              );
            },
            loop: function () {
              var h = this,
                g = arguments,
                x,
                v,
                w;
              if (g.length === 0) return h._loop;
              if (g.length === 1)
                if (typeof g[0] == "boolean") (x = g[0]), (h._loop = x);
                else
                  return (
                    (w = h._soundById(parseInt(g[0], 10))), w ? w._loop : !1
                  );
              else g.length === 2 && ((x = g[0]), (v = parseInt(g[1], 10)));
              for (var _ = h._getSoundIds(v), S = 0; S < _.length; S++)
                (w = h._soundById(_[S])),
                  w &&
                    ((w._loop = x),
                    h._webAudio &&
                      w._node &&
                      w._node.bufferSource &&
                      ((w._node.bufferSource.loop = x),
                      x &&
                        ((w._node.bufferSource.loopStart = w._start || 0),
                        (w._node.bufferSource.loopEnd = w._stop),
                        h.playing(_[S]) &&
                          (h.pause(_[S], !0), h.play(_[S], !0)))));
              return h;
            },
            rate: function () {
              var h = this,
                g = arguments,
                x,
                v;
              if (g.length === 0) v = h._sounds[0]._id;
              else if (g.length === 1) {
                var w = h._getSoundIds(),
                  _ = w.indexOf(g[0]);
                _ >= 0 ? (v = parseInt(g[0], 10)) : (x = parseFloat(g[0]));
              } else
                g.length === 2 &&
                  ((x = parseFloat(g[0])), (v = parseInt(g[1], 10)));
              var S;
              if (typeof x == "number") {
                if (h._state !== "loaded" || h._playLock)
                  return (
                    h._queue.push({
                      event: "rate",
                      action: function () {
                        h.rate.apply(h, g);
                      },
                    }),
                    h
                  );
                typeof v > "u" && (h._rate = x), (v = h._getSoundIds(v));
                for (var T = 0; T < v.length; T++)
                  if (((S = h._soundById(v[T])), S)) {
                    h.playing(v[T]) &&
                      ((S._rateSeek = h.seek(v[T])),
                      (S._playStart = h._webAudio
                        ? t.ctx.currentTime
                        : S._playStart)),
                      (S._rate = x),
                      h._webAudio && S._node && S._node.bufferSource
                        ? S._node.bufferSource.playbackRate.setValueAtTime(
                            x,
                            t.ctx.currentTime
                          )
                        : S._node && (S._node.playbackRate = x);
                    var j = h.seek(v[T]),
                      E =
                        (h._sprite[S._sprite][0] + h._sprite[S._sprite][1]) /
                          1e3 -
                        j,
                      A = (E * 1e3) / Math.abs(S._rate);
                    (h._endTimers[v[T]] || !S._paused) &&
                      (h._clearTimer(v[T]),
                      (h._endTimers[v[T]] = setTimeout(
                        h._ended.bind(h, S),
                        A
                      ))),
                      h._emit("rate", S._id);
                  }
              } else return (S = h._soundById(v)), S ? S._rate : h._rate;
              return h;
            },
            seek: function () {
              var h = this,
                g = arguments,
                x,
                v;
              if (g.length === 0) h._sounds.length && (v = h._sounds[0]._id);
              else if (g.length === 1) {
                var w = h._getSoundIds(),
                  _ = w.indexOf(g[0]);
                _ >= 0
                  ? (v = parseInt(g[0], 10))
                  : h._sounds.length &&
                    ((v = h._sounds[0]._id), (x = parseFloat(g[0])));
              } else
                g.length === 2 &&
                  ((x = parseFloat(g[0])), (v = parseInt(g[1], 10)));
              if (typeof v > "u") return 0;
              if (
                typeof x == "number" &&
                (h._state !== "loaded" || h._playLock)
              )
                return (
                  h._queue.push({
                    event: "seek",
                    action: function () {
                      h.seek.apply(h, g);
                    },
                  }),
                  h
                );
              var S = h._soundById(v);
              if (S)
                if (typeof x == "number" && x >= 0) {
                  var T = h.playing(v);
                  T && h.pause(v, !0),
                    (S._seek = x),
                    (S._ended = !1),
                    h._clearTimer(v),
                    !h._webAudio &&
                      S._node &&
                      !isNaN(S._node.duration) &&
                      (S._node.currentTime = x);
                  var j = function () {
                    T && h.play(v, !0), h._emit("seek", v);
                  };
                  if (T && !h._webAudio) {
                    var E = function () {
                      h._playLock ? setTimeout(E, 0) : j();
                    };
                    setTimeout(E, 0);
                  } else j();
                } else if (h._webAudio) {
                  var A = h.playing(v) ? t.ctx.currentTime - S._playStart : 0,
                    M = S._rateSeek ? S._rateSeek - S._seek : 0;
                  return S._seek + (M + A * Math.abs(S._rate));
                } else return S._node.currentTime;
              return h;
            },
            playing: function (h) {
              var g = this;
              if (typeof h == "number") {
                var x = g._soundById(h);
                return x ? !x._paused : !1;
              }
              for (var v = 0; v < g._sounds.length; v++)
                if (!g._sounds[v]._paused) return !0;
              return !1;
            },
            duration: function (h) {
              var g = this,
                x = g._duration,
                v = g._soundById(h);
              return v && (x = g._sprite[v._sprite][1] / 1e3), x;
            },
            state: function () {
              return this._state;
            },
            unload: function () {
              for (var h = this, g = h._sounds, x = 0; x < g.length; x++)
                g[x]._paused || h.stop(g[x]._id),
                  h._webAudio ||
                    (h._clearSound(g[x]._node),
                    g[x]._node.removeEventListener("error", g[x]._errorFn, !1),
                    g[x]._node.removeEventListener(
                      t._canPlayEvent,
                      g[x]._loadFn,
                      !1
                    ),
                    g[x]._node.removeEventListener("ended", g[x]._endFn, !1),
                    t._releaseHtml5Audio(g[x]._node)),
                  delete g[x]._node,
                  h._clearTimer(g[x]._id);
              var v = t._howls.indexOf(h);
              v >= 0 && t._howls.splice(v, 1);
              var w = !0;
              for (x = 0; x < t._howls.length; x++)
                if (
                  t._howls[x]._src === h._src ||
                  h._src.indexOf(t._howls[x]._src) >= 0
                ) {
                  w = !1;
                  break;
                }
              return (
                i && w && delete i[h._src],
                (t.noAudio = !1),
                (h._state = "unloaded"),
                (h._sounds = []),
                (h = null),
                null
              );
            },
            on: function (h, g, x, v) {
              var w = this,
                _ = w["_on" + h];
              return (
                typeof g == "function" &&
                  _.push(v ? { id: x, fn: g, once: v } : { id: x, fn: g }),
                w
              );
            },
            off: function (h, g, x) {
              var v = this,
                w = v["_on" + h],
                _ = 0;
              if ((typeof g == "number" && ((x = g), (g = null)), g || x))
                for (_ = 0; _ < w.length; _++) {
                  var S = x === w[_].id;
                  if ((g === w[_].fn && S) || (!g && S)) {
                    w.splice(_, 1);
                    break;
                  }
                }
              else if (h) v["_on" + h] = [];
              else {
                var T = Object.keys(v);
                for (_ = 0; _ < T.length; _++)
                  T[_].indexOf("_on") === 0 &&
                    Array.isArray(v[T[_]]) &&
                    (v[T[_]] = []);
              }
              return v;
            },
            once: function (h, g, x) {
              var v = this;
              return v.on(h, g, x, 1), v;
            },
            _emit: function (h, g, x) {
              for (
                var v = this, w = v["_on" + h], _ = w.length - 1;
                _ >= 0;
                _--
              )
                (!w[_].id || w[_].id === g || h === "load") &&
                  (setTimeout(
                    function (S) {
                      S.call(this, g, x);
                    }.bind(v, w[_].fn),
                    0
                  ),
                  w[_].once && v.off(h, w[_].fn, w[_].id));
              return v._loadQueue(h), v;
            },
            _loadQueue: function (h) {
              var g = this;
              if (g._queue.length > 0) {
                var x = g._queue[0];
                x.event === h && (g._queue.shift(), g._loadQueue()),
                  h || x.action();
              }
              return g;
            },
            _ended: function (h) {
              var g = this,
                x = h._sprite;
              if (
                !g._webAudio &&
                h._node &&
                !h._node.paused &&
                !h._node.ended &&
                h._node.currentTime < h._stop
              )
                return setTimeout(g._ended.bind(g, h), 100), g;
              var v = !!(h._loop || g._sprite[x][2]);
              if (
                (g._emit("end", h._id),
                !g._webAudio && v && g.stop(h._id, !0).play(h._id),
                g._webAudio && v)
              ) {
                g._emit("play", h._id),
                  (h._seek = h._start || 0),
                  (h._rateSeek = 0),
                  (h._playStart = t.ctx.currentTime);
                var w = ((h._stop - h._start) * 1e3) / Math.abs(h._rate);
                g._endTimers[h._id] = setTimeout(g._ended.bind(g, h), w);
              }
              return (
                g._webAudio &&
                  !v &&
                  ((h._paused = !0),
                  (h._ended = !0),
                  (h._seek = h._start || 0),
                  (h._rateSeek = 0),
                  g._clearTimer(h._id),
                  g._cleanBuffer(h._node),
                  t._autoSuspend()),
                !g._webAudio && !v && g.stop(h._id, !0),
                g
              );
            },
            _clearTimer: function (h) {
              var g = this;
              if (g._endTimers[h]) {
                if (typeof g._endTimers[h] != "function")
                  clearTimeout(g._endTimers[h]);
                else {
                  var x = g._soundById(h);
                  x &&
                    x._node &&
                    x._node.removeEventListener("ended", g._endTimers[h], !1);
                }
                delete g._endTimers[h];
              }
              return g;
            },
            _soundById: function (h) {
              for (var g = this, x = 0; x < g._sounds.length; x++)
                if (h === g._sounds[x]._id) return g._sounds[x];
              return null;
            },
            _inactiveSound: function () {
              var h = this;
              h._drain();
              for (var g = 0; g < h._sounds.length; g++)
                if (h._sounds[g]._ended) return h._sounds[g].reset();
              return new n(h);
            },
            _drain: function () {
              var h = this,
                g = h._pool,
                x = 0,
                v = 0;
              if (!(h._sounds.length < g)) {
                for (v = 0; v < h._sounds.length; v++)
                  h._sounds[v]._ended && x++;
                for (v = h._sounds.length - 1; v >= 0; v--) {
                  if (x <= g) return;
                  h._sounds[v]._ended &&
                    (h._webAudio &&
                      h._sounds[v]._node &&
                      h._sounds[v]._node.disconnect(0),
                    h._sounds.splice(v, 1),
                    x--);
                }
              }
            },
            _getSoundIds: function (h) {
              var g = this;
              if (typeof h > "u") {
                for (var x = [], v = 0; v < g._sounds.length; v++)
                  x.push(g._sounds[v]._id);
                return x;
              } else return [h];
            },
            _refreshBuffer: function (h) {
              var g = this;
              return (
                (h._node.bufferSource = t.ctx.createBufferSource()),
                (h._node.bufferSource.buffer = i[g._src]),
                h._panner
                  ? h._node.bufferSource.connect(h._panner)
                  : h._node.bufferSource.connect(h._node),
                (h._node.bufferSource.loop = h._loop),
                h._loop &&
                  ((h._node.bufferSource.loopStart = h._start || 0),
                  (h._node.bufferSource.loopEnd = h._stop || 0)),
                h._node.bufferSource.playbackRate.setValueAtTime(
                  h._rate,
                  t.ctx.currentTime
                ),
                g
              );
            },
            _cleanBuffer: function (h) {
              var g = this,
                x = t._navigator && t._navigator.vendor.indexOf("Apple") >= 0;
              if (!h.bufferSource) return g;
              if (
                t._scratchBuffer &&
                h.bufferSource &&
                ((h.bufferSource.onended = null),
                h.bufferSource.disconnect(0),
                x)
              )
                try {
                  h.bufferSource.buffer = t._scratchBuffer;
                } catch {}
              return (h.bufferSource = null), g;
            },
            _clearSound: function (h) {
              var g = /MSIE |Trident\//.test(
                t._navigator && t._navigator.userAgent
              );
              g ||
                (h.src =
                  "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA");
            },
          };
          var n = function (h) {
            (this._parent = h), this.init();
          };
          n.prototype = {
            init: function () {
              var h = this,
                g = h._parent;
              return (
                (h._muted = g._muted),
                (h._loop = g._loop),
                (h._volume = g._volume),
                (h._rate = g._rate),
                (h._seek = 0),
                (h._paused = !0),
                (h._ended = !0),
                (h._sprite = "__default"),
                (h._id = ++t._counter),
                g._sounds.push(h),
                h.create(),
                h
              );
            },
            create: function () {
              var h = this,
                g = h._parent,
                x = t._muted || h._muted || h._parent._muted ? 0 : h._volume;
              return (
                g._webAudio
                  ? ((h._node =
                      typeof t.ctx.createGain > "u"
                        ? t.ctx.createGainNode()
                        : t.ctx.createGain()),
                    h._node.gain.setValueAtTime(x, t.ctx.currentTime),
                    (h._node.paused = !0),
                    h._node.connect(t.masterGain))
                  : t.noAudio ||
                    ((h._node = t._obtainHtml5Audio()),
                    (h._errorFn = h._errorListener.bind(h)),
                    h._node.addEventListener("error", h._errorFn, !1),
                    (h._loadFn = h._loadListener.bind(h)),
                    h._node.addEventListener(t._canPlayEvent, h._loadFn, !1),
                    (h._endFn = h._endListener.bind(h)),
                    h._node.addEventListener("ended", h._endFn, !1),
                    (h._node.src = g._src),
                    (h._node.preload = g._preload === !0 ? "auto" : g._preload),
                    (h._node.volume = x * t.volume()),
                    h._node.load()),
                h
              );
            },
            reset: function () {
              var h = this,
                g = h._parent;
              return (
                (h._muted = g._muted),
                (h._loop = g._loop),
                (h._volume = g._volume),
                (h._rate = g._rate),
                (h._seek = 0),
                (h._rateSeek = 0),
                (h._paused = !0),
                (h._ended = !0),
                (h._sprite = "__default"),
                (h._id = ++t._counter),
                h
              );
            },
            _errorListener: function () {
              var h = this;
              h._parent._emit(
                "loaderror",
                h._id,
                h._node.error ? h._node.error.code : 0
              ),
                h._node.removeEventListener("error", h._errorFn, !1);
            },
            _loadListener: function () {
              var h = this,
                g = h._parent;
              (g._duration = Math.ceil(h._node.duration * 10) / 10),
                Object.keys(g._sprite).length === 0 &&
                  (g._sprite = { __default: [0, g._duration * 1e3] }),
                g._state !== "loaded" &&
                  ((g._state = "loaded"), g._emit("load"), g._loadQueue()),
                h._node.removeEventListener(t._canPlayEvent, h._loadFn, !1);
            },
            _endListener: function () {
              var h = this,
                g = h._parent;
              g._duration === 1 / 0 &&
                ((g._duration = Math.ceil(h._node.duration * 10) / 10),
                g._sprite.__default[1] === 1 / 0 &&
                  (g._sprite.__default[1] = g._duration * 1e3),
                g._ended(h)),
                h._node.removeEventListener("ended", h._endFn, !1);
            },
          };
          var i = {},
            l = function (h) {
              var g = h._src;
              if (i[g]) {
                (h._duration = i[g].duration), f(h);
                return;
              }
              if (/^data:[^;]+;base64,/.test(g)) {
                for (
                  var x = atob(g.split(",")[1]),
                    v = new Uint8Array(x.length),
                    w = 0;
                  w < x.length;
                  ++w
                )
                  v[w] = x.charCodeAt(w);
                d(v.buffer, h);
              } else {
                var _ = new XMLHttpRequest();
                _.open(h._xhr.method, g, !0),
                  (_.withCredentials = h._xhr.withCredentials),
                  (_.responseType = "arraybuffer"),
                  h._xhr.headers &&
                    Object.keys(h._xhr.headers).forEach(function (S) {
                      _.setRequestHeader(S, h._xhr.headers[S]);
                    }),
                  (_.onload = function () {
                    var S = (_.status + "")[0];
                    if (S !== "0" && S !== "2" && S !== "3") {
                      h._emit(
                        "loaderror",
                        null,
                        "Failed loading audio file with status: " +
                          _.status +
                          "."
                      );
                      return;
                    }
                    d(_.response, h);
                  }),
                  (_.onerror = function () {
                    h._webAudio &&
                      ((h._html5 = !0),
                      (h._webAudio = !1),
                      (h._sounds = []),
                      delete i[g],
                      h.load());
                  }),
                  c(_);
              }
            },
            c = function (h) {
              try {
                h.send();
              } catch {
                h.onerror();
              }
            },
            d = function (h, g) {
              var x = function () {
                  g._emit("loaderror", null, "Decoding audio data failed.");
                },
                v = function (w) {
                  w && g._sounds.length > 0 ? ((i[g._src] = w), f(g, w)) : x();
                };
              typeof Promise < "u" && t.ctx.decodeAudioData.length === 1
                ? t.ctx.decodeAudioData(h).then(v).catch(x)
                : t.ctx.decodeAudioData(h, v, x);
            },
            f = function (h, g) {
              g && !h._duration && (h._duration = g.duration),
                Object.keys(h._sprite).length === 0 &&
                  (h._sprite = { __default: [0, h._duration * 1e3] }),
                h._state !== "loaded" &&
                  ((h._state = "loaded"), h._emit("load"), h._loadQueue());
            },
            m = function () {
              if (t.usingWebAudio) {
                try {
                  typeof AudioContext < "u"
                    ? (t.ctx = new AudioContext())
                    : typeof webkitAudioContext < "u"
                    ? (t.ctx = new webkitAudioContext())
                    : (t.usingWebAudio = !1);
                } catch {
                  t.usingWebAudio = !1;
                }
                t.ctx || (t.usingWebAudio = !1);
                var h = /iP(hone|od|ad)/.test(
                    t._navigator && t._navigator.platform
                  ),
                  g =
                    t._navigator &&
                    t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                  x = g ? parseInt(g[1], 10) : null;
                if (h && x && x < 9) {
                  var v = /safari/.test(
                    t._navigator && t._navigator.userAgent.toLowerCase()
                  );
                  t._navigator && !v && (t.usingWebAudio = !1);
                }
                t.usingWebAudio &&
                  ((t.masterGain =
                    typeof t.ctx.createGain > "u"
                      ? t.ctx.createGainNode()
                      : t.ctx.createGain()),
                  t.masterGain.gain.setValueAtTime(
                    t._muted ? 0 : t._volume,
                    t.ctx.currentTime
                  ),
                  t.masterGain.connect(t.ctx.destination)),
                  t._setup();
              }
            };
          (r.Howler = t),
            (r.Howl = s),
            typeof bi < "u"
              ? ((bi.HowlerGlobal = e),
                (bi.Howler = t),
                (bi.Howl = s),
                (bi.Sound = n))
              : typeof window < "u" &&
                ((window.HowlerGlobal = e),
                (window.Howler = t),
                (window.Howl = s),
                (window.Sound = n));
        })();
        /*!
         *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
         *
         *  howler.js v2.2.4
         *  howlerjs.com
         *
         *  (c) 2013-2020, James Simpson of GoldFire Studios
         *  goldfirestudios.com
         *
         *  MIT License
         */ (function () {
          (HowlerGlobal.prototype._pos = [0, 0, 0]),
            (HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0]),
            (HowlerGlobal.prototype.stereo = function (t) {
              var s = this;
              if (!s.ctx || !s.ctx.listener) return s;
              for (var n = s._howls.length - 1; n >= 0; n--)
                s._howls[n].stereo(t);
              return s;
            }),
            (HowlerGlobal.prototype.pos = function (t, s, n) {
              var i = this;
              if (!i.ctx || !i.ctx.listener) return i;
              if (
                ((s = typeof s != "number" ? i._pos[1] : s),
                (n = typeof n != "number" ? i._pos[2] : n),
                typeof t == "number")
              )
                (i._pos = [t, s, n]),
                  typeof i.ctx.listener.positionX < "u"
                    ? (i.ctx.listener.positionX.setTargetAtTime(
                        i._pos[0],
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      i.ctx.listener.positionY.setTargetAtTime(
                        i._pos[1],
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      i.ctx.listener.positionZ.setTargetAtTime(
                        i._pos[2],
                        Howler.ctx.currentTime,
                        0.1
                      ))
                    : i.ctx.listener.setPosition(
                        i._pos[0],
                        i._pos[1],
                        i._pos[2]
                      );
              else return i._pos;
              return i;
            }),
            (HowlerGlobal.prototype.orientation = function (t, s, n, i, l, c) {
              var d = this;
              if (!d.ctx || !d.ctx.listener) return d;
              var f = d._orientation;
              if (
                ((s = typeof s != "number" ? f[1] : s),
                (n = typeof n != "number" ? f[2] : n),
                (i = typeof i != "number" ? f[3] : i),
                (l = typeof l != "number" ? f[4] : l),
                (c = typeof c != "number" ? f[5] : c),
                typeof t == "number")
              )
                (d._orientation = [t, s, n, i, l, c]),
                  typeof d.ctx.listener.forwardX < "u"
                    ? (d.ctx.listener.forwardX.setTargetAtTime(
                        t,
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      d.ctx.listener.forwardY.setTargetAtTime(
                        s,
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      d.ctx.listener.forwardZ.setTargetAtTime(
                        n,
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      d.ctx.listener.upX.setTargetAtTime(
                        i,
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      d.ctx.listener.upY.setTargetAtTime(
                        l,
                        Howler.ctx.currentTime,
                        0.1
                      ),
                      d.ctx.listener.upZ.setTargetAtTime(
                        c,
                        Howler.ctx.currentTime,
                        0.1
                      ))
                    : d.ctx.listener.setOrientation(t, s, n, i, l, c);
              else return f;
              return d;
            }),
            (Howl.prototype.init = (function (t) {
              return function (s) {
                var n = this;
                return (
                  (n._orientation = s.orientation || [1, 0, 0]),
                  (n._stereo = s.stereo || null),
                  (n._pos = s.pos || null),
                  (n._pannerAttr = {
                    coneInnerAngle:
                      typeof s.coneInnerAngle < "u" ? s.coneInnerAngle : 360,
                    coneOuterAngle:
                      typeof s.coneOuterAngle < "u" ? s.coneOuterAngle : 360,
                    coneOuterGain:
                      typeof s.coneOuterGain < "u" ? s.coneOuterGain : 0,
                    distanceModel:
                      typeof s.distanceModel < "u"
                        ? s.distanceModel
                        : "inverse",
                    maxDistance:
                      typeof s.maxDistance < "u" ? s.maxDistance : 1e4,
                    panningModel:
                      typeof s.panningModel < "u" ? s.panningModel : "HRTF",
                    refDistance: typeof s.refDistance < "u" ? s.refDistance : 1,
                    rolloffFactor:
                      typeof s.rolloffFactor < "u" ? s.rolloffFactor : 1,
                  }),
                  (n._onstereo = s.onstereo ? [{ fn: s.onstereo }] : []),
                  (n._onpos = s.onpos ? [{ fn: s.onpos }] : []),
                  (n._onorientation = s.onorientation
                    ? [{ fn: s.onorientation }]
                    : []),
                  t.call(this, s)
                );
              };
            })(Howl.prototype.init)),
            (Howl.prototype.stereo = function (t, s) {
              var n = this;
              if (!n._webAudio) return n;
              if (n._state !== "loaded")
                return (
                  n._queue.push({
                    event: "stereo",
                    action: function () {
                      n.stereo(t, s);
                    },
                  }),
                  n
                );
              var i =
                typeof Howler.ctx.createStereoPanner > "u"
                  ? "spatial"
                  : "stereo";
              if (typeof s > "u")
                if (typeof t == "number") (n._stereo = t), (n._pos = [t, 0, 0]);
                else return n._stereo;
              for (var l = n._getSoundIds(s), c = 0; c < l.length; c++) {
                var d = n._soundById(l[c]);
                if (d)
                  if (typeof t == "number")
                    (d._stereo = t),
                      (d._pos = [t, 0, 0]),
                      d._node &&
                        ((d._pannerAttr.panningModel = "equalpower"),
                        (!d._panner || !d._panner.pan) && e(d, i),
                        i === "spatial"
                          ? typeof d._panner.positionX < "u"
                            ? (d._panner.positionX.setValueAtTime(
                                t,
                                Howler.ctx.currentTime
                              ),
                              d._panner.positionY.setValueAtTime(
                                0,
                                Howler.ctx.currentTime
                              ),
                              d._panner.positionZ.setValueAtTime(
                                0,
                                Howler.ctx.currentTime
                              ))
                            : d._panner.setPosition(t, 0, 0)
                          : d._panner.pan.setValueAtTime(
                              t,
                              Howler.ctx.currentTime
                            )),
                      n._emit("stereo", d._id);
                  else return d._stereo;
              }
              return n;
            }),
            (Howl.prototype.pos = function (t, s, n, i) {
              var l = this;
              if (!l._webAudio) return l;
              if (l._state !== "loaded")
                return (
                  l._queue.push({
                    event: "pos",
                    action: function () {
                      l.pos(t, s, n, i);
                    },
                  }),
                  l
                );
              if (
                ((s = typeof s != "number" ? 0 : s),
                (n = typeof n != "number" ? -0.5 : n),
                typeof i > "u")
              )
                if (typeof t == "number") l._pos = [t, s, n];
                else return l._pos;
              for (var c = l._getSoundIds(i), d = 0; d < c.length; d++) {
                var f = l._soundById(c[d]);
                if (f)
                  if (typeof t == "number")
                    (f._pos = [t, s, n]),
                      f._node &&
                        ((!f._panner || f._panner.pan) && e(f, "spatial"),
                        typeof f._panner.positionX < "u"
                          ? (f._panner.positionX.setValueAtTime(
                              t,
                              Howler.ctx.currentTime
                            ),
                            f._panner.positionY.setValueAtTime(
                              s,
                              Howler.ctx.currentTime
                            ),
                            f._panner.positionZ.setValueAtTime(
                              n,
                              Howler.ctx.currentTime
                            ))
                          : f._panner.setPosition(t, s, n)),
                      l._emit("pos", f._id);
                  else return f._pos;
              }
              return l;
            }),
            (Howl.prototype.orientation = function (t, s, n, i) {
              var l = this;
              if (!l._webAudio) return l;
              if (l._state !== "loaded")
                return (
                  l._queue.push({
                    event: "orientation",
                    action: function () {
                      l.orientation(t, s, n, i);
                    },
                  }),
                  l
                );
              if (
                ((s = typeof s != "number" ? l._orientation[1] : s),
                (n = typeof n != "number" ? l._orientation[2] : n),
                typeof i > "u")
              )
                if (typeof t == "number") l._orientation = [t, s, n];
                else return l._orientation;
              for (var c = l._getSoundIds(i), d = 0; d < c.length; d++) {
                var f = l._soundById(c[d]);
                if (f)
                  if (typeof t == "number")
                    (f._orientation = [t, s, n]),
                      f._node &&
                        (f._panner ||
                          (f._pos || (f._pos = l._pos || [0, 0, -0.5]),
                          e(f, "spatial")),
                        typeof f._panner.orientationX < "u"
                          ? (f._panner.orientationX.setValueAtTime(
                              t,
                              Howler.ctx.currentTime
                            ),
                            f._panner.orientationY.setValueAtTime(
                              s,
                              Howler.ctx.currentTime
                            ),
                            f._panner.orientationZ.setValueAtTime(
                              n,
                              Howler.ctx.currentTime
                            ))
                          : f._panner.setOrientation(t, s, n)),
                      l._emit("orientation", f._id);
                  else return f._orientation;
              }
              return l;
            }),
            (Howl.prototype.pannerAttr = function () {
              var t = this,
                s = arguments,
                n,
                i,
                l;
              if (!t._webAudio) return t;
              if (s.length === 0) return t._pannerAttr;
              if (s.length === 1)
                if (typeof s[0] == "object")
                  (n = s[0]),
                    typeof i > "u" &&
                      (n.pannerAttr ||
                        (n.pannerAttr = {
                          coneInnerAngle: n.coneInnerAngle,
                          coneOuterAngle: n.coneOuterAngle,
                          coneOuterGain: n.coneOuterGain,
                          distanceModel: n.distanceModel,
                          maxDistance: n.maxDistance,
                          refDistance: n.refDistance,
                          rolloffFactor: n.rolloffFactor,
                          panningModel: n.panningModel,
                        }),
                      (t._pannerAttr = {
                        coneInnerAngle:
                          typeof n.pannerAttr.coneInnerAngle < "u"
                            ? n.pannerAttr.coneInnerAngle
                            : t._coneInnerAngle,
                        coneOuterAngle:
                          typeof n.pannerAttr.coneOuterAngle < "u"
                            ? n.pannerAttr.coneOuterAngle
                            : t._coneOuterAngle,
                        coneOuterGain:
                          typeof n.pannerAttr.coneOuterGain < "u"
                            ? n.pannerAttr.coneOuterGain
                            : t._coneOuterGain,
                        distanceModel:
                          typeof n.pannerAttr.distanceModel < "u"
                            ? n.pannerAttr.distanceModel
                            : t._distanceModel,
                        maxDistance:
                          typeof n.pannerAttr.maxDistance < "u"
                            ? n.pannerAttr.maxDistance
                            : t._maxDistance,
                        refDistance:
                          typeof n.pannerAttr.refDistance < "u"
                            ? n.pannerAttr.refDistance
                            : t._refDistance,
                        rolloffFactor:
                          typeof n.pannerAttr.rolloffFactor < "u"
                            ? n.pannerAttr.rolloffFactor
                            : t._rolloffFactor,
                        panningModel:
                          typeof n.pannerAttr.panningModel < "u"
                            ? n.pannerAttr.panningModel
                            : t._panningModel,
                      }));
                else
                  return (
                    (l = t._soundById(parseInt(s[0], 10))),
                    l ? l._pannerAttr : t._pannerAttr
                  );
              else s.length === 2 && ((n = s[0]), (i = parseInt(s[1], 10)));
              for (var c = t._getSoundIds(i), d = 0; d < c.length; d++)
                if (((l = t._soundById(c[d])), l)) {
                  var f = l._pannerAttr;
                  f = {
                    coneInnerAngle:
                      typeof n.coneInnerAngle < "u"
                        ? n.coneInnerAngle
                        : f.coneInnerAngle,
                    coneOuterAngle:
                      typeof n.coneOuterAngle < "u"
                        ? n.coneOuterAngle
                        : f.coneOuterAngle,
                    coneOuterGain:
                      typeof n.coneOuterGain < "u"
                        ? n.coneOuterGain
                        : f.coneOuterGain,
                    distanceModel:
                      typeof n.distanceModel < "u"
                        ? n.distanceModel
                        : f.distanceModel,
                    maxDistance:
                      typeof n.maxDistance < "u"
                        ? n.maxDistance
                        : f.maxDistance,
                    refDistance:
                      typeof n.refDistance < "u"
                        ? n.refDistance
                        : f.refDistance,
                    rolloffFactor:
                      typeof n.rolloffFactor < "u"
                        ? n.rolloffFactor
                        : f.rolloffFactor,
                    panningModel:
                      typeof n.panningModel < "u"
                        ? n.panningModel
                        : f.panningModel,
                  };
                  var m = l._panner;
                  m ||
                    (l._pos || (l._pos = t._pos || [0, 0, -0.5]),
                    e(l, "spatial"),
                    (m = l._panner)),
                    (m.coneInnerAngle = f.coneInnerAngle),
                    (m.coneOuterAngle = f.coneOuterAngle),
                    (m.coneOuterGain = f.coneOuterGain),
                    (m.distanceModel = f.distanceModel),
                    (m.maxDistance = f.maxDistance),
                    (m.refDistance = f.refDistance),
                    (m.rolloffFactor = f.rolloffFactor),
                    (m.panningModel = f.panningModel);
                }
              return t;
            }),
            (Sound.prototype.init = (function (t) {
              return function () {
                var s = this,
                  n = s._parent;
                (s._orientation = n._orientation),
                  (s._stereo = n._stereo),
                  (s._pos = n._pos),
                  (s._pannerAttr = n._pannerAttr),
                  t.call(this),
                  s._stereo
                    ? n.stereo(s._stereo)
                    : s._pos && n.pos(s._pos[0], s._pos[1], s._pos[2], s._id);
              };
            })(Sound.prototype.init)),
            (Sound.prototype.reset = (function (t) {
              return function () {
                var s = this,
                  n = s._parent;
                return (
                  (s._orientation = n._orientation),
                  (s._stereo = n._stereo),
                  (s._pos = n._pos),
                  (s._pannerAttr = n._pannerAttr),
                  s._stereo
                    ? n.stereo(s._stereo)
                    : s._pos
                    ? n.pos(s._pos[0], s._pos[1], s._pos[2], s._id)
                    : s._panner &&
                      (s._panner.disconnect(0),
                      (s._panner = void 0),
                      n._refreshBuffer(s)),
                  t.call(this)
                );
              };
            })(Sound.prototype.reset));
          var e = function (t, s) {
            (s = s || "spatial"),
              s === "spatial"
                ? ((t._panner = Howler.ctx.createPanner()),
                  (t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle),
                  (t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle),
                  (t._panner.coneOuterGain = t._pannerAttr.coneOuterGain),
                  (t._panner.distanceModel = t._pannerAttr.distanceModel),
                  (t._panner.maxDistance = t._pannerAttr.maxDistance),
                  (t._panner.refDistance = t._pannerAttr.refDistance),
                  (t._panner.rolloffFactor = t._pannerAttr.rolloffFactor),
                  (t._panner.panningModel = t._pannerAttr.panningModel),
                  typeof t._panner.positionX < "u"
                    ? (t._panner.positionX.setValueAtTime(
                        t._pos[0],
                        Howler.ctx.currentTime
                      ),
                      t._panner.positionY.setValueAtTime(
                        t._pos[1],
                        Howler.ctx.currentTime
                      ),
                      t._panner.positionZ.setValueAtTime(
                        t._pos[2],
                        Howler.ctx.currentTime
                      ))
                    : t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]),
                  typeof t._panner.orientationX < "u"
                    ? (t._panner.orientationX.setValueAtTime(
                        t._orientation[0],
                        Howler.ctx.currentTime
                      ),
                      t._panner.orientationY.setValueAtTime(
                        t._orientation[1],
                        Howler.ctx.currentTime
                      ),
                      t._panner.orientationZ.setValueAtTime(
                        t._orientation[2],
                        Howler.ctx.currentTime
                      ))
                    : t._panner.setOrientation(
                        t._orientation[0],
                        t._orientation[1],
                        t._orientation[2]
                      ))
                : ((t._panner = Howler.ctx.createStereoPanner()),
                  t._panner.pan.setValueAtTime(
                    t._stereo,
                    Howler.ctx.currentTime
                  )),
              t._panner.connect(t._node),
              t._paused || t._parent.pause(t._id, !0).play(t._id, !0);
          };
        })();
      })(Hp)),
    Hp
  );
}
var Si = hL();
function fL() {
  const r = Array.from({ length: 8 }, (e, t) => ({
    id: t,
    delay: Math.random() * 5,
    duration: 8 + Math.random() * 4,
    leftPosition: Math.random() * 100,
    rotation: Math.random() * 360,
    size: 0.7 + Math.random() * 0.6,
    driftDirection: Math.random() > 0.5 ? 1 : -1,
    driftAmount: 30 + Math.random() * 40,
    rotationSpeed: 0.5 + Math.random() * 1.5,
    swayAmplitude: 20 + Math.random() * 30,
  }));
  return a.jsx("div", {
    className: "forest-wave",
    children: r.map((e) =>
      a.jsx(
        "div",
        {
          className: "falling-leaf",
          style: {
            "--delay": `${e.delay}s`,
            "--duration": `${e.duration}s`,
            "--left": `${e.leftPosition}%`,
            "--rotation": `${e.rotation}deg`,
            "--size": e.size,
            "--drift-direction": e.driftDirection,
            "--drift-amount": `${e.driftAmount}px`,
            "--rotation-speed": e.rotationSpeed,
            "--sway-amplitude": `${e.swayAmplitude}px`,
          },
        },
        e.id
      )
    ),
  });
}
function pL({ gameName: r = "Jacaré Mania" }) {
  const [e, t] = k.useState(0);
  k.useEffect(() => {
    const n = Date.now(),
      i = setInterval(() => {
        const l = Date.now(),
          c = Math.floor((l - n) / 1e3);
        t(c);
      }, 1e3);
    return () => clearInterval(i);
  }, []);
  const s = (n) => {
    const i = Math.floor(n / 60),
      l = n % 60;
    return `${i}m ${l}s`;
  };
  return a.jsx("div", {
    className: "session-game",
    children: a.jsxs("div", {
      className: "session-content",
      children: [
        a.jsx("span", { className: "game-name", children: r }),
        a.jsxs("span", {
          className: "session-time",
          children: ["Sessão: ", s(e)],
        }),
      ],
    }),
  });
}
function mL({ onBet: r, onDeposit: e, playButtonClickSound: t }) {
  const s = () => {
      t(), r();
    },
    n = () => {
      t(), e();
    };
  return a.jsxs("div", {
    className: "game-actions",
    children: [
      a.jsx("button", {
        className: "action-button bet-button",
        onClick: s,
        children: "APOSTAR",
      }),
      a.jsx("button", {
        className: "action-button deposit-button",
        onClick: n,
        children: "DEPOSITAR",
      }),
    ],
  });
}
function gL({ support: r = "#", social: e = "#", onShare: t }) {
  return a.jsxs("div", {
    style: {
      position: "fixed",
      right: 16,
      top: 120,
      zIndex: 2,
      transform: "scale(1.01)",
    },
    children: [
      a.jsx("img", {
        onClick: t,
        className: "",
        src: "/storage/effect01.gif",
        alt: "Effect01",
        style: {
          height: 50,
          width: "auto",
          position: "absolute",
          filter: "brightness(0) invert(1)",
          opacity: "0.7",
          right: 5,
          bottom: 7,
          cursor: "pointer",
        },
      }),
      a.jsx("div", {
        onClick: () => window.open(e, "_blank"),
        style: {
          background: 'url("/storage/ui_social.png") 0% 0% / contain',
          height: 66,
          width: 66,
          marginBottom: 16,
          cursor: "pointer",
        },
      }),
      a.jsx("div", {
        onClick: () => window.open(r, "_blank"),
        style: {
          background: 'url("/storage/ui_support.png") 0% 0% / contain',
          height: 64,
          filter: "brightness(1.2)",
          marginLeft: 3,
          width: 60,
          cursor: "pointer",
        },
      }),
      a.jsx("div", {
        onClick: t,
        style: {
          background: 'url("/storage/ui_share.png") 0% 0% / contain',
          height: 64,
          marginLeft: 3,
          width: 60,
          cursor: "pointer",
          marginTop: 15,
        },
      }),
    ],
  });
}
function xL() {
  const r = k.useRef(null),
    e = () => `${Math.floor(100 + Math.random() * 999)}***`,
    t = () => {
      const m = [2.5, 5, 10, 25, 50, 100, 250, 500, 1200, 2500];
      return m[Math.floor(Math.random() * m.length)];
    },
    s = () => {
      const m = [2, 5, 10, 15, 20, 25, 50];
      return m[Math.floor(Math.random() * m.length)];
    },
    n = [
      () => {
        const m = t(),
          h = s();
        return `Grande vitória R$${m.toFixed(2)} (x${h})`;
      },
      () => `Perca justa -R$${t().toFixed(2)}`,
      () => `Vitória espetacular R$${(t() * 2).toFixed(2)}! 🎉`,
      () => `Perdeu R$${t().toFixed(2)} 😔`,
      () => {
        const m = t();
        return `Multiplicador x${s()} - R$${m.toFixed(2)}`;
      },
      () => "Não ganhou nada desta vez",
      () => `Bônus ativado! R$${(t() * 1.5).toFixed(2)}`,
      () => `Escapou! -R$${(t() / 2).toFixed(2)}`,
      () => `Jackpot! R$${(t() * 10).toFixed(2)} 🔥`,
      () => `Tentativa frustrada -R$${t().toFixed(2)}`,
    ],
    i = () => {
      const m = [];
      for (let h = 0; h < 8; h++) {
        const g = n[Math.floor(Math.random() * n.length)],
          x = g(),
          v =
            x.includes("vitória") ||
            x.includes("Vitória") ||
            x.includes("Bônus") ||
            x.includes("Jackpot") ||
            x.includes("Multiplicador");
        m.push({
          id: Date.now() + Math.random() + h,
          user: e(),
          message: x,
          type: v ? "win" : "normal",
          timestamp: Date.now() - (8 - h) * 1e3,
        });
      }
      return m;
    },
    [l, c] = k.useState(i()),
    [d, f] = k.useState(0);
  return (
    k.useEffect(() => {
      const m = setInterval(() => {
        const h = n[Math.floor(Math.random() * n.length)],
          g = h(),
          x =
            g.includes("vitória") ||
            g.includes("Vitória") ||
            g.includes("Bônus") ||
            g.includes("Jackpot") ||
            g.includes("Multiplicador"),
          v = {
            id: Date.now() + Math.random(),
            user: e(),
            message: g,
            type: x ? "win" : "normal",
            timestamp: Date.now(),
          };
        c((w) => [...w, v].slice(-10));
      }, 3e3 + Math.random() * 2e3);
      return () => clearInterval(m);
    }, []),
    k.useEffect(() => {
      r.current && (r.current.scrollTop = r.current.scrollHeight);
    }, [l]),
    a.jsx("div", {
      className: "live-chat",
      children: a.jsx("div", {
        className: "chat-container",
        ref: r,
        children: l.map((m) =>
          a.jsxs(
            "div",
            {
              className: `chat-message ${m.type}`,
              children: [
                a.jsxs("span", {
                  className: "chat-user",
                  children: [m.user, ":"],
                }),
                a.jsx("span", { className: "chat-text", children: m.message }),
              ],
            },
            m.id
          )
        ),
      }),
    })
  );
}
function yL({ isOpen: r, onClose: e, user: t }) {
  const [s, n] = k.useState([]),
    [i, l] = k.useState(null),
    [c, d] = k.useState(null),
    [f, m] = k.useState(!1),
    [h, g] = k.useState(1);
  k.useEffect(() => {
    r && x(1);
  }, [r]);
  const x = async (j = 1) => {
      m(!0);
      try {
        const E = await Ge.get(`/game-history?page=${j}`);
        n(j === 1 ? E.data.histories : (A) => [...A, ...E.data.histories]),
          l(E.data.statistics),
          d(E.data.pagination),
          g(j);
      } catch (E) {
        console.error("Error fetching history:", E);
      } finally {
        m(!1);
      }
    },
    v = () => {
      c && c.has_more && !f && x(h + 1);
    },
    w = (j) => `BRL ${parseFloat(j).toFixed(2)}`,
    _ = (j) =>
      new Date(j).toLocaleString("pt-BR", {
        day: "2-digit",
        month: "2-digit",
        year: "numeric",
        hour: "2-digit",
        minute: "2-digit",
      }),
    S = (j) =>
      parseFloat(j.win) > 0
        ? a.jsx("svg", {
            width: "16",
            height: "16",
            viewBox: "0 0 24 24",
            fill: "#4caf50",
            children: a.jsx("path", {
              d: "M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",
            }),
          })
        : a.jsx("svg", {
            width: "16",
            height: "16",
            viewBox: "0 0 24 24",
            fill: "#f44336",
            children: a.jsx("path", {
              d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",
            }),
          }),
    T = (j) => {
      const E = parseFloat(j.win) - parseFloat(j.amount),
        A = E > 0;
      return {
        amount: Math.abs(E),
        isPositive: A,
        formatted: `${A ? "+" : "-"}${w(Math.abs(E))}`,
      };
    };
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: e,
        children: a.jsxs("div", {
          className: "profile-modal history-modal",
          onClick: (j) => j.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Histórico de Partidas" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: e,
                  children: "✕",
                }),
              ],
            }),
            i &&
              a.jsx("div", {
                className: "history-statistics",
                children: a.jsxs("div", {
                  className: "stats-grid",
                  children: [
                    a.jsxs("div", {
                      className: "stat-item",
                      children: [
                        a.jsx("span", {
                          className: "stat-label",
                          children: "Total de Jogos",
                        }),
                        a.jsx("span", {
                          className: "stat-value",
                          children: i.total_games,
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "stat-item",
                      children: [
                        a.jsx("span", {
                          className: "stat-label",
                          children: "Taxa de Vitória",
                        }),
                        a.jsxs("span", {
                          className: "stat-value win-rate",
                          children: [i.win_rate, "%"],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "stat-item",
                      children: [
                        a.jsx("span", {
                          className: "stat-label",
                          children: "Taxa de Derrota",
                        }),
                        a.jsxs("span", {
                          className: "stat-value loss-rate",
                          children: [i.loss_rate, "%"],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "stat-item",
                      children: [
                        a.jsx("span", {
                          className: "stat-label",
                          children: "Lucro Líquido",
                        }),
                        a.jsxs("span", {
                          className: `stat-value ${
                            i.net_profit >= 0 ? "profit" : "loss"
                          }`,
                          children: [
                            i.net_profit >= 0 ? "+" : "",
                            w(i.net_profit),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            a.jsx("div", {
              className: "history-content",
              children:
                f && s.length === 0
                  ? a.jsxs("div", {
                      className: "history-loading",
                      children: [
                        a.jsx("div", { className: "loading-spinner" }),
                        a.jsx("span", { children: "Carregando histórico..." }),
                      ],
                    })
                  : s.length === 0
                  ? a.jsxs("div", {
                      className: "history-empty",
                      children: [
                        a.jsx("center", {
                          children: a.jsx("div", {
                            className: "empty-icon center",
                            children: a.jsx("svg", {
                              width: "48",
                              height: "48",
                              viewBox: "0 0 24 24",
                              fill: "rgba(255,255,255,0.3)",
                              children: a.jsx("path", {
                                d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",
                              }),
                            }),
                          }),
                        }),
                        a.jsx("h3", {
                          children: "Nenhum histórico encontrado",
                        }),
                        a.jsx("p", {
                          children:
                            "Você ainda não jogou nenhuma partida. Comece a jogar para ver seu histórico aqui!",
                        }),
                      ],
                    })
                  : a.jsxs(a.Fragment, {
                      children: [
                        a.jsx("div", {
                          className: "history-list",
                          children: s.map((j, E) => {
                            const A = T(j);
                            return a.jsxs(
                              "div",
                              {
                                className: "history-item",
                                children: [
                                  a.jsxs("div", {
                                    className: "history-item-header",
                                    children: [
                                      a.jsx("div", {
                                        className: "result-indicator",
                                        children: S(j),
                                      }),
                                      a.jsxs("div", {
                                        className: "history-details",
                                        children: [
                                          a.jsx("div", {
                                            className: "history-date",
                                            children: _(j.created_at),
                                          }),
                                          a.jsx("div", {
                                            className: "history-status",
                                            children:
                                              parseFloat(j.win) > 0
                                                ? "Vitória"
                                                : "Derrota",
                                          }),
                                        ],
                                      }),
                                      a.jsxs("div", {
                                        className: "history-amounts",
                                        children: [
                                          a.jsxs("div", {
                                            className: "bet-amount",
                                            children: ["Aposta: ", w(j.amount)],
                                          }),
                                          a.jsx("div", {
                                            className: `net-result ${
                                              A.isPositive ? "profit" : "loss"
                                            }`,
                                            children: A.formatted,
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  j.result &&
                                    a.jsxs("div", {
                                      className: "history-result",
                                      style: { display: "none" },
                                      children: [
                                        a.jsx("span", {
                                          className: "result-label",
                                          children: "Resultado:",
                                        }),
                                        a.jsx("span", {
                                          className: "result-value",
                                          children: j.result,
                                        }),
                                      ],
                                    }),
                                ],
                              },
                              E
                            );
                          }),
                        }),
                        c &&
                          c.has_more &&
                          a.jsx("div", {
                            className: "history-load-more",
                            children: a.jsx("button", {
                              className: "load-more-btn",
                              onClick: v,
                              disabled: f,
                              children: f
                                ? a.jsxs(a.Fragment, {
                                    children: [
                                      a.jsx("div", {
                                        className: "loading-spinner small",
                                      }),
                                      "Carregando...",
                                    ],
                                  })
                                : "Carregar Mais",
                            }),
                          }),
                      ],
                    }),
            }),
          ],
        }),
      })
    : null;
}
function vL({ isOpen: r, onClose: e, user: t }) {
  const [s, n] = k.useState({
      current_password: "",
      password: "",
      password_confirmation: "",
    }),
    [i, l] = k.useState({}),
    [c, d] = k.useState(!1),
    [f, m] = k.useState(!1),
    h = (w) => {
      const { name: _, value: S } = w.target;
      n((T) => ({ ...T, [_]: S })), i[_] && l((T) => ({ ...T, [_]: void 0 }));
    },
    g = async (w) => {
      w.preventDefault(), d(!0), l({}), m(!1);
      try {
        (await Ge.put("/change-password", s)).data.success &&
          (m(!0),
          n({ current_password: "", password: "", password_confirmation: "" }),
          setTimeout(() => {
            e(), m(!1);
          }, 2e3));
      } catch (_) {
        _.response?.status === 422
          ? l(_.response.data.errors || {})
          : l({ general: ["Ocorreu um erro inesperado. Tente novamente."] });
      } finally {
        d(!1);
      }
    },
    x = () => {
      n({ current_password: "", password: "", password_confirmation: "" }),
        l({}),
        m(!1);
    },
    v = () => {
      x(), e();
    };
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: v,
        children: a.jsxs("div", {
          className: "profile-modal change-password-modal",
          onClick: (w) => w.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Alterar Senha" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: v,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "profile-user-info",
              children: [
                a.jsx("div", {
                  className: "profile-avatar",
                  children: t.name.charAt(0).toUpperCase(),
                }),
                a.jsxs("div", {
                  className: "change-password-info",
                  children: [
                    a.jsx("h3", { children: t.name }),
                    a.jsx("p", {
                      children:
                        "Digite sua senha atual e escolha uma nova senha segura",
                    }),
                  ],
                }),
              ],
            }),
            a.jsx("div", {
              className: "change-password-content",
              children: f
                ? a.jsxs("div", {
                    className: "change-password-success",
                    children: [
                      a.jsx("div", {
                        className: "success-icon",
                        children: a.jsx("svg", {
                          width: "48",
                          height: "48",
                          viewBox: "0 0 24 24",
                          fill: "#4caf50",
                          children: a.jsx("path", {
                            d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                          }),
                        }),
                      }),
                      a.jsx("h3", { children: "Senha alterada com sucesso!" }),
                      a.jsx("p", {
                        children:
                          "Sua senha foi atualizada. Este modal será fechado automaticamente.",
                      }),
                    ],
                  })
                : a.jsxs("form", {
                    onSubmit: g,
                    className: "change-password-form",
                    children: [
                      i.general &&
                        a.jsx("div", {
                          className: "form-error-general",
                          children: i.general[0],
                        }),
                      a.jsxs("div", {
                        className: "form-group",
                        children: [
                          a.jsx("label", {
                            htmlFor: "current_password",
                            children: "Senha Atual",
                          }),
                          a.jsx("input", {
                            type: "password",
                            id: "current_password",
                            name: "current_password",
                            value: s.current_password,
                            onChange: h,
                            placeholder: "Digite sua senha atual",
                            disabled: c,
                            autoComplete: "current-password",
                          }),
                          i.current_password &&
                            a.jsx("div", {
                              className: "form-error",
                              children: i.current_password[0],
                            }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "form-group",
                        children: [
                          a.jsx("label", {
                            htmlFor: "password",
                            children: "Nova Senha",
                          }),
                          a.jsx("input", {
                            type: "password",
                            id: "password",
                            name: "password",
                            value: s.password,
                            onChange: h,
                            placeholder: "Digite sua nova senha",
                            disabled: c,
                            autoComplete: "new-password",
                          }),
                          i.password &&
                            a.jsx("div", {
                              className: "form-error",
                              children: i.password[0],
                            }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "form-group",
                        children: [
                          a.jsx("label", {
                            htmlFor: "password_confirmation",
                            children: "Confirmar Nova Senha",
                          }),
                          a.jsx("input", {
                            type: "password",
                            id: "password_confirmation",
                            name: "password_confirmation",
                            value: s.password_confirmation,
                            onChange: h,
                            placeholder: "Confirme sua nova senha",
                            disabled: c,
                            autoComplete: "new-password",
                          }),
                          i.password_confirmation &&
                            a.jsx("div", {
                              className: "form-error",
                              children: i.password_confirmation[0],
                            }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "form-actions",
                        children: [
                          a.jsx("button", {
                            type: "button",
                            className: "cancel-btn",
                            onClick: v,
                            disabled: c,
                            children: "Cancelar",
                          }),
                          a.jsx("button", {
                            type: "submit",
                            className: "submit-btn",
                            disabled: c,
                            children: c
                              ? a.jsxs(a.Fragment, {
                                  children: [
                                    a.jsx("div", {
                                      className: "loading-spinner small",
                                    }),
                                    "Alterando...",
                                  ],
                                })
                              : "Alterar Senha",
                          }),
                        ],
                      }),
                    ],
                  }),
            }),
          ],
        }),
      })
    : null;
}
function WT({ isOpen: r, onClose: e, user: t, onUserUpdate: s }) {
  const [n, i] = k.useState(null),
    [l, c] = k.useState(!1),
    [d, f] = k.useState(!1),
    [m, h] = k.useState(t);
  k.useEffect(() => {
    r && g();
  }, [r]),
    k.useEffect(() => {
      h(t);
    }, [t]);
  const g = async () => {
      c(!0);
      try {
        const T = await Ge.get("/api/referral-data");
        i(T.data.settings),
          T.data.user &&
            h((j) => ({
              ...j,
              chest_level: T.data.user.chest_level,
              chest_open: T.data.user.chest_open,
              balance: T.data.user.balance,
            }));
      } catch (T) {
        console.error("Error fetching referral data:", T);
      } finally {
        c(!1);
      }
    },
    x = async (T) => {
      try {
        const j = await Ge.post("/api/open-chest", { chest_level: T });
        if (j.data.success) {
          if (j.data.user) {
            const E = {
              ...m,
              chest_level: j.data.user.chest_level,
              chest_open: j.data.user.chest_open,
              balance: j.data.user.balance,
            };
            h(E), s && s(E);
          }
          g();
        }
      } catch (j) {
        console.error("Error opening chest:", j),
          j.response?.data?.message && alert(j.response.data.message);
      }
    },
    v = async () => {
      const T = `${window.location.origin}/?ref=${m.id}`;
      try {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(T),
            f(!0),
            setTimeout(() => f(!1), 2e3);
          return;
        }
        const j = document.createElement("textarea");
        if (
          ((j.value = T),
          (j.style.position = "fixed"),
          (j.style.left = "-999999px"),
          (j.style.top = "-999999px"),
          document.body.appendChild(j),
          j.focus(),
          j.select(),
          navigator.userAgent.match(/ipad|iphone/i))
        ) {
          const A = document.createRange();
          A.selectNodeContents(j);
          const M = window.getSelection();
          M.removeAllRanges(), M.addRange(A), j.setSelectionRange(0, 999999);
        }
        const E = document.execCommand("copy");
        if ((document.body.removeChild(j), E))
          f(!0), setTimeout(() => f(!1), 2e3);
        else throw new Error("Copy command failed");
      } catch (j) {
        console.error("Failed to copy: ", j), prompt("Copie o link abaixo:", T);
      }
    },
    w = (T) => {
      const j = n?.chests_rules[T] || 0,
        E = m.chest_level || 0,
        A = T + 1;
      return m.chest_open >= A
        ? "opened"
        : m.chest_open < A - 1
        ? "unavailable"
        : E >= j
        ? "available"
        : "locked";
    },
    _ = (T) => `BRL ${parseFloat(T).toFixed(2)}`,
    S = () =>
      n?.chests_rules && n?.chests_prizes
        ? n.chests_rules.map((T, j) => ({
            rule: T,
            prize: n.chests_prizes[j] || 0,
          }))
        : [
            { rule: 5, prize: 5 },
            { rule: 50, prize: 50 },
            { rule: 100, prize: 200 },
            { rule: 200, prize: 250 },
            { rule: 250, prize: 300 },
            { rule: 500, prize: 500 },
          ];
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: e,
        children: a.jsxs("div", {
          className: "profile-modal share-modal",
          onClick: (T) => T.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Convide Amigos & Ganhe Prêmios" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: e,
                  children: "✕",
                }),
              ],
            }),
            l
              ? a.jsxs("div", {
                  className: "share-loading",
                  children: [
                    a.jsx("div", { className: "loading-spinner" }),
                    a.jsx("span", { children: "Carregando..." }),
                  ],
                })
              : a.jsxs(a.Fragment, {
                  children: [
                    a.jsxs("div", {
                      className: "share-referral-section",
                      style: { border: 0 },
                      children: [
                        a.jsx("h3", { children: "Seu Link de Convite" }),
                        a.jsxs("div", {
                          className: "referral-link-container",
                          children: [
                            a.jsxs("div", {
                              className: "referral-link",
                              children: [
                                window.location.origin,
                                "/?ref=",
                                m.id,
                              ],
                            }),
                            a.jsxs("button", {
                              className: "copy-link-btn",
                              onClick: v,
                              children: [
                                a.jsx("svg", {
                                  width: "16",
                                  height: "16",
                                  viewBox: "0 0 24 24",
                                  fill: "currentColor",
                                  children: a.jsx("path", {
                                    d: "M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",
                                  }),
                                }),
                                d ? "Copiado!" : "Copiar",
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "share-chests-section",
                      style: { marginTop: -30 },
                      children: [
                        a.jsx("h3", { children: "Baús de Recompensa" }),
                        a.jsx("p", {
                          className: "chests-description",
                          children:
                            "Convide amigos que façam depósitos para aumentar seu nível e desbloquear baús!",
                        }),
                        a.jsx("div", {
                          className: "chests-grid",
                          children: S().map((T, j) => {
                            const E = w(j),
                              A = j + 1;
                            return a.jsxs(
                              "div",
                              {
                                className: `chest-item ${E}`,
                                children: [
                                  a.jsx("div", {
                                    className: "chest-icon",
                                    children:
                                      E === "opened"
                                        ? a.jsx("img", {
                                            src: "https://cdn-icons-png.flaticon.com/64/210/210594.png",
                                            alt: "Baú Aberto",
                                            width: "40",
                                            height: "40",
                                            style: { filter: "none" },
                                          })
                                        : a.jsx("img", {
                                            src: "https://cdn-icons-png.flaticon.com/64/1907/1907938.png",
                                            alt: "Baú Fechado",
                                            width: "40",
                                            height: "40",
                                            style: {
                                              filter:
                                                E === "available"
                                                  ? "brightness(1.2) drop-shadow(0 0 8px rgba(255, 152, 0, 0.6))"
                                                  : E === "unavailable"
                                                  ? "grayscale(100%) brightness(0.7)"
                                                  : "grayscale(50%) brightness(0.8)",
                                            },
                                          }),
                                  }),
                                  a.jsxs("div", {
                                    className: "chest-details",
                                    children: [
                                      a.jsxs("div", {
                                        className: "chest-title",
                                        children: ["Baú ", A],
                                      }),
                                      a.jsx("div", {
                                        className: "chest-prize",
                                        children: _(T.prize),
                                      }),
                                      a.jsxs("div", {
                                        className: "chest-requirement",
                                        children: [
                                          "Nível ",
                                          T.rule,
                                          " necessário",
                                        ],
                                      }),
                                      E === "available" &&
                                        a.jsx("button", {
                                          className: "open-chest-btn",
                                          onClick: () => x(A),
                                          children: "Abrir Baú",
                                        }),
                                      E === "opened" &&
                                        a.jsx("div", {
                                          className: "chest-opened",
                                          children: "✓ Aberto",
                                        }),
                                      E === "locked" &&
                                        a.jsxs("div", {
                                          className: "chest-progress",
                                          children: [
                                            "Nível ",
                                            m.chest_level || 0,
                                            "/",
                                            T.rule,
                                          ],
                                        }),
                                      E === "unavailable" &&
                                        a.jsx("div", {
                                          className: "chest-unavailable",
                                          children: "🔒 Bloqueado",
                                        }),
                                    ],
                                  }),
                                ],
                              },
                              j
                            );
                          }),
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "share-instructions",
                      children: [
                        a.jsx("h4", { children: "Como Funciona:" }),
                        a.jsxs("ol", {
                          children: [
                            a.jsx("li", {
                              children:
                                "Compartilhe seu link de convite com amigos",
                            }),
                            a.jsx("li", {
                              children:
                                "Quando um amigo se cadastrar e fizer depósito, você ganha 1 nível",
                            }),
                            a.jsx("li", {
                              children:
                                "Use seus níveis para desbloquear baús com prêmios",
                            }),
                            a.jsx("li", {
                              children:
                                "Abra os baús em ordem para receber prêmios em dinheiro!",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
          ],
        }),
      })
    : null;
}
function VT({ isOpen: r, onClose: e, user: t, onSuccess: s }) {
  const [n, i] = k.useState(null),
    [l, c] = k.useState({ amount: "", pix_key: "" }),
    [d, f] = k.useState({}),
    [m, h] = k.useState(!1),
    [g, x] = k.useState(!1),
    [v, w] = k.useState(!1),
    _ = k.useRef(!1);
  k.useEffect(() => {
    r &&
      (S(),
      w(!1),
      (_.current = !0),
      setTimeout(() => {
        _.current = !1;
      }, 200));
  }, [r]);
  const S = async () => {
      try {
        const z = await Ge.get("/withdrawal-data");
        i(z.data),
          z.data.user.pix_document &&
            c((Z) => ({ ...Z, pix_key: z.data.user.pix_document }));
      } catch (z) {
        console.error("Error fetching withdrawal data:", z);
      }
    },
    T = (z) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z),
    j = (z) => {
      if (
        ((z = z.replace(/[^\d]+/g, "")),
        z.length !== 11 || z.match(/(\d)\1{10}/))
      )
        return !1;
      let Z = 0,
        pe;
      for (let se = 1; se <= 9; se++)
        Z += parseInt(z.substring(se - 1, se)) * (11 - se);
      if (
        ((pe = (Z * 10) % 11),
        (pe === 10 || pe === 11) && (pe = 0),
        pe !== parseInt(z.substring(9, 10)))
      )
        return !1;
      Z = 0;
      for (let se = 1; se <= 10; se++)
        Z += parseInt(z.substring(se - 1, se)) * (12 - se);
      return (
        (pe = (Z * 10) % 11),
        (pe === 10 || pe === 11) && (pe = 0),
        pe === parseInt(z.substring(10, 11))
      );
    },
    E = (z) => /^\(?\d{2}\)?[\s-]?\d{4,5}-?\d{4}$/.test(z),
    A = (z) =>
      z
        ? T(z) || j(z) || E(z)
          ? null
          : "Formato de Chave PIX inválido (use CPF, e-mail ou telefone)."
        : "Chave PIX é obrigatória.",
    M = (z) => {
      const { name: Z, value: pe } = z.target;
      c((se) => ({ ...se, [Z]: pe })),
        d[Z] && f((se) => ({ ...se, [Z]: void 0 }));
    },
    N = async () => {
      const z = A(l.pix_key);
      if (z) {
        f({ pix_key: [z] });
        return;
      }
      h(!0), f({});
      try {
        const Z = await Ge.post("/update-pix-document", { pix_key: l.pix_key });
        Z.data.success &&
          (i((pe) => ({
            ...pe,
            user: { ...pe.user, pix_document: Z.data.pix_document },
          })),
          w(!1),
          s && s({ ...t, pix_document: Z.data.pix_document }));
      } catch (Z) {
        Z.response?.status === 422
          ? f(Z.response.data.errors || {})
          : f({ general: ["Ocorreu um erro ao atualizar a chave PIX."] });
      } finally {
        h(!1);
      }
    },
    R = async (z) => {
      if ((z.preventDefault(), !n?.user?.pix_document)) {
        const Z = A(l.pix_key);
        if (Z) {
          f((pe) => ({ ...pe, pix_key: [Z] }));
          return;
        }
      }
      h(!0), f({}), x(!1);
      try {
        const Z = { amount: l.amount };
        if (
          (n?.user?.pix_document || (Z.pix_key = l.pix_key),
          (await Ge.post("/withdrawal", Z)).data.success)
        ) {
          x(!0);
          const se = n?.user?.pix_document || l.pix_key,
            ie = parseFloat(Z.amount);
          c({ amount: "", pix_key: se });
          const Y = {
            ...t,
            balance: (parseFloat(t.balance) - ie).toFixed(2),
            pix_document: se,
          };
          n &&
            i((re) => ({
              ...re,
              user: { ...re.user, balance: Y.balance, pix_document: se },
            })),
            s && s(Y),
            setTimeout(() => {
              e(), x(!1);
            }, 3e3);
        }
      } catch (Z) {
        console.error("Withdrawal error:", Z),
          Z.response?.status === 422
            ? f(Z.response.data.errors || {})
            : f({ general: ["Ocorreu um erro inesperado. Tente novamente."] });
      } finally {
        h(!1);
      }
    },
    O = () => {
      c({ amount: "", pix_key: n?.user?.pix_document || "" }),
        f({}),
        x(!1),
        w(!1);
    },
    U = () => {
      O(), e();
    },
    q = () => {
      _.current || U();
    },
    Q = (z) => `R$ ${parseFloat(z).toFixed(2).replace(".", ",")}`;
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: q,
        children: a.jsxs("div", {
          className: "profile-modal withdrawal-modal",
          onClick: (z) => z.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Solicitar Saque" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: U,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "profile-user-info",
              children: [
                a.jsx("div", {
                  className: "profile-avatar",
                  children: t.name.charAt(0).toUpperCase(),
                }),
                a.jsxs("div", {
                  className: "withdrawal-info",
                  children: [
                    a.jsx("h3", { children: t.name }),
                    a.jsxs("p", {
                      children: [
                        "Saldo disponível: ",
                        a.jsx("strong", { children: Q(t.balance || 0) }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs("div", {
              className: "withdrawal-content",
              children: [
                n &&
                  n.user.rollover > 0 &&
                  a.jsxs("div", {
                    className: "rollover-warning",
                    children: [
                      a.jsx("div", {
                        className: "warning-icon",
                        children: a.jsx("svg", {
                          width: "20",
                          height: "20",
                          viewBox: "0 0 24 24",
                          fill: "#ff9800",
                          children: a.jsx("path", {
                            d: "M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",
                          }),
                        }),
                      }),
                      a.jsxs("div", {
                        className: "warning-content",
                        children: [
                          a.jsx("strong", { children: "Rollover Pendente" }),
                          a.jsxs("p", {
                            children: [
                              "Você ainda precisa apostar ",
                              a.jsx("b", { children: Q(n.user.rollover) }),
                              " antes de poder sacar.",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                n &&
                  n.limits &&
                  a.jsxs("div", {
                    className: "withdrawal-limits",
                    children: [
                      a.jsx("h4", { children: "Limites de Saque" }),
                      a.jsxs("div", {
                        className: "limits-grid",
                        children: [
                          a.jsxs("div", {
                            className: "limit-item",
                            children: [
                              a.jsx("span", {
                                className: "limit-label",
                                children: "Mínimo:",
                              }),
                              a.jsx("span", {
                                className: "limit-value",
                                children: Q(n.limits.min),
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "limit-item",
                            children: [
                              a.jsx("span", {
                                className: "limit-label",
                                children: "Máximo:",
                              }),
                              a.jsx("span", {
                                className: "limit-value",
                                children: Q(n.limits.max),
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                g
                  ? a.jsxs("div", {
                      className: "withdrawal-success",
                      children: [
                        a.jsx("div", {
                          className: "success-icon",
                          children: a.jsx("svg", {
                            width: "48",
                            height: "48",
                            viewBox: "0 0 24 24",
                            fill: "#4caf50",
                            children: a.jsx("path", {
                              d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                            }),
                          }),
                        }),
                        a.jsx("h3", {
                          children: "Saque solicitado com sucesso!",
                        }),
                        a.jsx("p", {
                          children:
                            "Sua solicitação foi enviada e está sendo analisada. Você receberá uma notificação quando for processada.",
                        }),
                      ],
                    })
                  : a.jsxs("form", {
                      onSubmit: R,
                      className: "withdrawal-form",
                      children: [
                        d.general &&
                          a.jsx("div", {
                            className: "form-error-general",
                            children: d.general[0],
                          }),
                        d.rollover &&
                          a.jsx("div", {
                            className: "form-error-general",
                            children: d.rollover[0],
                          }),
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", {
                              htmlFor: "amount",
                              children: "Valor do Saque",
                            }),
                            a.jsx("input", {
                              type: "number",
                              id: "amount",
                              name: "amount",
                              value: l.amount,
                              onChange: M,
                              placeholder: "Digite o valor desejado",
                              disabled: m || (n && !n.can_withdraw),
                              step: "0.01",
                              min: n?.limits?.min || 0,
                              max: Math.min(
                                n?.limits?.max || 0,
                                t.balance || 0
                              ),
                            }),
                            n &&
                              a.jsxs("div", {
                                className: "input-help",
                                children: [
                                  "Mín: ",
                                  Q(n.limits.min),
                                  " - Máx: ",
                                  Q(Math.min(n.limits.max, t.balance || 0)),
                                ],
                              }),
                            d.amount &&
                              a.jsx("div", {
                                className: "form-error",
                                children: d.amount[0],
                              }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", {
                              htmlFor: "pix_key",
                              children: "Chave PIX",
                            }),
                            n?.user?.pix_document && !v
                              ? a.jsx("div", {
                                  className: "pix-display",
                                  children: a.jsx("input", {
                                    type: "text",
                                    id: "pix_key",
                                    value: n.user.pix_document,
                                    disabled: !0,
                                  }),
                                })
                              : a.jsxs(a.Fragment, {
                                  children: [
                                    a.jsx("input", {
                                      type: "text",
                                      id: "pix_key",
                                      name: "pix_key",
                                      value: l.pix_key,
                                      onChange: M,
                                      placeholder: "CPF, e-mail ou telefone",
                                      disabled:
                                        m || (n && !n.can_withdraw && !v),
                                    }),
                                    v &&
                                      a.jsxs("div", {
                                        className: "form-actions-inline",
                                        children: [
                                          a.jsx("button", {
                                            type: "button",
                                            onClick: () => {
                                              w(!1), f({});
                                            },
                                            className: "cancel-btn small",
                                            children: "Cancelar",
                                          }),
                                          a.jsx("button", {
                                            type: "button",
                                            onClick: N,
                                            className: "submit-btn small",
                                            disabled: m,
                                            children: m
                                              ? "Salvando..."
                                              : "Salvar",
                                          }),
                                        ],
                                      }),
                                  ],
                                }),
                            d.pix_key &&
                              a.jsx("div", {
                                className: "form-error",
                                children: d.pix_key[0],
                              }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "form-actions",
                          children: [
                            a.jsx("button", {
                              type: "button",
                              className: "cancel-btn",
                              onClick: U,
                              disabled: m,
                              children: "Cancelar",
                            }),
                            a.jsx("button", {
                              type: "submit",
                              className: "submit-btn",
                              disabled: m || (n && !n.can_withdraw) || v,
                              children: m
                                ? a.jsxs(a.Fragment, {
                                    children: [
                                      a.jsx("div", {
                                        className: "loading-spinner small",
                                      }),
                                      "Processando...",
                                    ],
                                  })
                                : "Solicitar Saque",
                            }),
                          ],
                        }),
                      ],
                    }),
              ],
            }),
          ],
        }),
      })
    : null;
}
function qT({
  isOpen: r,
  onClose: e,
  user: t,
  onLogout: s,
  playButtonClickSound: n,
  onWithdrawalSuccess: i,
}) {
  const [l, c] = k.useState(!1),
    [d, f] = k.useState(!1),
    [m, h] = k.useState(!1),
    [g, x] = k.useState(!1),
    v = k.useRef(!1);
  if (
    (k.useEffect(() => {
      r &&
        ((v.current = !0),
        setTimeout(() => {
          v.current = !1;
        }, 200));
    }, [r]),
    !r)
  )
    return null;
  const w = () => {
      n && n(), e();
    },
    _ = () => {
      v.current || w();
    },
    S = () => {
      n && n(), c(!0);
    },
    T = () => {
      n && n(), f(!0);
    },
    j = () => {
      n && n(), h(!0);
    },
    E = () => {
      n && n(), x(!0);
    },
    A = async () => {
      n && n(),
        vr.post(
          "/logout",
          {},
          {
            onSuccess: () => {
              window.location.href = "/";
            },
            onError: (N) => {
              console.error("Logout error:", N),
                alert("Erro ao sair. Tente novamente.");
            },
          }
        );
    },
    M = [
      {
        icon: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
          }),
        }),
        label: "Histórico de Partidas",
        action: S,
        color: "#4caf50",
      },
      {
        icon: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11V12z",
          }),
        }),
        label: "Alterar Senha",
        action: T,
        color: "#ff9800",
      },
      {
        icon: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 4c-4.41 0-8 1.79-8 4v8c0 2.21 3.59 4 8 4s8-1.79 8-4v-8c0-2.21-3.59-4-8-4zm0 2c3.87 0 7 1.13 7 2.5S15.87 11 12 11s-7-1.13-7-2.5S8.13 6 12 6zm0 12c-3.87 0-7-1.13-7-2.5V12c1.74 1.07 5.03 1.5 7 1.5s5.26-.43 7-1.5v3.5c0 1.37-3.13 2.5-7 2.5z",
          }),
        }),
        label: "Sacar",
        action: E,
        color: "#00bcd4",
      },
      {
        icon: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92S19.61 16.08 18 16.08z",
          }),
        }),
        label: "Baú de prêmios (Share)",
        action: j,
        color: "#2196f3",
      },
      {
        icon: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z",
          }),
        }),
        label: "Sair",
        action: A,
        color: "#f44336",
      },
    ];
  return a.jsxs(a.Fragment, {
    children: [
      a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: _,
        children: a.jsxs("div", {
          className: "profile-modal",
          onClick: (N) => N.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Perfil do Jogador" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: w,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "profile-user-info",
              children: [
                a.jsx("div", {
                  className: "profile-avatar",
                  children: t.name.charAt(0).toUpperCase(),
                }),
                a.jsxs("div", {
                  className: "profile-details",
                  children: [
                    a.jsxs("div", {
                      className: "profile-detail-item",
                      children: [
                        a.jsx("span", {
                          className: "detail-label",
                          children: "ID:",
                        }),
                        a.jsxs("span", {
                          className: "detail-value",
                          children: ["#", t.id],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "profile-detail-item",
                      children: [
                        a.jsx("span", {
                          className: "detail-label",
                          children: "Conta:",
                        }),
                        a.jsx("span", {
                          className: "detail-value",
                          children: t.name,
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "profile-detail-item",
                      children: [
                        a.jsx("span", {
                          className: "detail-label",
                          children: "Telefone:",
                        }),
                        a.jsx("span", {
                          className: "detail-value",
                          children: t.phone,
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "profile-detail-item balance-item",
                      style: { marginTop: -2 },
                      children: [
                        a.jsx("span", {
                          className: "detail-label",
                          children: "Saldo:",
                        }),
                        a.jsx("span", {
                          className: "detail-value balance-value",
                          children: new Intl.NumberFormat("pt-BR", {
                            style: "currency",
                            currency: "BRL",
                          }).format(t.balance || 0),
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsx("div", {
              className: "profile-menu",
              children: M.map((N, R) =>
                a.jsxs(
                  "button",
                  {
                    className: "profile-menu-item",
                    onClick: N.action,
                    style: { "--item-color": N.color },
                    children: [
                      a.jsx("div", {
                        className: "menu-item-icon",
                        style: { color: N.color },
                        children: N.icon,
                      }),
                      a.jsx("span", {
                        className: "menu-item-label",
                        children: N.label,
                      }),
                      a.jsx("div", {
                        className: "menu-item-arrow",
                        children: a.jsx("svg", {
                          width: "16",
                          height: "16",
                          viewBox: "0 0 24 24",
                          fill: "currentColor",
                          children: a.jsx("path", {
                            d: "M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",
                          }),
                        }),
                      }),
                    ],
                  },
                  R
                )
              ),
            }),
          ],
        }),
      }),
      a.jsx(yL, { isOpen: l, onClose: () => c(!1), user: t }),
      a.jsx(vL, { isOpen: d, onClose: () => f(!1), user: t }),
      a.jsx(WT, {
        isOpen: m,
        onClose: () => h(!1),
        user: t,
        onUserUpdate: (N) => {
          console.log("ProfileModal received user update from ShareModal:", N),
            i && i(N);
        },
      }),
      a.jsx(VT, {
        isOpen: g,
        onClose: () => x(!1),
        user: t,
        onSuccess: (N) => {
          console.log("ProfileModal received withdrawal success:", N),
            i && i(N);
        },
      }),
    ],
  });
}
function XT({ isOpen: r, onClose: e, user: t, onSuccess: s }) {
  const [n, i] = k.useState(null),
    [l, c] = k.useState(""),
    [d, f] = k.useState({}),
    [m, h] = k.useState(!1),
    [g, x] = k.useState(null),
    [v, w] = k.useState("form"),
    [_, S] = k.useState(!1),
    T = k.useRef(null),
    j = k.useRef(!1);
  k.useEffect(
    () => (
      r &&
        (E(),
        w("form"),
        x(null),
        c(""),
        f({}),
        (j.current = !0),
        setTimeout(() => {
          j.current = !1;
        }, 200)),
      () => {
        T.current && clearInterval(T.current);
      }
    ),
    [r]
  );
  const E = async () => {
      try {
        const z = await Ge.get("/deposit-data");
        i(z.data);
      } catch (z) {
        console.error("Error fetching deposit data:", z);
      }
    },
    A = async (z) => {
      z.preventDefault(), h(!0), f({});
      try {
        const Z = await Ge.post("/deposit", { amount: parseFloat(l) });
        Z.data.success &&
          (x(Z.data.data), w("payment"), M(Z.data.data.transaction_id));
      } catch (Z) {
        Z.response?.status === 422
          ? f(Z.response.data.errors || {})
          : f({ general: ["Ocorreu um erro inesperado. Tente novamente."] });
      } finally {
        h(!1);
      }
    },
    M = (z) => {
      S(!0),
        (T.current = setInterval(async () => {
          try {
            const Z = await Ge.post("/check-payment-status", {
              transaction_id: z,
            });
            Z.data.success &&
              Z.data.paid &&
              (clearInterval(T.current),
              S(!1),
              w("success"),
              await N(),
              setTimeout(() => {
                e();
              }, 3e3));
          } catch (Z) {
            console.error("Error checking payment status:", Z);
          }
        }, 3e3));
    },
    N = async () => {
      try {
        const z = await Ge.get("/api/user/refresh");
        z.data.success && s && s(z.data.user);
      } catch (z) {
        console.error("Error fetching updated user data:", z),
          s &&
            g &&
            s({ ...t, balance: parseFloat(t.balance) + parseFloat(g.amount) });
      }
    },
    R = (z) => {
      c(z.toString()), d.amount && f((Z) => ({ ...Z, amount: void 0 }));
    },
    O = (z) => {
      navigator.clipboard.writeText(z).then(() => {
        alert("PIX copiado para a área de transferência!");
      });
    },
    U = () => {
      T.current && clearInterval(T.current),
        S(!1),
        w("form"),
        x(null),
        c(""),
        f({}),
        e();
    },
    q = () => {
      j.current || U();
    },
    Q = (z) => `R$ ${parseFloat(z).toFixed(2).replace(".", ",")}`;
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: q,
        children: a.jsxs("div", {
          className: "profile-modal deposit-modal",
          onClick: (z) => z.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsxs("h2", {
                  children: [
                    v === "form" && "Fazer Depósito",
                    v === "payment" && "Aguardando Pagamento",
                    v === "success" && "Depósito Confirmado",
                  ],
                }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: U,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "deposit-content",
              children: [
                v === "form" &&
                  a.jsxs(a.Fragment, {
                    children: [
                      n &&
                        n.limits &&
                        a.jsxs("div", {
                          className: "deposit-limits",
                          children: [
                            a.jsx("h4", { children: "Limites de Depósito" }),
                            a.jsxs("div", {
                              className: "limits-grid",
                              children: [
                                a.jsxs("div", {
                                  className: "limit-item",
                                  children: [
                                    a.jsx("span", {
                                      className: "limit-label",
                                      children: "Mínimo:",
                                    }),
                                    a.jsx("span", {
                                      className: "limit-value",
                                      children: Q(n.limits.min),
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "limit-item",
                                  children: [
                                    a.jsx("span", {
                                      className: "limit-label",
                                      children: "Máximo:",
                                    }),
                                    a.jsx("span", {
                                      className: "limit-value",
                                      children: Q(n.limits.max),
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      n &&
                        n.recommended_amounts &&
                        a.jsxs("div", {
                          className: "recommended-amounts",
                          children: [
                            a.jsx("h4", { children: "Valores Recomendados" }),
                            a.jsx("div", {
                              className: "amounts-grid",
                              children: n.recommended_amounts.map((z, Z) =>
                                a.jsx(
                                  "button",
                                  {
                                    type: "button",
                                    className: `amount-card ${
                                      l === z.toString() ? "selected" : ""
                                    }`,
                                    onClick: () => R(z),
                                    children: Q(z),
                                  },
                                  Z
                                )
                              ),
                            }),
                          ],
                        }),
                      a.jsxs("form", {
                        onSubmit: A,
                        className: "deposit-form",
                        children: [
                          d.general &&
                            a.jsx("div", {
                              className: "form-error-general",
                              children: d.general[0],
                            }),
                          a.jsxs("div", {
                            className: "form-group",
                            children: [
                              a.jsx("label", {
                                htmlFor: "amount",
                                children: "Valor do Depósito",
                              }),
                              a.jsx("input", {
                                type: "number",
                                id: "amount",
                                name: "amount",
                                value: l,
                                onChange: (z) => c(z.target.value),
                                placeholder: "Digite o valor desejado",
                                disabled: m,
                                step: "0.01",
                                min: n?.limits?.min || 0,
                                max: n?.limits?.max || 0,
                              }),
                              n &&
                                a.jsxs("div", {
                                  className: "input-help",
                                  children: [
                                    "Entre ",
                                    Q(n.limits.min),
                                    " e ",
                                    Q(n.limits.max),
                                  ],
                                }),
                              d.amount &&
                                a.jsx("div", {
                                  className: "form-error",
                                  children: d.amount[0],
                                }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "form-actions",
                            children: [
                              a.jsx("button", {
                                type: "button",
                                className: "cancel-btn",
                                onClick: U,
                                disabled: m,
                                children: "Cancelar",
                              }),
                              a.jsx("button", {
                                type: "submit",
                                className: "submit-btn",
                                disabled: m || !l,
                                children: m
                                  ? a.jsxs(a.Fragment, {
                                      children: [
                                        a.jsx("div", {
                                          className: "loading-spinner small",
                                        }),
                                        "Gerando PIX...",
                                      ],
                                    })
                                  : "Gerar PIX",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                v === "payment" &&
                  g &&
                  a.jsxs("div", {
                    className: "payment-content",
                    children: [
                      a.jsxs("div", {
                        className: "payment-status",
                        children: [
                          a.jsx("div", {
                            className: "status-icon",
                            children: _
                              ? a.jsx("div", { className: "loading-spinner" })
                              : a.jsx("svg", {
                                  width: "24",
                                  height: "24",
                                  viewBox: "0 0 24 24",
                                  fill: "#ff9800",
                                  children: a.jsx("path", {
                                    d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                                  }),
                                }),
                          }),
                          a.jsxs("p", {
                            children: [
                              "Aguardando confirmação do pagamento de ",
                              a.jsx("strong", { children: Q(g.amount) }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "qr-code-section",
                        children: [
                          a.jsx("div", {
                            className: "qr-code-container",
                            children: a.jsx("img", {
                              src: g.qr_code,
                              alt: "QR Code PIX",
                              className: "qr-code-image",
                            }),
                          }),
                          a.jsxs("div", {
                            className: "pix-key-section",
                            children: [
                              a.jsx("label", {
                                children: "Chave PIX (Copia e Cola):",
                              }),
                              a.jsxs("div", {
                                className: "pix-key-container",
                                children: [
                                  a.jsx("input", {
                                    type: "text",
                                    value: g.pix_key,
                                    readOnly: !0,
                                    className: "pix-key-input",
                                  }),
                                  a.jsx("button", {
                                    type: "button",
                                    className: "copy-btn",
                                    onClick: () => O(g.pix_key),
                                    children: a.jsx("svg", {
                                      width: "16",
                                      height: "16",
                                      viewBox: "0 0 24 24",
                                      fill: "currentColor",
                                      children: a.jsx("path", {
                                        d: "M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",
                                      }),
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "payment-instructions",
                        children: [
                          a.jsx("h4", { children: "Instruções:" }),
                          a.jsxs("ol", {
                            children: [
                              a.jsx("li", {
                                children:
                                  "Escaneie o QR Code com seu app do banco",
                              }),
                              a.jsx("li", {
                                children: "Ou copie e cole a chave PIX",
                              }),
                              a.jsxs("li", {
                                children: [
                                  "Confirme o pagamento de ",
                                  Q(g.amount),
                                ],
                              }),
                              a.jsx("li", {
                                children: "Aguarde a confirmação automática",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                v === "success" &&
                  a.jsxs("div", {
                    className: "deposit-success",
                    children: [
                      a.jsx("div", {
                        className: "success-icon",
                        children: a.jsx("svg", {
                          width: "48",
                          height: "48",
                          viewBox: "0 0 24 24",
                          fill: "#4caf50",
                          children: a.jsx("path", {
                            d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                          }),
                        }),
                      }),
                      a.jsx("h3", { children: "Depósito confirmado!" }),
                      a.jsxs("p", {
                        children: [
                          "Seu depósito de ",
                          a.jsx("strong", { children: g && Q(g.amount) }),
                          " foi processado com sucesso.",
                        ],
                      }),
                    ],
                  }),
              ],
            }),
          ],
        }),
      })
    : null;
}
function _L({ isOpen: r, onClose: e }) {
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: e,
        children: a.jsxs("div", {
          className: "profile-modal help-modal",
          onClick: (t) => t.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Como Jogar - Esquilo Mania" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: e,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "help-content",
              children: [
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#ff6b35",
                            children: a.jsx("path", {
                              d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                            }),
                          }),
                        }),
                        a.jsx("h3", { children: "Objetivo do Jogo" }),
                      ],
                    }),
                    a.jsx("p", {
                      children:
                        "O Esquilo Mania é um jogo de sorte e estratégia onde você deve abrir baús para encontrar prêmios sem encontrar as raposas escondidas. Quanto mais baús você abrir, maiores serão suas recompensas!",
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#4caf50",
                            children: a.jsx("path", {
                              d: "M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm6 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z",
                            }),
                          }),
                        }),
                        a.jsx("h3", { children: "Como Funciona" }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "help-mechanic-item",
                      children: [
                        a.jsx("strong", { children: "9 Baús Disponíveis:" }),
                        a.jsx("p", {
                          children:
                            "Cada partida apresenta 9 baús misteriosos para você escolher.",
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "help-mechanic-item",
                      children: [
                        a.jsx("strong", { children: "2 Raposas Escondidas:" }),
                        a.jsx("p", {
                          children:
                            "Sempre haverá exatamente 2 raposas distribuídas aleatoriamente entre os 9 baús. Se você encontrar uma raposa, o jogo termina e você perde todas as premiações acumuladas.",
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#ffd700",
                            children: a.jsx("path", {
                              d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
                            }),
                          }),
                        }),
                        a.jsx("h3", { children: "Prêmios dos Baús" }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "prizes-grid",
                      children: [
                        a.jsxs("div", {
                          className: "prize-item",
                          children: [
                            a.jsx("span", {
                              className: "prize-multiplier low",
                              children: "0.3x",
                            }),
                            a.jsx("span", {
                              className: "prize-label",
                              children: "Prêmio Baixo",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "prize-item",
                          children: [
                            a.jsx("span", {
                              className: "prize-multiplier low",
                              children: "0.5x",
                            }),
                            a.jsx("span", {
                              className: "prize-label",
                              children: "Prêmio Baixo",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "prize-item",
                          children: [
                            a.jsx("span", {
                              className: "prize-multiplier medium",
                              children: "0.8x",
                            }),
                            a.jsx("span", {
                              className: "prize-label",
                              children: "Prêmio Médio",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "prize-item",
                          children: [
                            a.jsx("span", {
                              className: "prize-multiplier high",
                              children: "2x",
                            }),
                            a.jsx("span", {
                              className: "prize-label",
                              children: "Prêmio Alto",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "prize-item",
                          children: [
                            a.jsx("span", {
                              className: "prize-multiplier high",
                              children: "5x",
                            }),
                            a.jsx("span", {
                              className: "prize-label",
                              children: "Prêmio Máximo",
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsx("p", {
                      className: "prizes-note",
                      children:
                        "Os multiplicadores são aplicados sobre o valor da sua aposta inicial.",
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#ff9800",
                            children: a.jsx("path", { d: "M7 14l5-5 5 5z" }),
                          }),
                        }),
                        a.jsx("h3", {
                          children: "Bônus Multiplicador Especial",
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "bonus-explanation",
                      children: [
                        a.jsxs("div", {
                          className: "bonus-feature",
                          children: [
                            a.jsx("strong", {
                              children: "Multiplicador Aleatório:",
                            }),
                            a.jsxs("p", {
                              children: [
                                "Durante a abertura de qualquer baú, pode aparecer aleatoriamente um bônus multiplicador especial que varia entre ",
                                a.jsx("span", {
                                  className: "highlight",
                                  children: "2x até 50x",
                                }),
                                ".",
                              ],
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "bonus-feature",
                          children: [
                            a.jsx("strong", {
                              children: "Aplicação do Bônus:",
                            }),
                            a.jsxs("p", {
                              children: [
                                "Este multiplicador especial é aplicado sobre ",
                                a.jsx("em", { children: "todos os ganhos" }),
                                " - tanto dos baús já abertos quanto dos novos baús que você abrir na mesma partida.",
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#2196f3",
                            children: a.jsx("path", {
                              d: "M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zM12 2l-5.5 9h11z",
                            }),
                          }),
                        }),
                        a.jsx("h3", { children: "Dicas Estratégicas" }),
                      ],
                    }),
                    a.jsxs("ul", {
                      className: "strategy-tips",
                      children: [
                        a.jsxs("li", {
                          children: [
                            a.jsx("strong", { children: "Gerencie o Risco:" }),
                            " Lembre-se que sempre há 2 raposas. Quanto mais baús você abrir, maior o risco e a recompensa.",
                          ],
                        }),
                        a.jsxs("li", {
                          children: [
                            a.jsx("strong", {
                              children: "Pare na Hora Certa:",
                            }),
                            " Você pode parar a qualquer momento e garantir seus ganhos acumulados.",
                          ],
                        }),
                        a.jsxs("li", {
                          children: [
                            a.jsx("strong", {
                              children: "Aproveite os Bônus:",
                            }),
                            " Se conseguir um multiplicador especial, considere abrir mais baús para maximizar o benefício.",
                          ],
                        }),
                        a.jsxs("li", {
                          children: [
                            a.jsx("strong", { children: "Controle o Saldo:" }),
                            " Sempre jogue com responsabilidade e dentro de seus limites financeiros.",
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "help-section",
                  children: [
                    a.jsxs("div", {
                      className: "help-section-header",
                      children: [
                        a.jsx("div", {
                          className: "help-icon",
                          children: a.jsx("svg", {
                            width: "24",
                            height: "24",
                            viewBox: "0 0 24 24",
                            fill: "#9c27b0",
                            children: a.jsx("path", {
                              d: "M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z",
                            }),
                          }),
                        }),
                        a.jsx("h3", { children: "Regras Importantes" }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "rules-list",
                      children: [
                        a.jsxs("div", {
                          className: "rule-item",
                          children: [
                            a.jsx("span", {
                              className: "rule-number",
                              children: "1",
                            }),
                            a.jsx("p", {
                              children:
                                "Cada partida custa o valor da sua aposta escolhida.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "rule-item",
                          children: [
                            a.jsx("span", {
                              className: "rule-number",
                              children: "2",
                            }),
                            a.jsx("p", {
                              children:
                                "Encontrar uma raposa encerra imediatamente o jogo e você perde tudo.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "rule-item",
                          children: [
                            a.jsx("span", {
                              className: "rule-number",
                              children: "3",
                            }),
                            a.jsx("p", {
                              children:
                                "Você pode parar a qualquer momento e sacar seus ganhos.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "rule-item",
                          children: [
                            a.jsx("span", {
                              className: "rule-number",
                              children: "4",
                            }),
                            a.jsx("p", {
                              children:
                                "Os multiplicadores se acumulam a cada baú aberto com sucesso.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "rule-item",
                          children: [
                            a.jsx("span", {
                              className: "rule-number",
                              children: "5",
                            }),
                            a.jsx("p", {
                              children:
                                "O jogo é baseado em sorte - cada partida é independente.",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsx("div", {
              className: "help-footer",
              children: a.jsx("button", {
                className: "help-close-btn",
                onClick: e,
                children: "Entendi, Vamos Jogar!",
              }),
            }),
          ],
        }),
      })
    : null;
}
function YT({
  isOpen: r,
  onClose: e,
  user: t,
  onBetSelect: s,
  playButtonClickSound: n,
}) {
  const [i, l] = k.useState(null),
    c = k.useRef(!1);
  k.useEffect(() => {
    r &&
      ((c.current = !0),
      setTimeout(() => {
        c.current = !1;
      }, 200));
  }, [r]);
  const d = [0.5, 1, 2, 5, 10, 15, 20, 50, 100, 200, 250, 500],
    f = (T) => {
      n && n(), l(T);
    },
    m = () => {
      if ((n && n(), i && s)) {
        if (!w(i)) {
          alert("Saldo insuficiente para esta aposta.");
          return;
        }
        s(i), l(null), e();
      }
    },
    h = (T) => g(T);
  function g(T) {
    return "R$ " + v(x(T));
  }
  function x(T) {
    return typeof T == "number"
      ? Math.round(T * 100)
      : !T || typeof T != "string"
      ? 0
      : parseInt(T.replace(/[\D]+/g, ""), 10) || 0;
  }
  function v(T) {
    let j = String(T);
    return (
      (j = j.replace(/([0-9]{2})$/g, ",$1")),
      j.length > 6 && (j = j.replace(/([0-9]{3}),([0-9]{2}$)/g, ".$1,$2")),
      j.charAt(0) === "," && (j = "0" + j),
      j
    );
  }
  const w = (T) => parseFloat(t.balance || 0) >= T,
    _ = () => {
      n && n(), l(null), e();
    },
    S = () => {
      c.current || _();
    };
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: S,
        children: a.jsxs("div", {
          className: "profile-modal bet-modal",
          onClick: (T) => T.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", { children: "Escolher Valor da Aposta" }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: _,
                  children: "✕",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "bet-balance-info",
              children: [
                a.jsxs("div", {
                  className: "balance-display",
                  children: [
                    a.jsx("span", {
                      className: "balance-label",
                      children: "Saldo Disponível:",
                    }),
                    a.jsx("span", {
                      className: "balance-amount",
                      children: h(parseFloat(t.balance || 0)),
                    }),
                  ],
                }),
                i &&
                  a.jsxs("div", {
                    className: "bet-preview",
                    children: [
                      a.jsx("span", {
                        className: "bet-label",
                        children: "Valor Selecionado:",
                      }),
                      a.jsx("span", {
                        className: "bet-amount",
                        children: h(i),
                      }),
                    ],
                  }),
              ],
            }),
            a.jsxs("div", {
              className: "bet-content",
              children: [
                a.jsx("div", {
                  className: "bet-amounts-grid",
                  children: d.map((T, j) => {
                    const E = w(T),
                      A = i === T;
                    return a.jsxs(
                      "button",
                      {
                        className: `bet-amount-card ${A ? "selected" : ""} ${
                          E ? "" : "disabled"
                        }`,
                        onClick: () => E && f(T),
                        disabled: !E,
                        children: [
                          a.jsx("span", {
                            className: "bet-value",
                            children: h(T),
                          }),
                          !E &&
                            a.jsx("span", {
                              className: "insufficient-badge",
                              children: "Insuficiente",
                            }),
                        ],
                      },
                      j
                    );
                  }),
                }),
                a.jsxs("div", {
                  className: "bet-actions",
                  children: [
                    a.jsx("button", {
                      type: "button",
                      className: "cancel-btn",
                      onClick: _,
                      children: "Cancelar",
                    }),
                    a.jsx("button", {
                      type: "button",
                      className: "confirm-bet-btn",
                      onClick: m,
                      disabled: !i || !w(i),
                      children: i
                        ? a.jsxs(a.Fragment, { children: ["Apostar ", h(i)] })
                        : "Selecione um Valor",
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "bet-help",
                  children: [
                    a.jsx("p", {
                      children:
                        "Selecione o valor que deseja apostar. Apenas valores que você pode pagar estão disponíveis.",
                    }),
                    parseFloat(t.balance || 0) === 0 &&
                      a.jsx("p", {
                        style: { color: "#ff6b6b", fontWeight: "bold" },
                        children:
                          "Saldo insuficiente. Faça um depósito para jogar.",
                      }),
                  ],
                }),
              ],
            }),
          ],
        }),
      })
    : null;
}
function bL({
  isActive: r,
  gameData: e,
  onGameEnd: t,
  onChestOpen: s,
  soundEnabled: n,
  playButtonClickSound: i,
}) {
  const [l, c] = k.useState([]),
    [d, f] = k.useState(e),
    [m, h] = k.useState([]),
    [g, x] = k.useState(1),
    [v, w] = k.useState(0),
    [_, S] = k.useState(null),
    [T, j] = k.useState(!1),
    [E, A] = k.useState(!1),
    [M, N] = k.useState(!1),
    [R, O] = k.useState(!1),
    [U, q] = k.useState([]),
    [Q, z] = k.useState(-1),
    [Z, pe] = k.useState(null),
    [se, ie] = k.useState(!1),
    [Y, re] = k.useState(new Set()),
    [J, F] = k.useState(!1),
    [W, te] = k.useState(!1),
    [de, ne] = k.useState(0),
    [ue, ae] = k.useState(!1),
    [me, oe] = k.useState(null),
    ve = k.useRef(null),
    Te = k.useRef(null),
    Ue = k.useRef(null),
    xe = k.useRef(null),
    Ee = k.useRef(null),
    He = (ge) => {
      switch (ge) {
        case 0.3:
          return "/storage/prizes/pinecone.png";
        case 0.5:
          return "/storage/prizes/apple.png";
        case 0.8:
          return "/storage/prizes/acorn.png";
        case 2:
          return "/storage/prizes/ring.png";
        case 5:
          return "/storage/prizes/goldenacorn.png";
        default:
          return null;
      }
    };
  k.useEffect(() => {
    e && (f(e), vt());
  }, [e]),
    k.useEffect(() => {
      N(m.length > 0 && !E);
    }, [m, E]),
    k.useEffect(
      () => (
        (ve.current = new Si.Howl({
          src: ["/storage/sounds/loser_collect2.mp3"],
          volume: 0.7,
          preload: !0,
        })),
        (Te.current = new Si.Howl({
          src: ["/storage/sounds/coin_collect2.mp3"],
          volume: 0.7,
          preload: !0,
        })),
        (Ue.current = new Si.Howl({
          src: ["/storage/sounds/win.mp3"],
          volume: 0.7,
          preload: !0,
        })),
        (xe.current = new Si.Howl({
          src: ["/storage/sounds/bonus_suspense.mp3"],
          volume: 0.7,
          preload: !0,
        })),
        (Ee.current = new Si.Howl({
          src: ["/storage/sounds/bubble.mp3"],
          volume: 0.7,
          preload: !0,
        })),
        () => {
          ve.current?.unload(),
            Te.current?.unload(),
            Ue.current?.unload(),
            xe.current?.unload(),
            Ee.current?.unload();
        }
      ),
      []
    );
  const vt = () => {
      const ge = Array.from({ length: 9 }, ($e, ht) => ({
        id: ht,
        isOpen: !1,
        content: null,
        multiplier: null,
        isFox: !1,
        hasBonus: !1,
        isOpening: !1,
        prizeValue: 0,
        imageUrl: null,
      }));
      c(ge),
        h([]),
        x(1),
        w(0),
        S(null),
        A(!1),
        N(!1),
        O(!1),
        q([]),
        z(-1),
        pe(null),
        re(new Set()),
        F(!1),
        te(!1),
        ne(0),
        ae(!1),
        oe(null);
    },
    _t = () => {
      n && ve.current && ve.current.play();
    },
    Ft = () => {
      n && Te.current && Te.current.play();
    },
    hr = () => {
      n && Ue.current && Ue.current.play();
    },
    Kt = async (ge) => {
      if (T || E || l[ge].isOpen || !d || R) return;
      j(!0);
      const $e = [...l];
      ($e[ge] = { ...$e[ge], isOpening: !0 }), c($e);
      try {
        const ht = await Ge.post("/game/open-chest", {
          game_id: d.id,
          chest_index: ge,
        });
        if (ht.data.success) {
          const {
            chest_content: et,
            is_fox: ot,
            multiplier: Tt,
            bonus_multiplier: ft,
            total_winnings: It,
            game_over: Ut,
            all_results: kt,
          } = ht.data;
          console.log("Backend response:", ht.data),
            console.log("Total winnings from backend:", It),
            ot ? _t() : Ft(),
            Ut && !ot && hr();
          const Et = [...l];
          if (
            ((Et[ge] = {
              ...Et[ge],
              isOpen: !0,
              isOpening: !0,
              content: et,
              multiplier: Tt,
              isFox: ot,
              hasBonus: ft > 1,
              prizeValue: et.prize_value || 0,
              imageUrl: ot ? "/storage/raposa.png" : He(Tt),
            }),
            c(Et),
            h(($t) => [...$t, ge]),
            console.log("Setting total winnings to:", It),
            setTimeout(() => {
              w(parseFloat(It) || 0);
            }, 300),
            ft > 1 && !J)
          ) {
            S(ft), F(!0), ae(!0), n && xe.current && xe.current.play();
            const $t = ft;
            setTimeout(() => {
              oe($t),
                setTimeout(() => {
                  ae(!1),
                    xe.current && xe.current.stop(),
                    c((H) => {
                      const Oe = [...H];
                      return (
                        Oe.forEach((We, Qe) => {
                          if (We.isOpen && !We.isFox) {
                            const Ae = d.amount * We.multiplier;
                            Oe[Qe] = {
                              ...We,
                              prizeValue: Ae * ft,
                              hasBonus: !0,
                            };
                          }
                        }),
                        Oe
                      );
                    }),
                    n && Ee.current && Ee.current.play(),
                    ie(!0),
                    Et.map((H, Oe) => (H.isOpen ? null : Oe))
                      .filter((H) => H !== null)
                      .forEach((H) => {
                        const Oe = Math.floor(H / 3),
                          We = H % 3,
                          ir = 800 + Math.sqrt(Oe * Oe + We * We) * 50;
                        setTimeout(() => {
                          re((Yr) => new Set([...Yr, H]));
                        }, ir);
                      }),
                    setTimeout(() => ie(!1), 2450);
                }, 1300);
            }, 1e3);
          } else
            ft > 1 &&
              J &&
              (S(ft),
              c(($t) => {
                const G = [...$t];
                return (
                  G.forEach((H, Oe) => {
                    if (H.isOpen && !H.isFox) {
                      const We = d.amount * H.multiplier;
                      G[Oe] = { ...H, prizeValue: We * ft, hasBonus: !0 };
                    }
                  }),
                  G
                );
              }));
          setTimeout(() => {
            c(($t) => {
              const G = [...$t];
              return (G[ge] = { ...G[ge], isOpening: !1 }), G;
            }),
              Ut &&
                (ot
                  ? (re(new Set()),
                    ie(!1),
                    F(!1),
                    q(kt || []),
                    z(ge),
                    O(!0),
                    ee(kt, ge, Et))
                  : A(!0)),
              s &&
                s({
                  chest_index: ge,
                  content: et,
                  is_fox: ot,
                  multiplier: Tt,
                  bonus_multiplier: ft,
                }),
              j(!1);
          }, 600);
        } else {
          j(!1);
          const et = [...l];
          (et[ge] = { ...et[ge], isOpening: !1 }), c(et);
        }
      } catch (ht) {
        console.error("Error opening chest:", ht);
        const et = [...l];
        (et[ge] = { ...et[ge], isOpening: !1 }), c(et), j(!1);
      }
    },
    ee = (ge, $e, ht) => {
      re(new Set()),
        ie(!1),
        F(!1),
        [...ht],
        ge.forEach((et, ot) => {
          !m.includes(ot) &&
            ot !== $e &&
            setTimeout(() => {
              c((Tt) => {
                const ft = [...Tt],
                  It = et.type === "fox" ? 0 : d.amount * et.multiplier;
                return (
                  (ft[ot] = {
                    ...ft[ot],
                    isOpen: !0,
                    content: { type: et.type, multiplier: et.multiplier },
                    multiplier: et.multiplier,
                    isFox: et.type === "fox",
                    hasBonus: !1,
                    revealed: !0,
                    prizeValue: It,
                    imageUrl:
                      et.type === "fox"
                        ? "/storage/raposa.png"
                        : He(et.multiplier),
                  }),
                  ft
                );
              });
            }, ot * 150);
        }),
        setTimeout(() => {
          O(!1), pe("Você encontrou a raposa!");
        }, ge.length * 150 + 1e3);
    },
    nt = async () => {
      if (!(E || m.length === 0 || !d)) {
        i();
        try {
          const ge = await Ge.post("/game/cash-out", { game_id: d.id });
          ge.data.success && (hr(), A(!0), ne(ge.data.total_winnings), te(!0));
        } catch (ge) {
          console.error("Error cashing out:", ge);
        }
      }
    },
    qe = (ge) =>
      `R$ ${parseFloat(ge || 0)
        .toFixed(2)
        .replace(".", ",")}`;
  return !r || !d
    ? null
    : a.jsx("div", {
        className: "game-board-overlay",
        children: a.jsxs("div", {
          className: "game-board",
          children: [
            a.jsx("div", {
              className: "game-header",
              children: a.jsxs("div", {
                className: "game-info-grid",
                children: [
                  a.jsxs("div", {
                    className: "info-card bet-card",
                    children: [
                      a.jsx("div", { className: "info-icon", children: "💰" }),
                      a.jsxs("div", {
                        className: "info-content",
                        children: [
                          a.jsx("span", {
                            className: "info-label",
                            children: "Aposta",
                          }),
                          a.jsx("span", {
                            className: "info-value",
                            children: qe(d.amount),
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "info-card winnings-card",
                    children: [
                      a.jsx("div", { className: "info-icon", children: "🏆" }),
                      a.jsxs("div", {
                        className: "info-content",
                        children: [
                          a.jsx("span", {
                            className: "info-label",
                            children: "Ganhos",
                          }),
                          a.jsx("span", {
                            className: "info-value winnings",
                            children: qe(v),
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "info-card chests-card",
                    children: [
                      a.jsx("div", { className: "info-icon", children: "📦" }),
                      a.jsxs("div", {
                        className: "info-content",
                        children: [
                          a.jsx("span", {
                            className: "info-label",
                            children: "Baús",
                          }),
                          a.jsxs("span", {
                            className: "info-value chests",
                            children: [m.length, "/7"],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "info-card foxes-card",
                    children: [
                      a.jsx("div", { className: "info-icon", children: "🦊" }),
                      a.jsxs("div", {
                        className: "info-content",
                        children: [
                          a.jsx("span", {
                            className: "info-label",
                            children: "Raposas",
                          }),
                          a.jsx("span", {
                            className: "info-value foxes",
                            children: "2",
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            }),
            a.jsxs("div", {
              className: "chests-container",
              children: [
                a.jsx("div", {
                  className: `chests-grid ${R ? "revealing-results" : ""} ${
                    _ > 1 ? "bonus-active" : ""
                  }`,
                  children: l.map((ge, $e) =>
                    a.jsxs(
                      "div",
                      {
                        className: `chest ${ge.isOpen ? "opened" : ""} ${
                          ge.isOpening ? "opening" : ""
                        } ${ge.isFox ? "fox" : ""} ${
                          ge.revealed ? "revealed" : ""
                        } ${
                          ge.revealed && ge.isFox
                            ? "fox"
                            : ge.revealed
                            ? "prize"
                            : ""
                        } ${T || R ? "disabled" : ""} ${
                          _ > 1 && !ge.isOpen && Y.has($e) ? "bonus-glow" : ""
                        }`,
                        onClick: () => Kt($e),
                        style: { "--reveal-delay": $e },
                        children: [
                          _ > 1 &&
                            !ge.isOpen &&
                            Y.has($e) &&
                            a.jsxs(a.Fragment, {
                              children: [
                                a.jsx("div", { className: "chest-sparkle" }),
                                a.jsx("div", { className: "chest-sparkle" }),
                                a.jsx("div", { className: "chest-sparkle" }),
                                a.jsx("div", { className: "chest-sparkle" }),
                              ],
                            }),
                          a.jsxs("div", {
                            className: "chest-inner",
                            children: [
                              a.jsxs("div", {
                                className: "chest-front",
                                children: [
                                  a.jsx("div", {
                                    className: "chest-icon",
                                    children: a.jsx("svg", {
                                      width: "40",
                                      height: "40",
                                      viewBox: "0 0 24 24",
                                      fill: "#8B4513",
                                      children: a.jsx("path", {
                                        d: "M20 4H4c-1.1 0-2 .9-2 2v2h20V6c0-1.1-.9-2-2-2zM2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10H2v8zm8-5h4v2h-4v-2z",
                                      }),
                                    }),
                                  }),
                                  a.jsx("div", {
                                    className: "chest-number",
                                    children: $e + 1,
                                  }),
                                ],
                              }),
                              a.jsx("div", {
                                className: "chest-back",
                                children:
                                  ge.isOpen &&
                                  a.jsx("div", {
                                    className: "chest-content",
                                    children: ge.isFox
                                      ? a.jsxs(a.Fragment, {
                                          children: [
                                            a.jsx("div", {
                                              className: "chest-icon",
                                              children: a.jsx("img", {
                                                src: "/storage/raposa.png",
                                                alt: "raposa",
                                                className: "prize-image",
                                              }),
                                            }),
                                            a.jsx("div", {
                                              className: "fox-message",
                                              children: "RAPOSA!",
                                            }),
                                          ],
                                        })
                                      : a.jsxs(a.Fragment, {
                                          children: [
                                            a.jsx("div", {
                                              className: "chest-icon",
                                              children: (() => {
                                                const ht = He(ge.multiplier);
                                                return ht
                                                  ? a.jsx("img", {
                                                      src: ht,
                                                      alt: "prize",
                                                      className: "prize-image",
                                                    })
                                                  : a.jsx("svg", {
                                                      width: "40",
                                                      height: "40",
                                                      viewBox: "0 0 24 24",
                                                      fill: "#FFD700",
                                                      children: a.jsx("path", {
                                                        d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
                                                      }),
                                                    });
                                              })(),
                                            }),
                                            a.jsx("div", {
                                              className: "multiplier-value",
                                              children: qe(ge.prizeValue),
                                            }),
                                            ge.hasBonus &&
                                              a.jsxs("div", {
                                                className: "bonus-indicator",
                                                children: ["BÔNUS ", _, "X!"],
                                              }),
                                          ],
                                        }),
                                  }),
                              }),
                            ],
                          }),
                          ge.isOpen &&
                            !ge.isFox &&
                            !ge.revealed &&
                            a.jsx("div", { className: "chest-glow" }),
                        ],
                      },
                      $e
                    )
                  ),
                }),
                se &&
                  a.jsx("div", {
                    className: "bonus-particles-container",
                    children: l.map((ge, $e) => {
                      if (ge.isOpen) return null;
                      const ht = Math.floor($e / 3),
                        ot = `${($e % 3) * 33.33 + 16.66}%`,
                        Tt = `${ht * 33.33 + 16.66}%`;
                      return Array.from({ length: 2 }).map((ft, It) =>
                        a.jsx(
                          "div",
                          {
                            className: "bonus-particle",
                            style: {
                              "--particle-delay": `${$e * 0.08 + It * 0.05}s`,
                              "--target-x": ot,
                              "--target-y": Tt,
                              "--particle-size": `${Math.random() * 4 + 4}px`,
                              "--particle-angle": `${Math.random() * 360}deg`,
                              transform: `translate3d(${
                                Math.random() * 100 - 50
                              }px, ${Math.random() * 100 - 50}px, 0)`,
                            },
                            children: a.jsx("div", {
                              className: "particle-content",
                            }),
                          },
                          `${$e}-${It}`
                        )
                      );
                    }),
                  }),
              ],
            }),
            a.jsx("div", {
              className: "game-controls",
              children: a.jsxs("button", {
                className: "cash-out-btn",
                onClick: nt,
                disabled: T || R || m.length === 0 || E,
                children: [
                  a.jsx("span", {
                    className: "cash-out-icon",
                    children: a.jsx("svg", {
                      width: "20",
                      height: "20",
                      viewBox: "0 0 24 24",
                      fill: "currentColor",
                      children: a.jsx("path", {
                        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V16h-2.67v2.09c-2.84-.48-5.09-2.8-5.48-5.66h2.9v-2h-2.9c.39-2.86 2.64-5.18 5.48-5.66V7h2.67v-2.09c2.84.48 5.09 2.8 5.48 5.66h-2.9v2h2.9c-.39 2.86-2.64-5.18-5.48-5.66zM15 11H9v2h6v-2z",
                      }),
                    }),
                  }),
                  "Retirar ",
                  qe(v),
                ],
              }),
            }),
            Z &&
              a.jsx("div", {
                className: "loss-message-overlay",
                children: a.jsxs("div", {
                  className: "loss-message-content",
                  children: [
                    a.jsx("div", {
                      className: "loss-icon",
                      children: a.jsx("center", {
                        children: a.jsx("img", {
                          src: "/storage/raposa.png",
                          style: { height: 100 },
                        }),
                      }),
                    }),
                    a.jsx("h2", { children: Z }),
                    a.jsx("p", { children: "Mais sorte na próxima vez!" }),
                    a.jsxs("div", {
                      className: "loss-actions",
                      children: [
                        a.jsx("button", {
                          className: "change-bet-btn",
                          onClick: () => {
                            i(),
                              t({
                                won: !1,
                                total_winnings: 0,
                                multiplier: g,
                                bonus_multiplier: _,
                                chests_opened: m.length,
                                found_fox: !0,
                                action: "exit",
                              });
                          },
                          children: "Sair",
                        }),
                        a.jsx("button", {
                          className: "play-again-btn",
                          onClick: () => {
                            i(),
                              t({
                                won: !1,
                                total_winnings: 0,
                                multiplier: g,
                                bonus_multiplier: _,
                                chests_opened: m.length,
                                found_fox: !0,
                                action: "change_bet",
                              });
                          },
                          children: "Jogar Novamente",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            W &&
              a.jsx("div", {
                className: "loss-message-overlay",
                children: a.jsxs("div", {
                  className: "loss-message-content",
                  children: [
                    a.jsx("div", {
                      className: "loss-icon",
                      children: a.jsx("center", {
                        children: a.jsxs("div", {
                          className: "win-icon",
                          style: {
                            fontSize: "5rem",
                            display: "flex",
                            alignItems: "center",
                            justifyContent: "center",
                            gap: "8px",
                          },
                          children: [
                            a.jsxs("svg", {
                              width: "42",
                              height: "42",
                              viewBox: "0 -0.5 33 33",
                              version: "1.1",
                              xmlns: "http://www.w3.org/2000/svg",
                              xmlnsXlink: "http://www.w3.org/1999/xlink",
                              fill: "#000000",
                              children: [
                                a.jsx("g", {
                                  id: "SVGRepo_bgCarrier",
                                  strokeWidth: 0,
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_tracerCarrier",
                                  strokeLinecap: "round",
                                  strokeLinejoin: "round",
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_iconCarrier",
                                  children: a.jsx("g", {
                                    id: "Vivid.JS",
                                    stroke: "none",
                                    strokeWidth: 1,
                                    fill: "none",
                                    fillRule: "evenodd",
                                    children: a.jsx("g", {
                                      id: "Vivid-Icons",
                                      transform:
                                        "translate(-903.000000, -411.000000)",
                                      fill: "#ffd500",
                                      children: a.jsx("g", {
                                        id: "Icons",
                                        transform:
                                          "translate(37.000000, 169.000000)",
                                        children: a.jsx("g", {
                                          id: "star",
                                          transform:
                                            "translate(858.000000, 234.000000)",
                                          children: a.jsx("g", {
                                            transform:
                                              "translate(7.000000, 8.000000)",
                                            id: "Shape",
                                            children: a.jsx("polygon", {
                                              points:
                                                "27.865 31.83 17.615 26.209 7.462 32.009 9.553 20.362 0.99 12.335 12.532 10.758 17.394 0 22.436 10.672 34 12.047 25.574 20.22",
                                            }),
                                          }),
                                        }),
                                      }),
                                    }),
                                  }),
                                }),
                              ],
                            }),
                            a.jsxs("svg", {
                              width: "50",
                              height: "50",
                              viewBox: "0 -0.5 33 33",
                              version: "1.1",
                              xmlns: "http://www.w3.org/2000/svg",
                              xmlnsXlink: "http://www.w3.org/1999/xlink",
                              fill: "#000000",
                              children: [
                                a.jsx("g", {
                                  id: "SVGRepo_bgCarrier",
                                  strokeWidth: 0,
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_tracerCarrier",
                                  strokeLinecap: "round",
                                  strokeLinejoin: "round",
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_iconCarrier",
                                  children: a.jsx("g", {
                                    id: "Vivid.JS",
                                    stroke: "none",
                                    strokeWidth: 1,
                                    fill: "none",
                                    fillRule: "evenodd",
                                    children: a.jsx("g", {
                                      id: "Vivid-Icons",
                                      transform:
                                        "translate(-903.000000, -411.000000)",
                                      fill: "#ffd500",
                                      children: a.jsx("g", {
                                        id: "Icons",
                                        transform:
                                          "translate(37.000000, 169.000000)",
                                        children: a.jsx("g", {
                                          id: "star",
                                          transform:
                                            "translate(858.000000, 234.000000)",
                                          children: a.jsx("g", {
                                            transform:
                                              "translate(7.000000, 8.000000)",
                                            id: "Shape",
                                            children: a.jsx("polygon", {
                                              points:
                                                "27.865 31.83 17.615 26.209 7.462 32.009 9.553 20.362 0.99 12.335 12.532 10.758 17.394 0 22.436 10.672 34 12.047 25.574 20.22",
                                            }),
                                          }),
                                        }),
                                      }),
                                    }),
                                  }),
                                }),
                              ],
                            }),
                            a.jsxs("svg", {
                              width: "42",
                              height: "42",
                              viewBox: "0 -0.5 33 33",
                              version: "1.1",
                              xmlns: "http://www.w3.org/2000/svg",
                              xmlnsXlink: "http://www.w3.org/1999/xlink",
                              fill: "#000000",
                              children: [
                                a.jsx("g", {
                                  id: "SVGRepo_bgCarrier",
                                  strokeWidth: 0,
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_tracerCarrier",
                                  strokeLinecap: "round",
                                  strokeLinejoin: "round",
                                }),
                                a.jsx("g", {
                                  id: "SVGRepo_iconCarrier",
                                  children: a.jsx("g", {
                                    id: "Vivid.JS",
                                    stroke: "none",
                                    strokeWidth: 1,
                                    fill: "none",
                                    fillRule: "evenodd",
                                    children: a.jsx("g", {
                                      id: "Vivid-Icons",
                                      transform:
                                        "translate(-903.000000, -411.000000)",
                                      fill: "#ffd500",
                                      children: a.jsx("g", {
                                        id: "Icons",
                                        transform:
                                          "translate(37.000000, 169.000000)",
                                        children: a.jsx("g", {
                                          id: "star",
                                          transform:
                                            "translate(858.000000, 234.000000)",
                                          children: a.jsx("g", {
                                            transform:
                                              "translate(7.000000, 8.000000)",
                                            id: "Shape",
                                            children: a.jsx("polygon", {
                                              points:
                                                "27.865 31.83 17.615 26.209 7.462 32.009 9.553 20.362 0.99 12.335 12.532 10.758 17.394 0 22.436 10.672 34 12.047 25.574 20.22",
                                            }),
                                          }),
                                        }),
                                      }),
                                    }),
                                  }),
                                }),
                              ],
                            }),
                          ],
                        }),
                      }),
                    }),
                    a.jsx("h2", {
                      style: { color: "#4caf50" },
                      children: "Parabéns!",
                    }),
                    a.jsx("p", {
                      children: "Você retirou seus ganhos com sucesso!",
                    }),
                    a.jsx("div", {
                      className: "result-amount win",
                      children: qe(de),
                    }),
                    a.jsxs("div", {
                      className: "loss-actions",
                      children: [
                        a.jsx("button", {
                          className: "change-bet-btn",
                          onClick: () => {
                            i(),
                              t({
                                won: !1,
                                total_winnings: 0,
                                multiplier: g,
                                bonus_multiplier: _,
                                chests_opened: m.length,
                                found_fox: !0,
                                action: "exit",
                              });
                          },
                          children: "Sair",
                        }),
                        a.jsx("button", {
                          className: "play-again-btn",
                          onClick: () => {
                            i(),
                              t({
                                won: !1,
                                total_winnings: 0,
                                multiplier: g,
                                bonus_multiplier: _,
                                chests_opened: m.length,
                                found_fox: !0,
                                action: "change_bet",
                              });
                          },
                          children: "Jogar Novamente",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            E &&
              !l.some((ge) => ge.isFox && ge.isOpen) &&
              !W &&
              a.jsx("div", {
                className: "game-over-overlay",
                children: a.jsxs("div", {
                  className: "game-over-modal",
                  children: [
                    a.jsx("div", {
                      className: "game-result-icon",
                      children: a.jsx("div", {
                        className: "win-icon",
                        children: "🎉",
                      }),
                    }),
                    a.jsxs("div", {
                      className: "game-result-content",
                      children: [
                        a.jsx("h2", { children: "🎊 Parabéns! 🎊" }),
                        a.jsx("p", {
                          children:
                            "Você conseguiu! Seus ganhos foram creditados com sucesso.",
                        }),
                        a.jsx("div", {
                          className: "result-amount win",
                          children: qe(v),
                        }),
                      ],
                    }),
                    a.jsx("button", {
                      className: "game-result-btn",
                      onClick: () => {
                        i(),
                          t({
                            won: !0,
                            total_winnings: v,
                            multiplier: g,
                            bonus_multiplier: _,
                            chests_opened: m.length,
                            found_fox: !1,
                            completed_game: !m.some((ge) => !ge.isOpen),
                          });
                      },
                      children: "Continuar Jogando",
                    }),
                  ],
                }),
              }),
            ue &&
              a.jsx("div", {
                className: "bonus-announcement-overlay",
                children: a.jsxs("div", {
                  className: "bonus-announcement-content",
                  children: [
                    a.jsx("div", {
                      className: "bonus-image-container",
                      children: a.jsx("img", {
                        src: "/storage/bonus.png",
                        alt: "Bonus",
                        className: "bonus-image",
                      }),
                    }),
                    a.jsx("div", {
                      className: "bonus-multiplier-scroller",
                      children: a.jsx("div", {
                        className: "bonus-reel",
                        children: a.jsxs("div", {
                          className: `bonus-reel-items ${
                            me ? "stop-at-" + me : ""
                          }`,
                          children: [
                            a.jsx("span", { children: "x2" }),
                            a.jsx("span", { children: "x3" }),
                            a.jsx("span", { children: "x5" }),
                            a.jsx("span", { children: "x8" }),
                            a.jsx("span", { children: "x10" }),
                            a.jsx("span", { children: "x15" }),
                            a.jsx("span", { children: "x20" }),
                            a.jsx("span", { children: "x25" }),
                            a.jsx("span", { children: "x30" }),
                            a.jsx("span", { children: "x50" }),
                            a.jsx("span", { children: "x2" }),
                            a.jsx("span", { children: "x3" }),
                            a.jsx("span", { children: "x5" }),
                            a.jsx("span", { children: "x8" }),
                            a.jsx("span", { children: "x10" }),
                            a.jsx("span", { children: "x15" }),
                            a.jsx("span", { children: "x20" }),
                            a.jsx("span", { children: "x25" }),
                            a.jsx("span", { children: "x30" }),
                            a.jsx("span", { children: "x50" }),
                          ],
                        }),
                      }),
                    }),
                    a.jsx("h2", { children: "BÔNUS ATIVADO!" }),
                  ],
                }),
              }),
          ],
        }),
      });
}
function KT({
  show: r,
  onClose: e,
  onSuccess: t,
  referralId: s,
  hidePhoneLogin: n,
}) {
  const [i, l] = k.useState(!1),
    [c, d] = k.useState(!1),
    [f, m] = k.useState({}),
    [h, g] = k.useState({ email: "", password: "" }),
    [x, v] = k.useState({
      name: "",
      phone: "",
      password: "",
      password_confirmation: "",
      referral_id: s || "",
    });
  Fe.useEffect(() => {
    v((E) => ({ ...E, referral_id: s || "" }));
  }, [s]);
  function w() {
    let E = "";
    for (let A = 0; A < 13; A++) E += Math.floor(Math.random() * 10);
    return E;
  }
  Fe.useEffect(() => {
    n && v((E) => ({ ...E, phone: w() }));
  }, [n, r]);
  function _(E) {
    return (
      (E = E.replace(/\D/g, "")),
      E.length > 11 && (E = E.slice(0, 11)),
      E.length > 6
        ? `(${E.slice(0, 2)}) ${E.slice(2, 7)}-${E.slice(7)}`
        : E.length > 2
        ? `(${E.slice(0, 2)}) ${E.slice(2)}`
        : E.length > 0
        ? `(${E}`
        : ""
    );
  }
  const S = async (E) => {
      E.preventDefault(), d(!0), m({});
      try {
        const A = await Ge.post("/login-to-game", h, {
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json",
            "X-Requested-With": "XMLHttpRequest",
          },
        });
        A.status === 200 &&
          A.data.success &&
          (t(A.data.user), e(), g({ email: "", password: "" }));
      } catch (A) {
        A.response?.status === 422
          ? m(A.response.data.errors || {})
          : m({ general: A.response?.data?.message || "Erro ao fazer login" });
      } finally {
        d(!1);
      }
    },
    T = async (E) => {
      E.preventDefault(), d(!0), m({});
      let A = "";
      const N = new URLSearchParams(window.location.search).get("ref");
      N && (A = N);
      try {
        const R = await Ge.post(
          "/register",
          { ...x, referral_id: A || x.referral_id },
          {
            headers: {
              Accept: "application/json",
              "Content-Type": "application/json",
              "X-Requested-With": "XMLHttpRequest",
            },
          }
        );
        (R.status === 200 || R.status === 201) &&
        R.data.success &&
        R.data.user &&
        R.data.user.id
          ? (t(R.data.user),
            e(),
            v({
              name: "",
              phone: "",
              password: "",
              password_confirmation: "",
              referral_id: s || "",
            }))
          : m({
              general:
                R.data?.message || "Erro ao criar conta, tente novamente.",
            });
      } catch (R) {
        R.response?.status === 422
          ? m(R.response.data.errors || {})
          : m({ general: R.response?.data?.message || "Erro ao criar conta" });
      } finally {
        d(!1);
      }
    },
    j = () => {
      m({}),
        g({ email: "", password: "" }),
        v({
          name: "",
          phone: "",
          password: "",
          password_confirmation: "",
          referral_id: s || "",
        }),
        e();
    };
  return r
    ? a.jsx("div", {
        className: "profile-modal-overlay",
        onClick: j,
        children: a.jsxs("div", {
          className: "profile-modal auth-modal",
          onClick: (E) => E.stopPropagation(),
          children: [
            a.jsxs("div", {
              className: "profile-modal-header",
              children: [
                a.jsx("h2", {
                  children: i ? "Acesse sua conta" : "Criar nova conta",
                }),
                a.jsx("button", {
                  className: "profile-modal-close",
                  onClick: j,
                  children: "✕",
                }),
              ],
            }),
            f.general &&
              a.jsx("div", {
                className: "auth-error-message",
                children: f.general,
              }),
            a.jsxs("div", {
              className: "auth-content p-4",
              children: [
                i
                  ? a.jsxs("form", {
                      onSubmit: S,
                      className: "auth-form",
                      children: [
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", {
                              children: "Nome da conta (login)",
                            }),
                            a.jsxs("div", {
                              className: "input-with-icon",
                              children: [
                                a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 16 16",
                                  children: a.jsx("path", {
                                    d: "M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z",
                                  }),
                                }),
                                a.jsx("input", {
                                  type: "text",
                                  value: h.email,
                                  onChange: (E) =>
                                    g((A) => ({ ...A, email: E.target.value })),
                                  placeholder: "Digite seu nome de conta",
                                  required: !0,
                                  className: f.email ? "error" : "",
                                }),
                              ],
                            }),
                            f.email &&
                              a.jsx("span", {
                                className: "field-error",
                                children: f.email[0],
                              }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", { children: "Senha" }),
                            a.jsxs("div", {
                              className: "input-with-icon",
                              children: [
                                a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 16 16",
                                  children: a.jsx("path", {
                                    d: "M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z",
                                  }),
                                }),
                                a.jsx("input", {
                                  type: "password",
                                  value: h.password,
                                  onChange: (E) =>
                                    g((A) => ({
                                      ...A,
                                      password: E.target.value,
                                    })),
                                  placeholder: "Digite sua senha",
                                  required: !0,
                                  className: f.password ? "error" : "",
                                }),
                              ],
                            }),
                            f.password &&
                              a.jsx("span", {
                                className: "field-error",
                                style: { color: "#ef4444" },
                                children:
                                  f.password[0] ===
                                  "The password field must be at least 8 characters."
                                    ? "A senha deve ter pelo menos 8 caracteres."
                                    : f.password[0],
                              }),
                          ],
                        }),
                        a.jsx("div", {
                          className: "auth-actions",
                          style: { width: "100%", display: "flex" },
                          children: a.jsx("button", {
                            type: "submit",
                            className: "confirm-bet-btn",
                            disabled: c,
                            children: c ? "Entrando..." : "Entrar",
                          }),
                        }),
                      ],
                    })
                  : a.jsxs("form", {
                      onSubmit: T,
                      className: "auth-form",
                      children: [
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", {
                              children: "Nome da conta (login)",
                            }),
                            a.jsxs("div", {
                              className: "input-with-icon",
                              children: [
                                a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 16 16",
                                  children: a.jsx("path", {
                                    d: "M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z",
                                  }),
                                }),
                                a.jsx("input", {
                                  type: "text",
                                  value: x.name,
                                  onChange: (E) =>
                                    v((A) => ({
                                      ...A,
                                      name: E.target.value.replace(
                                        /[^a-zA-Z0-9]/g,
                                        ""
                                      ),
                                    })),
                                  placeholder: "Crie um nome de usuário",
                                  required: !0,
                                  maxLength: "20",
                                  className: f.name ? "error" : "",
                                }),
                              ],
                            }),
                            f.name &&
                              a.jsx("span", {
                                className: "field-error",
                                children: f.name[0],
                              }),
                          ],
                        }),
                        !n &&
                          a.jsxs("div", {
                            className: "form-group",
                            children: [
                              a.jsx("label", { children: "Telefone" }),
                              a.jsxs("div", {
                                className: "input-with-icon",
                                children: [
                                  a.jsxs("svg", {
                                    xmlns: "http://www.w3.org/2000/svg",
                                    width: "16",
                                    height: "16",
                                    fill: "currentColor",
                                    viewBox: "0 0 16 16",
                                    children: [
                                      a.jsx("path", {
                                        d: "M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z",
                                      }),
                                      a.jsx("path", {
                                        d: "M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",
                                      }),
                                    ],
                                  }),
                                  a.jsx("input", {
                                    type: "tel",
                                    value: x.phone,
                                    onChange: (E) => {
                                      const A = _(E.target.value);
                                      v((M) => ({ ...M, phone: A }));
                                    },
                                    placeholder: "Digite seu telefone",
                                    required: !0,
                                    className: f.phone ? "error" : "",
                                  }),
                                ],
                              }),
                              f.phone &&
                                a.jsx("span", {
                                  className: "field-error",
                                  children: f.phone[0],
                                }),
                            ],
                          }),
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", { children: "Senha" }),
                            a.jsxs("div", {
                              className: "input-with-icon",
                              children: [
                                a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 16 16",
                                  children: a.jsx("path", {
                                    d: "M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z",
                                  }),
                                }),
                                a.jsx("input", {
                                  type: "password",
                                  value: x.password,
                                  onChange: (E) =>
                                    v((A) => ({
                                      ...A,
                                      password: E.target.value,
                                    })),
                                  placeholder: "Crie uma senha segura",
                                  required: !0,
                                  className: f.password ? "error" : "",
                                }),
                              ],
                            }),
                            f.password &&
                              a.jsx("span", {
                                className: "field-error",
                                style: { color: "#ef4444" },
                                children:
                                  f.password[0] ===
                                  "The password field must be at least 8 characters."
                                    ? "A senha deve ter pelo menos 8 caracteres."
                                    : f.password[0],
                              }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "form-group",
                          children: [
                            a.jsx("label", { children: "Confirmar Senha" }),
                            a.jsxs("div", {
                              className: "input-with-icon",
                              children: [
                                a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 16 16",
                                  children: a.jsx("path", {
                                    d: "M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z",
                                  }),
                                }),
                                a.jsx("input", {
                                  type: "password",
                                  value: x.password_confirmation,
                                  onChange: (E) =>
                                    v((A) => ({
                                      ...A,
                                      password_confirmation: E.target.value,
                                    })),
                                  placeholder: "Confirme sua senha",
                                  required: !0,
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsx("div", {
                          className: "auth-actions",
                          children: a.jsx("button", {
                            type: "submit",
                            style: { width: "100%" },
                            className: "confirm-bet-btn",
                            disabled: c,
                            children: c
                              ? "Criando conta..."
                              : "Criar conta gratuita",
                          }),
                        }),
                      ],
                    }),
                a.jsx("div", {
                  className: "auth-switch w-full mt-2",
                  children: a.jsx("button", {
                    className: "auth-switch-btn",
                    style: { width: "100%", cursor: "pointer" },
                    onClick: () => {
                      l(!i), m({});
                    },
                    disabled: c,
                    children: i
                      ? "Não tem conta? Criar agora"
                      : "Já tem conta? Fazer login",
                  }),
                }),
              ],
            }),
          ],
        }),
      })
    : null;
}
function wL() {
  return a.jsx("div", { className: "squirrel-idle" });
}
function SL({ user: r, app: e, pixiContainerRef: t }) {
  const [s, n] = k.useState(r),
    [i, l] = k.useState("game"),
    [c, d] = k.useState(10),
    [f, m] = k.useState(!1),
    [h, g] = k.useState(!0),
    [x, v] = k.useState(!1),
    [w, _] = k.useState(!1),
    [S, T] = k.useState(!1),
    [j, E] = k.useState(!1),
    [A, M] = k.useState(!1),
    [N, R] = k.useState(!1),
    [O, U] = k.useState(!1),
    [q, Q] = k.useState(!1),
    [z, Z] = k.useState(null),
    pe = k.useRef(null),
    se = k.useRef(null);
  k.useEffect(() => {
    if (e)
      return (
        (async () => {
          e.stage.removeChildren();
          try {
            const Ee = await je.load("/storage/gamebg.png"),
              He = Ve.from(Ee);
            (He.width = e.screen.width),
              (He.height = e.screen.height),
              He.anchor.set(0.5),
              (He.x = e.screen.width / 2),
              (He.y = e.screen.height / 2),
              e.stage.addChild(He);
          } catch (Ee) {
            console.error("Error loading background:", Ee);
            const He = new Be();
            He.rect(0, 0, e.screen.width, e.screen.height),
              He.fill(1381653),
              e.stage.addChild(He);
          }
        })(),
        () => {
          e.stage && e.stage.removeChildren();
        }
      );
  }, [e]),
    k.useEffect(() => {
      const xe = new Si.Howl({
        src: ["/storage/sounds/background2.mp3"],
        autoplay: !0,
        loop: !0,
        volume: 0.5,
      });
      return (
        (pe.current = xe),
        (se.current = new Si.Howl({
          src: ["/storage/sounds/button.mp3"],
          volume: 0.7,
        })),
        () => {
          xe.unload(), se.current?.unload();
        }
      );
    }, []);
  const ie = () => {
      se.current && se.current.play();
    },
    Y = () => {
      ie(), T(!0), v(!1);
    },
    re = () => {
      ie(), _(!0), v(!1);
    },
    J = (xe) => {
      xe &&
        n((Ee) => ({
          ...Ee,
          balance: xe.balance,
          rollover: xe.rollover || Ee.rollover,
        }));
    },
    F = (xe) => {
      xe
        ? n((Ee) => ({ ...Ee, balance: xe.balance }))
        : window.location.reload();
    },
    W = () => {
      ie(),
        g((xe) => {
          const Ee = !xe;
          return pe.current && pe.current.mute(!Ee), Ee;
        });
    },
    te = () => {
      ie(), E(!0);
    },
    de = () => {
      ie(), v(!0);
    },
    ne = () => {
      v(!1), (window.location.href = "/logout");
    },
    ue = () => {
      ie(), M(!0);
    },
    ae = async (xe) => {
      d(xe), M(!1);
      try {
        const Ee = await Ge.post("/game/start", { amount: xe });
        Ee.data.success &&
          (Z(Ee.data.game),
          Q(!0),
          n((He) => ({ ...He, balance: Ee.data.game.user_balance })));
      } catch (Ee) {
        console.error("Error starting game:", Ee),
          Ee.response?.data?.message && alert(Ee.response.data.message);
      }
    },
    me = (xe) => {
      console.log("Game ended with result:", xe),
        xe.action === "change_bet"
          ? (Q(!1), Z(null), M(!0))
          : xe.action === "play_again"
          ? (Q(!1),
            Z(null),
            setTimeout(() => {
              ae(z.amount);
            }, 100))
          : (Q(!1),
            Z(null),
            xe.won &&
              xe.total_winnings > 0 &&
              (xe.completed_game || xe.cashed_out) &&
              n((Ee) => ({
                ...Ee,
                balance: parseFloat(Ee.balance) + parseFloat(xe.total_winnings),
              })));
    },
    oe = (xe) => {
      console.log("Chest opened:", xe);
    },
    ve = (xe) => {
      n(xe), R(!1);
    },
    Te = () => {
      U(!0);
    },
    Ue = (xe) => {
      n(xe);
    };
  return a.jsxs("div", {
    className: "weizhen-game-container",
    children: [
      !q && a.jsx(fL, {}),
      a.jsxs("div", {
        className: "gameheader",
        children: [
          a.jsx("div", {
            className: "gameavatar",
            children: s.name.charAt(0).toUpperCase(),
          }),
          a.jsxs("div", {
            className: "header-content",
            children: [
              a.jsxs("div", {
                className: "player-info",
                children: [
                  a.jsxs("span", {
                    className: "player-id",
                    children: ["Jogador: #", s.id],
                  }),
                  a.jsx("span", { className: "player-name", children: s.name }),
                ],
              }),
              a.jsx("div", {
                className: "balance-section",
                children: a.jsxs("div", {
                  className: "balance-container",
                  children: [
                    a.jsx("span", {
                      className: "currency-symbol",
                      children: "R$",
                    }),
                    a.jsx("span", {
                      className: "balance-amount",
                      children: parseFloat(s.balance || 0).toLocaleString(
                        "pt-BR",
                        { minimumFractionDigits: 2, maximumFractionDigits: 2 }
                      ),
                    }),
                  ],
                }),
              }),
            ],
          }),
          a.jsx("img", {
            src: "/storage/logo.png",
            style: { position: "fixed", height: "87%", right: 10 },
          }),
          a.jsx("div", {
            className: "header-actions",
            style: { opacity: 0 },
            children: a.jsx("button", {
              className: "action-btn menu-btn",
              children: "⋮",
            }),
          }),
        ],
      }),
      a.jsx(pL, { gameName: "Esquilo Mania" }),
      !q && a.jsx(xL, {}),
      !q && a.jsx(wL, {}),
      !q && a.jsx(gL, { onShare: Te }),
      !q && a.jsx(mL, { onBet: ue, onDeposit: Y, playButtonClickSound: ie }),
      a.jsx(bL, {
        isActive: q,
        gameData: z,
        onGameEnd: me,
        onChestOpen: oe,
        soundEnabled: h,
        playButtonClickSound: ie,
      }),
      a.jsx(qT, {
        isOpen: x,
        onClose: () => v(!1),
        user: s,
        onDeposit: Y,
        onWithdraw: re,
        onLogout: ne,
        playButtonClickSound: ie,
      }),
      a.jsx(VT, { isOpen: w, onClose: () => _(!1), user: s, onSuccess: F }),
      a.jsx(XT, { isOpen: S, onClose: () => T(!1), user: s, onSuccess: J }),
      a.jsx(_L, { isOpen: j, onClose: () => E(!1) }),
      a.jsx(YT, {
        isOpen: A,
        onClose: () => M(!1),
        user: s,
        onBetSelect: ae,
        playButtonClickSound: ie,
      }),
      a.jsx(KT, { show: N, onClose: () => R(!1), onSuccess: ve }),
      a.jsx(WT, { isOpen: O, onClose: () => U(!1), user: s, onUserUpdate: Ue }),
      !q &&
        a.jsx("div", {
          className: "gamefooter",
          children: a.jsxs("div", {
            className: "footer-actions",
            children: [
              a.jsxs("button", {
                className: `footer-btn sound-btn ${h ? "active" : ""}`,
                onClick: W,
                children: [
                  a.jsx("span", {
                    className: "btn-icon",
                    children: h
                      ? a.jsx("svg", {
                          width: "16",
                          height: "16",
                          viewBox: "0 0 24 24",
                          fill: "currentColor",
                          children: a.jsx("path", {
                            d: "M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z",
                          }),
                        })
                      : a.jsx("svg", {
                          width: "16",
                          height: "16",
                          viewBox: "0 0 24 24",
                          fill: "currentColor",
                          children: a.jsx("path", {
                            d: "M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z",
                          }),
                        }),
                  }),
                  a.jsx("span", { className: "btn-label", children: "Som" }),
                ],
              }),
              a.jsxs("button", {
                className: "footer-btn profile-btn",
                onClick: re,
                children: [
                  a.jsx("span", {
                    className: "btn-icon",
                    children: a.jsx("svg", {
                      width: "16",
                      height: "16",
                      viewBox: "0 0 24 24",
                      fill: "currentColor",
                      children: a.jsx("path", {
                        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V16h-2.67v2.09c-2.84-.48-5.09-2.8-5.48-5.66h2.9v-2h-2.9c.39-2.86 2.64-5.18 5.48-5.66V7h2.67v-2.09c2.84.48 5.09 2.8 5.48 5.66h-2.9v2h2.9c-.39 2.86-2.64-5.18-5.48-5.66zM15 11H9v2h6v-2z",
                      }),
                    }),
                  }),
                  a.jsx("span", { className: "btn-label", children: "Sacar" }),
                ],
              }),
              a.jsxs("button", {
                className: "footer-btn help-btn",
                onClick: te,
                children: [
                  a.jsx("span", {
                    className: "btn-icon",
                    children: a.jsx("svg", {
                      width: "16",
                      height: "16",
                      viewBox: "0 0 24 24",
                      fill: "currentColor",
                      children: a.jsx("path", {
                        d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z",
                      }),
                    }),
                  }),
                  a.jsx("span", { className: "btn-label", children: "Ajuda" }),
                ],
              }),
              a.jsxs("button", {
                className: "footer-btn profile-btn",
                onClick: de,
                children: [
                  a.jsx("span", {
                    className: "btn-icon",
                    children: a.jsx("svg", {
                      width: "16",
                      height: "16",
                      viewBox: "0 0 24 24",
                      fill: "currentColor",
                      children: a.jsx("path", {
                        d: "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",
                      }),
                    }),
                  }),
                  a.jsx("span", { className: "btn-label", children: "Perfil" }),
                ],
              }),
            ],
          }),
        }),
    ],
  });
}
const CL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: SL }, Symbol.toStringTag, {
    value: "Module",
  })
);
class ll {
  constructor(e, t = 60) {
    (this.app = e),
      (this.callbacks = new Map()),
      (this.isRunning = !1),
      (this.mainTicker = this.tick.bind(this)),
      (this.targetFPS = t),
      (this.targetFrameTime = 1e3 / t),
      (this.lastFrameTime = performance.now()),
      (this.accumulator = 0),
      (this.frameSkipThreshold = this.targetFrameTime * 3);
  }
  start() {
    this.isRunning ||
      (this.app.ticker.add(this.mainTicker),
      (this.isRunning = !0),
      (this.lastFrameTime = performance.now()));
  }
  stop() {
    this.isRunning &&
      (this.app.ticker.remove(this.mainTicker), (this.isRunning = !1));
  }
  add(e, t) {
    this.callbacks.set(e, t), this.isRunning || this.start();
  }
  remove(e) {
    this.callbacks.delete(e), this.callbacks.size === 0 && this.stop();
  }
  tick(e) {
    const t = performance.now(),
      s = t - this.lastFrameTime;
    if (s > this.frameSkipThreshold) {
      (this.lastFrameTime = t), (this.accumulator = 0);
      return;
    }
    if (
      ((this.lastFrameTime = t),
      (this.accumulator += s),
      this.accumulator >= this.targetFrameTime)
    ) {
      const n = Math.floor(this.accumulator / this.targetFrameTime);
      this.accumulator -= n * this.targetFrameTime;
      const i = Math.min(n, 3) * (this.targetFPS / 60);
      for (const [l, c] of this.callbacks)
        try {
          c(i);
        } catch (d) {
          console.error(`Error in ticker callback ${l}:`, d), this.remove(l);
        }
    }
  }
  clear() {
    this.callbacks.clear(), this.stop();
  }
  setTargetFPS(e) {
    (this.targetFPS = e),
      (this.targetFrameTime = 1e3 / e),
      (this.frameSkipThreshold = this.targetFrameTime * 3);
  }
  static configureAppTicker(e, t = 60) {
    return (
      (e.ticker.maxFPS = t),
      (e.ticker.minFPS = Math.max(15, t / 4)),
      e.ticker.autoStart === void 0 && (e.ticker.autoStart = !0),
      e.ticker
    );
  }
}
class td {
  constructor(e) {
    (this.app = e),
      (this.callbacks = new Map()),
      (this.isResizing = !1),
      (this.resizeTimeout = null),
      (this.baseWidth = 430),
      (this.baseHeight = 932),
      (this.originalWidth = e.screen.width),
      (this.originalHeight = e.screen.height),
      (this.breakpoints = {
        mobile: 480,
        tablet: 768,
        desktop: 1024,
        large: 1440,
      }),
      (this.uniformScale = 1),
      (this.scaleX = 1),
      (this.scaleY = 1),
      (this.currentWidth = e.screen.width),
      (this.currentHeight = e.screen.height),
      (this.deviceType = this.getDeviceType(e.screen.width)),
      this.setupResizeListener(),
      setTimeout(() => this.performResize(), 50);
  }
  setupResizeListener() {
    const e = () => {
      this.resizeTimeout && clearTimeout(this.resizeTimeout),
        (this.resizeTimeout = setTimeout(() => {
          this.performResize();
        }, 100));
    };
    window.addEventListener("resize", e),
      window.addEventListener("orientationchange", e),
      (this.handleResize = e);
  }
  getDeviceType(e) {
    return e < this.breakpoints.mobile || e < this.breakpoints.tablet
      ? "mobile"
      : e < this.breakpoints.desktop
      ? "tablet"
      : e < this.breakpoints.large
      ? "desktop"
      : "large";
  }
  performResize() {
    if (!this.app || !this.app.renderer) return;
    const e = this.app.canvas.parentElement;
    if (!e) return;
    const t = e.clientWidth,
      s = e.clientHeight;
    this.app.renderer.resize(t, s);
    const n = t / this.baseWidth,
      i = s / this.baseHeight,
      l = this.getDeviceType(t);
    let c;
    switch (l) {
      case "mobile":
        c = Math.min(n, Math.max(i, 0.6), 1.5);
        break;
      case "tablet":
        c = Math.min(n, i, 1.8);
        break;
      case "desktop":
      case "large":
        c = Math.min(n, i, 1.5);
        break;
      default:
        c = Math.min(n, i, 1.5);
    }
    c = Math.max(Math.min(c, 2), 0.4);
    const d = this.getSafeAreaTop(l),
      f = this.getSafeAreaBottom(l),
      m = this.getSafeAreaLeft(l),
      h = this.getSafeAreaRight(l);
    (this.scaleX = n),
      (this.scaleY = i),
      (this.uniformScale = c),
      (this.currentWidth = t),
      (this.currentHeight = s),
      (this.deviceType = l),
      (this.safeArea = {
        top: d * c,
        bottom: f * c,
        left: m * c,
        right: h * c,
      }),
      (this.fontSizes = this.calculateResponsiveFontSizes(c, l)),
      (this.spacing = this.calculateResponsiveSpacing(c, l)),
      this.callbacks.forEach((g, x) => {
        try {
          g({
            width: t,
            height: s,
            scaleX: n,
            scaleY: i,
            uniformScale: c,
            baseWidth: this.baseWidth,
            baseHeight: this.baseHeight,
            deviceType: l,
            safeArea: this.safeArea,
            fontSizes: this.fontSizes,
            spacing: this.spacing,
          });
        } catch (v) {
          console.error(`Error in resize callback ${x}:`, v);
        }
      }),
      console.log(`🔄 Resize: ${t}x${s}, scale: ${c.toFixed(2)}, device: ${l}`);
  }
  getSafeAreaTop(e) {
    switch (e) {
      case "mobile":
        return 5;
      case "tablet":
        return 5;
      default:
        return 5;
    }
  }
  getSafeAreaBottom(e) {
    switch (e) {
      case "mobile":
        return 20;
      case "tablet":
        return 15;
      default:
        return 10;
    }
  }
  getSafeAreaLeft(e) {
    return e === "mobile" ? 15 : 20;
  }
  getSafeAreaRight(e) {
    return e === "mobile" ? 15 : 20;
  }
  calculateResponsiveFontSizes(e, t) {
    const s = {
        tiny: 12,
        small: 14,
        medium: 16,
        large: 18,
        xlarge: 24,
        xxlarge: 32,
        huge: 48,
      },
      n = Math.min(e, 1.5),
      i = { mobile: 1, tablet: 1.1, desktop: 1.2, large: 1.2 }[t] || 1,
      l = {};
    return (
      Object.keys(s).forEach((c) => {
        l[c] = Math.round(s[c] * n * i);
      }),
      l
    );
  }
  calculateResponsiveSpacing(e, t) {
    const s = { xs: 4, sm: 8, md: 16, lg: 24, xl: 32, xxl: 48 },
      n = Math.min(e, 1.3),
      i = {};
    return (
      Object.keys(s).forEach((l) => {
        i[l] = Math.round(s[l] * n);
      }),
      i
    );
  }
  add(e, t) {
    if ((this.callbacks.set(e, t), this.uniformScale !== void 0))
      try {
        t({
          width: this.currentWidth,
          height: this.currentHeight,
          scaleX: this.scaleX,
          scaleY: this.scaleY,
          uniformScale: this.uniformScale,
          baseWidth: this.baseWidth,
          baseHeight: this.baseHeight,
          deviceType: this.deviceType,
          safeArea: this.safeArea,
          fontSizes: this.fontSizes,
          spacing: this.spacing,
        });
      } catch (s) {
        console.error(`Error in immediate resize callback ${e}:`, s);
      }
  }
  remove(e) {
    this.callbacks.delete(e);
  }
  getScaleFactors() {
    return {
      scaleX: this.scaleX || 1,
      scaleY: this.scaleY || 1,
      uniformScale: this.uniformScale || 1,
      currentWidth: this.currentWidth || this.baseWidth,
      currentHeight: this.currentHeight || this.baseHeight,
      deviceType: this.deviceType || "mobile",
      safeArea: this.safeArea || { top: 40, bottom: 20, left: 15, right: 15 },
      fontSizes: this.fontSizes || {},
      spacing: this.spacing || {},
    };
  }
  scaleWidth(e) {
    return e * (this.scaleX || 1);
  }
  scaleHeight(e) {
    return e * (this.scaleY || 1);
  }
  scaleUniform(e) {
    return e * (this.uniformScale || 1);
  }
  getResponsivePosition(e, t, s = { x: 0, y: 0 }) {
    const { width: n, height: i, safeArea: l } = this.getScaleFactors();
    return {
      x: l.left + (n - l.left - l.right) * e - s.x,
      y: l.top + (i - l.top - l.bottom) * t - s.y,
    };
  }
  getResponsiveSize(e, t) {
    return { width: this.scaleUniform(e), height: this.scaleUniform(t) };
  }
  isMobile() {
    return this.deviceType === "mobile";
  }
  isTablet() {
    return this.deviceType === "tablet";
  }
  isDesktop() {
    return this.deviceType === "desktop" || this.deviceType === "large";
  }
  destroy() {
    this.handleResize &&
      (window.removeEventListener("resize", this.handleResize),
      window.removeEventListener("orientationchange", this.handleResize)),
      this.resizeTimeout && clearTimeout(this.resizeTimeout),
      this.callbacks.clear();
  }
}
class TL {
  constructor(e, t, s, n, i, l = !0, c = {}, d, f) {
    (this.app = e),
      (this.lobbyContainer = t),
      (this.user = s),
      (this.uiElements = {}),
      (this.headerContainer = null),
      (this.onShowProfileModal = n),
      (this.onToggleAudio = i),
      (this.isAudioEnabled = l),
      (this.settings = c),
      (this.onShowAgentPanelModal = d),
      (this.onUserUpdate = f);
  }
  createGradientTexture(e, t, s, n) {
    const i = document.createElement("canvas");
    (i.width = e), (i.height = t);
    const l = i.getContext("2d"),
      c = l.createLinearGradient(0, 0, 0, t);
    return (
      c.addColorStop(0, s),
      c.addColorStop(1, n),
      (l.fillStyle = c),
      l.fillRect(0, 0, e, t),
      Se.from(i)
    );
  }
  formatBRL(e) {
    return "R$ " + this.formatReal(this.getMoney(e));
  }
  getMoney(e) {
    return typeof e == "number"
      ? Math.round(e * 100)
      : !e || typeof e != "string"
      ? 0
      : parseInt(e.replace(/[\D]+/g, ""), 10) || 0;
  }
  formatReal(e) {
    let t = String(e);
    return (
      (t = t.replace(/([0-9]{2})$/g, ",$1")),
      t.length > 6 && (t = t.replace(/([0-9]{3}),([0-9]{2}$)/g, ".$1,$2")),
      t.charAt(0) === "," && (t = "0" + t),
      t
    );
  }
  setup() {
    (this.headerContainer = new Ye()),
      (this.headerContainer.zIndex = 10),
      this.lobbyContainer.addChild(this.headerContainer);
    const e = 76,
      t = this.app.screen.width * 0.98,
      s = (this.app.screen.width - t) / 2,
      n = 5;
    (this.headerContainer.x = s), (this.headerContainer.y = n);
    const i = new Be();
    i.beginFill(3218177, 0.8),
      i.drawRoundedRect(0, 0, t, e, 13),
      i.endFill(),
      i.lineStyle(2, 4796945, 1),
      i.drawRoundedRect(0, 0, t, e, 13),
      this.headerContainer.addChild(i),
      (this.uiElements.bgGraphics = i);
    const l = 32,
      c = new Be();
    c.beginFill(16777215, 0.13),
      c.lineStyle(2, 16777215, 0.5),
      c.drawCircle(0, 0, l),
      c.endFill(),
      (c.x = 60),
      (c.y = e / 2),
      (c.interactive = !0),
      (c.buttonMode = !0),
      c.on("pointerup", () => {
        typeof this.onShowProfileModal == "function" &&
          this.onShowProfileModal();
      });
    const d = Ve.from(je.get("ui_profile"));
    d.anchor.set(0.5),
      (d.width = d.height = l * 0.8),
      (d.x = c.x),
      (d.y = c.y - 6);
    const f = new Fr("PERFIL", {
      fontSize: 13,
      fill: "#fff",
      fontWeight: "bold",
      align: "center",
    });
    return (
      f.anchor.set(0.5, 0),
      (f.x = c.x),
      (f.y = c.y + l - 18),
      this.headerContainer.addChild(c),
      this.headerContainer.addChild(d),
      this.headerContainer.addChild(f),
      (this.uiElements.perfilCircle = c),
      (this.uiElements.perfilIcon = d),
      (this.uiElements.perfilLabel = f),
      this.createUserInfo(t),
      this.createAudioButton(t, e),
      this.createSideButtons(t, e),
      this.uiElements
    );
  }
  createUserInfo(e) {
    const t = new Fr(`ID: ${this.user.id}`, { fontSize: 14, fill: "#ffffff" });
    (t.alpha = 0.6),
      (t.x = 110),
      (t.y = 18),
      this.headerContainer.addChild(t),
      (this.uiElements.idText = t);
    const s = new Fr(`${this.formatBRL(this.user.balance)}`, {
      fontSize: 18,
      fill: "#FFD600",
      fontWeight: "bold",
    });
    (s.x = t.x),
      (s.y = t.y + t.height + 4),
      this.headerContainer.addChild(s),
      (this.uiElements.balanceText = s);
  }
  createAudioButton(e, t) {
    const i = Ve.from(
      je.get(this.isAudioEnabled ? "ui_audio_on" : "ui_audio_off")
    );
    (i.width = i.height = 30),
      (i.x = e - 30 / 2 - 60),
      (i.y = (t - 30) / 2 - 6),
      (i.interactive = !0),
      (i.buttonMode = !0),
      (i.alpha = 0.9);
    let l;
    try {
      l = je.get("background_music");
    } catch {
      l = null;
    }
    const c = () => {
      (i.texture = je.get(
        this.isAudioEnabled ? "ui_audio_on" : "ui_audio_off"
      )),
        (i.alpha = 0.9),
        (d.text = this.isAudioEnabled ? "Som ativado" : "Som desativado"),
        l &&
          (this.isAudioEnabled
            ? (l.paused || l.state === "stopped") && l.play()
            : l.pause());
    };
    i.on("pointerup", () => {
      (this.isAudioEnabled = !this.isAudioEnabled),
        c(),
        typeof this.onToggleAudio == "function" &&
          this.onToggleAudio(this.isAudioEnabled);
    }),
      this.headerContainer.addChild(i),
      (this.uiElements.audioBtn = i);
    const d = new Fr(this.isAudioEnabled ? "Som ativado" : "Som desativado", {
      fontSize: 13,
      fill: "#fff",
      fontWeight: "bold",
      align: "center",
    });
    d.anchor.set(0.5, 0),
      (d.x = i.x + 30 / 2),
      (d.y = i.y + 30 + 2),
      this.headerContainer.addChild(d),
      (this.uiElements.audioLabel = d),
      c();
  }
  createSideButtons(e, t) {
    const s = new Ye(),
      n = [
        { alias: "ui_share", action: "agent" },
        { alias: "ui_social", action: "social" },
        { alias: "ui_support", action: "support" },
      ],
      i = 72,
      l = 20,
      c = e - i - 10;
    let d = t + 60;
    n.forEach(({ alias: f, action: m }) => {
      const h = Ve.from(je.get(f));
      (h.width = h.height = i),
        (h.x = c),
        (h.y = d),
        (h.interactive = !0),
        (h.buttonMode = !0),
        (h.texture.resolution = window.devicePixelRatio),
        h.texture.update(),
        h.on("pointerup", () => {
          this.handleButtonClick(m);
        }),
        s.addChild(h),
        (d += i + l);
    }),
      this.headerContainer.addChild(s),
      (this.uiElements.btnContainer = s);
  }
  handleButtonClick(e) {
    switch (e) {
      case "agent":
        typeof this.onShowAgentPanelModal == "function" &&
          this.onShowAgentPanelModal();
        break;
      case "social":
        const t = this.settings.ui_social_link || "#";
        t !== "#" && window.open(t, "_blank");
        break;
      case "support":
        const s = this.settings.ui_support_link || "#";
        s !== "#" && window.open(s, "_blank");
        break;
    }
  }
  resize(e) {
    const {
      width: t,
      height: s,
      uniformScale: n,
      safeArea: i,
      fontSizes: l,
      spacing: c,
    } = e;
    if (!this.headerContainer) return;
    const d = Math.min(76 * n, 100),
      f = t * 0.98,
      m = (t - f) / 2,
      h = i.top;
    (this.headerContainer.x = m),
      (this.headerContainer.y = h),
      this.uiElements.bgGraphics &&
        (this.uiElements.bgGraphics.clear(),
        this.uiElements.bgGraphics.beginFill(3218177, 0.8),
        this.uiElements.bgGraphics.drawRoundedRect(0, 0, f, d, 13),
        this.uiElements.bgGraphics.endFill(),
        this.uiElements.bgGraphics.lineStyle(Math.min(2 * n, 3), 4796945, 1),
        this.uiElements.bgGraphics.drawRoundedRect(0, 0, f, d, 13));
    const g = Math.min(32 * n, 44),
      x = Math.min(60 * n, 80),
      v = d / 2,
      w = x + g + Math.min(18 * n, 24);
    if (
      (this.uiElements.perfilCircle &&
        this.uiElements.perfilIcon &&
        this.uiElements.perfilLabel &&
        (this.uiElements.perfilCircle.clear(),
        this.uiElements.perfilCircle.beginFill(16777215, 0.13),
        this.uiElements.perfilCircle.lineStyle(
          Math.min(2 * n, 3),
          16777215,
          0.1
        ),
        this.uiElements.perfilCircle.drawCircle(0, 0, g),
        this.uiElements.perfilCircle.endFill(),
        (this.uiElements.perfilCircle.x = x),
        (this.uiElements.perfilCircle.y = v),
        (this.uiElements.perfilIcon.width = this.uiElements.perfilIcon.height =
          g * 0.8),
        (this.uiElements.perfilIcon.x = x),
        (this.uiElements.perfilIcon.y = v - 6),
        (this.uiElements.perfilLabel.style.fontSize =
          Math.min(l.small || 13, 15) - 5),
        (this.uiElements.perfilLabel.x = x),
        (this.uiElements.perfilLabel.y = v + g - 18)),
      this.uiElements.idText &&
        ((this.uiElements.idText.style.fontSize = Math.min(l.small || 14, 16)),
        (this.uiElements.idText.x = w),
        (this.uiElements.idText.y = Math.min(c.md, 20))),
      this.uiElements.balanceText &&
        ((this.uiElements.balanceText.style.fontSize = Math.min(
          l.medium || 16,
          20
        )),
        (this.uiElements.balanceText.style.fill = "#FFD600"),
        (this.uiElements.balanceText.text = `${this.formatBRL(
          this.user.balance
        )}`),
        (this.uiElements.balanceText.x = w),
        (this.uiElements.balanceText.y = Math.min(c.md + c.lg, 40))),
      this.uiElements.audioBtn && this.uiElements.audioLabel)
    ) {
      const _ = Math.min(30 * n, 38),
        S = Math.max(60 * n, 48);
      (this.uiElements.audioBtn.width = this.uiElements.audioBtn.height = _),
        (this.uiElements.audioBtn.x = f - _ / 2 - S),
        (this.uiElements.audioBtn.y = (d - _) / 2 - 6),
        (this.uiElements.audioBtn.alpha = 0.9),
        (this.uiElements.audioLabel.style.fontSize =
          Math.min(l.small || 13, 15) - 1),
        (this.uiElements.audioLabel.x = this.uiElements.audioBtn.x + _ / 2),
        (this.uiElements.audioLabel.y = this.uiElements.audioBtn.y + _ + 2);
    }
    if (this.uiElements.btnContainer) {
      const _ = Math.min(72 * n, 90),
        S = Math.min(20 * n, 25),
        T = f - _ - Math.min(c.sm, 15);
      let j = d + Math.min(c.xl * 2, 60);
      this.uiElements.btnContainer.children.forEach((E) => {
        (E.width = E.height = _), (E.x = T), (E.y = j), (j += _ + S);
      });
    }
  }
  updateUser(e) {
    (this.user = e), this.updateUserDisplay();
  }
  updateUserDisplay() {
    this.uiElements.balanceText &&
      (this.uiElements.balanceText.text = `${this.formatBRL(
        this.user.balance
      )}`);
  }
  destroy() {
    this.headerContainer && this.headerContainer.destroy();
  }
}
class EL {
  constructor(e, t, s) {
    (this.app = e),
      (this.container = t),
      (this.tickerManager = s),
      (this.squirrel = null),
      (this.currentFrame = 0),
      (this.direction = 1),
      (this.frameCounter = 0),
      (this.frameDelay = 99999.2),
      (this.forwardTextures = []),
      (this.reverseTextures = []);
  }
  async setup() {
    console.log(
      "[SquirrelAnimation] PIXI.Assets.cache keys:",
      Object.keys(je.cache || {})
    );
    const e = je.get("squirrel_spritesheet");
    if (!e || !e.baseTexture) {
      console.error("[SquirrelAnimation] spritesheet asset not loaded:", e);
      return;
    }
    const t = e.baseTexture;
    let s;
    try {
      s = await (await fetch("/storage/squirrel-new2.json")).json();
    } catch (l) {
      console.error("[SquirrelAnimation] Failed to load squirrel-new2.json", l);
      return;
    }
    const n = {
      frames: {},
      meta: {
        scale: "1",
        image: "squirrel-new2.png",
        size: { w: t.width, h: t.height },
      },
    };
    s.forEach((l) => {
      n.frames[l.name] = {
        frame: { x: l.x, y: l.y, w: l.width, h: l.height },
        rotated: !1,
        trimmed: !1,
        spriteSourceSize: { x: 0, y: 0, w: l.width, h: l.height },
        sourceSize: { w: l.width, h: l.height },
      };
    });
    const i = new Jo(t, n);
    return (
      await i.parse(),
      (this.forwardTextures = Object.keys(i.textures)
        .sort()
        .map((l) => i.textures[l])),
      (this.reverseTextures = [...this.forwardTextures].reverse()),
      (this.squirrel = new Ve(this.forwardTextures[0])),
      this.squirrel.anchor.set(0.5),
      this.squirrel.scale.set(0.34),
      (this.squirrel.x = 20 + (547 * 0.4) / 2),
      (this.squirrel.y = this.app.screen.height - 160 - (547 * 0.4) / 2),
      (this.squirrel.zIndex = 2),
      this.container.addChild(this.squirrel),
      this.tickerManager.add("squirrelAnimation", () => this.updateAnimation()),
      console.log("🐿️ Squirrel ping-pong animation running!"),
      this.squirrel
    );
  }
  updateAnimation() {
    this.frameCounter++,
      this.frameCounter >= this.frameDelay &&
        ((this.frameCounter = 0),
        (this.currentFrame += this.direction),
        this.currentFrame >= this.forwardTextures.length - 1
          ? ((this.direction = -1),
            (this.currentFrame = this.forwardTextures.length - 1))
          : this.currentFrame <= 0 &&
            ((this.direction = 1), (this.currentFrame = 0)),
        this.direction === 1
          ? (this.squirrel.texture = this.forwardTextures[this.currentFrame])
          : (this.squirrel.texture =
              this.reverseTextures[
                this.forwardTextures.length - 1 - this.currentFrame
              ]));
  }
  resize(e) {
    if (!this.squirrel) return;
    const { width: t, height: s, uniformScale: n, safeArea: i } = e,
      l = 0.44,
      c = Math.min(n, 1.2);
    this.squirrel.scale.set(l * c),
      (this.squirrel.x = i.left + (547 * l * c) / 2),
      (this.squirrel.y =
        s - i.bottom - Math.min(160 * n, 200) - (547 * l * c) / 2);
  }
  destroy() {
    this.tickerManager.remove("squirrelAnimation"),
      this.squirrel && this.squirrel.destroy();
  }
}
class jL {
  constructor(e, t, s) {
    (this.app = e),
      (this.container = t),
      (this.tickerManager = s),
      (this.sessionStartTime = Date.now()),
      (this.timerFrameCount = 0),
      (this.gameTitleText = null),
      (this.sessionTimerText = null);
  }
  createShadowedText(e, t, s = 0) {
    const n = new Ye(),
      i = new Fr(e, { ...t, fill: "#000000" });
    i.anchor.set(s, 0), (i.x = 1), (i.y = 1), (i.alpha = 0.8), n.addChild(i);
    const l = new Fr(e, t);
    return (
      l.anchor.set(s, 0),
      n.addChild(l),
      (n.zIndex = 10),
      { container: n, mainText: l, shadow: i }
    );
  }
  setup(e, t) {
    return (
      (this.gameTitleText = this.createShadowedText(
        "Jacaré Mania",
        { fontSize: 16, fill: "#FFFFFF", fontWeight: "500", align: "left" },
        0
      )),
      (this.gameTitleText.container.x = 20),
      (this.gameTitleText.container.y = e + t + 10),
      this.container.addChild(this.gameTitleText.container),
      (this.sessionTimerText = this.createShadowedText(
        "Sessão: 0m 00s",
        { fontSize: 16, fill: "#FFFFFF", fontWeight: "500", align: "right" },
        1
      )),
      (this.sessionTimerText.container.x = this.app.screen.width - 20),
      (this.sessionTimerText.container.y = e + t + 10),
      this.container.addChild(this.sessionTimerText.container),
      this.tickerManager.add("sessionTimer", (s) => {
        this.timerFrameCount++,
          this.timerFrameCount % 60 === 0 && this.updateSessionTimer();
      }),
      { gameTitle: this.gameTitleText, sessionTimer: this.sessionTimerText }
    );
  }
  updateSessionTimer() {
    const e = Math.floor((Date.now() - this.sessionStartTime) / 1e3),
      t = Math.floor(e / 60),
      s = e % 60,
      n = `Sessão: ${t}m ${s.toString().padStart(2, "0")}s`;
    (this.sessionTimerText.mainText.text = n),
      (this.sessionTimerText.shadow.text = n);
  }
  resize(e) {
    const {
        width: t,
        safeArea: s,
        fontSizes: n,
        spacing: i,
        uniformScale: l,
      } = e,
      c = s.top + Math.min(76 * l, 100) + Math.min(i.sm, 15);
    this.gameTitleText &&
      ((this.gameTitleText.container.x = s.left + Math.min(i.md, 20)),
      (this.gameTitleText.container.y = c),
      (this.gameTitleText.mainText.style.fontSize = Math.min(
        n.medium || 16,
        20
      )),
      (this.gameTitleText.shadow.style.fontSize = Math.min(n.medium || 16, 20)),
      (this.gameTitleText.shadow.x = Math.min(1 * l, 2)),
      (this.gameTitleText.shadow.y = Math.min(1 * l, 2))),
      this.sessionTimerText &&
        ((this.sessionTimerText.container.x = t - s.right - Math.min(i.md, 20)),
        (this.sessionTimerText.container.y = c),
        (this.sessionTimerText.mainText.style.fontSize = Math.min(
          n.medium || 16,
          20
        )),
        (this.sessionTimerText.shadow.style.fontSize = Math.min(
          n.medium || 16,
          20
        )),
        (this.sessionTimerText.shadow.x = Math.min(1 * l, 2)),
        (this.sessionTimerText.shadow.y = Math.min(1 * l, 2)));
  }
  destroy() {
    this.tickerManager.remove("sessionTimer"),
      this.gameTitleText && this.gameTitleText.container.destroy(),
      this.sessionTimerText && this.sessionTimerText.container.destroy();
  }
}
class kL {
  constructor(e, t, s, n) {
    (this.app = e),
      (this.container = t),
      (this.onShowBetModal = s),
      (this.onShowDepositModal = n),
      (this.bottomButtonsContainer = null),
      (this.playButtonSprite = null),
      (this.depositButtonSprite = null);
  }
  setup() {
    (this.bottomButtonsContainer = new Ye()),
      (this.bottomButtonsContainer.zIndex = 10),
      this.container.addChild(this.bottomButtonsContainer);
    const e = window.document.body.clientWidth < 500 ? 0.28 : 0.4,
      t = je.get("btn_play");
    if (!t) {
      console.error("Error: Play button asset is missing.");
      return;
    }
    (this.playButtonSprite = Ve.from(t)),
      this.playButtonSprite.anchor.set(0.5),
      this.playButtonSprite.scale.set(e),
      (this.playButtonSprite.interactive = !0),
      (this.playButtonSprite.buttonMode = !0),
      this.playButtonSprite.on("pointerup", () => {
        console.log("Play button clicked, opening bet modal..."),
          this.onShowBetModal && this.onShowBetModal();
      }),
      this.bottomButtonsContainer.addChild(this.playButtonSprite);
    const s = je.get("btn_deposit");
    if (!s) {
      console.error("Error: Deposit button asset is missing.");
      return;
    }
    return (
      (this.depositButtonSprite = Ve.from(s)),
      this.depositButtonSprite.anchor.set(0.5),
      this.depositButtonSprite.scale.set(e),
      (this.depositButtonSprite.interactive = !0),
      (this.depositButtonSprite.buttonMode = !0),
      this.depositButtonSprite.on("pointerup", () => {
        console.log("Deposit button clicked"),
          this.onShowDepositModal && this.onShowDepositModal();
      }),
      this.bottomButtonsContainer.addChild(this.depositButtonSprite),
      this.positionButtonsInitially(e),
      {
        bottomButtonsContainer: this.bottomButtonsContainer,
        playButtonSprite: this.playButtonSprite,
        depositButtonSprite: this.depositButtonSprite,
      }
    );
  }
  positionButtonsInitially(e) {
    const t = window.document.body.clientWidth < 500 ? -32 : -42,
      s = 50,
      n = this.playButtonSprite.texture.width * e,
      i = this.depositButtonSprite.texture.width * e,
      l = this.playButtonSprite.texture.height * e,
      c = n + i + t,
      d = (this.app.screen.width - c) / 2,
      f = this.app.screen.height - s - l / 2;
    (this.playButtonSprite.x = d + n / 2),
      (this.playButtonSprite.y = f),
      (this.depositButtonSprite.x = d + n + t + i / 2),
      (this.depositButtonSprite.y = f);
  }
  resize(e) {
    if (!this.bottomButtonsContainer) return;
    const { width: t, height: s, uniformScale: n, safeArea: i } = e,
      d = window.document.body.clientWidth < 500 ? 0.28 : 0.4;
    let f = 30 * n - 42;
    const m = Math.max(i.bottom + 20, 30);
    this.playButtonSprite && this.playButtonSprite.texture.width * d,
      this.depositButtonSprite && this.depositButtonSprite.texture.width * d,
      this.playButtonSprite && this.playButtonSprite.texture.height * d,
      window.document.body.clientWidth < 500 && (f = f + 10);
    let h = d;
    const g = this.playButtonSprite
        ? this.playButtonSprite.texture.width * h
        : 0,
      x = this.depositButtonSprite
        ? this.depositButtonSprite.texture.width * h
        : 0,
      v = this.playButtonSprite ? this.playButtonSprite.texture.height * h : 0,
      w = g + x + f,
      _ = (t - w) / 2,
      S = s - m - v / 2;
    this.playButtonSprite &&
      (this.playButtonSprite.scale.set(h),
      (this.playButtonSprite.x = _ + g / 2),
      (this.playButtonSprite.y = S)),
      this.depositButtonSprite &&
        (this.depositButtonSprite.scale.set(h),
        (this.depositButtonSprite.x = _ + g + f + x / 2),
        (this.depositButtonSprite.y = S));
  }
  destroy() {
    this.bottomButtonsContainer && this.bottomButtonsContainer.destroy();
  }
}
function PL(r, e) {
  const t = [];
  let s = 0;
  const n = 90;
  let i = [];
  const l = async () => {
      try {
        const h = await je.load([
          "/storage/leaf1.png",
          "/storage/leaf2.png",
          "/storage/leaf3.png",
        ]);
        return (i = [h["/storage/leaf2.png"], h["/storage/leaf3.png"]]), !0;
      } catch {
        return !1;
      }
    },
    c = () => {
      const h = [],
        g = [2263842, 3329330, 9498256, 16753920, 16737095];
      for (let x = 0; x < 5; x++) {
        const v = new Be();
        v.roundRect(0, 0, 15, 10, 3),
          v.fill(g[x]),
          h.push(r.renderer.generateTexture(v));
      }
      return h;
    };
  function d() {
    if (i.length === 0) return;
    const h = i[Math.floor(Math.random() * i.length)],
      g = new Ve(h),
      x = 0.12 + Math.random() * 0.16;
    g.scale.set(x),
      (g.x = Math.random() * r.screen.width),
      (g.y = -30),
      (g.alpha = 0.7 + Math.random() * 0.3),
      (g.rotation = Math.random() * Math.PI * 3),
      g.anchor.set(0.5),
      e.addChild(g);
    const v = {
      sprite: g,
      speedY: 1.4 + Math.random() * 1.2,
      speedX: -0.3 + Math.random() * 0.6,
      rotSpeed: -0.02 + Math.random() * 0.04,
      swayOffset: Math.random() * Math.PI * 2,
      swayAmount: 0.3 + Math.random() * 0.4,
    };
    t.push(v);
  }
  const f = (h) => {
    s++, s % n === 0 && d();
    for (let g = t.length - 1; g >= 0; g--) {
      const x = t[g],
        v = x.sprite;
      (v.y += x.speedY),
        (v.x += x.speedX),
        (v.rotation += x.rotSpeed),
        (v.x += Math.sin((v.y + x.swayOffset) * 0.008) * x.swayAmount),
        v.y > r.screen.height + 50 &&
          (e.removeChild(v), v.destroy(), t.splice(g, 1));
    }
  };
  return (
    (async () => {
      (await l()) || (i = c()),
        r.ticker.add(f),
        setTimeout(() => d(), 500),
        setTimeout(() => d(), 1e3),
        setTimeout(() => d(), 1500);
    })(),
    () => {
      r.ticker.remove(f),
        t.forEach((h) => {
          h.sprite.parent && e.removeChild(h.sprite), h.sprite.destroy();
        }),
        (t.length = 0);
    }
  );
}
class AL {
  constructor(e, t) {
    (this.app = e),
      (this.container = t),
      (this.bg = null),
      (this.leavesLayer = null),
      (this.cleanupLeaves = null),
      (this.backgroundMusic = null);
  }
  setup() {
    return (
      this.setupBackgroundMusic(),
      (this.bg = Ve.from(je.get("gamebg"))),
      this.bg.anchor.set(0.5),
      (this.bg.width = this.app.screen.width),
      (this.bg.height = this.app.screen.height),
      (this.bg.x = this.app.screen.width / 2),
      (this.bg.y = this.app.screen.height / 2),
      (this.bg.zIndex = 0),
      this.container.addChild(this.bg),
      (this.leavesLayer = new Ye()),
      (this.leavesLayer.sortableChildren = !0),
      (this.leavesLayer.interactiveChildren = !1),
      (this.leavesLayer.visible = !0),
      (this.leavesLayer.x = 0),
      (this.leavesLayer.y = 0),
      (this.leavesLayer.zIndex = 3),
      this.container.addChild(this.leavesLayer),
      console.log("🎯 Leaves layer created"),
      (this.cleanupLeaves = PL(this.app, this.leavesLayer)),
      { bg: this.bg, leavesLayer: this.leavesLayer }
    );
  }
  setupBackgroundMusic() {
    try {
      (this.backgroundMusic = je.get("background_music")),
        this.backgroundMusic
          ? ((this.backgroundMusic.loop = !0),
            (this.backgroundMusic.volume = 0.3),
            this.backgroundMusic.play(),
            console.log("🎵 Background music loaded and playing"))
          : console.warn("Background music asset not found in cache.");
    } catch (e) {
      console.error("Error playing background music:", e);
    }
  }
  resize(e) {
    const { width: t, height: s } = e;
    this.bg &&
      ((this.bg.width = t),
      (this.bg.height = s),
      (this.bg.x = t / 2),
      (this.bg.y = s / 2));
  }
  destroy() {
    this.backgroundMusic &&
      (this.backgroundMusic.stop(), console.log("🎵 Background music stopped")),
      this.cleanupLeaves && this.cleanupLeaves(),
      this.bg && this.bg.destroy(),
      this.leavesLayer && this.leavesLayer.destroy();
  }
}
const r1 = [
  { text: "Acaba de ganhar BRL250,00", premium: !0 },
  { text: "Ganhou um X10!", premium: !0 },
  { text: "Ganhou um X5!", premium: !1 },
  { text: "Uau, que sorte!", premium: !1 },
  { text: "Incrível, parabéns!", premium: !1 },
  { text: "Que jogada + 200BRL", premium: !0 },
  { text: "Bônus chegou, 50X!", premium: !0 },
  { text: "Vitória espetacular!", premium: !1 },
  { text: "Mais um dia de sorte.", premium: !1 },
  { text: "Fogo no jogo!", premium: !1 },
  { text: "Finalmente um prêmio bom!", premium: !1 },
  { text: "Sensacional!", premium: !1 },
  { text: "Isso sim é sorte!", premium: !1 },
  { text: "Ganhou BRL100,00", premium: !0 },
  { text: "Ganhou BRL500,00", premium: !0 },
  { text: "Fantástico!", premium: !1 },
  { text: "Que intensidade!", premium: !1 },
  { text: "Vitória ardente!", premium: !1 },
];
function ML() {
  return "****" + Math.floor(100 + Math.random() * 900);
}
function NL() {
  return r1[Math.floor(Math.random() * r1.length)];
}
class RL {
  constructor(e, t, s) {
    (this.app = e),
      (this.container = t),
      (this.tickerManager = s),
      (this.chatBalloons = []),
      (this.frameCount = 0),
      (this.maxBalloons = 6),
      (this.pendingBalloons = []),
      (this.balloonsYStart = 120),
      (this.balloonsSpacing = 38),
      (this.fontSize = 15),
      (this.minWidth = 120),
      (this.maxWidth = 340),
      (this.padding = 18),
      (this.x = 0),
      (this.particleTickerFunctions = []);
  }
  createBalloon(e, t) {
    const { text: s, premium: n } = t,
      i = new Ye();
    (i.alpha = 0),
      (i.x = this.x),
      (i.y =
        this.balloonsYStart + this.chatBalloons.length * this.balloonsSpacing);
    const l = new Fr(e, {
      fontSize: this.fontSize,
      fill: "#FFD600",
      fontWeight: "bold",
    });
    (l.x = 10), (l.y = 7);
    const c = new Fr(s, { fontSize: this.fontSize, fill: "#fff" });
    (c.x = l.x + l.width + 8), (c.y = 7);
    const d = Math.max(
        this.minWidth,
        Math.min(c.x + c.width + this.padding, this.maxWidth)
      ),
      f = Math.max(32, this.fontSize + 18),
      m = new Be();
    n
      ? (m.beginFill(16766720, 1),
        m.drawRoundedRect(-2, -2, d + 4, f + 4, 14),
        m.endFill())
      : (m.beginFill(4796945, 1),
        m.drawRoundedRect(-2, -2, d + 4, f + 4, 14),
        m.endFill()),
      m.beginFill(3218177, 0.7),
      m.drawRoundedRect(0, 0, d, f, 12),
      m.endFill(),
      i.addChild(m),
      i.addChild(l),
      i.addChild(c),
      n && this.createPremiumParticles(i, d, f);
    const h = () => {
      (i.alpha += 0.08),
        i.alpha >= 1 && ((i.alpha = 1), this.app.ticker.remove(h));
    };
    return (
      this.app.ticker.add(h),
      (i._idText = l),
      (i._msgText = c),
      (i._bg = m),
      (i._balloonWidth = d),
      (i._balloonHeight = f),
      i
    );
  }
  createPremiumParticles(e, t, s) {
    const n = [],
      i = new Ye();
    e.addChild(i);
    const l = this.app.renderer.generateTexture(
      new Be().beginFill(16766720).drawCircle(0, 0, 2).endFill()
    );
    for (let d = 0; d < 15; d++) {
      const f = new Ve(l);
      f.anchor.set(0.5),
        (f.x = Math.random() * (t + 20) - 10),
        (f.y = Math.random() * (s + 20) - 10),
        (f.alpha = 0.1 + Math.random() * 0.4),
        f.scale.set(0.5 + Math.random() * 0.5),
        (f.vx = (Math.random() - 0.5) * 0.2),
        (f.vy = (Math.random() - 0.5) * 0.2),
        n.push(f),
        i.addChild(f);
    }
    const c = () => {
      n.forEach((d) => {
        (d.x += d.vx),
          (d.y += d.vy),
          (d.alpha -= 0.002),
          d.alpha <= 0 &&
            ((d.x = Math.random() * (t + 20) - 10),
            (d.y = Math.random() * (s + 20) - 10),
            (d.alpha = 0.1 + Math.random() * 0.4));
      });
    };
    this.app.ticker.add(c), this.particleTickerFunctions.push(c);
  }
  setup() {
    for (let e = 0; e < 5; e++) this.addRandomBalloon(!0);
    this.tickerManager.add("liveChat", () => {
      this.frameCount++,
        this.frameCount % (150 + Math.floor(Math.random() * 120)) === 0 &&
          this.addRandomBalloon();
    });
  }
  addRandomBalloon(e = !1) {
    const t = ML(),
      s = NL();
    if (this.chatBalloons.length >= this.maxBalloons) {
      if (
        (this.pendingBalloons.push({ id: t, msg: s, immediate: e }),
        this.chatBalloons.length === this.maxBalloons)
      ) {
        const i = this.chatBalloons[0],
          l = () => {
            if (((i.alpha -= 0.18), i.alpha <= 0)) {
              i.parent && i.parent.removeChild(i);
              const c = this.chatBalloons.indexOf(i);
              if (
                (c !== -1 && this.chatBalloons.splice(c, 1),
                this.app.ticker.remove(l),
                this.updateBalloonsPositionAndAlpha(),
                this.pendingBalloons.length > 0)
              ) {
                const d = this.pendingBalloons.shift();
                this.addRandomBalloon(d.immediate);
              }
            }
          };
        this.app.ticker.add(l);
      }
      return;
    }
    const n = this.createBalloon(t, s);
    if ((this.container.addChild(n), this.chatBalloons.push(n), e)) n.alpha = 1;
    else {
      n.scale.set(0.7, 0.7);
      let i = 0;
      const l = 18,
        c = 1.18,
        d = 0.98,
        f = () => {
          if ((i++, i < l / 2)) {
            const m = 0.7 + (c - 0.7) * (i / (l / 2));
            n.scale.set(m, m);
          } else if (i < l) {
            const m = c - (c - d) * ((i - l / 2) / (l / 2));
            n.scale.set(m, m);
          } else n.scale.set(1, 1), this.app.ticker.remove(f);
        };
      this.app.ticker.add(f);
    }
    this.updateBalloonsPositionAndAlpha();
  }
  updateBalloonsPositionAndAlpha() {
    const e = this.chatBalloons.length;
    for (let t = 0; t < e; t++) {
      const s = this.chatBalloons[t];
      (s.y = this.balloonsYStart + t * this.balloonsSpacing),
        (s.alpha = Math.max(1 - (e - 1 - t) * 0.1, 0.5));
    }
  }
  resize(e) {
    const {
      width: t,
      height: s,
      safeArea: n,
      uniformScale: i,
      fontSizes: l,
      spacing: c,
    } = e || {};
    (this.x = 10),
      (this.balloonsYStart = n?.top ? n.top + Math.min(120 * i, 160) : 120);
    let d = 38;
    t && t < 400 && (d = 40),
      (this.balloonsSpacing = Math.max(d, Math.min(44 * i, 64))),
      (this.fontSize = Math.min(l?.small || 15, 20)),
      (this.minWidth = Math.max(100, Math.min(160 * i, 200))),
      (this.maxWidth = Math.max(220, Math.min(t ? t * 0.7 : 340, 400))),
      (this.padding = Math.max(12, Math.min(22 * i, 28))),
      this.chatBalloons.forEach((f, m) => {
        f._idText &&
          f._msgText &&
          ((f._idText.style.fontSize = this.fontSize),
          (f._msgText.style.fontSize = this.fontSize),
          (f._idText.x = 10),
          (f._idText.y = 7),
          (f._msgText.x = f._idText.x + f._idText.width + 8),
          (f._msgText.y = 7));
        const h = Math.max(
            this.minWidth,
            Math.min(
              f._msgText.x + f._msgText.width + this.padding,
              this.maxWidth
            )
          ),
          g = Math.max(32, this.fontSize + 18);
        f._bg &&
          (f._bg.clear(),
          f._bg.beginFill(4796945, 1),
          f._bg.drawRoundedRect(-2, -2, h + 4, g + 4, 14),
          f._bg.endFill(),
          f._bg.beginFill(3218177, 0.7),
          f._bg.drawRoundedRect(0, 0, h, g, 12),
          f._bg.endFill()),
          (f.x = this.x);
      }),
      this.updateBalloonsPositionAndAlpha();
  }
  destroy() {
    this.tickerManager.remove("liveChat"),
      this.particleTickerFunctions.forEach((e) => this.app.ticker.remove(e)),
      (this.particleTickerFunctions = []),
      this.chatBalloons.forEach((e) => e.parent && e.parent.removeChild(e)),
      (this.chatBalloons = []);
  }
}
async function Wp(r, e, t, s, n, i, l, c = {}, d, f) {
  console.log("🏠 Setting up lobby...");
  const m = new Ye();
  r.stage.addChild(m), (m.sortableChildren = !0);
  const h = new ll(r),
    g = new td(r),
    x = new AL(r, m),
    v = new TL(r, m, e, n, i, l, c, d, f),
    w = new jL(r, m, h),
    _ = new EL(r, m, h),
    S = new kL(r, m, t, s),
    T = new RL(r, m, h),
    j = x.setup(),
    E = v.setup(),
    A = w.setup(5, 76);
  await _.setup();
  const M = S.setup();
  return (
    T.setup(),
    { ...j, ...E, ...A, ...M },
    g.add("lobby", (O) => {
      x.resize(O),
        v.resize(O),
        w.resize(O),
        _.resize(O),
        S.resize(O),
        T.resize(O);
    }),
    {
      cleanup: (O) => {
        console.log("Cleaning up lobby..."),
          h.clear(),
          g.destroy(),
          x.destroy(),
          v.destroy(),
          w.destroy(),
          _.destroy(),
          S.destroy(),
          T.destroy(),
          m.parent && (r.stage.removeChild(m), m.destroy({ children: !0 })),
          console.log("Lobby cleanup completed"),
          O && O();
      },
      updateUser: (O) => {
        console.log("Updating user in lobby:", O), v && v.updateUser(O);
      },
    }
  );
}
const BL = (r) =>
  `R$ ${parseFloat(r || 0)
    .toFixed(2)
    .replace(".", ",")}`;
function FL({ onPlayAgain: r, onBackToLobby: e }) {
  const [t, s] = k.useState(!1),
    [n, i] = k.useState(null);
  k.useEffect(() => {
    const m = (h) => {
      const { won: g, finalWinnings: x } = h.detail;
      i({ won: g, finalWinnings: x }), s(!0);
    };
    return (
      window.addEventListener("gameEnd", m),
      () => {
        window.removeEventListener("gameEnd", m);
      }
    );
  }, []);
  const l = () => {
      s(!1), i(null), r && r();
    },
    c = () => {
      s(!1), i(null), e && e();
    };
  if (!t || !n) return null;
  const { won: d, finalWinnings: f } = n;
  return a.jsxs("div", {
    className: "win-announce-overlay",
    children: [
      a.jsx("div", {
        className: "particles",
        children: [...Array(20)].map((m, h) =>
          a.jsx("div", { className: `particle particle-${h % 5}` }, h)
        ),
      }),
      a.jsxs("div", {
        className: "",
        children: [
          d &&
            a.jsx("div", {
              className: "profile-modal bet-modal",
              style: { maxWidth: 400 },
              children: a.jsxs("div", {
                className: "bet-content",
                children: [
                  a.jsxs("div", {
                    style: { textAlign: "center" },
                    children: [
                      a.jsxs("div", {
                        style: {
                          fontSize: 57,
                          display: "flex",
                          justifyContent: "center",
                          alignItems: "center",
                          gap: "10px",
                        },
                        children: [
                          a.jsx("svg", {
                            width: "40",
                            height: "40",
                            viewBox: "0 0 24 24",
                            fill: "#FFD700",
                            children: a.jsx("path", {
                              d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
                            }),
                          }),
                          a.jsx("svg", {
                            width: "50",
                            height: "50",
                            viewBox: "0 0 24 24",
                            fill: "#FFD700",
                            style: {
                              filter:
                                "drop-shadow(0 0 10px rgba(255, 215, 0, 0.8))",
                            },
                            children: a.jsx("path", {
                              d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
                            }),
                          }),
                          a.jsx("svg", {
                            width: "40",
                            height: "40",
                            viewBox: "0 0 24 24",
                            fill: "#FFD700",
                            children: a.jsx("path", {
                              d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
                            }),
                          }),
                        ],
                      }),
                      a.jsx("div", {
                        style: {
                          fontSize: 28,
                          fontWeight: 800,
                          color: "#d4edda",
                          marginBottom: 20,
                        },
                        children: "Parabéns, você ganhou!",
                      }),
                      a.jsx("div", {
                        style: {
                          fontSize: 24,
                          fontWeight: 800,
                          color: "#FFD700",
                          marginBottom: 20,
                          textShadow: "0 0 10px rgba(255, 215, 0, 0.5)",
                        },
                        children: BL(f),
                      }),
                      a.jsx("div", {
                        style: {
                          fontSize: 16,
                          fontWeight: 800,
                          color: "#ccc",
                          marginBottom: 20,
                        },
                        children:
                          "Suas habilidades e sorte se combinaram perfeitamente! Continue jogando para conquistar ainda mais vitórias.",
                      }),
                      a.jsxs("div", {
                        className: "action-buttons",
                        style: { marginBottom: 20 },
                        children: [
                          a.jsxs("button", {
                            className: `action-btn primary-btn ${
                              d ? "victory-btn" : "defeat-btn"
                            }`,
                            onClick: l,
                            children: [
                              a.jsx("span", {
                                className: "btn-text",
                                children: d
                                  ? "JOGAR NOVAMENTE"
                                  : "TENTAR NOVAMENTE",
                              }),
                              a.jsx("div", { className: "btn-shine" }),
                            ],
                          }),
                          a.jsxs("button", {
                            className: "action-btn secondary-btn",
                            onClick: c,
                            children: [
                              a.jsx("span", {
                                className: "btn-text",
                                children: "SAGUÃO",
                              }),
                              a.jsx("div", { className: "btn-shine" }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsx("div", {
                    className: "bet-help",
                    children: a.jsx("p", {
                      children: '"Continue assim e você será uma lenda!"',
                    }),
                  }),
                ],
              }),
            }),
          !d &&
            a.jsx(a.Fragment, {
              children: a.jsx("div", {
                className: "profile-modal bet-modal",
                style: { maxWidth: 400 },
                children: a.jsxs("div", {
                  className: "bet-content",
                  style: {},
                  children: [
                    a.jsxs("div", {
                      style: { textAlign: "center" },
                      children: [
                        a.jsx("div", {
                          style: { fontSize: 57 },
                          children: "🦊",
                        }),
                        a.jsx("div", {
                          style: {
                            fontSize: 28,
                            fontWeight: 800,
                            color: "#ffd9d9",
                            marginBottom: 20,
                          },
                          children: "Você perdeu!",
                        }),
                        a.jsx("div", {
                          style: {
                            fontSize: 16,
                            fontWeight: 800,
                            color: "#ccc",
                            marginBottom: 20,
                          },
                          children:
                            "A raposa roubou todos os seus prêmios e recompensas, cabe a você agora recuperar o tesouro ou deixar que a raposa escape.",
                        }),
                        a.jsxs("div", {
                          className: "action-buttons",
                          style: { marginBottom: 20 },
                          children: [
                            a.jsxs("button", {
                              className: `action-btn primary-btn ${
                                d ? "victory-btn" : "defeat-btn"
                              }`,
                              onClick: l,
                              children: [
                                a.jsx("span", {
                                  className: "btn-text",
                                  children: d
                                    ? "JOGAR NOVAMENTE"
                                    : "TENTAR NOVAMENTE",
                                }),
                                a.jsx("div", { className: "btn-shine" }),
                              ],
                            }),
                            a.jsxs("button", {
                              className: "action-btn secondary-btn",
                              onClick: c,
                              children: [
                                a.jsx("span", {
                                  className: "btn-text",
                                  children: "SAGUÃO",
                                }),
                                a.jsx("div", { className: "btn-shine" }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsx("div", {
                      className: "bet-help",
                      children: a.jsx("p", {
                        children:
                          '"Temos certeza que na próxima a sorte estará ao seu favor"',
                      }),
                    }),
                  ],
                }),
              }),
            }),
        ],
      }),
      a.jsx("style", {
        jsx: !0,
        children: `
                .win-announce-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle at center, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.95));
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    animation: overlayFadeIn 0.8s ease-out;
                    backdrop-filter: blur(10px);
                }

                .particles {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    overflow: hidden;
                    pointer-events: none;
                }

                .particle {
                    position: absolute;
                    width: 4px;
                    height: 4px;
                    background: #FFD700;
                    border-radius: 50%;
                    animation: float 6s infinite linear;
                }

                .particle-0 { left: 10%; animation-delay: 0s; background: #FFD700; }
                .particle-1 { left: 30%; animation-delay: 1s; background: #FF6B6B; }
                .particle-2 { left: 50%; animation-delay: 2s; background: #4ECDC4; }
                .particle-3 { left: 70%; animation-delay: 3s; background: #45B7D1; }
                .particle-4 { left: 90%; animation-delay: 4s; background: #96CEB4; }

                .win-announce-modal {
                    background: linear-gradient(145deg, #2c3e50 0%, #34495e 50%, #2c3e50 100%);
                    border-radius: 30px;
                    padding: 50px 40px;
                    max-width: 450px;
                    width: 90%;
                    text-align: center;
                    position: relative;
                    overflow: hidden;
                    animation: modalEntrance 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
                }

                .win-announce-modal.victory {
                    border: 3px solid #FFD700;
                    box-shadow: 
                        0 0 30px rgba(255, 215, 0, 0.4),
                        0 25px 50px rgba(0, 0, 0, 0.5);
                }

                .win-announce-modal.defeat {
                    border: 3px solid #FF4444;
                    box-shadow: 
                        0 0 30px rgba(255, 68, 68, 0.4),
                        0 25px 50px rgba(0, 0, 0, 0.5);
                }

                /* Victory Elements */
                .cosmic-bg {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: 
                        radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 165, 0, 0.08) 0%, transparent 50%);
                    animation: cosmicPulse 4s ease-in-out infinite;
                    border-radius: 30px;
                }

                .victory-crown {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 20px auto 30px;
                    height: 60px;
                    position: relative;
                    z-index: 2;
                }

                .crown-base {
                    width: 80px;
                    height: 25px;
                    background: linear-gradient(145deg, #FFD700, #FFA500);
                    border-radius: 12px;
                    position: relative;
                    box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
                }

                .crown-gem {
                    position: absolute;
                    font-size: 20px;
                    animation: gemSparkle 2s ease-in-out infinite;
                    z-index: 3;
                }

                .crown-gem-center {
                    top: -35px;
                    left: 50%;
                    transform: translateX(-50%);
                    font-size: 24px;
                }

                .crown-gem-left {
                    top: -25px;
                    left: 15px;
                    animation-delay: 0.5s;
                }

                .crown-gem-right {
                    top: -25px;
                    right: 15px;
                    animation-delay: 1s;
                }

                .victory-title {
                    position: relative;
                    margin: 30px 0;
                    z-index: 2;
                }

                .victory-title .main-title {
                    font-size: 42px;
                    font-weight: 900;
                    color: #FFD700;
                    margin: 0;
                    text-shadow: 
                        0 0 20px rgba(255, 215, 0, 0.6),
                        2px 2px 4px rgba(0, 0, 0, 0.8);
                    animation: titleGlow 2s ease-in-out infinite alternate;
                }

                .title-glow {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 180px;
                    height: 40px;
                    background: radial-gradient(ellipse, rgba(255, 215, 0, 0.2), transparent);
                    filter: blur(15px);
                    animation: glowPulse 2s ease-in-out infinite;
                }

                .victory-rays {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 250px;
                    height: 250px;
                    pointer-events: none;
                    z-index: 1;
                }

                .ray {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 1px;
                    height: 120px;
                    background: linear-gradient(to bottom, rgba(255, 215, 0, 0.6), transparent);
                    transform-origin: bottom center;
                    animation: rayRotate 8s linear infinite;
                }

                .ray-0 { transform: translate(-50%, -100%) rotate(0deg); }
                .ray-1 { transform: translate(-50%, -100%) rotate(45deg); }
                .ray-2 { transform: translate(-50%, -100%) rotate(90deg); }
                .ray-3 { transform: translate(-50%, -100%) rotate(135deg); }
                .ray-4 { transform: translate(-50%, -100%) rotate(180deg); }
                .ray-5 { transform: translate(-50%, -100%) rotate(225deg); }
                .ray-6 { transform: translate(-50%, -100%) rotate(270deg); }
                .ray-7 { transform: translate(-50%, -100%) rotate(315deg); }

                /* Defeat Elements */
                .dark-atmosphere {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: 
                        radial-gradient(circle at 30% 30%, rgba(255, 68, 68, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, rgba(139, 0, 0, 0.08) 0%, transparent 50%);
                    animation: darkPulse 3s ease-in-out infinite;
                    border-radius: 30px;
                }

                .defeat-symbol {
                    margin: 20px auto 30px;
                    position: relative;
                    z-index: 2;
                }

                .skull-container {
                    position: relative;
                    display: inline-block;
                }

                .skull {
                    font-size: 64px;
                    animation: skullFloat 3s ease-in-out infinite;
                    filter: drop-shadow(0 0 20px rgba(255, 68, 68, 0.5));
                }

                .skull-glow {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 100px;
                    height: 100px;
                    background: radial-gradient(circle, rgba(255, 68, 68, 0.3), transparent);
                    border-radius: 50%;
                    animation: skullGlow 2s ease-in-out infinite alternate;
                }

                .defeat-title .main-title {
                    font-size: 38px;
                    font-weight: 900;
                    color: #FF4444;
                    margin: 0 0 10px 0;
                    text-shadow: 
                        0 0 20px rgba(255, 68, 68, 0.6),
                        2px 2px 4px rgba(0, 0, 0, 0.8);
                    animation: defeatGlow 2s ease-in-out infinite alternate;
                }

                .defeat-title .subtitle {
                    color: #CCCCCC;
                    font-size: 16px;
                    margin: 0;
                    opacity: 0.8;
                }

                .defeat-cracks {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    z-index: 1;
                }

                .crack {
                    position: absolute;
                    background: linear-gradient(45deg, transparent, rgba(255, 68, 68, 0.3), transparent);
                    animation: crackAppear 0.8s ease-out forwards;
                    opacity: 0;
                }

                .crack-0 { top: 20%; left: 10%; width: 2px; height: 30%; animation-delay: 0.2s; }
                .crack-1 { top: 10%; right: 20%; width: 2px; height: 25%; animation-delay: 0.4s; }
                .crack-2 { bottom: 30%; left: 30%; width: 25%; height: 2px; animation-delay: 0.6s; }
                .crack-3 { top: 50%; right: 10%; width: 2px; height: 20%; animation-delay: 0.8s; }
                .crack-4 { bottom: 10%; left: 50%; width: 20%; height: 2px; animation-delay: 1s; }

                /* Stats Cards */
                .victory-stats,
                .defeat-stats {
                    margin: 30px 0;
                    position: relative;
                    z-index: 2;
                }

                .stat-card {
                    background: rgba(255, 255, 255, 0.05);
                    border: 2px solid rgba(255, 215, 0, 0.3);
                    border-radius: 18px;
                    padding: 20px;
                    backdrop-filter: blur(10px);
                    animation: cardFloat 3s ease-in-out infinite;
                }

                .defeat-card {
                    border-color: rgba(255, 68, 68, 0.3);
                }

                .stat-icon {
                    font-size: 28px;
                    margin-bottom: 8px;
                }

                .stat-label {
                    color: #AAAAAA;
                    font-size: 11px;
                    margin-bottom: 5px;
                    letter-spacing: 1px;
                    font-weight: 600;
                }

                .stat-value {
                    color: #FFD700;
                    font-size: 22px;
                    font-weight: bold;
                    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
                }

                /* Action Buttons */
                .action-buttons {
                    display: flex;
                    gap: 15px;
                    margin-top: 35px;
                    justify-content: center;
                    flex-wrap: wrap;
                    position: relative;
                    z-index: 2;
                }

                .action-btn {
                    position: relative;
                    padding: 14px 28px;
                    border: none;
                    border-radius: 12px;
                    font-weight: bold;
                    font-size: 13px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    min-width: 140px;
                    overflow: hidden;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .primary-btn {
                    background: linear-gradient(45deg, #4CAF50, #45a049);
                    color: white;
                    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
                }

                .victory-btn {
                    background: linear-gradient(45deg, #FFD700, #FFA500);
                    color: #1a1a1a;
                    box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
                }

                .defeat-btn {
                    background: linear-gradient(45deg, #FF4444, #CC0000);
                    color: white;
                    box-shadow: 0 6px 20px rgba(255, 68, 68, 0.4);
                }

                .secondary-btn {
                    background: linear-gradient(45deg, #666666, #555555);
                    color: white;
                    box-shadow: 0 6px 20px rgba(102, 102, 102, 0.3);
                }

                .action-btn:hover {
                    transform: translateY(-2px) scale(1.02);
                }

                .btn-text {
                    position: relative;
                    z-index: 2;
                }

                .btn-shine {
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                    transition: left 0.6s;
                }

                .action-btn:hover .btn-shine {
                    left: 100%;
                }

                /* Animations */
                @keyframes overlayFadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }

                @keyframes modalEntrance {
                    0% {
                        transform: scale(0.8) translateY(-50px);
                        opacity: 0;
                    }
                    60% {
                        transform: scale(1.05) translateY(0);
                        opacity: 0.9;
                    }
                    100% {
                        transform: scale(1) translateY(0);
                        opacity: 1;
                    }
                }

                @keyframes float {
                    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
                    10% { opacity: 1; }
                    90% { opacity: 1; }
                    100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
                }

                @keyframes cosmicPulse {
                    0%, 100% { opacity: 0.4; }
                    50% { opacity: 0.7; }
                }

                @keyframes gemSparkle {
                    0%, 100% { transform: scale(1) rotate(0deg); filter: brightness(1); }
                    50% { transform: scale(1.2) rotate(180deg); filter: brightness(1.4); }
                }

                @keyframes titleGlow {
                    from { text-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 2px 2px 4px rgba(0, 0, 0, 0.8); }
                    to { text-shadow: 0 0 30px rgba(255, 215, 0, 0.9), 2px 2px 4px rgba(0, 0, 0, 0.8); }
                }

                @keyframes glowPulse {
                    0%, 100% { opacity: 0.2; transform: translate(-50%, -50%) scale(1); }
                    50% { opacity: 0.4; transform: translate(-50%, -50%) scale(1.1); }
                }

                @keyframes rayRotate {
                    from { transform: translate(-50%, -100%) rotate(0deg); }
                    to { transform: translate(-50%, -100%) rotate(360deg); }
                }

                @keyframes darkPulse {
                    0%, 100% { opacity: 0.4; }
                    50% { opacity: 0.7; }
                }

                @keyframes skullFloat {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-8px); }
                }

                @keyframes skullGlow {
                    from { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
                    to { opacity: 0.5; transform: translate(-50%, -50%) scale(1.1); }
                }

                @keyframes defeatGlow {
                    from { text-shadow: 0 0 20px rgba(255, 68, 68, 0.6), 2px 2px 4px rgba(0, 0, 0, 0.8); }
                    to { text-shadow: 0 0 30px rgba(255, 68, 68, 0.9), 2px 2px 4px rgba(0, 0, 0, 0.8); }
                }

                @keyframes crackAppear {
                    from { opacity: 0; transform: scale(0); }
                    to { opacity: 0.6; transform: scale(1); }
                }

                @keyframes cardFloat {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-3px); }
                }

                /* Responsive */
                @media (max-width: 768px) {
                    .win-announce-modal {
                        padding: 35px 25px;
                        margin: 20px;
                        max-width: 400px;
                    }
                    
                    .victory-title .main-title,
                    .defeat-title .main-title {
                        font-size: 32px;
                    }
                    
                    .action-buttons {
                        flex-direction: column;
                        align-items: center;
                        gap: 12px;
                    }
                    
                    .action-btn {
                        width: 100%;
                        max-width: 220px;
                    }

                    .victory-rays {
                        width: 200px;
                        height: 200px;
                    }

                    .ray {
                        height: 100px;
                    }
                }

                @media (max-width: 480px) {
                    .victory-title .main-title,
                    .defeat-title .main-title {
                        font-size: 28px;
                    }
                    
                    .crown-gem {
                        font-size: 18px;
                    }
                    
                    .crown-gem-center {
                        font-size: 22px;
                    }
                    
                    .skull {
                        font-size: 48px;
                    }

                    .stat-value {
                        font-size: 20px;
                    }
                }
            `,
      }),
    ],
  });
}
function IL({ isOpen: r, onClose: e, user: t }) {
  const [s, n] = k.useState(null),
    [i, l] = k.useState(!1),
    [c, d] = k.useState(!1),
    [f, m] = k.useState(!1);
  k.useEffect(() => {
    r && h();
  }, [r]);
  const h = async () => {
      l(!0);
      try {
        const _ = await Ge.get("/agent-panel-data");
        n(_.data);
      } catch (_) {
        console.error("Error fetching agent data:", _);
      } finally {
        l(!1);
      }
    },
    g = async () => {
      const _ = `${window.location.origin}/?ref=${t.id}`;
      try {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(_),
            m(!0),
            setTimeout(() => m(!1), 2e3);
          return;
        }
        const S = document.createElement("textarea");
        if (
          ((S.value = _),
          (S.style.position = "fixed"),
          (S.style.left = "-999999px"),
          (S.style.top = "-999999px"),
          document.body.appendChild(S),
          S.focus(),
          S.select(),
          navigator.userAgent.match(/ipad|iphone/i))
        ) {
          const j = document.createRange();
          j.selectNodeContents(S);
          const E = window.getSelection();
          E.removeAllRanges(), E.addRange(j), S.setSelectionRange(0, 999999);
        }
        const T = document.execCommand("copy");
        if ((document.body.removeChild(S), T))
          m(!0), setTimeout(() => m(!1), 2e3);
        else throw new Error("Copy command failed");
      } catch (S) {
        console.error("Failed to copy: ", S), prompt("Copie o link abaixo:", _);
      }
    },
    x = async () => {
      if (
        !(!s?.pending_commission || parseFloat(s.pending_commission) <= 0 || c)
      ) {
        d(!0);
        try {
          (await Ge.post("/agent-collect-commission")).data.success &&
            (await h());
        } catch (_) {
          console.error("Error collecting commission:", _),
            _.response?.data?.message;
        } finally {
          d(!1);
        }
      }
    };
  if (!r) return null;
  const v = (_) => {
      const S = parseFloat(_ || 0);
      return new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(S);
    },
    w = (_) => {
      const S = {
        1: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
          }),
        }),
        2: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2zm0 0l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",
          }),
        }),
        3: a.jsx("svg", {
          width: "20",
          height: "20",
          viewBox: "0 0 24 24",
          fill: "currentColor",
          children: a.jsx("path", {
            d: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2zm5.5 6l1.5-3 1.5 3 3 .44-2.18 2.13.51 3-2.68-1.41L15.5 8zm-11 0L5 5l1.5 3 3 .44-2.18 2.13.51 3L5.15 12.16 2.5 13.57l.51-3L.83 8.44 3.5 8z",
          }),
        }),
      };
      return S[_] || S[1];
    };
  return a.jsx("div", {
    className: "profile-modal-overlay",
    onClick: e,
    children: a.jsxs("div", {
      className: "agent-panel-modal",
      onClick: (_) => _.stopPropagation(),
      children: [
        a.jsxs("div", {
          className: "agent-panel-header",
          children: [
            a.jsxs("div", {
              className: "agent-panel-title",
              children: [
                a.jsx("div", {
                  className: "title-icon",
                  children: a.jsx("svg", {
                    width: "24",
                    height: "24",
                    viewBox: "0 0 24 24",
                    fill: "currentColor",
                    children: a.jsx("path", {
                      d: "M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-6c0-1.1.9-2 2-2h3l2-3h2l2 3h3c1.1 0 2 .9 2 2v6H4zm9-5.5L9 9H7v8h2v-3.5l3 1.5 3-1.5V17h2V9h-2l-4 3.5z",
                    }),
                  }),
                }),
                a.jsx("h2", { children: "Painel de Agente" }),
              ],
            }),
            a.jsx("button", {
              className: "agent-panel-close",
              onClick: e,
              children: "✕",
            }),
          ],
        }),
        a.jsx("div", {
          className: "agent-panel-content",
          children: i
            ? a.jsxs("div", {
                className: "agent-loading",
                children: [
                  a.jsx("div", { className: "loading-spinner" }),
                  a.jsx("span", { children: "Carregando dados do agente..." }),
                ],
              })
            : s
            ? a.jsxs(a.Fragment, {
                children: [
                  a.jsxs("div", {
                    className: "agent-summary",
                    children: [
                      a.jsxs("div", {
                        className: "summary-card cpa-card",
                        children: [
                          a.jsx("div", {
                            className: "card-icon",
                            children: a.jsx("svg", {
                              width: "24",
                              height: "24",
                              viewBox: "0 0 24 24",
                              fill: "currentColor",
                              children: a.jsx("path", {
                                d: "M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z",
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "card-content",
                            children: [
                              a.jsx("span", {
                                className: "card-label",
                                children: "Total comissão recebida",
                              }),
                              a.jsx("span", {
                                className: "card-value",
                                children: v(
                                  s.total_cpa_received +
                                    s.total_revshare_received
                                ),
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "summary-card revshare-card",
                        children: [
                          a.jsx("div", {
                            className: "card-icon",
                            children: a.jsx("svg", {
                              width: "24",
                              height: "24",
                              viewBox: "0 0 24 24",
                              fill: "currentColor",
                              children: a.jsx("path", {
                                d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V16h-2.67v2.09c-2.84-.48-5.09-2.8-5.48-5.66h2.9v-2h-2.9c.39-2.86 2.64-5.18 5.48-5.66V7h2.67v-2.09c2.84.48 5.09 2.8 5.48 5.66h-2.9v2h2.9c-.39 2.86-2.64 5.18-5.48 5.66z",
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "card-content",
                            children: [
                              a.jsx("span", {
                                className: "card-label",
                                children: "Total Apostas Válidas",
                              }),
                              a.jsx("span", {
                                className: "card-value",
                                children: v(s.total_revshare_received),
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "summary-card pending-card",
                        children: [
                          a.jsx("div", {
                            className: "card-icon",
                            children: a.jsx("svg", {
                              width: "24",
                              height: "24",
                              viewBox: "0 0 24 24",
                              fill: "currentColor",
                              children: a.jsx("path", {
                                d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "card-content",
                            children: [
                              a.jsx("span", {
                                className: "card-label",
                                children: "Comissão Pendente",
                              }),
                              a.jsx("span", {
                                className: "card-value pending",
                                children: v(s.pending_commission),
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  s.pending_commission &&
                    parseFloat(s.pending_commission) > 0 &&
                    a.jsxs("div", {
                      className: "collect-commission-section",
                      children: [
                        a.jsx("div", {
                          className: "collect-commission-info",
                          children: a.jsxs("p", {
                            children: [
                              "Você tem ",
                              a.jsx("strong", {
                                children: v(s.pending_commission),
                              }),
                              " em comissões pendentes disponíveis para saque.",
                            ],
                          }),
                        }),
                        a.jsxs("button", {
                          className: "collect-commission-btn",
                          onClick: x,
                          disabled: c,
                          children: [
                            a.jsx("div", {
                              className: "btn-icon",
                              children: c
                                ? a.jsx("div", {
                                    className: "loading-spinner small",
                                  })
                                : a.jsx("svg", {
                                    width: "16",
                                    height: "16",
                                    viewBox: "0 0 24 24",
                                    fill: "currentColor",
                                    children: a.jsx("path", {
                                      d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z",
                                    }),
                                  }),
                            }),
                            c ? "Coletando..." : "Coletar Comissões",
                          ],
                        }),
                      ],
                    }),
                  a.jsxs("div", {
                    className: "share-referral-section",
                    style: { border: 0, padding: 0 },
                    children: [
                      a.jsx("h3", { children: "Seu Link de Convite" }),
                      a.jsxs("div", {
                        className: "referral-link-container",
                        style: { marginTop: -10 },
                        children: [
                          a.jsxs("div", {
                            className: "referral-link",
                            children: [window.location.origin, "/?ref=", t.id],
                          }),
                          a.jsxs("button", {
                            className: "copy-link-btn",
                            onClick: g,
                            children: [
                              a.jsx("svg", {
                                width: "16",
                                height: "16",
                                viewBox: "0 0 24 24",
                                fill: "currentColor",
                                children: a.jsx("path", {
                                  d: "M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",
                                }),
                              }),
                              f ? "Copiado!" : "Copiar",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsx("div", {
                    className: "referral-levels",
                    children: [1, 2, 3].map((_) =>
                      a.jsxs(
                        "div",
                        {
                          className: `referral-level level-${_}`,
                          children: [
                            a.jsxs("div", {
                              className: "level-header",
                              children: [
                                a.jsxs("div", {
                                  className: "level-title",
                                  children: [
                                    a.jsx("div", {
                                      className: "level-icon",
                                      children: w(_),
                                    }),
                                    a.jsxs("h3", { children: ["Nível ", _] }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "level-badge",
                                  children: [
                                    s.levels[_]?.count || 0,
                                    " indicados",
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "level-stats",
                              children: [
                                a.jsxs("div", {
                                  className: "stat-row",
                                  children: [
                                    a.jsxs("div", {
                                      className: "stat-item",
                                      children: [
                                        a.jsx("span", {
                                          className: "stat-icon",
                                          children: "💰",
                                        }),
                                        a.jsxs("div", {
                                          className: "stat-info",
                                          children: [
                                            a.jsx("span", {
                                              className: "stat-label",
                                              children:
                                                "Indicados depositantes",
                                            }),
                                            a.jsx("span", {
                                              className: "stat-value",
                                              children:
                                                s.levels[_]?.depositors_count ||
                                                0,
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                    a.jsxs("div", {
                                      className: "stat-item",
                                      children: [
                                        a.jsx("span", {
                                          className: "stat-icon",
                                          children: "👥",
                                        }),
                                        a.jsxs("div", {
                                          className: "stat-info",
                                          children: [
                                            a.jsx("span", {
                                              className: "stat-label",
                                              children: "Total de indicados",
                                            }),
                                            a.jsx("span", {
                                              className: "stat-value",
                                              children: s.levels[_]?.count || 0,
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "total-cpa",
                                  children: [
                                    a.jsxs("span", {
                                      className: "total-label",
                                      children: ["Total CPA Nível ", _, ":"],
                                    }),
                                    a.jsx("span", {
                                      className: "total-value",
                                      children: v(s.levels[_]?.total_cpa),
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        },
                        _
                      )
                    ),
                  }),
                  a.jsxs("div", {
                    className: "agent-instructions",
                    children: [
                      a.jsxs("h4", {
                        children: [
                          a.jsx("svg", {
                            width: "20",
                            height: "20",
                            viewBox: "0 0 24 24",
                            fill: "currentColor",
                            children: a.jsx("path", {
                              d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z",
                            }),
                          }),
                          "Como Funciona o Sistema de Agente",
                        ],
                      }),
                      a.jsxs("ul", {
                        children: [
                          a.jsxs("li", {
                            children: [
                              "📋 ",
                              a.jsx("strong", { children: "Nível 1:" }),
                              " Usuários que você indicou diretamente",
                            ],
                          }),
                          a.jsxs("li", {
                            children: [
                              "📋 ",
                              a.jsx("strong", { children: "Nível 2:" }),
                              " Usuários indicados pelos seus indicados do Nível 1",
                            ],
                          }),
                          a.jsxs("li", {
                            children: [
                              "📋 ",
                              a.jsx("strong", { children: "Nível 3:" }),
                              " Usuários indicados pelos seus indicados do Nível 2",
                            ],
                          }),
                          a.jsxs("li", {
                            children: [
                              "💰 ",
                              a.jsx("strong", { children: "CPA:" }),
                              " Você recebe uma comissão pelo primeiro depósito de cada indicado",
                            ],
                          }),
                          a.jsxs("li", {
                            children: [
                              "📈 ",
                              a.jsx("strong", { children: "Aposta válida:" }),
                              " Você recebe uma pelas apostas válidas dos seus indicados",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              })
            : a.jsxs("div", {
                className: "no-data",
                children: [
                  a.jsx("svg", {
                    width: "64",
                    height: "64",
                    viewBox: "0 0 24 24",
                    fill: "currentColor",
                    opacity: "0.3",
                    children: a.jsx("path", {
                      d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z",
                    }),
                  }),
                  a.jsx("span", { children: "Nenhum dado disponível" }),
                ],
              }),
        }),
      ],
    }),
  });
}
function QT({
  user: r,
  isAuthenticated: e,
  app: t,
  pixiContainerRef: s,
  settings: n,
}) {
  const [i, l] = k.useState(!1),
    [c, d] = k.useState(!1),
    [f, m] = k.useState(!1),
    [h, g] = k.useState(!1),
    [x, v] = k.useState(!1),
    [w, _] = k.useState(!1),
    [S, T] = k.useState(r),
    [j, E] = k.useState(e),
    [A, M] = k.useState(0),
    [N, R] = k.useState("Iniciando..."),
    [O, U] = k.useState(!1),
    [q, Q] = k.useState(!0),
    z = Fe.useCallback((ee) => {
      Q(ee);
    }, []),
    Z = k.useRef(!1),
    pe = k.useRef(!1),
    se = k.useRef([]),
    ie = k.useRef(null),
    Y = k.useRef(null),
    re = k.useRef(null),
    J = k.useRef(null),
    F = k.useRef(null),
    W = k.useRef(0),
    te = k.useRef(0),
    de = k.useRef("Iniciando..."),
    ne = k.useRef(0),
    ue = k.useRef(16),
    ae = k.useRef(!1),
    me = [
      { alias: "gamebg", src: "/storage/gamebg.png" },
      { alias: "logo", src: "/storage/logo.png" },
      { alias: "ui_share", src: "/storage/ui_share.png" },
      { alias: "ui_profile", src: "/storage/ui_profile.png" },
      { alias: "ui_social", src: "/storage/ui_social.png" },
      { alias: "ui_coin", src: "/storage/ui_coin.png" },
      { alias: "ui_support", src: "/storage/ui_support.png" },
      { alias: "ui_leaf", src: "/storage/ui_leaf.png" },
      { alias: "btn_play", src: "/storage/btn_play.png" },
      { alias: "btn_deposit", src: "/storage/btn_deposit.png" },
      { alias: "ui_audio_on", src: "/storage/ui_audio_on.png" },
      { alias: "ui_audio_off", src: "/storage/ui_audio_off.png" },
      { alias: "weizhenfont", src: "/storage/weizhenfont.xml" },
      { alias: "chest_closed", src: "/storage/chest_closed.png" },
      { alias: "chest_open", src: "/storage/chest_open.png" },
      { alias: "win_1000x", src: "/storage/win_1000x.png" },
      { alias: "raposa", src: "/storage/raposa.png" },
      { alias: "coin", src: "/storage/coin.png" },
      { alias: "squirrel_spritesheet", src: "/storage/squirrel-new2.png" },
      { alias: "squirrel_bonus", src: "/storage/squirrel-bonus.png" },
      { alias: "squirrel_power", src: "/storage/squirrel-power.png" },
      { alias: "body_idle", src: "/storage/body_idle.png" },
      { alias: "leaf1", src: "/storage/leaf1.png" },
      { alias: "leaf2", src: "/storage/leaf2.png" },
      { alias: "leaf3", src: "/storage/leaf3.png" },
      { alias: "chestgrid", src: "/storage/chest_grid.png" },
      { alias: "btn_receive", src: "/storage/btn_receive.png" },
      { alias: "particle_coin", src: "/storage/particle_coin.png" },
      { alias: "win_modal", src: "/storage/win_modal.png" },
      { alias: "particle_gold_blur", src: "/storage/particle_gold_blur.png" },
      { alias: "particle_sun_blur", src: "/storage/particle_sun_blur.png" },
      { alias: "green_orb", src: "/storage/green_orb.png" },
      { alias: "acorn", src: "/storage/prizes/acorn.png" },
      { alias: "pinecone", src: "/storage/prizes/pinecone.png" },
      { alias: "ring", src: "/storage/prizes/ring.png" },
      { alias: "goldenacorn", src: "/storage/prizes/goldenacorn.png" },
      { alias: "apple", src: "/storage/prizes/apple.png" },
      { alias: "background_music", src: "/storage/sounds/background.mp3" },
      { alias: "button_sound", src: "/storage/sounds/button.mp3" },
      { alias: "laugh_collect", src: "/storage/sounds/laugh_collect.mp3" },
      { alias: "jewel_collect", src: "/storage/sounds/jewel_collect.mp3" },
      { alias: "fruit_collect", src: "/storage/sounds/fruit_collect.mp3" },
      { alias: "coin_collect", src: "/storage/sounds/coin_collect2.mp3" },
      {
        alias: "background_bonus",
        src: "/storage/sounds/background_bonus2.mp3",
      },
      { alias: "swoosh", src: "/storage/sounds/swoosh.mp3" },
      { alias: "coin_collect_give", src: "/storage/sounds/coin_collect.mp3" },
      {
        alias: "background_chest",
        src: "/storage/sounds/background_chest.mp3",
      },
      { alias: "loser_sound", src: "/storage/sounds/loser_collect2.mp3" },
      { alias: "loser", src: "/storage/sounds/loser_collect2.mp3" },
      { alias: "win_sound", src: "/storage/sounds/win.mp3" },
      { alias: "bonus_suspense", src: "/storage/sounds/bonus_suspense.mp3" },
      { alias: "bubble_sound", src: "/storage/sounds/bubble.mp3" },
      { alias: "open_chest", src: "/storage/sounds/open_chest.mp3" },
      { alias: "chest_explode", src: "/storage/sounds/chest_explode.mp3" },
      { alias: "bonus_punch", src: "/storage/sounds/bonus_punch.mp3" },
    ];
  k.useEffect(() => {
    (W.current = A), (de.current = N);
  }, [A, N]),
    k.useEffect(() => {
      if (
        (s.current &&
          !s.current.contains(t.canvas) &&
          (s.current.appendChild(t.canvas),
          t.renderer.resize(s.current.clientWidth, s.current.clientHeight)),
        ll.configureAppTicker(t, 60),
        pe.current)
      )
        return;
      (pe.current = !0),
        re.current || (re.current = new td(t)),
        Y.current || (Y.current = new ll(t, 60)),
        t.stage.removeChildren();
      const ee = {};
      je.load(["/storage/gamebg.png", "/storage/logo.png"]).then((nt) => {
        const qe = Ve.from(nt["/storage/gamebg.png"]);
        qe.anchor.set(0.5),
          (qe.x = t.screen.width / 2),
          (qe.y = t.screen.height / 2),
          (qe.width = t.screen.width),
          (qe.height = t.screen.height),
          t.stage.addChildAt(qe, 0),
          (ee.bg = qe);
        const ge = Ve.from(nt["/storage/logo.png"]);
        ge.anchor.set(0.5),
          (ge.x = t.screen.width / 2),
          (ge.y = t.screen.height * 0.35),
          ge.scale.set(Math.min((t.screen.width * 0.34) / ge.width, 1)),
          t.stage.addChildAt(ge, 1),
          (ee.logo = ge),
          (ne.current = t.screen.width * 0.8),
          (ue.current = 16);
        const $e = new Ye();
        ($e.x = t.screen.width / 2),
          ($e.y = t.screen.height * 0.77),
          (ie.current = $e),
          t.stage.addChild($e),
          (ee.container = $e);
        const ht = new Be()
          .roundRect(-ne.current / 2, 0, ne.current, ue.current, ue.current / 2)
          .fill({ color: 16777215, alpha: 0.2 });
        $e.addChild(ht), (ee.bgBar = ht);
        const et = new Be();
        $e.addChild(et), (ee.fillBar = et);
        const ot = new Fr("", {
          fontSize: 16,
          fill: "#f2f2f2",
          align: "center",
        });
        ot.anchor.set(0.5, 1), (ot.y = -15), $e.addChild(ot), (ee.status = ot);
        const Tt = new Fr("", {
          fontSize: 16,
          fill: "#f2f2f2",
          fontWeight: "500",
        });
        Tt.anchor.set(0.5, 0),
          (Tt.y = ue.current + 10),
          $e.addChild(Tt),
          (ee.pctText = Tt),
          re.current.add("loading", (kt) => {
            const {
              width: Et,
              height: $t,
              uniformScale: G,
              deviceType: H,
              fontSizes: Oe,
              spacing: We,
            } = kt;
            if (
              (ee.bg &&
                ((ee.bg.width = Et),
                (ee.bg.height = $t),
                (ee.bg.x = Et / 2),
                (ee.bg.y = $t / 2)),
              ee.logo)
            ) {
              (ee.logo.x = Et / 2), (ee.logo.y = $t * 0.35);
              const Qe = Math.min((Et * 0.34) / ee.logo.texture.width, G);
              ee.logo.scale.set(Qe);
            }
            if (ee.container) {
              const Qe = Et * 0.8,
                Ae = H === "mobile" ? 12 : 16;
              (ne.current = Qe),
                (ue.current = Ae),
                (ee.container.x = Et / 2),
                (ee.container.y = $t * 0.77),
                ee.bgBar &&
                  ee.bgBar
                    .clear()
                    .roundRect(-Qe / 2, 0, Qe, Ae, Ae / 2)
                    .fill({ color: 16777215, alpha: 0.2 }),
                ee.status &&
                  ((ee.status.style.fontSize = Oe?.medium || 16),
                  (ee.status.y = -We?.md || -15)),
                ee.pctText &&
                  ((ee.pctText.style.fontSize = Oe?.medium || 16),
                  (ee.pctText.y = Ae + (We?.sm || 10)));
            }
          });
        function ft() {
          const kt = 2 + Math.random() * 2,
            Et = new Be().circle(0, 0, kt).fill(16777215);
          (Et.x = -ne.current / 2 + ne.current * (te.current / 100)),
            (Et.y = ue.current / 2),
            $e.addChild(Et),
            se.current.push({
              g: Et,
              vx: Math.random() * 2 - 1,
              vy: -Math.random() * 2,
            });
        }
        function It() {
          se.current = se.current.filter(
            (kt) => (
              (kt.g.x += kt.vx),
              (kt.g.y += kt.vy),
              (kt.g.alpha -= 0.05),
              (kt.vy += 0.15),
              kt.g.alpha <= 0 ? ($e.removeChild(kt.g), !1) : !0
            )
          );
        }
        const Ut = () => {
          It(),
            (te.current += (W.current - te.current) * 0.1),
            ee.fillBar &&
              ee.fillBar
                .clear()
                .roundRect(
                  -ne.current / 2,
                  0,
                  ne.current * (te.current / 100),
                  ue.current,
                  ue.current / 2
                )
                .fill(16750592),
            ee.pctText && (ee.pctText.text = `${Math.round(te.current)}%`),
            ee.status && (ee.status.text = de.current),
            Math.random() < 0.3 && ft();
        };
        Y.current.add("loadingAnimation", Ut), oe();
      });
    }, [t]);
  const oe = async () => {
    try {
      je.add(me);
      const ee = me.map((nt) => nt.alias);
      await je.load(ee),
        M(100),
        R("Concluído!"),
        (W.current = 100),
        (de.current = "Concluído!"),
        setTimeout(() => {
          U(!0);
        }, 500);
    } catch (ee) {
      console.error("Error loading assets:", ee),
        M(100),
        (W.current = 100),
        U(!0);
    }
  };
  k.useEffect(() => {
    if (O && !Z.current) {
      (Z.current = !0),
        Y.current && Y.current.remove("loadingAnimation"),
        re.current && re.current.remove("loading"),
        (se.current = []),
        ie.current &&
          (t.stage.removeChild(ie.current),
          ie.current.destroy({ children: !0 }),
          (ie.current = null)),
        t.stage.removeChildren();
      const ee = {},
        nt = Ve.from(je.get("gamebg"));
      nt.anchor.set(0.5), t.stage.addChild(nt), (ee.background = nt);
      const qe = Ve.from(je.get("logo"));
      qe.anchor.set(0.5),
        t.stage.addChild(qe),
        (ee.logo = qe),
        re.current.add("ready", (ge) => {
          const { width: $e, height: ht, uniformScale: et } = ge;
          if (
            (ee.background &&
              ((ee.background.width = $e),
              (ee.background.height = ht),
              (ee.background.x = $e / 2),
              (ee.background.y = ht / 2)),
            ee.logo)
          ) {
            (ee.logo.x = $e / 2), (ee.logo.y = ht * 0.35);
            const ot = Math.min(($e * 0.34) / ee.logo.texture.width, et);
            ee.logo.scale.set(ot);
          }
        });
    }
  }, [O, t]);
  const ve = async () => {
      if (j) {
        try {
          const ee = await axios.get("/api/user/refresh");
          if (ee.data.success)
            return (
              console.log("User data refreshed:", ee.data.user),
              T(ee.data.user),
              ee.data.user
            );
          console.warn("Failed to refresh user data:", ee.data.message);
        } catch (ee) {
          console.error("Error refreshing user data:", ee);
        }
        return S;
      }
    },
    Te = (ee) => {
      console.log("Withdrawal success, updating user:", ee),
        T(ee),
        J.current && J.current.updateUser && J.current.updateUser(ee);
    },
    Ue = (ee) => {
      console.log("User update for lobby:", ee),
        T(ee),
        J.current && J.current.updateUser && J.current.updateUser(ee);
    };
  k.useEffect(
    () => (
      i &&
        j &&
        O &&
        !ae.current &&
        ((ae.current = !0),
        J.current && J.current.cleanup(),
        (async () => {
          try {
            const ee = await ve(),
              nt = await Wp(
                t,
                ee || S,
                () => m(!0),
                () => g(!0),
                () => v(!0),
                z,
                q,
                n,
                () => _(!0),
                Ue
              );
            J.current = nt;
          } catch (ee) {
            console.error("Error setting up lobby:", ee), (ae.current = !1);
          }
        })()),
      () => {
        J.current && (J.current.cleanup(), (J.current = null)),
          (ae.current = !1);
      }
    ),
    [i, j, O, t, z]
  );
  const xe = () => {
      j ? l(!0) : d(!0);
    },
    Ee = (ee) => {
      T(ee), E(!0), l(!0), d(!1);
    },
    He = () => {
      try {
        const ee = je.get("button_sound");
        ee && ee.play();
      } catch (ee) {
        console.warn("Could not play button sound", ee);
      }
    },
    vt = async (ee) => {
      if ((console.log("Bet selected:", ee), parseFloat(S.balance) < ee)) {
        console.error("Insufficient balance for bet:", ee);
        return;
      }
      const nt = async (qe) => {
        const ge = (
            await Je(async () => {
              const { default: Ut } = await Promise.resolve().then(() => sD);
              return { default: Ut };
            }, void 0)
          ).default,
          { gameContainer: $e, cleanup: ht } = await ge(t, S, qe, q);
        F.current = ht;
        try {
          const Ut = je.get("swoosh");
          Ut && Ut.play();
        } catch (Ut) {
          console.warn("Could not play swoosh sound", Ut);
        }
        const et = 50;
        let ot = 0;
        const Tt = t.stage.children[0],
          ft = (Ut) => 1 - Math.pow(1 - Ut, 5),
          It = () => {
            ot++;
            const Ut = Math.min(ot / et, 1),
              kt = ft(Ut);
            Tt && (Tt.x = -kt * t.screen.width),
              $e && ($e.x = t.screen.width - kt * t.screen.width),
              Ut >= 1 &&
                (Y.current.remove("swooshTransition"),
                J.current &&
                  (J.current.cleanup(() => {
                    $e.parent !== t.stage && t.stage.addChild($e), ($e.x = 0);
                  }),
                  (J.current = null)));
          };
        Y.current.add("swooshTransition", It);
      };
      try {
        const qe = await axios.post("/game/start", { amount: ee });
        qe.data.success
          ? (console.log("Game started, beginning transition:", qe.data.game),
            m(!1),
            await nt(qe.data.game))
          : console.error("Failed to start game:", qe.data.message);
      } catch (qe) {
        console.error("Error starting game:", qe);
      }
    },
    _t = () => {
      console.log("Play again requested from WinAnnounce"),
        (async () => {
          try {
            (ae.current = !1),
              F.current &&
                (console.log("Executing GameBoard cleanup..."),
                await F.current(),
                (F.current = null)),
              await new Promise((qe) => requestAnimationFrame(qe));
            const ee = await ve();
            console.log("Recreating lobby...");
            const nt = await Wp(
              t,
              ee || S,
              () => m(!0),
              () => g(!0),
              () => v(!0),
              z,
              q,
              n,
              () => _(!0),
              Ue
            );
            (J.current = nt),
              (ae.current = !0),
              setTimeout(() => {
                m(!0);
              }, 300);
          } catch (ee) {
            console.error("Error in play again cleanup:", ee),
              (ae.current = !1),
              window.location.reload();
          }
        })();
    },
    Ft = () => {
      console.log("Back to lobby requested from WinAnnounce"),
        (async () => {
          try {
            (ae.current = !1),
              F.current &&
                (console.log("Executing GameBoard cleanup..."),
                await F.current(),
                (F.current = null)),
              await new Promise((qe) => requestAnimationFrame(qe));
            const ee = await ve();
            console.log("Recreating lobby...");
            const nt = await Wp(
              t,
              ee || S,
              () => m(!0),
              () => g(!0),
              () => v(!0),
              z,
              q,
              n,
              () => _(!0),
              Ue
            );
            (J.current = nt), (ae.current = !0);
          } catch (ee) {
            console.error("Error in back to lobby cleanup:", ee),
              (ae.current = !1),
              window.location.reload();
          }
        })();
    },
    hr = (ee) => {
      T(ee), J.current && J.current.updateUser && J.current.updateUser(ee);
    },
    Kt = (ee) => {
      T(ee);
    };
  return (
    k.useEffect(() => {
      let ee;
      if (j) {
        const nt = async () => {
          try {
            await axios.post("/api/user/heartbeat");
          } catch {}
        };
        nt(), (ee = setInterval(nt, 5e4));
      }
      return () => {
        ee && clearInterval(ee);
      };
    }, [j]),
    a.jsxs("div", {
      className: "weizhen-game",
      children: [
        a.jsx(FL, { onPlayAgain: _t, onBackToLobby: Ft }),
        a.jsx(KT, {
          show: c,
          onClose: () => d(!1),
          onSuccess: Ee,
          hidePhoneLogin: n.hide_phone_login === "1",
        }),
        a.jsx(YT, {
          isOpen: f,
          onClose: () => m(!1),
          user: S,
          onBetSelect: vt,
          playButtonClickSound: He,
        }),
        a.jsx(XT, { isOpen: h, onClose: () => g(!1), user: S, onSuccess: hr }),
        a.jsx(qT, {
          isOpen: x,
          onClose: () => v(!1),
          user: S,
          playButtonClickSound: He,
          onWithdrawalSuccess: Te,
        }),
        a.jsx(IL, {
          isOpen: w,
          onClose: () => _(!1),
          user: S,
          onUserUpdate: Kt,
        }),
        a.jsx("div", { ref: s, className: "weizhen-game" }),
        O &&
          !i &&
          a.jsxs(a.Fragment, {
            children: [
              j && S && a.jsx("div", {}),
              !j &&
                a.jsx("div", {
                  style: {
                    position: "absolute",
                    top: "50%",
                    left: "50%",
                    transform: "translate(-50%, -50%)",
                    width: "90%",
                    textAlign: "center",
                    fontWeight: 600,
                    maxWidth: 400,
                    marginTop: 40,
                    color: "#e7ffd1",
                    fontSize: 21,
                    letterSpacing: "-0.9px",
                  },
                  children:
                    "Prêmios incriveis e uma emoção única, comece a participar agora com amigos!",
                }),
              a.jsx("div", {
                className: "game-button",
                style: { fontSize: "24px", fontWeight: 600 },
                onClick: () => xe(),
                children: "Começar a diversão",
              }),
            ],
          }),
      ],
    })
  );
}
const OL = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: QT },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  LL = (r) => {
    const [e, t] = k.useState(null),
      s = k.useRef(null),
      n = k.useRef(!1);
    return (
      k.useEffect(
        () =>
          n.current || !r.current
            ? void 0
            : ((async () => {
                try {
                  const l = new jw(),
                    c = window.devicePixelRatio || 1,
                    d = Math.min(c, 3);
                  await l.init({
                    resizeTo: r.current,
                    backgroundColor: 1381653,
                    antialias: !0,
                    autoDensity: !0,
                    resolution: d,
                    powerPreference: "high-performance",
                    hello: !1,
                  });
                  const f = l.canvas;
                  r.current &&
                    !n.current &&
                    (r.current.appendChild(f),
                    (s.current = l),
                    t(l),
                    (n.current = !0),
                    console.log(
                      `🎨 PIXI initialized with ${d}x resolution (${c}x device)`
                    ));
                } catch (l) {
                  console.error("Failed to initialize PIXI app:", l);
                }
              })(),
              () => {
                s.current &&
                  (r.current &&
                    s.current.canvas &&
                    s.current.canvas.parentNode === r.current &&
                    r.current.removeChild(s.current.canvas),
                  s.current.destroy(!1, {
                    children: !0,
                    texture: !0,
                    baseTexture: !0,
                  }),
                  (s.current = null),
                  (n.current = !1));
              }),
        []
      ),
      k.useEffect(() => {
        if (e && r.current) {
          const i = () => {
            if (r.current) {
              const l = r.current.clientWidth,
                c = r.current.clientHeight;
              e.renderer.resize(l, c);
              const d = e.canvas,
                f = e.renderer.resolution;
              (d.style.width = l + "px"),
                (d.style.height = c + "px"),
                (d.width = l * f),
                (d.height = c * f);
            }
          };
          return (
            window.addEventListener("resize", i),
            () => window.removeEventListener("resize", i)
          );
        }
      }, [e]),
      e
    );
  };
class dt {
  static create(e, t = 60) {
    const s = 1e3 / t;
    let n = performance.now(),
      i = 0;
    const l = s * 3;
    return (c) => {
      const d = performance.now(),
        f = d - n;
      if (f > l) {
        (n = d), (i = 0);
        return;
      }
      if (((n = d), (i += f), i >= s)) {
        const m = Math.floor(i / s);
        i -= m * s;
        const h = Math.min(m, 3) * (t / 60);
        e(h);
      }
    };
  }
  static wrapTicker(e, t = 60) {
    return (e.maxFPS = t), (e.minFPS = Math.max(15, t / 4)), e;
  }
  static throttle(e, t = 60) {
    const s = 1e3 / t;
    let n = 0;
    return function (...i) {
      const l = performance.now();
      if (l - n >= s) return (n = l), e.apply(this, i);
    };
  }
}
function DL({ user: r, isAuthenticated: e, settings: t }) {
  const [s, n] = k.useState(!1),
    [i, l] = k.useState(!1),
    c = k.useRef(null),
    d = LL(c),
    f = k.useRef(null),
    m = k.useRef(null);
  return (
    k.useEffect(
      () => (
        (async () => {
          await je.load(["/storage/gamebg.png"]);
        })(),
        () => {}
      ),
      []
    ),
    k.useEffect(() => {
      if (d && d.stage) {
        let h = function (F, W, te, de = 16777215, ne = 12) {
          const ue = [];
          for (let me = 0; me < ne; me++) {
            const oe = new Be().circle(0, 0, 6 + Math.random() * 6).fill(de);
            (oe.x = W), (oe.y = te), (oe.alpha = 1), F.addChild(oe);
            const ve = (Math.PI * 2 * me) / ne + Math.random() * 0.9,
              Te = 3 + Math.random() * 3;
            ue.push({
              gfx: oe,
              vx: Math.cos(ve) * Te,
              vy: Math.sin(ve) * Te,
              life: 0,
            });
          }
          const ae = dt.create((me) => {
            ue.forEach((oe) => {
              (oe.gfx.x += oe.vx * me),
                (oe.gfx.y += oe.vy * me),
                (oe.gfx.alpha -= 0.03 * me),
                (oe.vy += 0.15 * me),
                (oe.life += me),
                oe.gfx.alpha <= 0 && F.removeChild(oe.gfx);
            }),
              ue.every((oe) => oe.gfx.alpha <= 0) &&
                m.current.remove("particleAnimation");
          }, 60);
          m.current.add("particleAnimation", ae);
        };
        ll.configureAppTicker(d, 60),
          m.current || (m.current = new ll(d, 60)),
          d.stage.removeChildren(),
          (f.current = new td(d));
        let g = {};
        const x = 120,
          v = 128,
          w = 20,
          _ = {},
          S = (F) => {
            if (_[F]) return _[F];
            const W = document.createElement("canvas");
            (W.width = 128), (W.height = 128);
            const te = W.getContext("2d"),
              de = te.createLinearGradient(0, 0, 128, 0);
            return (
              de.addColorStop(0, "#a855f7"),
              de.addColorStop(0.5, "#d8b4fe"),
              de.addColorStop(1, "#ff00cc"),
              (te.fillStyle = de),
              (te.font = "bold 120px Arial"),
              (te.textAlign = "center"),
              (te.textBaseline = "middle"),
              te.fillText(F, 64, 64),
              (_[F] = Se.from(W)),
              _[F]
            );
          },
          T = (F) => {
            const W = new Ye(),
              te = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            for (let de = 0; de < w; de++) {
              const ne =
                  de === w - 1 ? F : te[Math.floor(Math.random() * te.length)],
                ue = new Ve(S(ne));
              (ue.y = de * x),
                (ue.x = 0),
                ue.anchor.set(0.5, 0.5),
                (ue.x = 0),
                W.addChild(ue);
            }
            return W;
          },
          j = T("W"),
          E = T("Z"),
          A = new Ye(),
          M = new Ye(),
          N = -32;
        (A.x = d.screen.width / 2 - v / 2 - N / 2),
          (A.y = d.screen.height / 2 - 32),
          A.addChild(j),
          (M.x = d.screen.width / 2 + v / 2 + N / 2),
          (M.y = d.screen.height / 2 - 32),
          M.addChild(E),
          d.stage.addChild(A, M),
          (g.wViewport = A),
          (g.zViewport = M);
        const R = new Be().rect(-v / 2, -x / 2, v, x).fill(16711680),
          O = new Be().rect(-v / 2, -x / 2, v, x).fill(16711680);
        (A.mask = R), (M.mask = O), A.addChild(R), M.addChild(O);
        const U = new Fr({
          text: "GAME PROVIDER",
          style: {
            fontSize: 24,
            fontWeight: "300",
            fill: "#ffffff",
            letterSpacing: 4.8,
            stroke: { color: "#333333", width: 1 },
          },
        });
        U.anchor.set(0.5),
          (U.x = d.screen.width / 2 - 10),
          (U.y = d.screen.height / 2 + 80),
          (U.alpha = 0),
          d.stage.addChild(U),
          (g.gameProviderText = U),
          f.current.add("launch", (F) => {
            const {
              width: W,
              height: te,
              uniformScale: de,
              deviceType: ne,
              spacing: ue,
            } = F;
            if (g.wViewport && g.zViewport) {
              const me = -32 * de,
                oe = 128 * de;
              (g.wViewport.x = W / 2 - oe / 2 - me / 2),
                (g.wViewport.y = te / 2 - 32 * de),
                g.wViewport.scale.set(de),
                (g.zViewport.x = W / 2 + oe / 2 + me / 2),
                (g.zViewport.y = te / 2 - 32 * de),
                g.zViewport.scale.set(de);
            }
            if (g.gameProviderText) {
              (g.gameProviderText.x = W / 2 - 10 * de),
                (g.gameProviderText.y = te / 2 + 80 * de);
              const ae = ne === "mobile" ? 18 : 24;
              (g.gameProviderText.style.fontSize = ae * de),
                (g.gameProviderText.style.letterSpacing =
                  (ne === "mobile" ? 3.2 : 4.8) * de);
            }
          });
        const q = new Am({ strength: 0.3 }),
          Q = new Am({ strength: 0.3 });
        (j.filters = [q]), (E.filters = [Q]);
        let z = performance.now();
        const Z = 1.2 * 1e3,
          pe = 1.8 * 1e3,
          se = (F) => 1 - Math.pow(1 - F, 4);
        let ie = !1,
          Y = !1;
        const re = dt.create((F) => {
          const W = performance.now() - z;
          if (W < Z) {
            const de = se(W / Z);
            (j.y = -de * (j.height - x)), (q.strengthY = (1 - de) * 25);
          } else
            j.filters &&
              j.filters.length > 0 &&
              ((j.y = -(j.height - x)),
              (j.filters = []),
              A.scale.set(1.1),
              setTimeout(() => A.scale.set(1), 150),
              ie || (h(d.stage, A.x, A.y, 11032055), (ie = !0)));
          if (W < pe) {
            const de = se(W / pe);
            (E.y = -de * (E.height - x)), (Q.strengthY = (1 - de) * 25);
          } else
            E.filters &&
              E.filters.length > 0 &&
              ((E.y = -(E.height - x)),
              (E.filters = []),
              M.scale.set(1.1),
              setTimeout(() => M.scale.set(1), 150),
              Y || (h(d.stage, M.x, M.y, 16711884), (Y = !0)));
          const te = pe + 200;
          if (W > te && W < te + 1e3) {
            const de = (W - te) / 1e3;
            U.alpha = de;
            const ne = 1 - Math.pow(1 - de, 3),
              ue = d.screen.height / 2 + 180,
              ae = d.screen.height / 2 + 30;
            U.y = ue - (ue - ae) * ne;
          } else
            W >= te + 1e3 && ((U.alpha = 1), (U.y = d.screen.height / 2 + 30));
          W > 4e3 && m.current.remove("launchAnimation");
        }, 60);
        m.current.add("launchAnimation", re);
        const J = setTimeout(() => {
          n(!0);
        }, 3800);
        return () => {
          clearTimeout(J),
            m.current && m.current.clear(),
            f.current && f.current.destroy(),
            d.stage && d.stage.removeChildren(),
            Object.values(_).forEach((F) => F.destroy());
        };
      }
    }, [d]),
    s
      ? a.jsxs(a.Fragment, {
          children: [
            a.jsx(qr, { title: "EsquiloMania" }),
            a.jsx(QT, {
              user: r,
              isAuthenticated: e,
              app: d,
              pixiContainerRef: c,
              settings: t,
            }),
          ],
        })
      : a.jsxs(a.Fragment, {
          children: [
            a.jsx(qr, { title: "EsquiloMania" }),
            a.jsx("div", { ref: c, className: "weizhen-game" }),
          ],
        })
  );
}
const UL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: DL }, Symbol.toStringTag, {
    value: "Module",
  })
);
function zL({ user: r }) {
  return a.jsx("div", {
    className: "lobby-ui",
    children: a.jsxs("h1", { children: ["Bem vindo à Lobby, ", r.name] }),
  });
}
const GL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: zL }, Symbol.toStringTag, {
    value: "Module",
  })
);
function $L() {
  return a.jsxs("div", {
    className:
      "bg-black text-white min-h-screen flex flex-col items-center justify-center p-4 text-center relative overflow-hidden",
    children: [
      a.jsx("div", {
        className:
          "absolute top-0 left-0 -translate-x-1/4 -translate-y-1/4 w-96 h-96 bg-gray-800 rounded-full filter blur-3xl opacity-30",
      }),
      a.jsx("div", {
        className:
          "absolute bottom-0 right-0 translate-x-1/4 translate-y-1/4 w-96 h-96 bg-gray-800 rounded-full filter blur-3xl opacity-30",
      }),
      a.jsxs("div", {
        className: "max-w-md z-10",
        children: [
          a.jsx("svg", {
            xmlns: "http://www.w3.org/2000/svg",
            className: "h-20 w-20 text-gray-600 mx-auto mb-4",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: 2,
            children: a.jsx("path", {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              d: "M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636",
            }),
          }),
          a.jsx("h1", {
            className: "text-4xl md:text-5xl font-bold text-white mb-4 py-2",
            children: "Acesso Negado",
          }),
          a.jsx("p", {
            className: "text-lg text-gray-400 mb-8",
            children: "Você não tem permissão para visualizar esta página.",
          }),
          a.jsx("a", {
            href: route("tenant.admin.weizhen-manager"),
            className:
              "inline-block px-6 py-3 bg-black hover:bg-gray-800 border border-gray-700 rounded-md text-white font-semibold shadow-lg transition-all transform hover:scale-105 duration-300",
            children: "Voltar ao Painel",
          }),
        ],
      }),
    ],
  });
}
const HL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: $L }, Symbol.toStringTag, {
    value: "Module",
  })
);
function WL() {
  const {
      data: r,
      setData: e,
      post: t,
      processing: s,
      errors: n,
    } = sr({ id: "", domain: "" }),
    i = (l) => {
      l.preventDefault(), t(route("tenants.store"));
    };
  return a.jsxs(LT, {
    header: a.jsx("h2", {
      className:
        "font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",
      children: "Criar Novo Tenant",
    }),
    children: [
      a.jsx(qr, { title: "Criar Tenant" }),
      a.jsx("div", {
        className: "py-12",
        children: a.jsx("div", {
          className: "max-w-2xl mx-auto sm:px-6 lg:px-8",
          children: a.jsx("div", {
            className:
              "bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",
            children: a.jsxs("form", {
              onSubmit: i,
              className: "p-6 space-y-6",
              children: [
                a.jsxs("div", {
                  children: [
                    a.jsx("label", {
                      htmlFor: "id",
                      className:
                        "block text-sm font-medium text-gray-700 dark:text-gray-300",
                      children: "ID",
                    }),
                    a.jsx("input", {
                      id: "id",
                      type: "text",
                      value: r.id,
                      onChange: (l) => e("id", l.target.value),
                      className:
                        "mt-1 block w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-gray-900 dark:text-gray-100",
                    }),
                    n.id &&
                      a.jsx("p", {
                        className:
                          "mt-2 text-sm text-red-600 dark:text-red-400",
                        children: n.id,
                      }),
                  ],
                }),
                a.jsxs("div", {
                  children: [
                    a.jsx("label", {
                      htmlFor: "domain",
                      className:
                        "block text-sm font-medium text-gray-700 dark:text-gray-300",
                      children: "Domínio",
                    }),
                    a.jsx("input", {
                      id: "domain",
                      type: "text",
                      value: r.domain,
                      onChange: (l) => e("domain", l.target.value),
                      className:
                        "mt-1 block w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-gray-900 dark:text-gray-100",
                    }),
                    n.domain &&
                      a.jsx("p", {
                        className:
                          "mt-2 text-sm text-red-600 dark:text-red-400",
                        children: n.domain,
                      }),
                  ],
                }),
                a.jsxs("div", {
                  className: "flex items-center justify-end space-x-4",
                  children: [
                    a.jsx(br, {
                      href: route("dashboard"),
                      className:
                        "text-sm text-gray-600 dark:text-gray-400 hover:underline",
                      children: "Cancelar",
                    }),
                    a.jsx("button", {
                      type: "submit",
                      disabled: s,
                      className:
                        "inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",
                      children: "Criar Tenant",
                    }),
                  ],
                }),
              ],
            }),
          }),
        }),
      }),
    ],
  });
}
const VL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: WL }, Symbol.toStringTag, {
    value: "Module",
  })
);
function qL({ auth: r, laravelVersion: e, phpVersion: t }) {
  const s = () => {
    document.getElementById("screenshot-container")?.classList.add("!hidden"),
      document.getElementById("docs-card")?.classList.add("!row-span-1"),
      document.getElementById("docs-card-content")?.classList.add("!flex-row"),
      document.getElementById("background")?.classList.add("!hidden");
  };
  return a.jsxs(a.Fragment, {
    children: [
      a.jsx(qr, { title: "Welcome" }),
      a.jsxs("div", {
        className: "bg-gray-50 text-black/50 dark:bg-black dark:text-white/50",
        children: [
          a.jsx("img", {
            id: "background",
            className: "absolute -left-20 top-0 max-w-[877px]",
            src: "https://laravel.com/assets/img/welcome/background.svg",
          }),
          a.jsx("div", {
            className:
              "relative flex min-h-screen flex-col items-center justify-center selection:bg-[#FF2D20] selection:text-white",
            children: a.jsxs("div", {
              className: "relative w-full max-w-2xl px-6 lg:max-w-7xl",
              children: [
                a.jsxs("header", {
                  className:
                    "grid grid-cols-2 items-center gap-2 py-10 lg:grid-cols-3",
                  children: [
                    a.jsx("div", {
                      className: "flex lg:col-start-2 lg:justify-center",
                      children: a.jsx("svg", {
                        className:
                          "h-12 w-auto text-white lg:h-16 lg:text-[#FF2D20]",
                        viewBox: "0 0 62 65",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: a.jsx("path", {
                          d: "M61.8548 14.6253C61.8778 14.7102 61.8895 14.7978 61.8897 14.8858V28.5615C61.8898 28.737 61.8434 28.9095 61.7554 29.0614C61.6675 29.2132 61.5409 29.3392 61.3887 29.4265L49.9104 36.0351V49.1337C49.9104 49.4902 49.7209 49.8192 49.4118 49.9987L25.4519 63.7916C25.3971 63.8227 25.3372 63.8427 25.2774 63.8639C25.255 63.8714 25.2338 63.8851 25.2101 63.8913C25.0426 63.9354 24.8666 63.9354 24.6991 63.8913C24.6716 63.8838 24.6467 63.8689 24.6205 63.8589C24.5657 63.8389 24.5084 63.8215 24.456 63.7916L0.501061 49.9987C0.348882 49.9113 0.222437 49.7853 0.134469 49.6334C0.0465019 49.4816 0.000120578 49.3092 0 49.1337L0 8.10652C0 8.01678 0.0124642 7.92953 0.0348998 7.84477C0.0423783 7.8161 0.0598282 7.78993 0.0697995 7.76126C0.0884958 7.70891 0.105946 7.65531 0.133367 7.6067C0.152063 7.5743 0.179485 7.54812 0.20192 7.51821C0.230588 7.47832 0.256763 7.43719 0.290416 7.40229C0.319084 7.37362 0.356476 7.35243 0.388883 7.32751C0.425029 7.29759 0.457436 7.26518 0.498568 7.2415L12.4779 0.345059C12.6296 0.257786 12.8015 0.211853 12.9765 0.211853C13.1515 0.211853 13.3234 0.257786 13.475 0.345059L25.4531 7.2415H25.4556C25.4955 7.26643 25.5292 7.29759 25.5653 7.32626C25.5977 7.35119 25.6339 7.37362 25.6625 7.40104C25.6974 7.43719 25.7224 7.47832 25.7523 7.51821C25.7735 7.54812 25.8021 7.5743 25.8196 7.6067C25.8483 7.65656 25.8645 7.70891 25.8844 7.76126C25.8944 7.78993 25.9118 7.8161 25.9193 7.84602C25.9423 7.93096 25.954 8.01853 25.9542 8.10652V33.7317L35.9355 27.9844V14.8846C35.9355 14.7973 35.948 14.7088 35.9704 14.6253C35.9792 14.5954 35.9954 14.5692 36.0053 14.5405C36.0253 14.4882 36.0427 14.4346 36.0702 14.386C36.0888 14.3536 36.1163 14.3274 36.1375 14.2975C36.1674 14.2576 36.1923 14.2165 36.2272 14.1816C36.2559 14.1529 36.292 14.1317 36.3244 14.1068C36.3618 14.0769 36.3942 14.0445 36.4341 14.0208L48.4147 7.12434C48.5663 7.03694 48.7383 6.99094 48.9133 6.99094C49.0883 6.99094 49.2602 7.03694 49.4118 7.12434L61.3899 14.0208C61.4323 14.0457 61.4647 14.0769 61.5021 14.1055C61.5333 14.1305 61.5694 14.1529 61.5981 14.1803C61.633 14.2165 61.6579 14.2576 61.6878 14.2975C61.7103 14.3274 61.7377 14.3536 61.7551 14.386C61.7838 14.4346 61.8 14.4882 61.8199 14.5405C61.8312 14.5692 61.8474 14.5954 61.8548 14.6253ZM59.893 27.9844V16.6121L55.7013 19.0252L49.9104 22.3593V33.7317L59.8942 27.9844H59.893ZM47.9149 48.5566V37.1768L42.2187 40.4299L25.953 49.7133V61.2003L47.9149 48.5566ZM1.99677 9.83281V48.5566L23.9562 61.199V49.7145L12.4841 43.2219L12.4804 43.2194L12.4754 43.2169C12.4368 43.1945 12.4044 43.1621 12.3682 43.1347C12.3371 43.1097 12.3009 43.0898 12.2735 43.0624L12.271 43.0586C12.2386 43.0275 12.2162 42.9888 12.1887 42.9539C12.1638 42.9203 12.1339 42.8916 12.114 42.8567L12.1127 42.853C12.0903 42.8156 12.0766 42.7707 12.0604 42.7283C12.0442 42.6909 12.023 42.656 12.013 42.6161C12.0005 42.5688 11.998 42.5177 11.9931 42.4691C11.9881 42.4317 11.9781 42.3943 11.9781 42.3569V15.5801L6.18848 12.2446L1.99677 9.83281ZM12.9777 2.36177L2.99764 8.10652L12.9752 13.8513L22.9541 8.10527L12.9752 2.36177H12.9777ZM18.1678 38.2138L23.9574 34.8809V9.83281L19.7657 12.2459L13.9749 15.5801V40.6281L18.1678 38.2138ZM48.9133 9.14105L38.9344 14.8858L48.9133 20.6305L58.8909 14.8846L48.9133 9.14105ZM47.9149 22.3593L42.124 19.0252L37.9323 16.6121V27.9844L43.7219 31.3174L47.9149 33.7317V22.3593ZM24.9533 47.987L39.59 39.631L46.9065 35.4555L36.9352 29.7145L25.4544 36.3242L14.9907 42.3482L24.9533 47.987Z",
                          fill: "currentColor",
                        }),
                      }),
                    }),
                    a.jsx("nav", {
                      className: "-mx-3 flex flex-1 justify-end",
                      children: r.user
                        ? a.jsx(br, {
                            href: route("dashboard"),
                            className:
                              "rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white",
                            children: "Dashboard",
                          })
                        : a.jsx(a.Fragment, {
                            children: a.jsx(br, {
                              href: route("login"),
                              className:
                                "rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white",
                              children: "Log in",
                            }),
                          }),
                    }),
                  ],
                }),
                a.jsx("main", {
                  className: "mt-6",
                  children: a.jsxs("div", {
                    className: "grid gap-6 lg:grid-cols-2 lg:gap-8",
                    children: [
                      a.jsxs("a", {
                        href: "https://laravel.com/docs",
                        id: "docs-card",
                        className:
                          "flex flex-col items-start gap-6 overflow-hidden rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] md:row-span-3 lg:p-10 lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
                        children: [
                          a.jsxs("div", {
                            id: "screenshot-container",
                            className:
                              "relative flex w-full flex-1 items-stretch",
                            children: [
                              a.jsx("img", {
                                src: "https://laravel.com/assets/img/welcome/docs-light.svg",
                                alt: "Laravel documentation screenshot",
                                className:
                                  "aspect-video h-full w-full flex-1 rounded-[10px] object-cover object-top drop-shadow-[0px_4px_34px_rgba(0,0,0,0.06)] dark:hidden",
                                onError: s,
                              }),
                              a.jsx("img", {
                                src: "https://laravel.com/assets/img/welcome/docs-dark.svg",
                                alt: "Laravel documentation screenshot",
                                className:
                                  "hidden aspect-video h-full w-full flex-1 rounded-[10px] object-cover object-top drop-shadow-[0px_4px_34px_rgba(0,0,0,0.25)] dark:block",
                              }),
                              a.jsx("div", {
                                className:
                                  "absolute -bottom-16 -left-16 h-40 w-[calc(100%+8rem)] bg-gradient-to-b from-transparent via-white to-white dark:via-zinc-900 dark:to-zinc-900",
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className:
                              "relative flex items-center gap-6 lg:items-end",
                            children: [
                              a.jsxs("div", {
                                id: "docs-card-content",
                                className: "flex items-start gap-6 lg:flex-col",
                                children: [
                                  a.jsx("div", {
                                    className:
                                      "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16",
                                    children: a.jsxs("svg", {
                                      className: "size-5 sm:size-6",
                                      xmlns: "http://www.w3.org/2000/svg",
                                      fill: "none",
                                      viewBox: "0 0 24 24",
                                      children: [
                                        a.jsx("path", {
                                          fill: "#FF2D20",
                                          d: "M23 4a1 1 0 0 0-1.447-.894L12.224 7.77a.5.5 0 0 1-.448 0L2.447 3.106A1 1 0 0 0 1 4v13.382a1.99 1.99 0 0 0 1.105 1.79l9.448 4.728c.14.065.293.1.447.1.154-.005.306-.04.447-.105l9.453-4.724a1.99 1.99 0 0 0 1.1-1.789V4ZM3 6.023a.25.25 0 0 1 .362-.223l7.5 3.75a.251.251 0 0 1 .138.223v11.2a.25.25 0 0 1-.362.224l-7.5-3.75a.25.25 0 0 1-.138-.22V6.023Zm18 11.2a.25.25 0 0 1-.138.224l-7.5 3.75a.249.249 0 0 1-.329-.099.249.249 0 0 1-.033-.12V9.772a.251.251 0 0 1 .138-.224l7.5-3.75a.25.25 0 0 1 .362.224v11.2Z",
                                        }),
                                        a.jsx("path", {
                                          fill: "#FF2D20",
                                          d: "m3.55 1.893 8 4.048a1.008 1.008 0 0 0 .9 0l8-4.048a1 1 0 0 0-.9-1.785l-7.322 3.706a.506.506 0 0 1-.452 0L4.454.108a1 1 0 0 0-.9 1.785H3.55Z",
                                        }),
                                      ],
                                    }),
                                  }),
                                  a.jsxs("div", {
                                    className: "pt-3 sm:pt-5 lg:pt-0",
                                    children: [
                                      a.jsx("h2", {
                                        className:
                                          "text-xl font-semibold text-black dark:text-white",
                                        children: "Documentation",
                                      }),
                                      a.jsx("p", {
                                        className: "mt-4 text-sm/relaxed",
                                        children:
                                          "Laravel has wonderful documentation covering every aspect of the framework. Whether you are a newcomer or have prior experience with Laravel, we recommend reading our documentation from beginning to end.",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsx("svg", {
                                className: "size-6 shrink-0 stroke-[#FF2D20]",
                                xmlns: "http://www.w3.org/2000/svg",
                                fill: "none",
                                viewBox: "0 0 24 24",
                                strokeWidth: "1.5",
                                children: a.jsx("path", {
                                  strokeLinecap: "round",
                                  strokeLinejoin: "round",
                                  d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75",
                                }),
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs("a", {
                        href: "https://laracasts.com",
                        className:
                          "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
                        children: [
                          a.jsx("div", {
                            className:
                              "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16",
                            children: a.jsx("svg", {
                              className: "size-5 sm:size-6",
                              xmlns: "http://www.w3.org/2000/svg",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              children: a.jsx("g", {
                                fill: "#FF2D20",
                                children: a.jsx("path", {
                                  d: "M24 8.25a.5.5 0 0 0-.5-.5H.5a.5.5 0 0 0-.5.5v12a2.5 2.5 0 0 0 2.5 2.5h19a2.5 2.5 0 0 0 2.5-2.5v-12Zm-7.765 5.868a1.221 1.221 0 0 1 0 2.264l-6.626 2.776A1.153 1.153 0 0 1 8 18.123v-5.746a1.151 1.151 0 0 1 1.609-1.035l6.626 2.776ZM19.564 1.677a.25.25 0 0 0-.177-.427H15.6a.106.106 0 0 0-.072.03l-4.54 4.543a.25.25 0 0 0 .177.427h3.783c.027 0 .054-.01.073-.03l4.543-4.543ZM22.071 1.318a.047.047 0 0 0-.045.013l-4.492 4.492a.249.249 0 0 0 .038.385.25.25 0 0 0 .14.042h5.784a.5.5 0 0 0 .5-.5v-2a2.5 2.5 0 0 0-1.925-2.432ZM13.014 1.677a.25.25 0 0 0-.178-.427H9.101a.106.106 0 0 0-.073.03l-4.54 4.543a.25.25 0 0 0 .177.427H8.4a.106.106 0 0 0 .073-.03l4.54-4.543ZM6.513 1.677a.25.25 0 0 0-.177-.427H2.5A2.5 2.5 0 0 0 0 3.75v2a.5.5 0 0 0 .5.5h1.4a.106.106 0 0 0 .073-.03l4.54-4.543Z",
                                }),
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "pt-3 sm:pt-5",
                            children: [
                              a.jsx("h2", {
                                className:
                                  "text-xl font-semibold text-black dark:text-white",
                                children: "Laracasts",
                              }),
                              a.jsx("p", {
                                className: "mt-4 text-sm/relaxed",
                                children:
                                  "Laracasts offers thousands of video tutorials on Laravel, PHP, and JavaScript development. Check them out, see for yourself, and massively level up your development skills in the process.",
                              }),
                            ],
                          }),
                          a.jsx("svg", {
                            className:
                              "size-6 shrink-0 self-center stroke-[#FF2D20]",
                            xmlns: "http://www.w3.org/2000/svg",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            strokeWidth: "1.5",
                            children: a.jsx("path", {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75",
                            }),
                          }),
                        ],
                      }),
                      a.jsxs("a", {
                        href: "https://laravel-news.com",
                        className:
                          "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] transition duration-300 hover:text-black/70 hover:ring-black/20 focus:outline-none focus-visible:ring-[#FF2D20] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800 dark:hover:text-white/70 dark:hover:ring-zinc-700 dark:focus-visible:ring-[#FF2D20]",
                        children: [
                          a.jsx("div", {
                            className:
                              "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16",
                            children: a.jsx("svg", {
                              className: "size-5 sm:size-6",
                              xmlns: "http://www.w3.org/2000/svg",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              children: a.jsxs("g", {
                                fill: "#FF2D20",
                                children: [
                                  a.jsx("path", {
                                    d: "M8.75 4.5H5.5c-.69 0-1.25.56-1.25 1.25v4.75c0 .69.56 1.25 1.25 1.25h3.25c.69 0 1.25-.56 1.25-1.25V5.75c0-.69-.56-1.25-1.25-1.25Z",
                                  }),
                                  a.jsx("path", {
                                    d: "M24 10a3 3 0 0 0-3-3h-2V2.5a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2V20a3.5 3.5 0 0 0 3.5 3.5h17A3.5 3.5 0 0 0 24 20V10ZM3.5 21.5A1.5 1.5 0 0 1 2 20V3a.5.5 0 0 1 .5-.5h14a.5.5 0 0 1 .5.5v17c0 .295.037.588.11.874a.5.5 0 0 1-.484.625L3.5 21.5ZM22 20a1.5 1.5 0 1 1-3 0V9.5a.5.5 0 0 1 .5-.5H21a1 1 0 0 1 1 1v10Z",
                                  }),
                                  a.jsx("path", {
                                    d: "M12.751 6.047h2a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-2A.75.75 0 0 1 12 7.3v-.5a.75.75 0 0 1 .751-.753ZM12.751 10.047h2a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-2A.75.75 0 0 1 12 11.3v-.5a.75.75 0 0 1 .751-.753ZM4.751 14.047h10a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-10A.75.75 0 0 1 4 15.3v-.5a.75.75 0 0 1 .751-.753ZM4.75 18.047h7.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-7.5A.75.75 0 0 1 4 19.3v-.5a.75.75 0 0 1 .75-.753Z",
                                  }),
                                ],
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "pt-3 sm:pt-5",
                            children: [
                              a.jsx("h2", {
                                className:
                                  "text-xl font-semibold text-black dark:text-white",
                                children: "Laravel News",
                              }),
                              a.jsx("p", {
                                className: "mt-4 text-sm/relaxed",
                                children:
                                  "Laravel News is a community driven portal and newsletter aggregating all of the latest and most important news in the Laravel ecosystem, including new package releases and tutorials.",
                              }),
                            ],
                          }),
                          a.jsx("svg", {
                            className:
                              "size-6 shrink-0 self-center stroke-[#FF2D20]",
                            xmlns: "http://www.w3.org/2000/svg",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            strokeWidth: "1.5",
                            children: a.jsx("path", {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              d: "M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75",
                            }),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className:
                          "flex items-start gap-4 rounded-lg bg-white p-6 shadow-[0px_14px_34px_0px_rgba(0,0,0,0.08)] ring-1 ring-white/[0.05] lg:pb-10 dark:bg-zinc-900 dark:ring-zinc-800",
                        children: [
                          a.jsx("div", {
                            className:
                              "flex size-12 shrink-0 items-center justify-center rounded-full bg-[#FF2D20]/10 sm:size-16",
                            children: a.jsx("svg", {
                              className: "size-5 sm:size-6",
                              xmlns: "http://www.w3.org/2000/svg",
                              fill: "none",
                              viewBox: "0 0 24 24",
                              children: a.jsx("g", {
                                fill: "#FF2D20",
                                children: a.jsx("path", {
                                  d: "M16.597 12.635a.247.247 0 0 0-.08-.237 2.234 2.234 0 0 1-.769-1.68c.001-.195.03-.39.084-.578a.25.25 0 0 0-.09-.267 8.8 8.8 0 0 0-4.826-1.66.25.25 0 0 0-.268.181 2.5 2.5 0 0 1-2.4 1.824.045.045 0 0 0-.045.037 12.255 12.255 0 0 0-.093 3.86.251.251 0 0 0 .208.214c2.22.366 4.367 1.08 6.362 2.118a.252.252 0 0 0 .32-.079 10.09 10.09 0 0 0 1.597-3.733ZM13.616 17.968a.25.25 0 0 0-.063-.407A19.697 19.697 0 0 0 8.91 15.98a.25.25 0 0 0-.287.325c.151.455.334.898.548 1.328.437.827.981 1.594 1.619 2.28a.249.249 0 0 0 .32.044 29.13 29.13 0 0 0 2.506-1.99ZM6.303 14.105a.25.25 0 0 0 .265-.274 13.048 13.048 0 0 1 .205-4.045.062.062 0 0 0-.022-.07 2.5 2.5 0 0 1-.777-.982.25.25 0 0 0-.271-.149 11 11 0 0 0-5.6 2.815.255.255 0 0 0-.075.163c-.008.135-.02.27-.02.406.002.8.084 1.598.246 2.381a.25.25 0 0 0 .303.193 19.924 19.924 0 0 1 5.746-.438ZM9.228 20.914a.25.25 0 0 0 .1-.393 11.53 11.53 0 0 1-1.5-2.22 12.238 12.238 0 0 1-.91-2.465.248.248 0 0 0-.22-.187 18.876 18.876 0 0 0-5.69.33.249.249 0 0 0-.179.336c.838 2.142 2.272 4 4.132 5.353a.254.254 0 0 0 .15.048c1.41-.01 2.807-.282 4.117-.802ZM18.93 12.957l-.005-.008a.25.25 0 0 0-.268-.082 2.21 2.21 0 0 1-.41.081.25.25 0 0 0-.217.2c-.582 2.66-2.127 5.35-5.75 7.843a.248.248 0 0 0-.09.299.25.25 0 0 0 .065.091 28.703 28.703 0 0 0 2.662 2.12.246.246 0 0 0 .209.037c2.579-.701 4.85-2.242 6.456-4.378a.25.25 0 0 0 .048-.189 13.51 13.51 0 0 0-2.7-6.014ZM5.702 7.058a.254.254 0 0 0 .2-.165A2.488 2.488 0 0 1 7.98 5.245a.093.093 0 0 0 .078-.062 19.734 19.734 0 0 1 3.055-4.74.25.25 0 0 0-.21-.41 12.009 12.009 0 0 0-10.4 8.558.25.25 0 0 0 .373.281 12.912 12.912 0 0 1 4.826-1.814ZM10.773 22.052a.25.25 0 0 0-.28-.046c-.758.356-1.55.635-2.365.833a.25.25 0 0 0-.022.48c1.252.43 2.568.65 3.893.65.1 0 .2 0 .3-.008a.25.25 0 0 0 .147-.444c-.526-.424-1.1-.917-1.673-1.465ZM18.744 8.436a.249.249 0 0 0 .15.228 2.246 2.246 0 0 1 1.352 2.054c0 .337-.08.67-.23.972a.25.25 0 0 0 .042.28l.007.009a15.016 15.016 0 0 1 2.52 4.6.25.25 0 0 0 .37.132.25.25 0 0 0 .096-.114c.623-1.464.944-3.039.945-4.63a12.005 12.005 0 0 0-5.78-10.258.25.25 0 0 0-.373.274c.547 2.109.85 4.274.901 6.453ZM9.61 5.38a.25.25 0 0 0 .08.31c.34.24.616.561.8.935a.25.25 0 0 0 .3.127.631.631 0 0 1 .206-.034c2.054.078 4.036.772 5.69 1.991a.251.251 0 0 0 .267.024c.046-.024.093-.047.141-.067a.25.25 0 0 0 .151-.23A29.98 29.98 0 0 0 15.957.764a.25.25 0 0 0-.16-.164 11.924 11.924 0 0 0-2.21-.518.252.252 0 0 0-.215.076A22.456 22.456 0 0 0 9.61 5.38Z",
                                }),
                              }),
                            }),
                          }),
                          a.jsxs("div", {
                            className: "pt-3 sm:pt-5",
                            children: [
                              a.jsx("h2", {
                                className:
                                  "text-xl font-semibold text-black dark:text-white",
                                children: "Vibrant Ecosystem",
                              }),
                              a.jsxs("p", {
                                className: "mt-4 text-sm/relaxed",
                                children: [
                                  "Laravel's robust library of first-party tools and libraries, such as",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://forge.laravel.com",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white dark:focus-visible:ring-[#FF2D20]",
                                    children: "Forge",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://vapor.laravel.com",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Vapor",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://nova.laravel.com",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Nova",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://envoyer.io",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Envoyer",
                                  }),
                                  ", and",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://herd.laravel.com",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Herd",
                                  }),
                                  " ",
                                  "help you take your projects to the next level. Pair them with powerful open source libraries like",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/billing",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Cashier",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/dusk",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Dusk",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/broadcasting",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Echo",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/horizon",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Horizon",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/sanctum",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Sanctum",
                                  }),
                                  ",",
                                  " ",
                                  a.jsx("a", {
                                    href: "https://laravel.com/docs/telescope",
                                    className:
                                      "rounded-sm underline hover:text-black focus:outline-none focus-visible:ring-1 focus-visible:ring-[#FF2D20] dark:hover:text-white",
                                    children: "Telescope",
                                  }),
                                  ", and more.",
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                }),
                a.jsxs("footer", {
                  className:
                    "py-16 text-center text-sm text-black dark:text-white/70",
                  children: ["Laravel v", e, " (PHP v", t, ")"],
                }),
              ],
            }),
          }),
        ],
      }),
    ],
  });
}
const XL = Object.freeze(
  Object.defineProperty({ __proto__: null, default: qL }, Symbol.toStringTag, {
    value: "Module",
  })
);
class YL {
  constructor(e) {
    (this.container = e),
      (this.squirrel = null),
      (this.currentFrame = 0),
      (this.direction = 1),
      (this.frameCounter = 0),
      (this.frameDelay = 1),
      (this.forwardTextures = []),
      (this.reverseTextures = []),
      (this.isAnimating = !1),
      (this.leftEnergyOrb = null),
      (this.rightEnergyOrb = null),
      (this.energyParticles = []),
      (this.isEmanatingEnergy = !1),
      (this.particleTickerRunning = !1),
      (this.animationTicker = null),
      (this.orbAnimationTicker = null),
      (this.particleEmanationTicker = null);
  }
  async setup() {
    try {
      const e = je.get("squirrel_bonus").baseTexture,
        s = await (await fetch("/storage/squirrel-bonus.json")).json();
      console.log("Bonus squirrel JSON data loaded:", s);
      const n = {
        frames: {},
        meta: {
          scale: "1",
          image: "squirrel-bonus.png",
          size: { w: e.width, h: e.height },
        },
      };
      s.forEach((l) => {
        n.frames[l.name] = {
          frame: { x: l.x, y: l.y, w: l.width, h: l.height },
          rotated: !1,
          trimmed: !1,
          spriteSourceSize: { x: 0, y: 0, w: l.width, h: l.height },
          sourceSize: { w: l.width, h: l.height },
        };
      });
      const i = new Jo(e, n);
      return (
        await i.parse(),
        (this.forwardTextures = Object.keys(i.textures)
          .sort()
          .map((l) => i.textures[l])),
        (this.reverseTextures = [...this.forwardTextures].reverse()),
        console.log(
          "Bonus squirrel animation frames loaded:",
          this.forwardTextures.length
        ),
        (this.squirrel = new Ve(this.forwardTextures[0])),
        this.squirrel.anchor.set(0.5, 0.5),
        this.squirrel.scale.set(0.4),
        (this.squirrel.x = 0),
        (this.squirrel.y = -100),
        (this.squirrel.zIndex = -1),
        this.container.addChild(this.squirrel),
        console.log("🐿️ Bonus squirrel animation ready!"),
        this.squirrel
      );
    } catch (e) {
      console.warn("Failed to load bonus squirrel animation:", e),
        this.createFallbackAnimation();
    }
  }
  createFallbackAnimation() {
    console.log("Creating fallback bonus squirrel animation");
    try {
      const e = je.get("squirrel_bonus");
      (this.squirrel = new Ve(e)),
        this.squirrel.anchor.set(0.5, 0.5),
        this.squirrel.scale.set(0.4),
        (this.squirrel.x = 0),
        (this.squirrel.y = 0),
        (this.squirrel.alpha = 0.9),
        (this.squirrel.zIndex = -1),
        this.container.addChild(this.squirrel);
    } catch {
      console.warn("Even fallback failed, creating graphics squirrel"),
        this.createGraphicsSquirrel();
    }
  }
  createGraphicsSquirrel() {
    const e = new Be();
    e.circle(0, -10, 15),
      e.fill({ color: 9127187, alpha: 0.8 }),
      e.ellipse(0, 10, 12, 20),
      e.fill({ color: 9127187, alpha: 0.8 }),
      e.ellipse(-15, 5, 8, 25),
      e.fill({ color: 13789470, alpha: 0.7 }),
      (this.squirrel = e),
      (this.squirrel.x = 0),
      (this.squirrel.y = 0),
      (this.squirrel.alpha = 0.9),
      (this.squirrel.zIndex = -1),
      this.container.addChild(this.squirrel);
  }
  startAnimation() {
    this.isAnimating ||
      (console.log("Starting bonus squirrel animation with energy orbs"),
      (this.isAnimating = !0),
      (this.currentFrame = 0),
      (this.direction = 1),
      (this.frameCounter = 0),
      this.createEnergyOrbs(),
      this.startEnergyEmanation(),
      this.animate());
  }
  stopAnimation() {
    console.log("Stopping bonus squirrel animation and energy effects"),
      (this.isAnimating = !1),
      (this.isEmanatingEnergy = !1),
      (this.particleTickerRunning = !1),
      (this.animationTicker = null),
      (this.orbAnimationTicker = null),
      (this.particleEmanationTicker = null),
      this.destroyEnergyOrbs(),
      this.squirrel && this.forwardTextures.length > 0;
  }
  animate() {
    if (!this.isAnimating || !this.squirrel || !this.squirrel.parent) {
      this.animationTicker = null;
      return;
    }
    (this.animationTicker = dt.create((e) => {
      if (!this.isAnimating || !this.squirrel || !this.squirrel.parent) {
        this.animationTicker = null;
        return;
      }
      (this.frameCounter += e),
        this.forwardTextures.length > 1 &&
          this.frameCounter >= this.frameDelay &&
          ((this.frameCounter = 0),
          (this.currentFrame += this.direction),
          this.currentFrame >= this.forwardTextures.length - 1
            ? ((this.direction = -1),
              (this.currentFrame = this.forwardTextures.length - 1))
            : this.currentFrame <= 0 &&
              ((this.direction = 1), (this.currentFrame = 0)),
          this.direction === 1
            ? (this.squirrel.texture = this.forwardTextures[this.currentFrame])
            : (this.squirrel.texture =
                this.reverseTextures[
                  this.forwardTextures.length - 1 - this.currentFrame
                ]));
    }, 60)),
      this.runTicker(this.animationTicker);
  }
  createEnergyOrbs() {
    this.squirrel &&
      (console.log("Creating energy orbs on squirrel hands"),
      (this.leftEnergyOrb = this.createEnergyOrb(5025616)),
      (this.leftEnergyOrb.x = -25),
      (this.leftEnergyOrb.y = 5),
      this.squirrel.parent.addChild(this.leftEnergyOrb),
      (this.rightEnergyOrb = this.createEnergyOrb(2201331)),
      (this.rightEnergyOrb.x = 25),
      (this.rightEnergyOrb.y = 5),
      this.squirrel.parent.addChild(this.rightEnergyOrb),
      this.animateEnergyOrbs());
  }
  createEnergyOrb(e) {
    const t = new Ye(),
      s = new Be();
    s.circle(0, 0, 8), s.fill({ color: e, alpha: 0.8 }), t.addChild(s);
    const n = new Be();
    n.circle(0, 0, 12), n.fill({ color: e, alpha: 0.3 }), t.addChild(n);
    for (let i = 0; i < 3; i++) {
      const l = new Be();
      l.circle(0, 0, 15 + i * 5),
        l.stroke({ color: e, width: 1, alpha: 0.4 - i * 0.1 }),
        t.addChild(l);
    }
    return (t.coreOrb = s), (t.outerGlow = n), (t.energyColor = e), t;
  }
  animateEnergyOrbs() {
    if (!this.leftEnergyOrb || !this.rightEnergyOrb) return;
    let e = 0;
    (this.orbAnimationTicker = dt.create((t) => {
      if (!this.isAnimating || !this.leftEnergyOrb || !this.rightEnergyOrb) {
        this.orbAnimationTicker = null;
        return;
      }
      e += t;
      const s = Math.sin(e * 0.08) * 0.3 + 1,
        n = Math.sin(e * 0.08 + Math.PI) * 0.3 + 1;
      this.leftEnergyOrb.scale.set(s),
        (this.leftEnergyOrb.coreOrb.alpha = 0.6 + s * 0.2),
        (this.leftEnergyOrb.rotation += 0.02 * t),
        this.rightEnergyOrb.scale.set(n),
        (this.rightEnergyOrb.coreOrb.alpha = 0.6 + n * 0.2),
        (this.rightEnergyOrb.rotation -= 0.02 * t);
    }, 60)),
      this.runTicker(this.orbAnimationTicker);
  }
  startEnergyEmanation() {
    if (this.particleTickerRunning) return;
    console.log("Starting energy particle emanation to slot machine"),
      (this.isEmanatingEnergy = !0),
      (this.particleTickerRunning = !0);
    let e = 0;
    (this.particleEmanationTicker = dt.create((t) => {
      if (!this.isEmanatingEnergy || !this.squirrel || !this.squirrel.parent) {
        (this.particleTickerRunning = !1),
          (this.particleEmanationTicker = null);
        return;
      }
      (e += t),
        this.updateEnergyParticles(t),
        Math.floor(e) % 8 === 0 && this.createEnergyParticle("left"),
        Math.floor(e) % 8 === 4 && this.createEnergyParticle("right");
    }, 60)),
      this.runTicker(this.particleEmanationTicker);
  }
  createEnergyParticle(e) {
    if (!this.leftEnergyOrb || !this.rightEnergyOrb) return;
    const t = e === "left" ? this.leftEnergyOrb : this.rightEnergyOrb,
      s = t.energyColor;
    let n;
    try {
      const x = je.get("particle_gold_blur");
      if (x)
        (n = new Ve(x)),
          n.anchor.set(0.5),
          n.scale.set(0.06 + Math.random() * 0.04),
          (n.tint = s);
      else throw new Error("particle_gold_blur not found");
    } catch {
      (n = new Be()),
        n.circle(0, 0, 2 + Math.random()),
        n.fill({ color: s, alpha: 0.7 });
    }
    const i = t.getGlobalPosition(),
      l = this.container.getGlobalPosition();
    (n.x = i.x - l.x), (n.y = i.y - l.y), (n.alpha = 0.8), (n.zIndex = 5);
    const c = 0,
      d = -40,
      f = c - n.x,
      m = d - n.y,
      h = Math.sqrt(f * f + m * m),
      g = 2 + Math.random() * 1.5;
    (n.vx = (f / h) * g + (Math.random() - 0.5) * 0.5),
      (n.vy = (m / h) * g + (Math.random() - 0.5) * 0.5),
      (n.life = 60 + Math.random() * 30),
      (n.maxLife = n.life),
      (n.rotation = Math.random() * Math.PI * 2),
      (n.rotationSpeed = (Math.random() - 0.5) * 0.1),
      this.container.addChild(n),
      this.energyParticles.push(n);
  }
  updateEnergyParticles(e = 1) {
    for (let t = this.energyParticles.length - 1; t >= 0; t--) {
      const s = this.energyParticles[t];
      if (!s.parent) {
        this.energyParticles.splice(t, 1);
        continue;
      }
      (s.x += s.vx * e),
        (s.y += s.vy * e),
        (s.vy += 0.02 * e),
        (s.vx *= Math.pow(0.998, e)),
        (s.vy *= Math.pow(0.998, e)),
        (s.rotation += s.rotationSpeed * e),
        (s.life -= e);
      const n = s.life / s.maxLife;
      s.alpha = 0.8 * n;
      const i = 1 + Math.sin(s.life * 0.2) * 0.2,
        l = s.scale.x / i;
      s.scale.set(l * i),
        (s.life <= 0 || s.alpha <= 0.1) &&
          (this.container.removeChild(s), this.energyParticles.splice(t, 1));
    }
  }
  destroyEnergyOrbs() {
    console.log("Destroying energy orbs and particles"),
      this.leftEnergyOrb &&
        this.leftEnergyOrb.parent &&
        (this.leftEnergyOrb.parent.removeChild(this.leftEnergyOrb),
        this.leftEnergyOrb.destroy({ children: !0 }),
        (this.leftEnergyOrb = null)),
      this.rightEnergyOrb &&
        this.rightEnergyOrb.parent &&
        (this.rightEnergyOrb.parent.removeChild(this.rightEnergyOrb),
        this.rightEnergyOrb.destroy({ children: !0 }),
        (this.rightEnergyOrb = null)),
      this.energyParticles.forEach((e) => {
        e.parent && (e.parent.removeChild(e), e.destroy());
      }),
      (this.energyParticles = []);
  }
  destroy() {
    this.stopAnimation(),
      this.destroyEnergyOrbs(),
      this.squirrel &&
        this.squirrel.parent &&
        (this.squirrel.parent.removeChild(this.squirrel),
        this.squirrel.destroy()),
      (this.squirrel = null),
      (this.forwardTextures = []),
      (this.reverseTextures = []);
  }
  runTicker(e) {
    const t = () => {
      e && this.isAnimating && (e(1), requestAnimationFrame(t));
    };
    t();
  }
}
class KL {
  constructor(e) {
    (this.gameContainer = e),
      (this.squirrel = null),
      (this.currentFrame = 0),
      (this.direction = 1),
      (this.frameCounter = 0),
      (this.frameDelay = 1.1),
      (this.forwardTextures = []),
      (this.reverseTextures = []),
      (this.isAnimating = !1),
      (this.isVisible = !1),
      (this.targetY = 0),
      (this.startY = 0),
      (this.currentY = 0),
      (this.climbSpeed = 2),
      (this.isClimbing = !1),
      (this.isDescending = !1),
      (this.energyOrb = null),
      (this.multiplierText = null),
      (this.currentMultiplier = 1),
      (this.orbContainer = null),
      (this.glowParticles = []),
      (this.smokeParticles = []),
      (this.ORB_SCALE = 0.3),
      (this.ORB_OFFSET_X = 160),
      (this.ORB_OFFSET_Y = -60),
      (this.TEXT_OFFSET_Y = 0),
      (this.TEXT_SIZE = 64),
      (this.GLOW_PARTICLE_COUNT = 1),
      (this.GLOW_PARTICLE_DISTANCE = 0),
      (this.GLOW_PARTICLE_SCALE = 1.2),
      (this.GLOW_PARTICLE_SPEED = 0.03),
      (this.ORB_FLOAT_INTENSITY = 2),
      (this.ORB_FLOAT_SPEED = 0.03),
      (this.SMOKE_SPAWN_RATE = 5),
      (this.SMOKE_PARTICLE_COUNT_MAX = 5),
      (this.SMOKE_PARTICLE_SCALE = 0.1),
      (this.SMOKE_RISE_SPEED = 2.5),
      (this.SMOKE_SPREAD = 0),
      (this.SMOKE_LIFE = 80),
      (this.animationTicker = null),
      (this.orbAnimationTicker = null),
      (this.smokeEffectTicker = null);
  }
  async setup() {
    try {
      console.log("Setting up PowerSquirrelAnimation...");
      const e = je.get("squirrel_power").baseTexture,
        s = await (await fetch("/storage/squirrel-power.json")).json();
      console.log("Power squirrel JSON data loaded:", s.length, "frames");
      const n = {
        frames: {},
        meta: {
          scale: "1",
          image: "squirrel-power.png",
          size: { w: e.width, h: e.height },
        },
      };
      s.forEach((l) => {
        n.frames[l.name] = {
          frame: { x: l.x, y: l.y, w: l.width, h: l.height },
          rotated: !1,
          trimmed: !1,
          spriteSourceSize: { x: 0, y: 0, w: l.width, h: l.height },
          sourceSize: { w: l.width, h: l.height },
        };
      });
      const i = new Jo(e, n);
      return (
        await i.parse(),
        (this.forwardTextures = Object.keys(i.textures)
          .sort()
          .map((l) => i.textures[l])),
        (this.reverseTextures = [...this.forwardTextures].reverse()),
        console.log(
          "Power squirrel animation frames loaded:",
          this.forwardTextures.length
        ),
        (this.squirrel = new Ve(this.forwardTextures[0])),
        this.squirrel.anchor.set(0.5),
        this.squirrel.scale.set(0.4),
        (this.squirrel.zIndex = 2),
        (this.squirrel.visible = !0),
        (this.squirrel.x = -120),
        (this.startY = this.gameContainer.height + 100),
        (this.targetY = 150),
        (this.currentY = this.startY),
        (this.squirrel.y = this.currentY),
        this.gameContainer.addChild(this.squirrel),
        console.log(
          "🐿️ Power squirrel animation ready at position:",
          this.squirrel.x,
          this.squirrel.y
        ),
        console.log("🐿️ Target Y position:", this.targetY),
        console.log("🐿️ Start Y position:", this.startY),
        this.squirrel
      );
    } catch (e) {
      console.warn("Failed to load power squirrel animation:", e),
        this.createFallbackAnimation();
    }
  }
  createFallbackAnimation() {
    console.log("Creating fallback power squirrel animation");
    try {
      const e = je.get("squirrel_power");
      (this.squirrel = new Ve(e)),
        this.squirrel.anchor.set(0.5),
        this.squirrel.scale.set(0.8),
        (this.squirrel.x = -20),
        (this.squirrel.y = this.gameContainer.height + 100),
        (this.squirrel.zIndex = 15),
        (this.squirrel.visible = !1),
        this.gameContainer.addChild(this.squirrel);
    } catch {
      console.warn("Even fallback failed, creating graphics power squirrel"),
        this.createGraphicsSquirrel();
    }
  }
  createGraphicsSquirrel() {
    console.log("Creating graphics-based power squirrel");
    const e = new Be();
    e.circle(0, -15, 20),
      e.fill({ color: 9127187, alpha: 0.9 }),
      e.ellipse(0, 15, 18, 30),
      e.fill({ color: 9127187, alpha: 0.9 }),
      e.ellipse(-25, 8, 15, 35),
      e.fill({ color: 13789470, alpha: 0.8 }),
      e.circle(0, 0, 40),
      e.fill({ color: 16766720, alpha: 0.3 }),
      (this.squirrel = e),
      (this.squirrel.x = -120),
      (this.squirrel.y = this.gameContainer.height + 100),
      (this.squirrel.zIndex = 15),
      (this.squirrel.visible = !1),
      this.gameContainer.addChild(this.squirrel),
      console.log(
        "🐿️ Graphics power squirrel created at:",
        this.squirrel.x,
        this.squirrel.y
      );
  }
  startBonusClimb() {
    console.log(
      "🐿️ Power squirrel bonus climb triggered, but waiting for announcement to end..."
    );
  }
  appearAfterBonusAnnouncement() {
    if (!this.squirrel || this.isVisible) {
      console.log(
        "🐿️ Power squirrel cannot appear - squirrel:",
        !!this.squirrel,
        "isVisible:",
        this.isVisible
      );
      return;
    }
    console.log(
      "🐿️ Power squirrel appearing quickly after bonus announcement!"
    ),
      (this.isVisible = !0),
      (this.isClimbing = !0),
      (this.isAnimating = !0),
      (this.squirrel.visible = !0),
      (this.currentY = this.startY),
      (this.squirrel.y = this.currentY),
      (this.squirrel.alpha = 1),
      (this.currentFrame = 0),
      (this.direction = 1),
      (this.frameCounter = 0),
      this.createEnergyOrb(),
      this.animateQuickClimb(),
      this.animate();
  }
  animateQuickClimb() {
    console.log("🐿️ Starting quick climb animation");
    let e = 0;
    const t = 20,
      s = this.currentY,
      n = this.targetY,
      i = dt.create((l) => {
        e += l;
        const c = e / t,
          d = this.easeOutQuart(c);
        (this.currentY = s + (n - s) * d),
          (this.squirrel.y = this.currentY),
          e >= t &&
            ((this.isClimbing = !1),
            (this.currentY = n),
            (this.squirrel.y = n),
            console.log("🐿️ Quick climb completed at Y:", n),
            this.quickClimbTicker && (this.quickClimbTicker = null));
      }, 60);
    (this.quickClimbTicker = i), this.runTicker(i);
  }
  runTicker(e) {
    const t = () => {
      e && this.isAnimating && (e(1), requestAnimationFrame(t));
    };
    t();
  }
  createEnergyOrb() {
    if (this.squirrel) {
      console.log("🔮 Creating simplified energy orb with green_orb sprite"),
        (this.orbContainer = new Ye()),
        (this.orbContainer.x = this.ORB_OFFSET_X),
        (this.orbContainer.y = this.ORB_OFFSET_Y),
        (this.orbContainer.zIndex = 3),
        this.squirrel.addChild(this.orbContainer);
      try {
        const e = je.get("green_orb");
        if (e)
          (this.energyOrb = new Ve(e)),
            this.energyOrb.anchor.set(0.5),
            this.energyOrb.scale.set(this.ORB_SCALE),
            this.orbContainer.addChild(this.energyOrb),
            console.log("🔮 Green orb sprite loaded successfully");
        else throw new Error("green_orb texture not found");
      } catch {
        console.warn("green_orb not found, creating fallback"),
          this.createFallbackOrb();
      }
      this.createGlowParticles(),
        this.createMultiplierText(),
        this.animateEnergyOrb();
    }
  }
  createFallbackOrb() {
    (this.energyOrb = new Be()),
      this.energyOrb.circle(0, 0, 20 * this.ORB_SCALE),
      this.energyOrb.fill({ color: 5025616, alpha: 0.2 }),
      this.orbContainer.addChild(this.energyOrb);
  }
  createGlowParticles() {
    console.log("🌟 Creating glow particles around orb");
    for (let e = 0; e < this.GLOW_PARTICLE_COUNT; e++) {
      let t;
      try {
        const n = je.get("particle_sun_blur");
        if (n)
          (t = new Ve(n)),
            t.anchor.set(0.5),
            t.scale.set(this.GLOW_PARTICLE_SCALE),
            (t.tint = 5025616);
        else throw new Error("particle_sun_blur not found");
      } catch {
        (t = new Be()),
          t.circle(0, 0, 3),
          t.fill({ color: 5025616, alpha: 0.7 });
      }
      const s = (e / this.GLOW_PARTICLE_COUNT) * Math.PI * 2;
      (t.x = Math.cos(s) * this.GLOW_PARTICLE_DISTANCE),
        (t.y = Math.sin(s) * this.GLOW_PARTICLE_DISTANCE),
        (t.alpha = 0.7),
        this.orbContainer.addChild(t),
        this.glowParticles.push({
          sprite: t,
          baseAngle: s,
          baseAlpha: 0.7,
          rotationSpeed: this.GLOW_PARTICLE_SPEED + Math.random() * 0.01,
          pulseSpeed: 0.05 + Math.random() * 0.03,
          pulseOffset: Math.random() * Math.PI * 2,
        });
    }
    console.log(`🌟 Created ${this.GLOW_PARTICLE_COUNT} glow particles`);
  }
  createMultiplierText() {
    if (this.orbContainer) {
      this.updateMultiplierValue(),
        console.log(
          "🔮 Creating multiplier text with current value:",
          this.currentMultiplier
        );
      try {
        (this.multiplierText = new Mm({
          text: `x${this.currentMultiplier}`,
          style: {
            fontFamily: "weizhenfont",
            fontSize: this.TEXT_SIZE,
            align: "center",
          },
        })),
          console.log("🔮 Using weizhen bitmap font for multiplier text");
      } catch (e) {
        console.warn(
          "Bitmap font creation failed, using regular text:",
          e.message
        ),
          (this.multiplierText = new Fr(`x${this.currentMultiplier}`, {
            fontSize: this.TEXT_SIZE,
            fill: "#66BB6A",
            fontWeight: "bold",
            stroke: "#000000",
            strokeThickness: 3,
            align: "center",
          }));
      }
      this.multiplierText.anchor.set(0.5),
        (this.multiplierText.x = 0),
        (this.multiplierText.y = this.TEXT_OFFSET_Y),
        (this.multiplierText.zIndex = 5),
        (this.multiplierText.tint = 6732650),
        this.orbContainer.addChild(this.multiplierText),
        console.log(
          "🔮 Created multiplier text with current value:",
          `x${this.currentMultiplier}`
        );
    }
  }
  updateMultiplierValue() {
    if (window.currentBonusMultiplier && window.currentBonusMultiplier > 1) {
      (this.currentMultiplier = window.currentBonusMultiplier),
        console.log(
          "🔮 Using global bonus multiplier:",
          this.currentMultiplier
        );
      return;
    }
    try {
      const e = this.gameContainer;
      if (e && e.parent) {
        const t = e.parent;
        if (t._gameAudioManager && t.stage) {
          const s = t.stage.children.filter(
            (n) => n.constructor.name === "Container" && n.children.length > 0
          );
          if (window.currentBonusMultiplier) {
            (this.currentMultiplier = window.currentBonusMultiplier),
              console.log(
                "🔮 Using global bonus multiplier from context:",
                this.currentMultiplier
              );
            return;
          }
        }
      }
    } catch {
      console.warn(
        "Could not access multiplier context, checking global again"
      );
    }
    if (window.currentBonusMultiplier) {
      (this.currentMultiplier = window.currentBonusMultiplier),
        console.log(
          "🔮 Using global bonus multiplier as fallback:",
          this.currentMultiplier
        );
      return;
    }
    console.warn("🔮 No bonus multiplier found, using default of 2"),
      (this.currentMultiplier = 2);
  }
  setMultiplier(e) {
    e && e > 1
      ? (console.log("🔮 PowerSquirrel setMultiplier called with:", e),
        console.log("🔮 Previous multiplier was:", this.currentMultiplier),
        (this.currentMultiplier = e),
        this.multiplierText && this.multiplierText.parent
          ? ((this.multiplierText.text = `x${this.currentMultiplier}`),
            (this.multiplierText.tint = 6732650),
            console.log(
              "🔮 Updated multiplier text to:",
              `x${this.currentMultiplier}`
            ),
            this.createMultiplierFlash())
          : console.warn(
              "🔮 Multiplier text not available for update - text exists:",
              !!this.multiplierText,
              "has parent:",
              !!this.multiplierText?.parent
            ))
      : console.warn("🔮 Invalid multiplier provided:", e);
  }
  createMultiplierFlash() {
    if (!this.multiplierText) return;
    const e = this.multiplierText.scale.x,
      t = 6732650;
    let s = 0;
    const n = 20,
      i = dt.create((l) => {
        if (!this.multiplierText || !this.multiplierText.parent) return;
        s += l;
        const c = s / n,
          d = e + Math.sin(c * Math.PI * 4) * 0.3;
        this.multiplierText.scale.set(d);
        const f = Math.sin(c * Math.PI * 6) * 0.5 + 0.5;
        (this.multiplierText.tint = f > 0.5 ? 10868391 : t),
          s >= n &&
            this.multiplierText &&
            this.multiplierText.parent &&
            (this.multiplierText.scale.set(e), (this.multiplierText.tint = t));
      }, 60);
    this.runTicker(i);
  }
  createSmokeEffect() {
    if (!this.orbContainer) return;
    console.log("🌿 Starting green smoke effect from orb");
    let e = 0;
    (this.smokeEffectTicker = dt.create((t) => {
      if (
        !this.isAnimating ||
        !this.orbContainer ||
        !this.orbContainer.parent
      ) {
        this.smokeParticles.forEach((s) => {
          s.sprite &&
            s.sprite.parent &&
            (s.sprite.parent.removeChild(s.sprite), s.sprite.destroy());
        }),
          (this.smokeParticles = []),
          (this.smokeEffectTicker = null);
        return;
      }
      (e += t),
        Math.floor(e) % this.SMOKE_SPAWN_RATE === 0 &&
          this.smokeParticles.length < this.SMOKE_PARTICLE_COUNT_MAX &&
          this.createSmokeParticle(),
        this.updateSmokeParticles(t);
    }, 60)),
      this.runTicker(this.smokeEffectTicker);
  }
  createSmokeParticle() {
    let e;
    try {
      const c = je.get("particle_sun_blur");
      if (c)
        (e = new Ve(c)),
          e.anchor.set(0.5),
          e.scale.set(this.SMOKE_PARTICLE_SCALE + Math.random() * 0.2),
          (e.tint = 5025616),
          (e.alpha = 0.4 + Math.random() * 0.3);
      else throw new Error("particle_sun_blur not found");
    } catch {
      (e = new Be()),
        e.circle(0, 0, 3 + Math.random() * 4),
        e.fill({ color: 5025616, alpha: 0.5 });
    }
    const t = 10,
      s = Math.random() * Math.PI * 2;
    (e.x = Math.cos(s) * t * Math.random()),
      (e.y = Math.sin(s) * t * Math.random());
    const n = Math.PI * 1.5 + (Math.random() - 0.5) * 0.8,
      i = this.SMOKE_RISE_SPEED + Math.random() * 0.8;
    this.orbContainer.addChild(e);
    const l = {
      sprite: e,
      vx: Math.cos(n) * i * 0.3,
      vy: Math.sin(n) * i,
      life: this.SMOKE_LIFE + Math.random() * 20,
      maxLife: this.SMOKE_LIFE + Math.random() * 20,
      initialAlpha: e.alpha,
      initialScale: e.scale.x,
      rotation: Math.random() * Math.PI * 2,
      rotationSpeed: (Math.random() - 0.5) * 0.05,
    };
    this.smokeParticles.push(l);
  }
  updateSmokeParticles(e = 1) {
    for (let t = this.smokeParticles.length - 1; t >= 0; t--) {
      const s = this.smokeParticles[t],
        n = s.sprite;
      if (!n || !n.parent) {
        this.smokeParticles.splice(t, 1);
        continue;
      }
      (n.x += s.vx * e),
        (n.y += s.vy * e),
        (s.vx += (Math.random() - 0.5) * 0.02 * e),
        (s.vy *= Math.pow(0.995, e)),
        (n.rotation = s.rotation),
        (s.rotation += s.rotationSpeed * e),
        (s.life -= e);
      const i = s.life / s.maxLife;
      n.alpha = s.initialAlpha * i;
      const l = 1 + (1 - i) * 0.5;
      n.scale.set(s.initialScale * l),
        (s.life <= 0 || n.alpha <= 0.02) &&
          (n.parent.removeChild(n),
          n.destroy(),
          this.smokeParticles.splice(t, 1));
    }
  }
  animateEnergyOrb() {
    if (!this.energyOrb || !this.orbContainer) return;
    this.createSmokeEffect();
    let e = 0;
    (this.orbAnimationTicker = dt.create((t) => {
      if (!this.isAnimating || !this.energyOrb || !this.orbContainer.parent) {
        this.orbAnimationTicker = null;
        return;
      }
      if (((e += t), this.energyOrb.texture)) {
        const n = Math.sin(e * 0.06) * 0.1 + 1;
        this.energyOrb.scale.set(this.ORB_SCALE * n),
          (this.energyOrb.rotation += 0.01 * t);
      } else {
        const n = Math.sin(e * 0.06) * 0.2 + 0.8;
        this.energyOrb.alpha = n;
      }
      const s = Math.sin(e * this.ORB_FLOAT_SPEED) * this.ORB_FLOAT_INTENSITY;
      if (
        (Math.cos(e * this.ORB_FLOAT_SPEED * 0.7) *
          (this.ORB_FLOAT_INTENSITY * 0.5),
        (this.orbContainer.y = this.ORB_OFFSET_Y + s),
        this.multiplierText && this.multiplierText.parent)
      ) {
        const n = Math.sin(e * 0.04 + Math.PI / 2) * 2;
        this.multiplierText.y = this.TEXT_OFFSET_Y + n;
        const i = 1 + Math.sin(e * 0.06) * 0.05;
        this.multiplierText.scale.set(i);
      }
    }, 60)),
      this.runTicker(this.orbAnimationTicker);
  }
  destroyEnergyOrb() {
    console.log("🔮 Destroying energy orb and effects"),
      (this.glowParticles = []),
      this.smokeParticles.forEach((e) => {
        e.sprite &&
          e.sprite.parent &&
          (e.sprite.parent.removeChild(e.sprite), e.sprite.destroy());
      }),
      (this.smokeParticles = []),
      this.orbContainer &&
        this.orbContainer.parent &&
        (this.orbContainer.parent.removeChild(this.orbContainer),
        this.orbContainer.destroy({ children: !0 })),
      (this.orbContainer = null),
      (this.energyOrb = null),
      (this.multiplierText = null);
  }
  stayFixedUntilGameEnd() {
    !this.squirrel ||
      !this.isVisible ||
      (console.log("🐿️ Power squirrel staying fixed until game ends"),
      (this.isClimbing = !1),
      (this.isDescending = !1));
  }
  leaveAtGameEnd() {
    !this.squirrel ||
      !this.isVisible ||
      (console.log("🐿️ Power squirrel leaving at game end!"),
      (this.isClimbing = !1),
      (this.isDescending = !0));
  }
  stopBonusClimb() {
    console.log(
      "🐿️ Power squirrel ignoring bonus stop - staying until game ends"
    );
  }
  setFixedY(e) {
    this.squirrel &&
      ((this.targetY = e), this.isVisible && (this.squirrel.y = e));
  }
  animate() {
    if (!this.isAnimating || !this.squirrel || !this.squirrel.parent) {
      console.log(
        "🐿️ Power squirrel animation stopped - animating:",
        this.isAnimating,
        "squirrel:",
        !!this.squirrel,
        "parent:",
        !!this.squirrel?.parent
      ),
        (this.animationTicker = null);
      return;
    }
    (this.animationTicker = dt.create((e) => {
      if (!this.isAnimating || !this.squirrel || !this.squirrel.parent) {
        this.animationTicker = null;
        return;
      }
      if (
        ((this.frameCounter += e),
        this.forwardTextures.length > 1 &&
          this.frameCounter >= this.frameDelay &&
          ((this.frameCounter = 0),
          (this.currentFrame += this.direction),
          this.currentFrame >= this.forwardTextures.length - 1
            ? ((this.direction = -1),
              (this.currentFrame = this.forwardTextures.length - 1))
            : this.currentFrame <= 0 &&
              ((this.direction = 1), (this.currentFrame = 0)),
          this.direction === 1
            ? (this.squirrel.texture = this.forwardTextures[this.currentFrame])
            : (this.squirrel.texture =
                this.reverseTextures[
                  this.forwardTextures.length - 1 - this.currentFrame
                ])),
        this.isVisible)
      ) {
        const t = Date.now() * 0.001,
          s = Math.sin(t) * 2;
        this.squirrel.y = this.targetY + s;
        const n = Math.sin(t) * 2;
        this.squirrel.x = 77 + n;
      }
    }, 60)),
      this.runTicker(this.animationTicker);
  }
  updatePosition(e) {
    this.squirrel &&
      ((this.startY = e + 100),
      this.isVisible ||
        ((this.currentY = this.startY), (this.squirrel.y = this.currentY)));
  }
  isSquirrelVisible() {
    return this.isVisible;
  }
  destroy() {
    console.log("Destroying PowerSquirrelAnimation"),
      (this.isAnimating = !1),
      (this.isVisible = !1),
      (this.isClimbing = !1),
      (this.isDescending = !1),
      (this.animationTicker = null),
      (this.orbAnimationTicker = null),
      (this.smokeEffectTicker = null),
      (this.quickClimbTicker = null),
      this.destroyEnergyOrb(),
      this.squirrel &&
        this.squirrel.parent &&
        (this.squirrel.parent.removeChild(this.squirrel),
        this.squirrel.destroy()),
      (this.squirrel = null),
      (this.forwardTextures = []),
      (this.reverseTextures = []);
  }
  launchMultiplierToPrize(e, t) {
    return !this.orbContainer || !this.multiplierText
      ? (console.warn(
          "🔮 Cannot launch multiplier - orb or text not available"
        ),
        Promise.resolve())
      : new Promise((s) => {
          console.log(`🔮 Launching multiplier x${t} from orb to flyingText`);
          const n = this.orbContainer.getGlobalPosition(),
            i = n.x,
            l = n.y;
          e.x, e.y;
          const c = this.createFlyingMultiplier(t);
          (c.x = i),
            (c.y = l),
            (c.alpha = 0),
            c.scale.set(0.5),
            (c.zIndex = 20),
            this.orbContainer.parent.parent.addChild(c);
          const d = [];
          let f = 0;
          const m = 40,
            h = dt.create((g) => {
              f += g;
              const x = f / m;
              if ((this.easeInOutCubic(x), x <= 0.15)) {
                const v = x / 0.15;
                (c.alpha = v), c.scale.set(0.5 + v * 0.3);
                const w = v * 30;
                (c.x = i + w), (c.y = l - w * 0.5);
              } else {
                const v = (x - 0.15) / 0.85,
                  w = this.easeInOutCubic(v),
                  _ = e.x,
                  S = e.y,
                  T = -60,
                  j = Math.sin(w * Math.PI);
                (c.x = i + 30 + (_ - i - 30) * w),
                  (c.y = l - 15 + (S - l + 15) * w + T * j);
                const E = 1 + Math.sin(f * 0.4) * 0.08;
                c.scale.set(0.8 * E), (c.rotation = Math.sin(f * 0.3) * 0.08);
              }
              Math.floor(f) % 3 === 0 &&
                x > 0.1 &&
                this.createSmokeTrailParticle(c.x, c.y, d),
                this.updateSmokeTrail(d, g),
                f >= m &&
                  (this.createMultiplierImpact(e.x, e.y, t),
                  this.applyMultiplierToFlyingText(e, t),
                  c.parent && (c.parent.removeChild(c), c.destroy()),
                  this.cleanupSmokeTrail(d),
                  s());
            }, 60);
          this.runTicker(h);
        });
  }
  applyMultiplierToFlyingText(e, t) {
    console.log("🔮 Applying multiplier directly to flying text:", e.text);
    const s = e.text,
      n = s.match(/[\d,]+[\.,]\d{2}/);
    if (n) {
      const i = parseFloat(n[0].replace(",", ".")),
        l = i * t;
      console.log("🔮 Multiplying flying text value:", i, "x", t, "=", l);
      const c = (m) =>
          `R$ ${parseFloat(m || 0)
            .toFixed(2)
            .replace(".", ",")}`,
        f = s.includes("+") ? `+${c(l)}` : c(l);
      (e.text = f),
        (e.tint = 16739125),
        console.log("🔮 Flying text updated to:", f),
        this.createPrizeTextFlash(e);
    } else console.warn("🔮 Could not extract value from flying text:", s);
  }
  createPrizeTextFlash(e) {
    if (!e || !e.parent) {
      console.warn(
        "🔮 Cannot create prize text flash - prizeText is null or destroyed"
      );
      return;
    }
    const t = e.scale.x;
    let s = 0;
    const n = 15,
      i = dt.create((l) => {
        if (!e || !e.parent) return;
        s += l;
        const c = s / n,
          d = t * (1 + Math.sin(c * Math.PI * 3) * 0.2);
        e.scale.set(d), s >= n && e && e.parent && e.scale.set(t);
      }, 60);
    this.runTicker(i);
  }
  createFlyingMultiplier(e) {
    let t;
    try {
      t = new Mm({
        text: `x${e}`,
        style: { fontFamily: "weizhenfont", fontSize: 48, align: "center" },
      });
    } catch {
      t = new Fr(`x${e}`, {
        fontSize: 48,
        fill: "#66BB6A",
        fontWeight: "bold",
        stroke: "#000000",
        strokeThickness: 3,
        align: "center",
      });
    }
    return t.anchor.set(0.5), (t.tint = 6732650), t;
  }
  createSmokeTrailParticle(e, t, s) {
    let n;
    try {
      const c = je.get("particle_sun_blur");
      if (c)
        (n = new Ve(c)),
          n.anchor.set(0.5),
          n.scale.set(0.08 + Math.random() * 0.04),
          (n.tint = 5025616),
          (n.alpha = 0.5 + Math.random() * 0.3);
      else throw new Error("particle_sun_blur not found");
    } catch {
      (n = new Be()),
        n.circle(0, 0, 2 + Math.random() * 2),
        n.fill({ color: 5025616, alpha: 0.6 });
    }
    (n.x = e + (Math.random() - 0.5) * 10),
      (n.y = t + (Math.random() - 0.5) * 10),
      (n.life = 30 + Math.random() * 20),
      (n.maxLife = n.life),
      (n.initialAlpha = n.alpha),
      (n.initialScale = n.scale.x),
      (n.rotation = Math.random() * Math.PI * 2),
      (n.rotationSpeed = (Math.random() - 0.5) * 0.05);
    const i = Math.random() * Math.PI * 2,
      l = 0.5 + Math.random() * 0.5;
    (n.vx = Math.cos(i) * l),
      (n.vy = Math.sin(i) * l),
      this.orbContainer.parent.parent.addChild(n),
      s.push(n);
  }
  updateSmokeTrail(e, t = 1) {
    for (let s = e.length - 1; s >= 0; s--) {
      const n = e[s];
      if (!n.parent) {
        e.splice(s, 1);
        continue;
      }
      (n.x += n.vx * t),
        (n.y += n.vy * t),
        (n.vx *= Math.pow(0.98, t)),
        (n.vy *= Math.pow(0.98, t)),
        (n.rotation += n.rotationSpeed * t),
        (n.life -= t);
      const i = n.life / n.maxLife;
      n.alpha = n.initialAlpha * i;
      const l = 1 + (1 - i) * 0.3;
      n.scale.set(n.initialScale * l),
        (n.life <= 0 || n.alpha <= 0.02) &&
          (n.parent.removeChild(n), n.destroy(), e.splice(s, 1));
    }
  }
  cleanupSmokeTrail(e) {
    e.forEach((t) => {
      t.parent && (t.parent.removeChild(t), t.destroy());
    }),
      (e.length = 0);
  }
  createMultiplierImpact(e, t, s) {
    console.log(`🔮 Creating multiplier impact effect at (${e}, ${t})`);
    const n = new Ye();
    (n.x = e),
      (n.y = t),
      (n.zIndex = 21),
      this.orbContainer.parent.parent.addChild(n);
    const i = new Be();
    i.circle(0, 0, 20), i.fill({ color: 6732650, alpha: 0.8 }), n.addChild(i);
    const l = new Be();
    l.circle(0, 0, 15),
      l.stroke({ color: 5025616, width: 2, alpha: 0.8 }),
      n.addChild(l);
    for (let m = 0; m < 6; m++) {
      let h;
      try {
        const v = je.get("particle_sun_blur");
        if (v)
          (h = new Ve(v)),
            h.anchor.set(0.5),
            h.scale.set(0.1 + Math.random() * 0.05),
            (h.tint = 5025616);
        else throw new Error("particle_sun_blur not found");
      } catch {
        (h = new Be()),
          h.circle(0, 0, 2 + Math.random()),
          h.fill({ color: 5025616, alpha: 0.7 });
      }
      const g = (Math.PI * 2 * m) / 6,
        x = 3 + Math.random() * 3;
      (h.vx = Math.cos(g) * x),
        (h.vy = Math.sin(g) * x),
        (h.life = 20),
        (h.decay = 0.05),
        (h.rotation = g),
        n.addChild(h);
    }
    let c = 0;
    const d = 25,
      f = dt.create((m) => {
        c += m;
        const h = c / d;
        (i.alpha = 0.8 * (1 - h)),
          i.scale.set(1 + h * 1.5),
          l.scale.set(1 + h * 2),
          (l.alpha = 0.8 * (1 - h)),
          n.children.forEach((g, x) => {
            x > 1 &&
              g.vx !== void 0 &&
              ((g.x += g.vx * m),
              (g.y += g.vy * m),
              (g.vx *= Math.pow(0.95, m)),
              (g.vy *= Math.pow(0.95, m)),
              (g.alpha -= g.decay * m),
              (g.rotation += 0.1 * m),
              (g.life -= m));
          }),
          c >= d &&
            n.parent &&
            (n.parent.removeChild(n), n.destroy({ children: !0 }));
      }, 60);
    this.runTicker(f);
  }
  easeInOutCubic(e) {
    return e < 0.5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1;
  }
}
const Vp = (r) =>
  `R$ ${parseFloat(r || 0)
    .toFixed(2)
    .replace(".", ",")}`;
class QL {
  constructor(e, t, s, n) {
    (this.app = e),
      (this.gameContainer = t),
      (this.resizeManager = s),
      (this.animationManager = n),
      (this.uiElements = {}),
      (this.chests = []),
      (this.prizeSprites = new Map()),
      (this.totalWinnings = 0),
      (this.gameData = null),
      (this.gridCols = 3),
      (this.gridRows = 3),
      (this.currentChestSize = 90),
      (this.currentChestPadding = 20),
      (this.currentOffsetX = 0),
      (this.currentOffsetY = -50),
      (this.currentSlotSpacingX = 142),
      (this.currentSlotSpacingY = 120),
      (this.onChestClick = null),
      (this.onCashOut = null),
      (this.bonusMultiplier = null),
      (this.showBonusAnnouncement = !1),
      (this.bonusEffectTriggered = !1),
      (this.displayBonusMultiplier = null),
      (this.activeBonusGlows = new Set()),
      (this.powerSquirrelAnimation = null);
  }
  async initialize(e) {
    console.log("=== INITIALIZING UI MANAGER ==="),
      console.log("App available:", !!this.app),
      console.log("App stage available:", !!this.app?.stage),
      console.log("Game container available:", !!this.gameContainer),
      (this.gameData = e),
      this.createBackground(),
      this.createHeader(),
      this.createChestsArea(),
      this.createChests(),
      this.createCashOutButton(),
      console.log("Creating bonus announcement..."),
      this.createBonusAnnouncement(),
      console.log(
        "Bonus announcement created, elements:",
        Object.keys(this.uiElements)
      ),
      console.log("Setting up power squirrel animation..."),
      (this.powerSquirrelAnimation = new KL(this.gameContainer)),
      await this.powerSquirrelAnimation.setup(),
      this.setupResponsiveHandlers(),
      (this.onChestExplode = null);
  }
  createBackground() {
    const e = Ve.from(je.get("gamebg"));
    e.anchor.set(0.5),
      (e.zIndex = 0),
      this.gameContainer.addChild(e),
      (this.uiElements.bg = e);
  }
  createHeader() {
    const e = new Ye();
    (e.zIndex = 10),
      this.gameContainer.addChild(e),
      (this.uiElements.headerContainer = e);
    const t = Ve.from(je.get("win_modal"));
    t.anchor.set(0.5),
      t.scale.set(1),
      e.addChild(t),
      (this.uiElements.winModalBg = t);
    const s = this.createBitmapTextWithFallback(
      `${Vp(this.totalWinnings).replace("R$", "BRL")}`,
      32
    );
    s.anchor.set(0.5, 0), e.addChild(s), (this.uiElements.winningsText = s);
  }
  createChestsArea() {
    const e = new Ye();
    (e.zIndex = 5),
      (e.sortableChildren = !0),
      this.gameContainer.addChild(e),
      (this.uiElements.chestsContainer = e);
    const t = Ve.from(je.get("chestgrid"));
    t.anchor.set(0.5),
      (t.alpha = 1),
      (t.zIndex = -1),
      e.addChild(t),
      (this.uiElements.chestGridBg = t);
  }
  createChests() {
    const e = this.getPrizeTextures();
    for (let t = 0; t < 9; t++) {
      const s = new Ve(e.chest);
      s.width = s.height = this.currentChestSize;
      const n = t % this.gridCols,
        i = Math.floor(t / this.gridCols);
      (s.x =
        n * this.currentSlotSpacingX +
        this.currentOffsetX -
        32 +
        this.currentChestSize / 2),
        (s.y =
          i * this.currentSlotSpacingY +
          this.currentOffsetY +
          this.currentChestSize / 2 +
          32),
        (s.interactive = !0),
        (s.buttonMode = !0),
        (s.chestIndex = t),
        (s.isOpen = !1),
        s.anchor.set(0.5),
        this.setupChestInteractions(s),
        this.uiElements.chestsContainer.addChild(s),
        this.chests.push(s);
    }
  }
  setupChestInteractions(e) {
    e.on("pointerover", () => {
      !e.isOpen &&
        this.isGameActive() &&
        e.interactive &&
        ((e.tint = 14540253),
        this.animationManager.createHoverParticles(e.x, e.y));
    }),
      e.on("pointerout", () => {
        !e.isOpen &&
          this.isGameActive() &&
          e.interactive &&
          (e.tint = 16777215);
      }),
      e.on("pointerdown", () => {
        this.onChestClick && e.interactive && !e.isOpen
          ? (console.log("Chest clicked:", e.chestIndex), this.onChestClick(e))
          : console.log(
              "Chest click ignored - interactive:",
              e.interactive,
              "isOpen:",
              e.isOpen
            );
      });
  }
  createCashOutButton() {
    const e = new Ve(je.get("btn_receive"));
    e.anchor.set(0.5),
      (e.tint = 16777215),
      (e.buttonMode = !0),
      (e.roundPixels = !0),
      (e.texture.baseTexture.scaleMode = "nearest"),
      (e.interactive = !1),
      (e.visible = !1),
      (e.zIndex = 10),
      e.on("pointerdown", () => {
        this.onCashOut && this.onCashOut();
      }),
      this.gameContainer.addChild(e),
      (this.uiElements.cashOutButton = e);
  }
  createBonusAnnouncement() {
    console.log("=== CREATING BONUS ANNOUNCEMENT ==="),
      console.log("App:", !!this.app),
      console.log("App stage:", !!this.app?.stage),
      console.log(
        "Screen dimensions:",
        this.app?.screen?.width,
        "x",
        this.app?.screen?.height
      ),
      this.uiElements.bonusOverlay &&
        (console.log("Removing existing bonus overlay..."),
        this.uiElements.bonusOverlay.parent &&
          this.uiElements.bonusOverlay.parent.removeChild(
            this.uiElements.bonusOverlay
          ),
        this.uiElements.bonusOverlay.destroy({ children: !0 }));
    const e = new Ye();
    (e.name = "bonusOverlay"),
      (e.zIndex = 1e3),
      (e.visible = !1),
      (e.interactive = !0),
      (e.interactiveChildren = !0),
      console.log("Created bonus overlay container");
    const t = this.app.screen.width || 800,
      s = this.app.screen.height || 600,
      n = new Be();
    n.rect(0, 0, t, s),
      n.fill({ color: 0, alpha: 0.6 }),
      (n.interactive = !0),
      (n.zIndex = 1),
      e.addChild(n),
      console.log("Created bonus background:", t, "x", s);
    const i = new Ye();
    (i.x = t / 2),
      (i.y = s / 2),
      (i.zIndex = 2),
      (this.uiElements.bonusContent = i),
      e.addChild(i),
      console.log("Created bonus content at:", i.x, i.y);
    const l = this.createBitmapTextWithFallback("BONUS ATIVADO!", 112);
    l.anchor.set(0.5),
      (l.y = 80),
      (l.tint = 16766720),
      (l.maxWidth = Math.min(t * 0.9, 400 * 1.2)),
      i.addChild(l),
      console.log("Created bonus title");
    try {
      const v = Ve.from("/storage/bonus.png");
      v.anchor.set(0.5), (v.y = -150 * 1.2);
      const w = Math.min(t * 0.7 * 1.2, 220 * 1.2),
        _ = Math.min(w / v.texture.width, 1.2 * 1.2);
      v.scale.set(_),
        i.addChild(v),
        (this.uiElements.bonusImage = v),
        console.log("Bonus image loaded successfully");
    } catch {
      console.warn("Bonus image not found, using text fallback");
      const w = this.createBitmapTextWithFallback("BÔNUS!", 64 * 1.2);
      w.anchor.set(0.5),
        (w.y = -150 * 1.2),
        (w.tint = 16766720),
        i.addChild(w),
        (this.uiElements.bonusImage = w);
    }
    const c = new Ye();
    (c.y = -40 * 1.2), i.addChild(c);
    const d = new Ye();
    (d.zIndex = -1), c.addChild(d), this.createBonusSquirrel(d);
    const f = new Be();
    f.roundRect(-120 * 1.2, -40 * 1.2, 240 * 1.2, 80 * 1.2, 20 * 1.2),
      f.fill({ color: 1710618, alpha: 1 }),
      f.stroke({ color: 16766720, width: 4 * 1.2 }),
      (f.zIndex = 1),
      c.addChild(f);
    const m = new Be();
    m.roundRect(-110 * 1.2, -35 * 1.2, 220 * 1.2, 70 * 1.2, 15 * 1.2),
      m.fill(16777215),
      (m.zIndex = 2),
      c.addChild(m);
    const h = new Ye();
    (h.mask = m),
      (h.zIndex = 3),
      c.addChild(h),
      console.log("Created slot machine components");
    const g = [
        "x2",
        "x3",
        "x5",
        "x8",
        "x10",
        "x15",
        "x20",
        "x25",
        "x30",
        "x50",
      ],
      x = [];
    for (let v = 0; v < 4; v++)
      g.forEach((w, _) => {
        const S = this.createBitmapTextWithFallback(w, 57.599999999999994);
        S.anchor.set(0.5),
          (S.y = (v * g.length + _) * 80 * 1.2 - 800 * 1.2),
          (S.tint = 16766720),
          h.addChild(S),
          x.push(S);
      });
    console.log("Created", x.length, "reel items"),
      (this.uiElements.bonusOverlay = e),
      (this.uiElements.bonusBackground = n),
      (this.uiElements.bonusContent = i),
      (this.uiElements.slotContainer = c),
      (this.uiElements.squirrelContainer = d),
      (this.uiElements.slotReel = h),
      (this.uiElements.reelItems = x),
      (this.uiElements.bonusTitle = l),
      console.log("Adding bonus overlay to app stage..."),
      this.app.stage.addChild(e),
      this.app.stage.sortChildren(),
      console.log("=== BONUS ANNOUNCEMENT CREATION COMPLETE ==="),
      console.log(
        "Bonus overlay in stage:",
        this.app.stage.children.includes(e)
      ),
      console.log("Stage children count:", this.app.stage.children.length),
      console.log("Bonus overlay zIndex:", e.zIndex);
  }
  createBonusSquirrel(e) {
    console.log("Creating bonus squirrel animation"),
      (this.bonusSquirrelAnimation = new YL(e)),
      this.bonusSquirrelAnimation
        .setup()
        .then((t) => {
          if (((this.uiElements.bonusSquirrel = t), t && t.texture)) {
            const s = Math.min(this.app.screen.width * 0.7 * 1.2, 264),
              n = Math.min(s / t.texture.width, 0.5 * 1.2);
            t.scale.set(n), (t.x = 0);
          }
          t &&
            ((t.startAnimation = () => {
              this.bonusSquirrelAnimation.startAnimation();
            }),
            (t.stopAnimation = () => {
              this.bonusSquirrelAnimation.stopAnimation();
            })),
            console.log("Bonus squirrel animation setup complete");
        })
        .catch((t) => {
          console.warn("Failed to setup bonus squirrel animation:", t),
            this.createFallbackSquirrel(e);
        });
  }
  setupSimpleSquirrelAnimation(e) {
    console.log("Using BonusSquirrelAnimation instead of simple animation");
  }
  setupFrameAnimation(e, t) {
    console.log("Using BonusSquirrelAnimation instead of frame animation");
  }
  async loadSquirrelAnimation(e) {
    console.log("Using BonusSquirrelAnimation instead of manual loading");
  }
  createFallbackSquirrel(e) {
    console.log("Creating fallback squirrel");
    const t = new Be();
    t.circle(0, -10 * 1.2, 15 * 1.2),
      t.fill({ color: 9127187, alpha: 0.8 }),
      t.ellipse(0, 10 * 1.2, 12 * 1.2, 20 * 1.2),
      t.fill({ color: 9127187, alpha: 0.8 }),
      t.ellipse(-15 * 1.2, 5 * 1.2, 8 * 1.2, 25 * 1.2),
      t.fill({ color: 13789470, alpha: 0.7 }),
      (t.anchor = { x: 0.5, y: 0.5 }),
      e.addChild(t),
      (this.uiElements.bonusSquirrel = t),
      this.setupSimpleSquirrelAnimation(t);
  }
  showBonusAnnouncementUI(e) {
    console.log("=== SHOWING BONUS ANNOUNCEMENT UI ==="),
      console.log("Final multiplier:", e),
      console.log("Bonus overlay exists:", !!this.uiElements.bonusOverlay),
      this.uiElements.bonusOverlay ||
        (console.error("Bonus overlay not found! Recreating..."),
        this.createBonusAnnouncement());
    const t = this.uiElements.bonusOverlay;
    if (this.uiElements.bonusBackground) {
      const s = this.app.screen.width || 800,
        n = this.app.screen.height || 600;
      this.uiElements.bonusBackground.clear(),
        this.uiElements.bonusBackground.rect(0, 0, s, n),
        this.uiElements.bonusBackground.fill({ color: 0, alpha: 0.6 }),
        console.log("Updated background size with reduced alpha");
    }
    this.uiElements.bonusContent &&
      ((this.uiElements.bonusContent.x = this.app.screen.width / 2),
      (this.uiElements.bonusContent.y = this.app.screen.height / 2),
      console.log(
        "Updated content position to:",
        this.uiElements.bonusContent.x,
        this.uiElements.bonusContent.y
      )),
      (this.showBonusAnnouncement = !0),
      (t.visible = !0),
      (t.zIndex = 9999),
      t.parent && t.parent.removeChild(t),
      this.app.stage.addChild(t),
      console.log("Overlay made visible and moved to top"),
      this.app.stage.sortChildren(),
      this.app.render(),
      this.uiElements.slotReel &&
        ((this.uiElements.slotReel.y = 0),
        console.log("Slot reel position reset")),
      this.animationManager &&
        (console.log("Starting slot machine animation"),
        this.animationManager.startSlotMachineAnimation(e));
  }
  hideBonusAnnouncementUI() {
    if (
      (console.log("=== HIDING BONUS ANNOUNCEMENT ==="),
      this.uiElements.bonusOverlay)
    ) {
      (this.uiElements.bonusOverlay.visible = !1),
        console.log("Bonus overlay hidden");
      const e = this.uiElements.bonusSquirrel;
      e && e.stopAnimation
        ? (console.log("Stopping squirrel animation when hiding overlay"),
          e.stopAnimation())
        : e &&
          e.stop &&
          (console.log("Stopping squirrel animated sprite when hiding overlay"),
          e.stop());
    }
    this.showBonusAnnouncement = !1;
  }
  setupResponsiveHandlers() {
    this.resizeManager.add("gameBoard", (e) => {
      const {
        width: t,
        height: s,
        uniformScale: n = 1,
        deviceType: i = "mobile",
        safeArea: l = { top: 5, bottom: 20, left: 15, right: 15 },
        fontSizes: c = { xxlarge: 32, large: 18, medium: 16, small: 14 },
        spacing: d = { lg: 24, md: 16, sm: 8 },
      } = e || {};
      this.updateLayoutForResize(t, s, n, i, l, c, d);
    });
  }
  updateLayoutForResize(e, t, s, n, i, l, c) {
    if (
      (this.uiElements.bg &&
        ((this.uiElements.bg.width = e),
        (this.uiElements.bg.height = t),
        (this.uiElements.bg.x = e / 2),
        (this.uiElements.bg.y = t / 2)),
      this.uiElements.winningsText)
    ) {
      const d = l.xxlarge || 32;
      (this.uiElements.winningsText.style.fontSize = d),
        (this.uiElements.winningsText.x = e / 2),
        (this.uiElements.winningsText.y =
          i.top + (c.md || 16) + (n === "mobile" ? 20 : 50));
    }
    if (
      (this.uiElements.winModalBg &&
        this.uiElements.winningsText &&
        ((this.uiElements.winModalBg.x = this.uiElements.winningsText.x),
        (this.uiElements.winModalBg.y =
          this.uiElements.winningsText.y +
          this.uiElements.winningsText.height / 2 -
          (n === "mobile" ? 24 : 36)),
        (this.uiElements.winModalBg.width = (n === "mobile" ? 180 : 220) * s),
        (this.uiElements.winModalBg.height = (n === "mobile" ? 100 : 150) * s)),
      this.updateChestsLayout(e, t, s, c, n),
      this.updateCashOutButton(e, t, s, n, i),
      this.uiElements.bonusBackground &&
        ((this.uiElements.bonusBackground.width = e),
        (this.uiElements.bonusBackground.height = t)),
      this.uiElements.bonusContent)
    ) {
      let d = t * (n === "mobile" ? 0.31 : 0.33);
      t / e > 1.7 && (d = t * 0.37),
        t / e < 1.1 && (d = t * 0.27),
        (this.uiElements.bonusContent.x = e / 2),
        (this.uiElements.bonusContent.y = d);
    }
    if (this.uiElements.bonusTitle) {
      let d = 67.2;
      e < 400 || n === "mobile" ? (d = 28 * 1.2) : e < 600 && (d = 36 * 1.2),
        (this.uiElements.bonusTitle.style.fontSize = d),
        (this.uiElements.bonusTitle.maxWidth = Math.min(e * 0.9, 400 * 1.2)),
        (this.uiElements.bonusTitle.x = 0),
        (this.uiElements.bonusTitle.y = 80 * 1.2);
    }
    if (
      this.uiElements.bonusSquirrel &&
      this.uiElements.bonusSquirrel.texture
    ) {
      const d = Math.min(e * 0.7 * 1.2, 264),
        f = Math.min(
          d / this.uiElements.bonusSquirrel.texture.width,
          0.5 * 1.2
        );
      this.uiElements.bonusSquirrel.scale.set(f),
        (this.uiElements.bonusSquirrel.x = 0);
    }
    if (this.powerSquirrelAnimation && this.uiElements.chestsContainer) {
      const f = this.uiElements.chestsContainer.y - t * 0.19;
      this.powerSquirrelAnimation.setFixedY(f);
    }
    this.powerSquirrelAnimation &&
      this.powerSquirrelAnimation.updatePosition(t);
  }
  updateChestsLayout(e, t, s, n, i = "mobile") {
    if (!this.uiElements.chestsContainer) return;
    const l = Math.min(e, t);
    let c = 1;
    i === "mobile"
      ? (c = l / 600)
      : i === "tablet"
      ? (c = l / 800)
      : (c = l / 900),
      (c = Math.max(0.7, Math.min(c, 1.2)));
    const d = 90;
    (this.currentChestSize = d * c), (this.currentChestPadding = 20 * c);
    const f =
        this.gridCols * (this.currentChestSize + this.currentChestPadding) -
        this.currentChestPadding,
      m =
        this.gridRows * (this.currentChestSize + this.currentChestPadding) -
        this.currentChestPadding;
    this.uiElements.chestsContainer.x = (e - f) / 2;
    let h = t * 0.37;
    if (
      (t / e > 1.7 && (h = t * 0.43),
      t / e < 1.1 && (h = t * 0.27),
      (this.uiElements.chestsContainer.y = h),
      (this.currentOffsetX = 0),
      (this.currentOffsetY = -50 * c),
      (this.currentSlotSpacingX = 142 * c),
      (this.currentSlotSpacingY = 120 * c),
      this.uiElements.chestGridBg)
    ) {
      const x = Math.min(
        (f + 280 * c) / this.uiElements.chestGridBg.texture.width,
        (m + 280 * c) / this.uiElements.chestGridBg.texture.height
      );
      this.uiElements.chestGridBg.scale.set(x),
        (this.uiElements.chestGridBg.x = f / 2),
        (this.uiElements.chestGridBg.y = m / 2 - 50 * c);
    }
    this.chests.forEach((x, v) => {
      const w = v % this.gridCols,
        _ = Math.floor(v / this.gridCols);
      (x.width = x.height = this.currentChestSize),
        (x.x =
          w * this.currentSlotSpacingX +
          this.currentOffsetX -
          32 * c +
          this.currentChestSize / 2),
        (x.y =
          _ * this.currentSlotSpacingY +
          this.currentOffsetY +
          this.currentChestSize / 2 +
          32 * c);
    });
    const g = this.currentChestSize * 0.9;
    this.prizeSprites.forEach((x, v) => {
      const { sprite: w, isRevealed: _ } = x,
        S = this.chests[v];
      w &&
        S &&
        ((w.width = g),
        (w.height = g),
        (w.x = S.x),
        (w.y = S.y),
        _
          ? ((w.alpha = 0.6), (w.tint = 13421772))
          : ((w.alpha = 1), (w.tint = 16777215)));
    });
  }
  updateCashOutButton(e, t, s, n, i) {
    if (this.uiElements.cashOutButton) {
      const l = n === "mobile" ? s * 0.8 : s;
      this.uiElements.cashOutButton.scale.set(l),
        (this.uiElements.cashOutButton.x = e / 2);
      let c = t - i.bottom - 80 * s - 20;
      t / e > 1.7 && (c = t - i.bottom - 60 * s),
        t / e < 1.1 && (c = t - i.bottom - 120 * s),
        (this.uiElements.cashOutButton.y = c);
    }
  }
  updateWinnings(e) {
    const t = parseFloat(e),
      s = this.totalWinnings,
      n = t - s;
    let i = 0;
    const l = 30,
      c = () => {
        i++;
        const d = i / l,
          f = 1 - Math.pow(1 - d, 3),
          m = s + n * f;
        (this.totalWinnings = m),
          (this.uiElements.winningsText.text = `${Vp(m)}`);
        const h = 1 + Math.sin(d * Math.PI) * 0.2;
        this.uiElements.winningsText.scale.set(h),
          i < l
            ? requestAnimationFrame(c)
            : ((this.totalWinnings = t),
              (this.uiElements.winningsText.text = `${Vp(t)}`),
              this.uiElements.winningsText.scale.set(1));
      };
    c();
  }
  showCashOutButton() {
    const e = this.uiElements.cashOutButton;
    e.visible ||
      ((e.visible = !0),
      (e.interactive = !0),
      this.animationManager.animateCashOutButtonAppearance(e));
  }
  addPrizeSprite(e, t, s = !1) {
    const n = this.currentChestSize * 0.9;
    (t.width = n),
      (t.height = n),
      this.prizeSprites.set(e, { sprite: t, isRevealed: s, chestIndex: e });
  }
  createBitmapTextWithFallback(e, t = 38) {
    try {
      return new Mm({
        text: e,
        style: { fontFamily: "weizhenfont", fontSize: t, align: "center" },
      });
    } catch (s) {
      return (
        console.warn(
          "Bitmap font creation failed, using regular text:",
          s.message
        ),
        new Fr(e, {
          fontSize: t,
          fill: "#FFD700",
          fontWeight: "bold",
          align: "center",
        })
      );
    }
  }
  getPrizeTextures() {
    return {
      pinecone: je.get("pinecone"),
      apple: je.get("apple"),
      acorn: je.get("acorn"),
      ring: je.get("ring"),
      goldenacorn: je.get("goldenacorn"),
      fox: je.get("raposa"),
      chest: je.get("chest_closed"),
      chestOpen: je.get("chest_open"),
    };
  }
  isGameActive() {
    return !this.gameOver;
  }
  setGameOver(e) {
    this.gameOver = e;
  }
  getBonusMultiplier() {
    return this.bonusMultiplier;
  }
  setBonusMultiplier(e) {
    const t = this.bonusMultiplier !== null && this.bonusMultiplier > 1,
      s = e !== null && e > 1;
    (this.bonusMultiplier = e),
      (window.currentBonusMultiplier = e),
      console.log("🔮 Global bonus multiplier set to:", e),
      this.powerSquirrelAnimation &&
        e &&
        (console.log(
          "🔮 Updating power squirrel multiplier IMMEDIATELY to:",
          e
        ),
        this.powerSquirrelAnimation.setMultiplier(e)),
      !t && s
        ? console.log(
            "🐿️ Bonus activated - power squirrel will appear after announcement"
          )
        : t &&
          !s &&
          console.log(
            "🐿️ Bonus deactivated - power squirrel stays until game ends"
          );
  }
  onBonusAnnouncementEnded() {
    console.log("🐿️ Bonus announcement ended - power squirrel can appear now"),
      this.powerSquirrelAnimation &&
        this.bonusMultiplier &&
        this.bonusMultiplier > 1 &&
        (console.log(
          "🔮 Setting multiplier again before squirrel appears:",
          this.bonusMultiplier
        ),
        this.powerSquirrelAnimation.setMultiplier(this.bonusMultiplier),
        this.powerSquirrelAnimation.appearAfterBonusAnnouncement());
  }
  onGameEnded() {
    console.log("🐿️ Game ended - power squirrel leaving"),
      this.powerSquirrelAnimation &&
        this.powerSquirrelAnimation.leaveAtGameEnd();
  }
  cleanup() {
    this.prizeSprites.clear(),
      (this.chests = []),
      this.bonusSquirrelAnimation &&
        (this.bonusSquirrelAnimation.destroy(),
        (this.bonusSquirrelAnimation = null)),
      this.powerSquirrelAnimation &&
        (this.powerSquirrelAnimation.destroy(),
        (this.powerSquirrelAnimation = null)),
      (this.uiElements = {});
  }
  activateBonusGlowForChest(e) {
    console.log("=== ACTIVATING BONUS GLOW FOR CHEST ===", e);
    const t = this.chests[e];
    if (!t || t.isOpen || this.activeBonusGlows.has(e)) {
      console.log("Chest not valid for glow or already glowing:", e);
      return;
    }
    this.activeBonusGlows.add(e),
      this.animationManager && this.animationManager.addBonusGlowToChest(e);
  }
  clearAllBonusGlows() {
    console.log("Clearing all bonus glows"),
      this.activeBonusGlows.forEach((e) => {
        const t = this.chests[e];
        t &&
          t.bonusGlow &&
          (t.bonusGlow.parent &&
            (t.bonusGlow.parent.removeChild(t.bonusGlow),
            t.bonusGlow.destroy()),
          (t.bonusGlow = null),
          (t.bonusSunParticles = null),
          (t.bonusSunContainer = null));
      }),
      this.activeBonusGlows.clear();
  }
}
class ZL {
  constructor(e, t, s, n) {
    (this.gameData = e),
      (this.uiManager = t),
      (this.animationManager = s),
      (this.audioManager = n),
      (this.gameState = { ...e }),
      (this.openedChestsCount = 0),
      (this.isGameOver = !1),
      (this.bonusEffectTriggered = !1),
      (this.bonusChestsActivated = new Set()),
      (this.isChestOpening = !1);
  }
  async initialize() {
    this.uiManager.setGameOver(!1),
      console.log("=== GAME INITIALIZED ==="),
      console.log("UIManager available:", !!this.uiManager),
      console.log("AnimationManager available:", !!this.animationManager),
      console.log("UIManager app available:", !!this.uiManager?.app),
      console.log(
        "UIManager app stage available:",
        !!this.uiManager?.app?.stage
      ),
      window.addEventListener("keydown", (e) => {
        e.key.toLowerCase() === "b" &&
          !this.bonusEffectTriggered &&
          (console.log("Manual bonus test triggered!"),
          this.handleBonusActivation(10));
      });
  }
  async onChestClick(e) {
    if (e.isOpen || this.isGameOver || this.isChestOpening) {
      console.log(
        "Chest click blocked - already opening:",
        this.isChestOpening
      );
      return;
    }
    console.log(`Opening chest ${e.chestIndex}`),
      (this.isChestOpening = !0),
      this.disableAllChestClicks(),
      e.soundPlayed ||
        (this.audioManager.playSound("open_chest"), (e.soundPlayed = !0));
    try {
      const t = await Ge.post("/game/open-chest", {
        game_id: this.gameState.id,
        chest_index: e.chestIndex,
      });
      if (t.data.success) {
        const {
          is_fox: s,
          total_winnings: n,
          game_over: i,
          multiplier: l,
          all_results: c,
          bonus_multiplier: d,
        } = t.data;
        console.log("Response data:", t.data),
          console.log("Bonus multiplier received:", d),
          (e.isOpen = !0),
          d && d > 1 && !this.bonusEffectTriggered
            ? ((e.hasBonusToTrigger = !0),
              (e.bonusMultiplierValue = d),
              console.log(
                "Chest marked for bonus trigger when chest_explode sounds"
              ))
            : d &&
              d > 1 &&
              this.bonusEffectTriggered &&
              (console.log("Updating existing bonus multiplier to:", d),
              this.uiManager.setBonusMultiplier(d),
              this.updateChestValuesWithBonus(d));
        const f = s
          ? this.uiManager.getPrizeTextures().fox
          : this.getPrizeTexture(l);
        await this.animationManager.animateChestOpening(e, f, s, l),
          !s && !i && ((this.isChestOpening = !1), this.enableAllChestClicks()),
          s || this.uiManager.updateWinnings(n),
          s
            ? setTimeout(() => {
                console.log("Playing loser sound after reveal"),
                  this.audioManager.stopAllSounds(),
                  this.audioManager.playSound("loser_sound", !0),
                  (this.isGameOver = !0),
                  this.uiManager.setGameOver(!0),
                  console.log("Game Over - Fox found!"),
                  this.clearBonusEffects(),
                  c && c.length > 0
                    ? this.revealAllChests(c, e.chestIndex)
                    : this.endGame(!1, 0);
              }, 800)
            : (console.log(
                "Coin sound will be played when coin particles appear during value burst"
              ),
              this.openedChestsCount++,
              this.uiManager.showCashOutButton(),
              i &&
                setTimeout(() => {
                  this.audioManager.stopAllSounds(),
                    this.audioManager.playSound("win_sound", !0),
                    (this.isGameOver = !0),
                    this.uiManager.setGameOver(!0),
                    console.log("Game Over - You won!"),
                    this.endGame(!0, this.uiManager.totalWinnings);
                }, 1e3));
      }
    } catch (t) {
      console.error("Error opening chest:", t),
        (this.isChestOpening = !1),
        this.enableAllChestClicks(),
        (e.soundPlayed = !1);
    }
  }
  disableAllChestClicks() {
    console.log("Disabling all chest interactions"),
      this.uiManager.chests.forEach((e) => {
        e.isOpen ||
          ((e.interactive = !1), (e.buttonMode = !1), (e.tint = 13421772));
      });
  }
  enableAllChestClicks() {
    console.log("Re-enabling chest interactions for unopened chests"),
      this.uiManager.chests.forEach((e) => {
        !e.isOpen &&
          !this.isGameOver &&
          ((e.interactive = !0), (e.buttonMode = !0), (e.tint = 16777215));
      });
  }
  onChestExplode(e) {
    if (
      (console.log("=== CHEST EXPLODE EVENT ==="),
      console.log("Chest has bonus to trigger:", !!e.hasBonusToTrigger),
      e.hasBonusToTrigger && e.bonusMultiplierValue)
    ) {
      console.log(
        "Triggering bonus IMMEDIATELY on chest explode with multiplier:",
        e.bonusMultiplierValue
      ),
        (e.hasBonusToTrigger = !1);
      const t = e.bonusMultiplierValue;
      (e.bonusMultiplierValue = null), this.handleBonusActivation(t);
    }
  }
  handleBonusActivation(e) {
    console.log("=== STARTING IMMEDIATE BONUS ACTIVATION ==="),
      console.log("Bonus multiplier:", e),
      (this.bonusEffectTriggered = !0),
      this.uiManager.setBonusMultiplier(e),
      console.log("🔮 Bonus multiplier set FIRST before any UI updates"),
      this.uiManager.uiElements.bonusOverlay ||
        (console.error("=== BONUS OVERLAY NOT FOUND ==="),
        console.log(
          "Available UI elements:",
          Object.keys(this.uiManager.uiElements)
        ),
        console.log("Trying to recreate bonus announcement..."),
        this.uiManager.createBonusAnnouncement()),
      this.audioManager.playSound("bonus_suspense"),
      console.log("Playing bonus suspense sound"),
      this.audioManager.fadeIn("background_bonus", 3e3, 0.8, { loop: !0 }),
      console.log("Starting background bonus music with fade in"),
      console.log("Calling showBonusAnnouncementUI..."),
      this.uiManager.showBonusAnnouncementUI(e),
      setTimeout(() => {
        console.log("=== POST-SHOW DEBUG ==="),
          console.log(
            "Bonus overlay exists:",
            !!this.uiManager.uiElements.bonusOverlay
          ),
          console.log(
            "Bonus overlay visible:",
            this.uiManager.uiElements.bonusOverlay?.visible
          ),
          console.log(
            "App stage children count:",
            this.uiManager.app.stage.children.length
          ),
          console.log(
            "Stage children:",
            this.uiManager.app.stage.children.map((t) => t.constructor.name)
          );
      }, 50),
      setTimeout(() => {
        console.log("=== COMPLETING BONUS ACTIVATION ==="),
          this.completeBonusActivation(e);
      }, 4e3);
  }
  completeBonusActivation(e) {
    console.log("Bonus activation completed"),
      this.audioManager.stopSound("bonus_suspense"),
      console.log(
        "Stopped bonus suspense sound, keeping background bonus music"
      ),
      this.updateChestValuesWithBonus(e);
  }
  updateChestValuesWithBonus(e) {
    this.uiManager.chests.forEach((t, s) => {
      if (t.isOpen && !t.isFox) {
        const n = this.uiManager.prizeSprites.get(s);
        n && !n.isRevealed && ((n.hasBonus = !0), (n.bonusMultiplier = e));
      }
    });
  }
  activateBonusChestGlow() {
    console.log(
      "activateBonusChestGlow called but particles will handle glow activation"
    );
  }
  clearBonusEffects() {
    console.log("Clearing all bonus effects"),
      (this.bonusEffectTriggered = !1),
      this.bonusChestsActivated.clear(),
      this.uiManager.setBonusMultiplier(null),
      this.uiManager.hideBonusAnnouncementUI(),
      this.audioManager.stopSound("bonus_suspense"),
      this.audioManager.fadeOut("background_bonus", 1e3),
      this.uiManager.clearAllBonusGlows(),
      console.log(
        "🐿️ Power squirrel stays visible even after bonus effects clear"
      );
  }
  async cashOut() {
    if (!this.isGameOver) {
      this.audioManager.playSound("click"),
        (this.isGameOver = !0),
        this.uiManager.setGameOver(!0),
        (this.uiManager.uiElements.cashOutButton.interactive = !1);
      try {
        const e = await Ge.post("/game/cash-out", {
          game_id: this.gameState.id,
        });
        e.data.success &&
          (this.audioManager.stopAllSounds(),
          this.audioManager.playSound("win_sound", !0),
          this.endGame(!0, e.data.total_winnings));
      } catch (e) {
        console.error("Error cashing out:", e),
          (this.isGameOver = !1),
          this.uiManager.setGameOver(!1),
          (this.uiManager.uiElements.cashOutButton.interactive = !0);
      }
    }
  }
  getPrizeTexture(e) {
    const t = this.uiManager.getPrizeTextures();
    switch (e) {
      case 0.3:
        return t.pinecone;
      case 0.5:
        return t.apple;
      case 0.8:
        return t.acorn;
      case 2:
        return t.ring;
      case 5:
        return t.goldenacorn;
      default:
        return null;
    }
  }
  revealAllChests(e, t) {
    console.log("Revealing all chests:", e),
      this.uiManager.chests.forEach((s) => (s.interactive = !1)),
      e.forEach((s, n) => {
        !this.uiManager.chests[n].isOpen &&
          n !== t &&
          setTimeout(() => {
            const i = this.uiManager.chests[n],
              l =
                s.type === "fox"
                  ? this.uiManager.getPrizeTextures().fox
                  : this.getPrizeTexture(s.multiplier);
            (i.isOpen = !0), (i.revealed = !0), (i.alpha = 0);
            const c = new Ve(l),
              d = this.uiManager.currentChestSize * 0.9;
            (c.width = d),
              (c.height = d),
              c.anchor.set(0.5),
              (c.x = i.x),
              (c.y = i.y),
              (c.alpha = 0.6),
              (c.tint = 13421772),
              i.parent.addChild(c),
              this.uiManager.addPrizeSprite(n, c, !0);
            const f = new Ye();
            (f.x = i.x),
              (f.y = i.y),
              (f.zIndex = 10),
              i.parent.addChild(f),
              this.animationManager.drawXAnimation(f, d);
          }, n * 100);
      }),
      setTimeout(() => {
        this.endGame(!1, 0);
      }, e.length * 100 + 500);
  }
  endGame(e, t) {
    this.uiManager.chests.forEach((n) => (n.interactive = !1)),
      (this.uiManager.uiElements.cashOutButton.interactive = !1),
      this.uiManager.onGameEnded();
    const s = new CustomEvent("gameEnd", {
      detail: { won: e, finalWinnings: t },
    });
    window.dispatchEvent(s);
  }
}
class JL {
  constructor(e, t, s) {
    (this.app = e),
      (this.particleManager = t),
      (this.audioManager = s),
      (this.uiManager = null),
      (this.slotSpinning = !1),
      (this.activeTickers = new Map());
  }
  setUIManager(e) {
    (this.uiManager = e), this.particleManager.setUIManager(e);
  }
  runTicker(e, t) {
    this.activeTickers.has(e) && this.activeTickers.delete(e),
      this.activeTickers.set(e, t);
    const s = () => {
      this.activeTickers.get(e) === t && (t(1), requestAnimationFrame(s));
    };
    s();
  }
  stopTicker(e) {
    this.activeTickers.delete(e);
  }
  easeOutBounce(e) {
    return e < 1 / 2.75
      ? 7.5625 * e * e
      : e < 2 / 2.75
      ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75
      : e < 2.5 / 2.75
      ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375
      : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375;
  }
  easeOutElastic(e) {
    const t = (2 * Math.PI) / 3;
    return e === 0
      ? 0
      : e === 1
      ? 1
      : Math.pow(2, -10 * e) * Math.sin((e * 10 - 0.75) * t) + 1;
  }
  easeInQuart(e) {
    return e * e * e * e;
  }
  easeOutCubic(e) {
    return 1 - Math.pow(1 - e, 3);
  }
  easeInOutCubic(e) {
    return e < 0.5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1;
  }
  createHoverParticles(e, t) {
    this.particleManager.createHoverParticles(e, t);
  }
  animateChestOpening(e, t, s, n = null) {
    return new Promise((i) => {
      (e.interactive = !1), (e.tint = 16777215);
      let l = 0;
      const c = e.x,
        d = dt.create((f) => {
          (l += f),
            l < 15
              ? (e.x = c + (Math.random() - 0.5) * 8)
              : ((e.x = c),
                this.stopTicker("shakeChest"),
                this.openChest(e, t, s, n, i));
        }, 60);
      this.runTicker("shakeChest", d);
    });
  }
  openChest(e, t, s, n, i) {
    let l = 0;
    const c = 12,
      d = e.scale.x;
    let f = !1,
      m = !1;
    const h = dt.create((g) => {
      l += g;
      const x = l / c,
        v = 1 + Math.sin(x * Math.PI) * 0.3;
      if ((e.scale.set(d * v), x >= 0.2 && !m)) {
        console.log("Changing chest texture to open"),
          (e.texture = je.get("chest_open")),
          (m = !0),
          f ||
            (this.audioManager.playSound("chest_explode"),
            (f = !0),
            this.uiManager &&
              this.uiManager.onChestExplode &&
              (console.log(
                "Calling onChestExplode for potential bonus trigger"
              ),
              this.uiManager.onChestExplode(e)));
        const w = e.getGlobalPosition();
        this.particleManager.createRevelationEffect(w.x, w.y, s);
      }
      l >= c &&
        (e.scale.set(d),
        this.stopTicker("openChest"),
        setTimeout(() => {
          this.showPrize(e, t, s, n, i);
        }, 150));
    }, 60);
    this.runTicker("openChest", h);
  }
  showPrize(e, t, s, n, i) {
    const l = new Ve(t),
      c = this.uiManager
        ? this.uiManager.currentChestSize * 0.9
        : e.width * 0.9;
    (l.width = c),
      (l.height = c),
      l.anchor.set(0.5),
      (l.x = e.x),
      (l.y = e.y),
      (l.alpha = 0),
      e.parent.addChild(l),
      this.uiManager && this.uiManager.addPrizeSprite(e.chestIndex, l, !1),
      s ||
        (this.audioManager.playSound("coin_collect"),
        console.log("Playing coin_collect sound when prize appears in chest"));
    let d = 0;
    const f = 18,
      m = dt.create((h) => {
        d += h;
        const g = d / f;
        if (
          ((l.alpha = g),
          g > 0.3 && (e.alpha = 1 - (g - 0.3) / 0.7),
          !s && g > 0.4)
        ) {
          const x = Math.sin(d * 0.3) * 0.3 + 0.7,
            v = Math.floor(255 * x),
            w = Math.floor(255 * x),
            _ = Math.floor(255 * x);
          l.tint = (v << 16) | (w << 8) | _;
        }
        d >= f &&
          ((l.alpha = 1),
          (l.tint = 16777215),
          (e.alpha = 0),
          this.stopTicker("showPrize"),
          !s && n !== null
            ? setTimeout(async () => {
                const x = l.getGlobalPosition();
                await this.createFlyingPrizeValue(x.x, x.y, n), i();
              }, 100)
            : i());
      }, 60);
    this.runTicker("showPrize", m);
  }
  createFlyingPrizeValue(e, t, s) {
    if (!this.uiManager)
      return (
        console.warn("UIManager not set in AnimationManager"), Promise.resolve()
      );
    const n = this.uiManager.uiElements.winningsText.getGlobalPosition().x,
      i = this.uiManager.uiElements.winningsText.getGlobalPosition().y;
    return this.particleManager.createFlyingPrizeValue(e, t, s, n, i);
  }
  animateCashOutButtonAppearance(e) {
    const t = e.texture.width,
      s = e.texture.height;
    (e.width = 0),
      (e.height = 0),
      setTimeout(() => {
        this.particleManager.createButtonHighlightParticles(e.x, e.y),
          this.particleManager.createButtonGlow(e),
          this.audioManager.playSound("coin");
        for (let c = 0; c < 6; c++)
          setTimeout(() => {
            this.particleManager.createParticles(
              e.x + (Math.random() - 0.5) * 60,
              e.y + (Math.random() - 0.5) * 30,
              16766720,
              2
            );
          }, c * 100);
      }, 300);
    let n = 0;
    const i = 20,
      l = dt.create((c) => {
        n += c;
        const d = n / i,
          m = this.easeOutBounce(Math.min(d, 1)) * 1.06;
        (e.width = t * m),
          (e.height = s * m),
          n >= i &&
            ((e.width = t), (e.height = s), this.stopTicker("animateButton"));
      }, 60);
    this.runTicker("animateButton", l);
  }
  createRevealedPrize(e, t, s) {
    const n = new Ve(t),
      i = this.uiManager
        ? this.uiManager.currentChestSize * 0.9
        : e.width * 0.9;
    (n.width = i),
      (n.height = i),
      n.anchor.set(0.5),
      (n.x = e.x),
      (n.y = e.y),
      (n.alpha = 0.6),
      (n.tint = 13421772),
      e.parent.addChild(n),
      this.uiManager && this.uiManager.addPrizeSprite(s, n, !0);
    const l = new Ye();
    (l.x = e.x),
      (l.y = e.y),
      (l.zIndex = 10),
      e.parent.addChild(l),
      this.drawXAnimation(l, i, s);
  }
  drawXAnimation(e, t, s = "drawX") {
    const n = t * 0.45,
      i = 13369344;
    let l = 0;
    const c = 3,
      d = [],
      f = 15;
    for (let x = 0; x <= f; x++) {
      const v = x / f,
        w = -n + n * 2 * v,
        _ = -n + n * 2 * v;
      d.push({ x: w, y: _, line: 1, index: x, drawn: !1 });
    }
    for (let x = 0; x <= f; x++) {
      const v = x / f,
        w = n - n * 2 * v,
        _ = -n + n * 2 * v;
      d.push({ x: w, y: _, line: 2, index: x, drawn: !1 });
    }
    const m = (x, v, w) => {
        for (let _ = 0; _ < 10; _++) {
          const S = new Be()
            .circle(0, 0, 2 + Math.random() * 3)
            .fill({ color: i, alpha: 0.9 + Math.random() * 0.1 });
          (S.x = x + (Math.random() - 0.5) * 3),
            (S.y = v + (Math.random() - 0.5) * 3),
            e.addChild(S);
        }
      },
      h = `drawX_${s}`,
      g = dt.create((x) => {
        l += x;
        const v = Math.min(l / c, 1),
          w = Math.floor(v * f);
        if (
          (d
            .filter((_) => _.line === 1 && _.index <= w && !_.drawn)
            .forEach((_) => {
              m(_.x, _.y), (_.drawn = !0);
            }),
          v > 0.2)
        ) {
          const _ = (v - 0.2) / 0.8,
            S = Math.floor(_ * f);
          d.filter((T) => T.line === 2 && T.index <= S && !T.drawn).forEach(
            (T) => {
              m(T.x, T.y), (T.drawn = !0);
            }
          );
        }
        if (v >= 1) {
          d.filter((T) => !T.drawn).forEach((T) => {
            m(T.x, T.y, T.line), (T.drawn = !0);
          });
          const _ = d.filter((T) => T.line === 1 && T.drawn).length,
            S = d.filter((T) => T.line === 2 && T.drawn).length;
          console.log(
            `X animation completed - Line1: ${_}/${f + 1}, Line2: ${S}/${f + 1}`
          ),
            this.stopTicker(h);
        }
      }, 60);
    this.runTicker(h, g);
  }
  startSlotMachineAnimation(e) {
    if (
      (console.log("=== STARTING SLOT MACHINE ANIMATION ==="),
      console.log("Final multiplier:", e),
      !this.uiManager || !this.uiManager.uiElements.slotReel)
    ) {
      console.error("UIManager or slot reel not available!"),
        console.log("UIManager exists:", !!this.uiManager),
        console.log(
          "Slot reel exists:",
          !!this.uiManager?.uiElements?.slotReel
        );
      return;
    }
    this.slotSpinning = !0;
    const t = this.uiManager.uiElements.slotReel,
      s = this.uiManager.uiElements.reelItems,
      n = this.uiManager.uiElements.bonusSquirrel;
    console.log("Slot reel found:", !!t),
      console.log("Reel items count:", s ? s.length : 0),
      console.log("Bonus squirrel found:", !!n),
      console.log("Slot reel current Y:", t.y),
      n && n.startAnimation
        ? (console.log(
            "Starting squirrel animation (will continue throughout)"
          ),
          n.startAnimation())
        : n &&
          n.play &&
          (console.log(
            "Starting squirrel animated sprite (will continue throughout)"
          ),
          n.play());
    let i = 0;
    const l = 120,
      c = 25;
    let d = c;
    const f = `x${e}`;
    console.log("Looking for target multiplier:", f),
      s.forEach((x, v) => {
        console.log(`Reel item ${v}: "${x.text}" at Y: ${x.y}`);
      });
    const m = s.find((x) => x.text === f);
    console.log("Target item found:", !!m);
    let h = 0;
    if (m) (h = -m.y), console.log("Target Y position calculated:", h);
    else {
      console.warn("Target item not found, using default position");
      const x = parseInt(e),
        v = Math.min(x - 2, s.length - 1);
      s[v] && ((h = -s[v].y), console.log("Using approximate target Y:", h));
    }
    const g = dt.create((x) => {
      if (!this.slotSpinning) {
        console.log("Slot spinning stopped externally"),
          this.stopTicker("slotSpin");
        return;
      }
      if (((i += x), i > l * 0.6)) {
        const v = (i - l * 0.6) / (l * 0.4);
        if (((d = c * (1 - this.easeInQuart(v))), i > l * 0.7)) {
          const w = (i - l * 0.7) / (l * 0.3),
            _ = t.y,
            S = h - _;
          (t.y = _ + S * this.easeOutCubic(w) * 0.05),
            console.log(
              `Frame ${i}: Current Y: ${t.y.toFixed(
                2
              )}, Target Y: ${h}, Distance: ${S.toFixed(2)}`
            );
        } else t.y += d * x;
      } else t.y += d * x;
      t.y > 800 && ((t.y -= 800), console.log("Wrapped reel position")),
        i >= l &&
          ((t.y = h),
          (this.slotSpinning = !1),
          this.stopTicker("slotSpin"),
          console.log("=== SLOT MACHINE ANIMATION COMPLETED ==="),
          console.log("Final Y position:", t.y),
          console.log("Squirrel continues animating in background"),
          this.createSlotFlashEffect());
    }, 60);
    this.runTicker("slotSpin", g),
      console.log("Starting slot animation loop with duration:", l);
  }
  createSlotFlashEffect() {
    if (
      (console.log("Creating slot flash effect"),
      !this.uiManager || !this.uiManager.uiElements.slotContainer)
    ) {
      console.error("Slot container not available for flash effect");
      return;
    }
    const e = this.uiManager.uiElements.slotContainer,
      t = this.uiManager.uiElements.bonusSquirrel,
      s = new Be()
        .roundRect(-120, -40, 240, 80, 20)
        .fill({ color: 16777215, alpha: 0.9 });
    e.addChild(s), t && this.animateSquirrelDescent();
    let n = 0;
    const i = 30,
      l = dt.create((c) => {
        n += c;
        const d = n / i;
        (s.alpha = 0.9 * (1 - d)),
          s.scale.set(1 + d * 0.3),
          n >= i &&
            (e.removeChild(s),
            console.log("Flash effect completed"),
            this.stopTicker("slotFlash"));
      }, 60);
    this.runTicker("slotFlash", l);
  }
  animateSquirrelDescent() {
    console.log("Starting squirrel descent animation");
    const e = this.uiManager.uiElements.bonusSquirrel;
    if (!e) {
      console.warn("No squirrel found for descent animation");
      return;
    }
    let t = 1;
    this.uiManager && typeof this.uiManager.getBonusMultiplier == "function"
      ? (t = this.uiManager.getBonusMultiplier() || 1)
      : (console.warn(
          "getBonusMultiplier not available, using default multiplier"
        ),
        (t = this.uiManager?.bonusMultiplier || 1)),
      console.log("Using bonus multiplier for descent:", t);
    const s = e.y,
      n = e.alpha;
    let i = 0;
    const l = 25,
      c = 150,
      d = dt.create((f) => {
        i += f;
        const m = i / l,
          h = this.easeInQuart(m);
        (e.y = s + c * h),
          (e.alpha = n * (1 - m)),
          i >= l &&
            (console.log("Squirrel descent completed - no multiplier flight"),
            this.stopTicker("squirrelDescent"),
            this.continueNormalBonusSequence());
      }, 60);
    this.runTicker("squirrelDescent", d);
  }
  continueNormalBonusSequence() {
    console.log("Continuing with normal bonus sequence"),
      this.uiManager &&
        (this.uiManager.hideBonusAnnouncementUI(),
        setTimeout(() => {
          console.log(
            "🐿️ Triggering power squirrel appearance after short delay"
          ),
            this.uiManager.onBonusAnnouncementEnded();
        }, 200)),
      setTimeout(() => {
        console.log("Starting particle effects after squirrel sequence"),
          this.audioManager.playSound("bubble"),
          this.createBonusParticleEffect();
      }, 400);
  }
  createBonusParticleEffect() {
    console.log("Creating bonus particle effect"),
      setTimeout(() => {
        this.particleManager.createBonusActivationParticles();
      }, 200);
  }
  addBonusGlowToChest(e) {
    console.log("Adding bonus glow to chest:", e);
    const t = this.uiManager.chests[e];
    if (!t || t.isOpen) {
      console.log("Chest not valid for glow:", e);
      return;
    }
    const s = new Ye();
    (s.x = t.x), (s.y = t.y), (s.zIndex = t.zIndex - 1), t.parent.addChild(s);
    const n = this.uiManager.currentChestSize * 0.45,
      i = new Be()
        .circle(0, 0, n)
        .stroke({ color: 16766720, width: 1.5, alpha: 0.6 });
    s.addChild(i);
    const l = new Ye();
    (l.x = 0), (l.y = 0), s.addChild(l);
    const c = 1,
      d = [];
    for (let h = 0; h < c; h++) {
      let g;
      try {
        const w = je.get("particle_sun_blur");
        if (w)
          (g = new Ve(w)),
            g.anchor.set(0.5),
            g.scale.set(0.4 + Math.random() * 0.2),
            (g.tint = 16766720);
        else throw new Error("particle_sun_blur not found");
      } catch {
        console.warn("particle_sun_blur texture not found, using fallback"),
          (g = new Be()),
          g.circle(0, 0, 8 + Math.random() * 4),
          g.fill({ color: 16766720, alpha: 0.6 });
      }
      const x = (h / c) * Math.PI * 2,
        v = this.uiManager.currentChestSize * 0.5;
      (g.x = Math.cos(x) * v),
        (g.y = Math.sin(x) * v),
        (g.alpha = 0.3 + Math.random() * 0.3),
        l.addChild(g),
        d.push({
          sprite: g,
          baseAngle: x,
          distance: v,
          baseAlpha: g.alpha,
          baseScale: g.scale.x,
          rotationSpeed: 0.01 + Math.random() * 0.01,
          pulseSpeed: 0.08 + Math.random() * 0.04,
          pulseOffset: Math.random() * Math.PI * 2,
        });
    }
    (t.bonusGlow = s),
      (t.bonusSunParticles = d),
      (t.bonusSunContainer = l),
      console.log(`Created glow with ${c} sun blur particles for chest ${e}`);
    let f = 0;
    const m = dt.create((h) => {
      if (!t.parent || t.isOpen) {
        s.parent && (s.parent.removeChild(s), s.destroy()),
          this.stopTicker(`chestGlow_${e}`);
        return;
      }
      f += h;
      const g = Math.sin(f * 0.08) * 0.15 + 0.85;
      (i.alpha = g * 0.5),
        i.scale.set(g * 1.05 + 0.95),
        d.forEach((x, v) => {
          const w = x.sprite;
          (x.baseAngle += x.rotationSpeed * h),
            (w.x = Math.cos(x.baseAngle) * x.distance),
            (w.y = Math.sin(x.baseAngle) * x.distance);
          const _ = Math.sin(f * x.pulseSpeed + x.pulseOffset);
          w.alpha = x.baseAlpha * (0.4 + (_ * 0.4 + 0.6));
          const S = Math.sin(f * (x.pulseSpeed * 0.7) + x.pulseOffset);
          w.scale.set(x.baseScale * (0.8 + (S * 0.15 + 0.35))),
            w.rotation !== void 0 && (w.rotation += x.rotationSpeed * 2 * h);
        });
    }, 60);
    this.runTicker(`chestGlow_${e}`, m), this.createChestSparkles(t.x, t.y);
  }
  createChestSparkles(e, t) {
    for (let s = 0; s < 3; s++)
      setTimeout(() => {
        this.createTinySparkles(e, t);
      }, s * 500);
  }
  createTinySparkles(e, t) {
    for (let s = 0; s < 2; s++) {
      const n = new Be(),
        i = 4 + Math.random() * 3,
        l = 1;
      n.rect(-i / 2, -l / 2, i, l),
        n.fill({ color: 16766720, alpha: 0.6 }),
        n.rect(-i / 2 - 1, -l / 2 - 0.5, i + 2, l + 1),
        n.fill({ color: 16775885, alpha: 0.2 }),
        (n.x = e + (Math.random() - 0.5) * 20),
        (n.y = t + (Math.random() - 0.5) * 20),
        (n.rotation = Math.random() * Math.PI * 2),
        n.scale.set(0.5),
        (n.zIndex = 11);
      const c = Math.random() * Math.PI * 2,
        d = 1 + Math.random();
      (n.vx = Math.cos(c) * d),
        (n.vy = Math.sin(c) * d),
        (n.life = 30),
        (n.decay = 0.03),
        this.uiManager.uiElements.chestsContainer.addChild(n);
      const f = dt.create((m) => {
        (n.x += n.vx * m),
          (n.y += n.vy * m),
          (n.vx *= Math.pow(0.97, m)),
          (n.vy *= Math.pow(0.97, m)),
          (n.alpha -= n.decay * m),
          (n.rotation += 0.1 * m),
          (n.life -= m),
          (n.life <= 0 || !n.parent) &&
            (n.parent &&
              this.uiManager.uiElements.chestsContainer.removeChild(n),
            this.stopTicker(`sparkle_${Date.now()}_${s}`));
      }, 60);
      this.runTicker(`sparkle_${Date.now()}_${s}`, f);
    }
  }
  cleanup() {
    this.activeTickers.clear();
  }
}
const qp = (r) =>
  `R$ ${parseFloat(r || 0)
    .toFixed(2)
    .replace(".", ",")}`;
class eD {
  constructor(e, t) {
    (this.app = e),
      (this.gameContainer = t),
      (this.uiManager = null),
      (this.activeTickers = new Map());
  }
  setUIManager(e) {
    this.uiManager = e;
  }
  runTicker(e, t) {
    this.activeTickers.has(e) && this.activeTickers.delete(e),
      this.activeTickers.set(e, t);
    const s = () => {
      this.activeTickers.get(e) === t && (t(1), requestAnimationFrame(s));
    };
    s();
  }
  stopTicker(e) {
    this.activeTickers.delete(e);
  }
  createHoverParticles(e, t) {
    const s = [];
    for (let n = 0; n < 3; n++) {
      const i = new Be().circle(0, 0, 1 + Math.random() * 2).fill(9127187);
      (i.x = e + (Math.random() - 0.5) * 40),
        (i.y = t + (Math.random() - 0.5) * 40),
        (i.vx = (Math.random() - 0.5) * 3),
        (i.vy = -Math.random() * 3 - 1),
        (i.life = 1),
        (i.decay = 0.03 + Math.random() * 0.02),
        this.gameContainer.addChild(i),
        s.push(i);
    }
    this.animateParticles(s, this.gameContainer);
  }
  createButtonHighlightParticles(e, t) {
    const s = [];
    for (let n = 0; n < 20; n++) {
      const i = new Be().circle(0, 0, 2 + Math.random() * 4).fill(16766720),
        l = (Math.PI * 2 * n) / 20,
        c = 80 + Math.random() * 40;
      (i.x = e + Math.cos(l) * c),
        (i.y = t + Math.sin(l) * c),
        (i.vx = Math.cos(l) * -2),
        (i.vy = Math.sin(l) * -2),
        (i.life = 1),
        (i.decay = 0.015 + Math.random() * 0.01),
        (i.originalScale = i.scale.x),
        this.gameContainer.addChild(i),
        s.push(i);
    }
    this.animateHighlightParticles(s);
  }
  createButtonGlow(e) {
    const t = new Be()
      .circle(0, 0, Math.max(e.width, e.height) / 2 + 20)
      .fill({ color: 16766720, alpha: 0.3 });
    (t.x = e.x),
      (t.y = e.y),
      (t.zIndex = e.zIndex - 1),
      this.gameContainer.addChild(t);
    let s = 0;
    const n = () => {
      s++;
      const i = Math.sin(s * 0.1) * 0.2 + 0.7;
      t.alpha = i * 0.4;
      const l = i * 0.2 + 0.8,
        d = (Math.max(e.width, e.height) / 2 + 20) * l;
      t.clear(),
        t.circle(0, 0, d),
        t.fill({ color: 16766720, alpha: i * 0.4 }),
        e.visible
          ? requestAnimationFrame(n)
          : t.parent && (this.gameContainer.removeChild(t), t.destroy());
    };
    return n(), t;
  }
  createRevelationEffect(e, t, s) {
    const n = [],
      i = new Ye();
    (i.x = 0), (i.y = 0), (i.zIndex = 10), this.app.stage.addChild(i);
    const l = s ? 16739179 : 16766720,
      c = s ? 13192011 : 16775885,
      d = new Be().circle(0, 0, 80).fill({ color: 16777215, alpha: 0.7 });
    (d.x = e), (d.y = t), d.scale.set(0), i.addChild(d);
    for (let f = 0; f < 12; f++) {
      const m = (f / 12) * Math.PI * 2,
        h = new Be().rect(0, -1, 100, 2).fill({ color: c, alpha: 0.6 });
      (h.x = e),
        (h.y = t),
        (h.rotation = m),
        h.scale.set(0, 1),
        i.addChild(h),
        n.push({ sprite: h, type: "ray", life: 30 });
    }
    for (let f = 0; f < 20; f++) {
      const m = new Be()
          .circle(0, 0, 2 + Math.random() * 3)
          .fill(f % 2 === 0 ? l : c),
        h = Math.random() * Math.PI * 2,
        g = 2 + Math.random() * 4;
      (m.x = e),
        (m.y = t),
        (m.vx = Math.cos(h) * g),
        (m.vy = Math.sin(h) * g),
        (m.alpha = 0),
        (m.life = 30 + Math.random() * 20),
        (m.decay = 1 / m.life),
        i.addChild(m),
        n.push({ sprite: m, type: "sparkle" });
    }
    this.animateRevelationEffect(n, i, d);
  }
  createParticles(e, t, s, n = 10) {
    const i = [];
    for (let l = 0; l < n; l++) {
      const c = new Be().circle(0, 0, 2 + Math.random() * 3).fill(s);
      (c.x = e),
        (c.y = t),
        (c.vx = (Math.random() - 0.5) * 8),
        (c.vy = (Math.random() - 0.5) * 8 - 2),
        (c.life = 1),
        (c.decay = 0.02 + Math.random() * 0.02),
        this.gameContainer.addChild(c),
        i.push(c);
    }
    this.animateParticles(i, this.gameContainer);
  }
  createFlyingPrizeValue(e, t, s, n, i) {
    return new Promise(async (l) => {
      if (!this.uiManager) {
        console.warn("UIManager not available in ParticleManager"), l();
        return;
      }
      const d = parseFloat(this.uiManager.gameData?.amount || 1) * s,
        f = this.uiManager.getBonusMultiplier(),
        m = `+${qp(d)}`,
        h = this.uiManager.createBitmapTextWithFallback(m, 32);
      h.anchor.set(0.5),
        (h.x = e),
        (h.y = t),
        h.scale.set(0.1),
        (h.alpha = 0),
        (h.zIndex = 15),
        (h.tint = 16766720),
        this.app.stage.addChild(h);
      const g = this.uiManager.powerSquirrelAnimation,
        x = f && f > 1 && g && g.isSquirrelVisible();
      let v = 0;
      const w = 25,
        _ = x || f ? 80 : 0,
        S = 50,
        T = 15,
        j = w + _ + S + T,
        E = (q) => 1 - Math.pow(1 - q, 4),
        A = (q) =>
          q < 0.5 ? 4 * q * q * q : (q - 1) * (2 * q - 2) * (2 * q - 2) + 1;
      let M = !1,
        N = !1,
        R = !1;
      const O = `flyingPrize_${Date.now()}_${Math.random()}`,
        U = dt.create((q) => {
          if (((v += q), v <= w)) {
            const Q = v / w,
              z = E(Q);
            h.scale.set(z * 1.4), (h.alpha = z);
          } else if (f && v <= w + _) {
            const Q = (v - w) / _;
            x &&
              !R &&
              Q > 0.3 &&
              ((R = !0),
              console.log(
                "🔮 Launching multiplier from power squirrel to prize"
              ),
              g.launchMultiplierToPrize(h, f)),
              M || ((M = !0), this.createBonusMultiplicationEffect(e, t, f, h));
            const z = Math.sin(Q * Math.PI * 8) * 0.1 + 1.4;
            h.scale.set(z);
          } else if (v <= w + _ + S) {
            const Q = (v - w - _) / S,
              z = A(Q),
              Z = -60,
              pe = Math.sin(z * Math.PI);
            (h.x = e + (n - e) * z),
              (h.y = t + (i - t) * z + Z * pe),
              h.scale.set(1.4 + Math.sin(v * 0.2) * 0.15),
              !N &&
                Q > 0.8 &&
                ((N = !0),
                this.createWinningsBurstEffect(n, i),
                console.log(
                  "Prize value impact triggered early at 80% of flight"
                ));
          } else {
            const Q = (v - w - _ - S) / T,
              z = 1 - Q;
            h.scale.set(1.4 * (1 + Q * 0.8)), (h.alpha = z);
          }
          v >= j &&
            (this.stopTicker(O),
            h.parent && this.app.stage.removeChild(h),
            N || this.createWinningsBurstEffect(n, i),
            l());
        }, 60);
      this.runTicker(O, U);
    });
  }
  createBonusMultiplicationEffect(e, t, s, n) {
    console.log(
      "createBonusMultiplicationEffect DISABLED - PowerSquirrel handles multiplier now"
    );
  }
  createBonusActivationParticles() {
    if (
      (console.log(
        "Creating bonus activation particles from power squirrel orb position"
      ),
      !this.uiManager)
    ) {
      console.error("UIManager not available for bonus particles");
      return;
    }
    const e = this.uiManager.powerSquirrelAnimation;
    if (!e || !e.isSquirrelVisible() || !e.orbContainer) {
      console.warn(
        "Power squirrel orb not available, using screen center as fallback"
      );
      const s = this.app.screen.width / 2,
        n = this.app.screen.height / 2;
      this.createParticlesFromPosition(s, n);
      return;
    }
    const t = e.orbContainer.getGlobalPosition();
    console.log("Power squirrel orb global position:", t.x, t.y),
      this.createParticlesFromPosition(t.x, t.y);
  }
  createParticlesFromPosition(e, t) {
    console.log("Creating bonus activation particles from position:", e, t);
    const s = [];
    for (let n = 0; n < 8; n++) {
      const i = this.createSunrayParticle(),
        l = (Math.PI * 2 * n) / 8,
        c = 12 + Math.random() * 15;
      (i.x = e),
        (i.y = t),
        (i.vx = Math.cos(l) * c),
        (i.vy = Math.sin(l) * c),
        (i.alpha = 0.8),
        (i.life = 80 + Math.random() * 40),
        (i.maxLife = i.life),
        (i.gravity = 0.08),
        (i.zIndex = 15),
        (i.rotation = l),
        (i.friction = 0.96),
        this.app.stage.addChild(i),
        s.push(i);
    }
    console.log("Created", s.length, "burst particles from orb position"),
      this.animateBurstParticles(s),
      setTimeout(() => {
        console.log("Creating targeted particles to chests from orb position"),
          this.createChestTargetedParticlesFromOrb(e, t);
      }, 1e3);
  }
  createChestTargetedParticlesFromOrb(e, t) {
    if (!this.uiManager) {
      console.error("UIManager not available for targeted particles");
      return;
    }
    console.log("Available chests:", this.uiManager.chests.length),
      this.uiManager.chests.forEach((s, n) => {
        if (!s.isOpen) {
          console.log("Sending particles from orb to chest", n);
          const i = this.uiManager.uiElements.chestsContainer,
            l = this.gameContainer,
            c = l.x + i.x + s.x,
            d = l.y + i.y + s.y;
          console.log(`Chest ${n} final global position: (${c}, ${d})`),
            this.createParticleStreamFromOrb(e, t, c, d, n);
        }
      });
  }
  createParticleStreamFromOrb(e, t, s, n, i) {
    console.log(
      `Creating particle stream from orb (${e}, ${t}) to chest ${i} at (${s}, ${n})`
    );
    for (let l = 0; l < 2; l++)
      setTimeout(() => {
        const c = this.createSunrayParticle(),
          d = 20;
        (c.x = e + (Math.random() - 0.5) * d),
          (c.y = t + (Math.random() - 0.5) * d),
          (c.alpha = 0.7),
          (c.zIndex = 12),
          c.scale.set(0.15 + Math.random() * 0.1);
        const f = s - c.x,
          m = n - c.y,
          h = Math.sqrt(f * f + m * m),
          g = 3 + Math.random() * 2;
        (c.vx = (f / h) * g),
          (c.vy = (m / h) * g),
          console.log(
            `Orb particle ${l} for chest ${i} starting at:`,
            c.x,
            c.y
          ),
          this.app.stage.addChild(c),
          this.animateParticleToTarget(c, s, n, i);
      }, l * 200 + i * 150);
  }
  createChestTargetedParticles() {
    console.log(
      "createChestTargetedParticles DISABLED - now using createChestTargetedParticlesFromOrb"
    );
  }
  createParticleStream(e, t, s) {
    console.log(
      "createParticleStream DISABLED - now using createParticleStreamFromOrb"
    );
  }
  createCollisionLightEffect(e, t) {
    console.log("Creating collision light effect at:", e, t);
    const s = new Ye();
    (s.x = e), (s.y = t), (s.zIndex = 17), this.app.stage.addChild(s);
    const n = new Be();
    n.circle(0, 0, 30), n.fill({ color: 16777215, alpha: 0.8 }), s.addChild(n);
    const i = [];
    for (let m = 0; m < 8; m++) {
      const h = new Be(),
        g = (Math.PI * 2 * m) / 8,
        x = 40 + Math.random() * 20;
      h.rect(0, -1, x, 2),
        h.fill({ color: 16766720, alpha: 0.7 }),
        (h.rotation = g),
        s.addChild(h),
        i.push(h);
    }
    const l = new Be();
    l.circle(0, 0, 20),
      l.stroke({ color: 16739125, width: 3, alpha: 0.8 }),
      s.addChild(l);
    let c = 0;
    const d = 15,
      f = () => {
        c++;
        const m = c / d,
          h = this.easeOutQuart(m);
        (n.alpha = 0.8 * (1 - m)),
          n.scale.set(1 + h * 2),
          i.forEach((g, x) => {
            (g.scale.x = 1 + h * 1.5), (g.alpha = 0.7 * (1 - m));
          }),
          l.scale.set(1 + h * 3),
          (l.alpha = 0.8 * (1 - h)),
          c < d
            ? requestAnimationFrame(f)
            : s.parent &&
              (this.app.stage.removeChild(s), s.destroy({ children: !0 }));
      };
    f();
  }
  animateValueIncrease(e, t, s) {
    console.log("Starting value increase animation");
    const i = e.text.match(/[\d,]+\.\d{2}/);
    if (!i) return;
    const l = parseFloat(i[0].replace(",", "")),
      c = l * t;
    console.log("Animating value from", l, "to", c);
    let d = 0;
    const f = () => {
      d++;
      const m = d / s,
        h = this.easeOutCubic(m),
        g = l + (c - l) * h,
        x = `+${qp(g)}`;
      (e.text = x), (e.tint = 16739125);
      const v = 1 + Math.sin(m * Math.PI * 4) * 0.05;
      e.scale.set(e.scale.x * v),
        d < s
          ? requestAnimationFrame(f)
          : ((e.text = `+${qp(c)}`),
            (e.tint = 16739125),
            console.log("Value increase animation completed"));
    };
    f();
  }
  easeOutBounce(e) {
    return e < 1 / 2.75
      ? 7.5625 * e * e
      : e < 2 / 2.75
      ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75
      : e < 2.5 / 2.75
      ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375
      : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375;
  }
  easeOutQuart(e) {
    return 1 - Math.pow(1 - e, 4);
  }
  easeInOutCubic(e) {
    return e < 0.5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1;
  }
  easeOutElastic(e) {
    const t = (2 * Math.PI) / 3;
    return e === 0
      ? 0
      : e === 1
      ? 1
      : Math.pow(2, -10 * e) * Math.sin((e * 10 - 0.75) * t) + 1;
  }
  easeOutCubic(e) {
    return 1 - Math.pow(1 - e, 3);
  }
  createWinningsBurstEffect(e, t) {
    const s = [];
    let n;
    try {
      n = je.get("particle_coin");
    } catch {
      n = null;
    }
    n &&
      (console.log(
        "Playing coin_collect_give sound for particle_coin burst effect"
      ),
      this.app._gameAudioManager
        ? this.app._gameAudioManager.playSound("coin_collect_give")
        : console.warn(
            "AudioManager not accessible from ParticleManager for coin_collect_give sound"
          ));
    for (let d = 0; d < 12; d++) {
      let f;
      n
        ? ((f = new Ve(n)),
          f.anchor.set(0.5),
          f.scale.set(0.3 + Math.random() * 0.2))
        : (f = new Be().circle(0, 0, 3 + Math.random() * 3).fill(16766720)),
        (f.alpha = 0.6 + Math.random() * 0.4),
        (f.initialAlpha = f.alpha);
      const m = (Math.PI * 2 * d) / 12,
        h = 4 + Math.random() * 6;
      (f.x = e),
        (f.y = t),
        (f.vx = Math.cos(m) * h),
        (f.vy = Math.sin(m) * h),
        (f.life = 2),
        (f.decay = 0.025),
        (f.zIndex = 16),
        (f.rotationSpeed = (Math.random() - 0.5) * 0.2),
        this.app.stage.addChild(f),
        s.push(f);
    }
    let i = 0;
    const l = `burstEffect_${Date.now()}`,
      c = dt.create((d) => {
        (i += d),
          s.forEach((f, m) => {
            f.parent &&
              ((f.x += f.vx * d),
              (f.y += f.vy * d),
              (f.vx *= Math.pow(0.96, d)),
              (f.vy *= Math.pow(0.96, d)),
              f.rotationSpeed !== void 0 && (f.rotation += f.rotationSpeed * d),
              (f.alpha = f.initialAlpha * (f.life / 2)),
              (f.life -= f.decay * d),
              f.life <= 0 && (this.app.stage.removeChild(f), s.splice(m, 1)));
          }),
          (s.length === 0 || i >= 60) &&
            (s.forEach((f) => {
              f.parent && this.app.stage.removeChild(f);
            }),
            this.stopTicker(l));
      }, 60);
    this.runTicker(l, c);
  }
  animateParticles(e, t) {
    const s = `particles_${Date.now()}`,
      n = dt.create((i) => {
        e.forEach((l, c) => {
          (l.x += l.vx * i),
            (l.y += l.vy * i),
            (l.vy += 0.1 * i),
            (l.life -= l.decay * i),
            (l.alpha = l.life),
            l.life <= 0 && (t.removeChild(l), e.splice(c, 1));
        }),
          e.length === 0 && this.stopTicker(s);
      }, 60);
    this.runTicker(s, n);
  }
  animateHighlightParticles(e) {
    const t = `highlightParticles_${Date.now()}`,
      s = dt.create((n) => {
        e.forEach((i, l) => {
          (i.x += i.vx * n),
            (i.y += i.vy * n),
            (i.life -= i.decay * n),
            (i.alpha = i.life),
            i.scale.set(i.originalScale * i.life),
            i.life <= 0 && (this.gameContainer.removeChild(i), e.splice(l, 1));
        }),
          e.length === 0 && this.stopTicker(t);
      }, 60);
    this.runTicker(t, s);
  }
  animateRevelationEffect(e, t, s) {
    let n = 0;
    const i = 60,
      l = `revelation_${Date.now()}`,
      c = dt.create((d) => {
        if (((n += d), n < 20)) {
          const f = n / 20;
          s.scale.set(f * 1.2), (s.alpha = 1 - f);
        } else s.parent && t.removeChild(s);
        e.forEach((f, m) => {
          if (!f.sprite.parent) {
            e.splice(m, 1);
            return;
          }
          if (((f.life -= d), f.life <= 0)) {
            t.removeChild(f.sprite);
            return;
          }
          if (f.type === "ray") {
            const h = Math.min(1, (30 - f.life) / 15);
            (f.sprite.scale.x = this.easeOutElastic(h) * 1.5),
              (f.sprite.alpha = 1 - h);
          }
          f.type === "sparkle" &&
            ((f.sprite.x += f.sprite.vx * d),
            (f.sprite.y += f.sprite.vy * d),
            (f.sprite.vx *= Math.pow(0.95, d)),
            (f.sprite.vy *= Math.pow(0.95, d)),
            (f.sprite.alpha += (1 - f.sprite.alpha) * 0.1 * d),
            f.life < 20 && (f.sprite.alpha -= 0.05 * d));
        }),
          n >= i &&
            (this.stopTicker(l),
            this.app.stage.removeChild(t),
            t.destroy({ children: !0 }));
      }, 60);
    this.runTicker(l, c);
  }
  animateParticleToTarget(e, t, s, n) {
    const i = e.x,
      l = e.y;
    console.log(
      `Animating enhanced sunray particle to chest ${n}: from (${i}, ${l}) to (${t}, ${s})`
    );
    let c = 0;
    const d = 80,
      f = `particleToTarget_${n}_${Date.now()}`,
      m = dt.create((h) => {
        if (!e.parent) {
          console.log(
            `Enhanced sunray particle for chest ${n} lost parent, stopping animation`
          ),
            this.stopTicker(f);
          return;
        }
        c += h;
        const g = c / d,
          x = this.easeInOutCubic(g),
          v = i + (t - i) * x,
          w = l + (s - l) * x,
          _ = -60,
          S = Math.sin(x * Math.PI),
          T = 1 - g * 0.5;
        (e.x = v + e.vx * T),
          (e.y = w + e.vy * T + _ * S),
          (e.vx *= Math.pow(0.99, h)),
          (e.vy *= Math.pow(0.99, h));
        const j = e.x - (e.lastX || e.x),
          E = e.y - (e.lastY || e.y);
        (e.rotation = Math.atan2(E, j)),
          (e.lastX = e.x),
          (e.lastY = e.y),
          g > 0.8 && (e.alpha = 0.7 * (1 - (g - 0.8) / 0.2));
        const A = e.scale.x;
        e.scale.set(A * (0.95 + Math.sin(c * 0.2) * 0.05)),
          c >= d &&
            (this.stopTicker(f),
            console.log(
              `Enhanced sunray particle for chest ${n} reached target`
            ),
            e.parent && this.app.stage.removeChild(e),
            this.createEnhancedSunrayBurst(t, s),
            this.uiManager &&
              this.uiManager.activateBonusGlowForChest &&
              (console.log(
                `Triggering bonus glow for chest ${n} when particle hits`
              ),
              this.uiManager.activateBonusGlowForChest(n),
              console.log(`Playing bonus_punch sound for chest ${n}`),
              this.app._gameAudioManager
                ? this.app._gameAudioManager.playSound("bonus_punch")
                : console.warn(
                    "AudioManager not accessible from ParticleManager for bonus_punch sound"
                  )));
      }, 60);
    this.runTicker(f, m);
  }
  createEnhancedSunrayBurst(e, t) {
    for (let s = 0; s < 4; s++) {
      const n = this.createSunrayParticle();
      (n.x = e),
        (n.y = t),
        n.scale.set(0.1 + Math.random() * 0.15),
        (n.alpha = 0.6 + Math.random() * 0.3),
        (n.zIndex = 11);
      const i = (Math.PI * 2 * s) / 4 + Math.random() * 0.5,
        l = 4 + Math.random() * 6;
      (n.vx = Math.cos(i) * l),
        (n.vy = Math.sin(i) * l),
        (n.life = 25 + Math.random() * 15),
        (n.decay = 0.04 + Math.random() * 0.02),
        (n.rotation = i),
        (n.friction = 0.94),
        this.gameContainer.addChild(n);
      const c = () => {
        (n.x += n.vx),
          (n.y += n.vy),
          (n.vx *= n.friction),
          (n.vy *= n.friction),
          (n.alpha -= n.decay),
          n.life--,
          (n.rotation += 0.05),
          n.life > 0 && n.parent && n.alpha > 0
            ? requestAnimationFrame(c)
            : n.parent && this.gameContainer.removeChild(n);
      };
      setTimeout(c, s * 30);
    }
  }
  animateBurstParticles(e) {
    let t = 0;
    const s = () => {
      t++,
        e.forEach((n, i) => {
          if (n.parent) {
            (n.x += n.vx),
              (n.y += n.vy),
              (n.vx *= n.friction),
              (n.vy = (n.vy + n.gravity) * n.friction),
              (n.rotation = Math.atan2(n.vy, n.vx) + t * 0.02),
              (n.alpha = (n.life / n.maxLife) * 0.8),
              n.life--;
            const l = 1 + Math.sin(t * 0.1 + i) * 0.1;
            n.scale.set(l),
              n.life <= 0 && (this.app.stage.removeChild(n), e.splice(i, 1));
          }
        }),
        e.length > 0 && t < 200
          ? requestAnimationFrame(s)
          : (e.forEach((n) => {
              n.parent && this.app.stage.removeChild(n);
            }),
            console.log("Enhanced burst particles animation completed"));
    };
    s();
  }
  createSunrayParticle() {
    try {
      const n = je.get("particle_gold_blur");
      if (n) {
        const i = new Ve(n);
        return (
          i.anchor.set(0.5),
          i.scale.set(0.3 + Math.random() * 0.2),
          (i.alpha = 0.8 + Math.random() * 0.2),
          (i.tint = 16766720),
          i
        );
      }
    } catch {
      console.warn(
        "particle_gold_blur texture not found, falling back to graphics"
      );
    }
    const e = new Be(),
      t = 15 + Math.random() * 10,
      s = 2 + Math.random() * 2;
    return (
      e.rect(-t / 2, -s / 2, t, s),
      e.fill({ color: 16766720, alpha: 0.8 }),
      e.rect(-t / 2 - 2, -s / 2 - 1, t + 4, s + 2),
      e.fill({ color: 16775885, alpha: 0.3 }),
      e.rect(-t / 4, -s / 4, t / 2, s / 2),
      e.fill({ color: 16777215, alpha: 0.6 }),
      e
    );
  }
  cleanup() {
    this.activeTickers.clear();
  }
}
class tD {
  constructor() {
    (this.sounds = new Map()),
      this.loadSounds(),
      (this.backgroundMusic = null),
      (this.lobbyMusic = null),
      (this.globalVolume = 0.7),
      (this.isInitialized = !1),
      (this.playingInstances = new Map()),
      (this.cooldowns = new Map()),
      (this.fadeIntervals = new Map()),
      (this.isAudioEnabled = !0);
  }
  setAudioEnabled(e) {
    (this.isAudioEnabled = e),
      console.log("🎵 Audio globally set to:", e ? "ENABLED" : "DISABLED"),
      e || (this.stopBackgroundMusic(), this.fadeOut("background_bonus", 500));
  }
  loadSounds() {
    Object.entries({
      loser_sound: "loser_sound",
      win_sound: "win_sound",
      coin_collect: "coin_collect",
      jewel_collect: "jewel_collect",
      fruit_collect: "fruit_collect",
      coin_collect_give: "coin_collect_give",
      background_bonus: "background_bonus",
      swoosh: "swoosh",
      button_sound: "button_sound",
      open_chest: "open_chest",
      chest_explode: "chest_explode",
      bonus_punch: "bonus_punch",
      bonus_suspense: "bonus_suspense",
      background_chest: "background_chest",
      click: "button_sound",
    }).forEach(([t, s]) => {
      try {
        const n = je.get(s);
        n
          ? (this.sounds.set(t, n), console.log(`🎵 Loaded sound: ${t}`))
          : console.warn(`❌ Sound not found: ${s}`);
      } catch (n) {
        console.error(`Error loading sound ${s}:`, n);
      }
    });
    try {
      (this.backgroundMusic = je.get("background_chest")),
        this.backgroundMusic
          ? ((this.backgroundMusic.loop = !0),
            (this.backgroundMusic.volume = 0.4),
            console.log("🎵 GameBoard background music loaded"))
          : (console.warn(
              "❌ background_chest not found in assets, trying fallback..."
            ),
            (this.backgroundMusic = je.get("background_bonus")),
            this.backgroundMusic
              ? ((this.backgroundMusic.loop = !0),
                (this.backgroundMusic.volume = 0.4),
                console.log(
                  "🎵 Using background_bonus as GameBoard music fallback"
                ))
              : console.error(
                  "❌ No suitable GameBoard background music found"
                )),
        (this.lobbyMusic = je.get("background_music")),
        this.lobbyMusic && console.log("🎵 Lobby music reference loaded");
    } catch (t) {
      console.error("Error loading GameBoard background music:", t);
    }
  }
  initialize() {
    if (!this.isInitialized)
      try {
        console.log("AudioManager initialized with PIXI sounds"),
          console.log("Available sounds:", Array.from(this.sounds.keys())),
          (this.isInitialized = !0);
      } catch (e) {
        console.warn("Failed to initialize AudioManager:", e);
      }
  }
  playSound(e, t = !1, s = {}) {
    this.isInitialized || this.initialize();
    const n = [
      "open_chest",
      "chest_explode",
      "loser_sound",
      "loser",
      "win_sound",
      "win",
      "bonus_suspense",
      "bonus_punch",
      "coin_collect",
      "coin_collect_give",
      "jewel_collect",
      "fruit_collect",
      "click",
      "button_sound",
    ];
    if (!this.isAudioEnabled && !t && !n.includes(e)) {
      console.log(`🎵 Audio disabled, skipping non-critical sound: ${e}`);
      return;
    }
    !this.isAudioEnabled &&
      n.includes(e) &&
      console.log(`🎵 Audio disabled but playing critical sound: ${e}`);
    const i = Date.now(),
      l = this.cooldowns.get(e) || 0,
      c = this.getCooldownTime(e);
    if (!t && i - l < c) {
      console.log(`Sound '${e}' is on cooldown, skipping`);
      return;
    }
    try {
      const d = this.sounds.get(e);
      if (d && typeof d.play == "function") {
        if (this.isSingleInstanceSound(e)) {
          const m = this.playingInstances.get(e);
          m && m.playing && m.stop();
        }
        const f = s.volume !== void 0 ? s.volume : this.globalVolume;
        return (
          (d.volume = f),
          s.loop !== void 0 && (d.loop = s.loop),
          d.play(),
          this.playingInstances.set(e, d),
          this.cooldowns.set(e, i),
          console.log(
            `Playing sound: ${e} with volume: ${f} loop: ${s.loop || !1}`
          ),
          d
        );
      } else {
        console.warn(`Sound '${e}' not found or not playable`),
          console.log("Available sounds:", Array.from(this.sounds.keys())),
          console.log("Checking PIXI.Assets for sound:", e);
        try {
          const f = je.get(e);
          if (f && typeof f.play == "function")
            return (
              console.log(`Found ${e} directly in PIXI.Assets, playing...`),
              (f.volume = s.volume !== void 0 ? s.volume : this.globalVolume),
              f.play(),
              f
            );
        } catch (f) {
          console.warn(`Direct PIXI.Assets lookup failed for ${e}:`, f);
        }
      }
    } catch (d) {
      console.warn(`Error playing sound '${e}':`, d);
    }
    return null;
  }
  fadeIn(e, t = 3e3, s = 0.8, n = {}) {
    if (
      (this.isInitialized || this.initialize(),
      this.isBackgroundMusic(e) && !this.isAudioEnabled)
    ) {
      console.log(
        `🎵 Skipping background music '${e}' - audio disabled globally`
      );
      return;
    }
    console.log(`Starting fade in for '${e}' over ${t}ms to volume ${s}`),
      e === "background_bonus" &&
        (console.log(
          "🎵 Starting background_bonus - stopping background_chest first"
        ),
        this.backgroundMusic &&
          !this.backgroundMusic.paused &&
          (this.backgroundMusic.pause(),
          console.log("🎵 background_chest stopped immediately")));
    const i = this.playSound(e, !0, { ...n, volume: 0 });
    if (!i) {
      console.warn(`Failed to start fade in for '${e}'`);
      return;
    }
    this.clearFade(e);
    const l = Date.now(),
      c = 0,
      d = s - c,
      f = setInterval(() => {
        const m = Date.now() - l,
          h = Math.min(m / t, 1),
          g = h * h,
          x = c + d * g;
        i && typeof i.volume < "u" && (i.volume = x),
          h >= 1 &&
            (clearInterval(f),
            this.fadeIntervals.delete(e),
            console.log(`Fade in completed for '${e}' at volume ${s}`));
      }, 16);
    this.fadeIntervals.set(e, f);
  }
  fadeOut(e, t = 1e3, s = null) {
    this.isInitialized || this.initialize(),
      console.log(`Starting fade out for '${e}' over ${t}ms`);
    let n;
    if (
      (e === "background_chest"
        ? (n = this.backgroundMusic)
        : e === "background_bonus"
        ? (n = this.sounds.get("background_bonus"))
        : (n = this.sounds.get(e)),
      !n || n.paused)
    ) {
      console.warn(`Sound '${e}' is not playing, cannot fade out`), s && s();
      return;
    }
    this.clearFade(e);
    const i = Date.now(),
      l = n.volume || 0,
      c = setInterval(() => {
        const d = Date.now() - i,
          f = Math.min(d / t, 1),
          m = 1 - Math.pow(1 - f, 2),
          h = l * (1 - m);
        n && typeof n.volume < "u" && (n.volume = h),
          f >= 1 &&
            (clearInterval(c),
            this.fadeIntervals.delete(e),
            n &&
              typeof n.pause == "function" &&
              (n.pause(),
              this.playingInstances.delete(e),
              console.log(`🎵 ${e} paused after fade out`)),
            console.log(`Fade out completed for '${e}'`),
            s && s());
      }, 16);
    this.fadeIntervals.set(e, c);
  }
  clearFade(e) {
    const t = this.fadeIntervals.get(e);
    t && (clearInterval(t), this.fadeIntervals.delete(e));
  }
  getCooldownTime(e) {
    switch (e) {
      case "open_chest":
        return 200;
      case "chest_explode":
        return 300;
      case "click":
        return 100;
      case "coin_collect":
        return 150;
      case "coin_collect_give":
        return 150;
      case "bonus_punch":
        return 100;
      case "loser":
      case "win":
        return 500;
      case "bonus":
      case "bubble":
      case "bonus_suspense":
      case "background_bonus":
        return 1e3;
      default:
        return 200;
    }
  }
  isSingleInstanceSound(e) {
    return [
      "bonus",
      "loser",
      "loser_sound",
      "win",
      "win_sound",
      "open_chest",
      "chest_explode",
      "bonus_suspense",
      "background_bonus",
    ].includes(e);
  }
  isBackgroundMusic(e) {
    return [
      "background_music",
      "background_chest",
      "background_bonus",
    ].includes(e);
  }
  setVolume(e, t) {
    this.isInitialized || this.initialize();
    try {
      const s = this.sounds.get(e);
      s && typeof s.volume < "u" && (s.volume = t);
    } catch (s) {
      console.warn(`Error setting volume for '${e}':`, s);
    }
  }
  setGlobalVolume(e) {
    (this.globalVolume = Math.max(0, Math.min(1, e))),
      this.isInitialized || this.initialize(),
      this.sounds.forEach((t) => {
        t && typeof t.volume < "u" && (t.volume = this.globalVolume);
      });
  }
  stopSound(e) {
    this.isInitialized || this.initialize(), this.clearFade(e);
    try {
      const t = this.sounds.get(e);
      t &&
        typeof t.stop == "function" &&
        (t.stop(),
        this.playingInstances.delete(e),
        this.cooldowns.delete(e),
        console.log(`Stopped sound: ${e}`));
    } catch (t) {
      console.warn(`Error stopping sound '${e}':`, t);
    }
  }
  stopAllSounds() {
    this.isInitialized || this.initialize(),
      this.fadeIntervals.forEach((e, t) => {
        clearInterval(e);
      }),
      this.fadeIntervals.clear(),
      this.sounds.forEach((e, t) => {
        try {
          e && typeof e.stop == "function" && e.stop();
        } catch (s) {
          console.warn(`Error stopping sound '${t}':`, s);
        }
      }),
      this.playingInstances.clear(),
      this.cooldowns.clear(),
      console.log("All sounds stopped");
  }
  startBackgroundMusic() {
    if (!this.isAudioEnabled) {
      console.log("🎵 Skipping background music - audio disabled globally");
      return;
    }
    console.log("🎵 Attempting to start GameBoard background music..."),
      console.log(
        "🎵 Available assets in cache:",
        Object.keys(je.cache._cache || {})
      );
    try {
      this.lobbyMusic &&
        !this.lobbyMusic.paused &&
        (this.lobbyMusic.pause(), console.log("🎵 Lobby music paused")),
        this.backgroundMusic
          ? (console.log("🎵 Background music found, attempting to play..."),
            this.backgroundMusic.paused || !this.backgroundMusic.playing
              ? (this.backgroundMusic.play(),
                console.log(
                  "🎵 GameBoard background music started successfully"
                ))
              : console.log("🎵 GameBoard background music already playing"))
          : (console.error("❌ Background music not loaded"),
            this.loadSounds(),
            this.backgroundMusic &&
              (this.backgroundMusic.play(),
              console.log(
                "🎵 GameBoard background music started after reload"
              )));
    } catch (e) {
      console.error("Error starting GameBoard background music:", e);
    }
  }
  stopBackgroundMusic() {
    try {
      this.backgroundMusic &&
        !this.backgroundMusic.paused &&
        (this.backgroundMusic.pause(),
        console.log("🎵 GameBoard background music stopped"));
      const e = this.sounds.get("background_bonus");
      e &&
        !e.paused &&
        (e.pause(), console.log("🎵 Background bonus music stopped")),
        this.lobbyMusic &&
          this.lobbyMusic.paused &&
          this.isAudioEnabled &&
          (this.lobbyMusic.play(), console.log("🎵 Lobby music resumed"));
    } catch (e) {
      console.error("Error stopping GameBoard background music:", e);
    }
  }
  cleanup() {
    this.stopAllSounds(),
      this.stopBackgroundMusic(),
      this.sounds.clear(),
      this.playingInstances.clear(),
      this.cooldowns.clear(),
      this.fadeIntervals.clear(),
      (this.isInitialized = !1),
      console.log("AudioManager cleaned up");
  }
}
async function rD(r, e, t, s = !0) {
  console.log("🎲 Setting up game board..."),
    console.log("App:", !!r),
    console.log("App stage:", !!r?.stage),
    console.log("Screen size:", r?.screen?.width, "x", r?.screen?.height),
    console.log("🎵 Audio enabled state passed to GameBoard:", s);
  const n = new Ye();
  (n.x = r.screen.width), console.log("Game container created");
  const i = new td(r),
    l = new tD();
  l.setAudioEnabled(s),
    console.log("🎵 AudioManager created and audio state set");
  const c = new eD(r, n),
    d = new JL(r, c, l),
    f = new QL(r, n, i, d),
    m = new ZL(t, f, d, l);
  return (
    console.log("All managers created"),
    d.setUIManager(f),
    (r._gameAudioManager = l),
    console.log("Cross-references set"),
    await f.initialize(t),
    console.log("UI Manager initialized"),
    await m.initialize(),
    console.log("Game Logic initialized"),
    console.log("🎵 About to start background music..."),
    setTimeout(() => {
      console.log("🎵 Starting background music with delay..."),
        l.startBackgroundMusic();
    }, 500),
    (f.onChestClick = (h) => m.onChestClick(h)),
    (f.onCashOut = () => m.cashOut()),
    (f.onChestExplode = (h) => m.onChestExplode(h)),
    console.log("Interactions setup complete"),
    r.stage.addChild(n),
    (r.stage.sortableChildren = !0),
    console.log("Final stage children count:", r.stage.children.length),
    console.log(
      "Stage children:",
      r.stage.children.map((h) => h.constructor.name)
    ),
    {
      gameContainer: n,
      cleanup: async () => {
        console.log("🧹 Starting comprehensive GameBoard cleanup...");
        try {
          d && (console.log("Cleaning up AnimationManager..."), d.cleanup()),
            l &&
              (console.log("Stopping all sounds..."),
              l.stopBackgroundMusic(),
              l.stopAllSounds(),
              l.cleanup()),
            c && (console.log("Cleaning up ParticleManager..."), c.cleanup()),
            f && (console.log("Cleaning up UIManager..."), f.cleanup()),
            i && (console.log("Destroying ResizeManager..."), i.destroy()),
            r._gameAudioManager && delete r._gameAudioManager,
            n &&
              n.parent &&
              (console.log("Removing and destroying game container..."),
              n.parent.removeChild(n),
              n.destroy({ children: !0, texture: !1, baseTexture: !1 })),
            r.stage &&
              r.stage.children.length > 0 &&
              (console.log("Clearing remaining stage children..."),
              r.stage.removeChildren()),
            window.gc && window.gc(),
            console.log("✅ GameBoard cleanup completed successfully");
        } catch (h) {
          throw (console.error("❌ Error during GameBoard cleanup:", h), h);
        }
      },
    }
  );
}
const sD = Object.freeze(
  Object.defineProperty({ __proto__: null, default: rD }, Symbol.toStringTag, {
    value: "Module",
  })
);
